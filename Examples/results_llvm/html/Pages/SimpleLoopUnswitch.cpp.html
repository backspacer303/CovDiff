<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>SimpleLoopUnswitch.cpp</title>
    <link rel="stylesheet" href="../Style/style.css" />
  </head>
  <body>
    <div class="headerDiv">
      <h1>
        Code Coverage
      </h1>
      <p>
        Source file: /home/nikola/Desktop/llvm-project/llvm/lib/Transforms/Scalar/SimpleLoopUnswitch.cpp
      </p>
    </div>
    <button class="collapsible" type="button">Open Summary Report</button>
    <div class="content" style="display: none;">
      <hr />
      <h3 class="subheader">Summary Report</h3>
      <table class="mainTable">
  <tr class="mainTr">
    <th class="mainTh">Line number</th>
    <th class="mainTh">Line</th>
    <th class="mainTh">Number of hits</th>
    <th class="mainTh">Tests that cover line</th>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1</td>
    <td class="">///===- SimpleLoopUnswitch.cpp - Hoist loop-invariant control flow ---------===//</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2</td>
    <td class="">//</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3</td>
    <td class="">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">4</td>
    <td class="">// See https://llvm.org/LICENSE.txt for license information.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">5</td>
    <td class="">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">6</td>
    <td class="">//</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">7</td>
    <td class="">//===----------------------------------------------------------------------===//</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">8</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">9</td>
    <td class="">#include "llvm/Transforms/Scalar/SimpleLoopUnswitch.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">10</td>
    <td class="">#include "llvm/ADT/DenseMap.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">11</td>
    <td class="">#include "llvm/ADT/STLExtras.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">12</td>
    <td class="">#include "llvm/ADT/Sequence.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">13</td>
    <td class="">#include "llvm/ADT/SetVector.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">14</td>
    <td class="">#include "llvm/ADT/SmallPtrSet.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">15</td>
    <td class="">#include "llvm/ADT/SmallVector.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">16</td>
    <td class="">#include "llvm/ADT/Statistic.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">17</td>
    <td class="">#include "llvm/ADT/Twine.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">18</td>
    <td class="">#include "llvm/Analysis/AssumptionCache.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">19</td>
    <td class="">#include "llvm/Analysis/BlockFrequencyInfo.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">20</td>
    <td class="">#include "llvm/Analysis/CFG.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">21</td>
    <td class="">#include "llvm/Analysis/CodeMetrics.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">22</td>
    <td class="">#include "llvm/Analysis/DomTreeUpdater.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">23</td>
    <td class="">#include "llvm/Analysis/GuardUtils.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">24</td>
    <td class="">#include "llvm/Analysis/LoopAnalysisManager.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">25</td>
    <td class="">#include "llvm/Analysis/LoopInfo.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">26</td>
    <td class="">#include "llvm/Analysis/LoopIterator.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">27</td>
    <td class="">#include "llvm/Analysis/LoopPass.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">28</td>
    <td class="">#include "llvm/Analysis/MemorySSA.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">29</td>
    <td class="">#include "llvm/Analysis/MemorySSAUpdater.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">30</td>
    <td class="">#include "llvm/Analysis/MustExecute.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">31</td>
    <td class="">#include "llvm/Analysis/ProfileSummaryInfo.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">32</td>
    <td class="">#include "llvm/Analysis/ScalarEvolution.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">33</td>
    <td class="">#include "llvm/Analysis/TargetTransformInfo.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">34</td>
    <td class="">#include "llvm/Analysis/ValueTracking.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">35</td>
    <td class="">#include "llvm/IR/BasicBlock.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">36</td>
    <td class="">#include "llvm/IR/Constant.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">37</td>
    <td class="">#include "llvm/IR/Constants.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">38</td>
    <td class="">#include "llvm/IR/Dominators.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">39</td>
    <td class="">#include "llvm/IR/Function.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">40</td>
    <td class="">#include "llvm/IR/IRBuilder.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">41</td>
    <td class="">#include "llvm/IR/InstrTypes.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">42</td>
    <td class="">#include "llvm/IR/Instruction.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">43</td>
    <td class="">#include "llvm/IR/Instructions.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">44</td>
    <td class="">#include "llvm/IR/IntrinsicInst.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">45</td>
    <td class="">#include "llvm/IR/PatternMatch.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">46</td>
    <td class="">#include "llvm/IR/ProfDataUtils.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">47</td>
    <td class="">#include "llvm/IR/Use.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">48</td>
    <td class="">#include "llvm/IR/Value.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">49</td>
    <td class="">#include "llvm/InitializePasses.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">50</td>
    <td class="">#include "llvm/Pass.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">51</td>
    <td class="">#include "llvm/Support/Casting.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">52</td>
    <td class="">#include "llvm/Support/CommandLine.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">53</td>
    <td class="">#include "llvm/Support/Debug.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">54</td>
    <td class="">#include "llvm/Support/ErrorHandling.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">55</td>
    <td class="">#include "llvm/Support/GenericDomTree.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">56</td>
    <td class="">#include "llvm/Support/InstructionCost.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">57</td>
    <td class="">#include "llvm/Support/raw_ostream.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">58</td>
    <td class="">#include "llvm/Transforms/Scalar/LoopPassManager.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">59</td>
    <td class="">#include "llvm/Transforms/Utils/BasicBlockUtils.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">60</td>
    <td class="">#include "llvm/Transforms/Utils/Cloning.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">61</td>
    <td class="">#include "llvm/Transforms/Utils/Local.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">62</td>
    <td class="">#include "llvm/Transforms/Utils/LoopUtils.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">63</td>
    <td class="">#include "llvm/Transforms/Utils/ValueMapper.h"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">64</td>
    <td class="">#include <algorithm></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">65</td>
    <td class="">#include <cassert></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">66</td>
    <td class="">#include <iterator></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">67</td>
    <td class="">#include <numeric></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">68</td>
    <td class="">#include <optional></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">69</td>
    <td class="">#include <utility></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">70</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">71</td>
    <td class="">#define DEBUG_TYPE "simple-loop-unswitch"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">72</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">73</td>
    <td class="">using namespace llvm;</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">74</td>
    <td class="">using namespace llvm::PatternMatch;</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">75</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">76</td>
    <td class="">STATISTIC(NumBranches, "Number of branches unswitched");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">77</td>
    <td class="">STATISTIC(NumSwitches, "Number of switches unswitched");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">78</td>
    <td class="">STATISTIC(NumSelects, "Number of selects turned into branches for unswitching");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">79</td>
    <td class="">STATISTIC(NumGuards, "Number of guards turned into branches for unswitching");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">80</td>
    <td class="">STATISTIC(NumTrivial, "Number of unswitches that are trivial");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">81</td>
    <td class="">STATISTIC(</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">82</td>
    <td class="">    NumCostMultiplierSkipped,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">83</td>
    <td class="">    "Number of unswitch candidates that had their cost multiplier skipped");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">84</td>
    <td class="">STATISTIC(NumInvariantConditionsInjected,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">85</td>
    <td class="">          "Number of invariant conditions injected and unswitched");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">86</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">87</td>
    <td class="">static cl::opt<bool> EnableNonTrivialUnswitch(</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">88</td>
    <td class="">    "enable-nontrivial-unswitch", cl::init(false), cl::Hidden,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">89</td>
    <td class="">    cl::desc("Forcibly enables non-trivial loop unswitching rather than "</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">90</td>
    <td class="">             "following the configuration passed into the pass."));</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">91</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">92</td>
    <td class="">static cl::opt<int></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">93</td>
    <td class="">    UnswitchThreshold("unswitch-threshold", cl::init(50), cl::Hidden,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">94</td>
    <td class="">                      cl::desc("The cost threshold for unswitching a loop."));</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">95</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">96</td>
    <td class="">static cl::opt<bool> EnableUnswitchCostMultiplier(</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">97</td>
    <td class="">    "enable-unswitch-cost-multiplier", cl::init(true), cl::Hidden,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">98</td>
    <td class="">    cl::desc("Enable unswitch cost multiplier that prohibits exponential "</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">99</td>
    <td class="">             "explosion in nontrivial unswitch."));</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">100</td>
    <td class="">static cl::opt<int> UnswitchSiblingsToplevelDiv(</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">101</td>
    <td class="">    "unswitch-siblings-toplevel-div", cl::init(2), cl::Hidden,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">102</td>
    <td class="">    cl::desc("Toplevel siblings divisor for cost multiplier."));</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">103</td>
    <td class="">static cl::opt<int> UnswitchNumInitialUnscaledCandidates(</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">104</td>
    <td class="">    "unswitch-num-initial-unscaled-candidates", cl::init(8), cl::Hidden,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">105</td>
    <td class="">    cl::desc("Number of unswitch candidates that are ignored when calculating "</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">106</td>
    <td class="">             "cost multiplier."));</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">107</td>
    <td class="">static cl::opt<bool> UnswitchGuards(</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">108</td>
    <td class="">    "simple-loop-unswitch-guards", cl::init(true), cl::Hidden,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">109</td>
    <td class="">    cl::desc("If enabled, simple loop unswitching will also consider "</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">110</td>
    <td class="">             "llvm.experimental.guard intrinsics as unswitch candidates."));</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">111</td>
    <td class="">static cl::opt<bool> DropNonTrivialImplicitNullChecks(</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">112</td>
    <td class="">    "simple-loop-unswitch-drop-non-trivial-implicit-null-checks",</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">113</td>
    <td class="">    cl::init(false), cl::Hidden,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">114</td>
    <td class="">    cl::desc("If enabled, drop make.implicit metadata in unswitched implicit "</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">115</td>
    <td class="">             "null checks to save time analyzing if we can keep it."));</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">116</td>
    <td class="">static cl::opt<unsigned></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">117</td>
    <td class="">    MSSAThreshold("simple-loop-unswitch-memoryssa-threshold",</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">118</td>
    <td class="">                  cl::desc("Max number of memory uses to explore during "</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">119</td>
    <td class="">                           "partial unswitching analysis"),</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">120</td>
    <td class="">                  cl::init(100), cl::Hidden);</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">121</td>
    <td class="">static cl::opt<bool> FreezeLoopUnswitchCond(</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">122</td>
    <td class="">    "freeze-loop-unswitch-cond", cl::init(true), cl::Hidden,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">123</td>
    <td class="">    cl::desc("If enabled, the freeze instruction will be added to condition "</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">124</td>
    <td class="">             "of loop unswitch to prevent miscompilation."));</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">125</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">126</td>
    <td class="">static cl::opt<bool> InjectInvariantConditions(</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">127</td>
    <td class="">    "simple-loop-unswitch-inject-invariant-conditions", cl::Hidden,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">128</td>
    <td class="">    cl::desc("Whether we should inject new invariants and unswitch them to "</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">129</td>
    <td class="">             "eliminate some existing (non-invariant) conditions."),</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">130</td>
    <td class="">    cl::init(true));</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">131</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">132</td>
    <td class="">static cl::opt<unsigned> InjectInvariantConditionHotnesThreshold(</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">133</td>
    <td class="">    "simple-loop-unswitch-inject-invariant-condition-hotness-threshold",</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">134</td>
    <td class="">    cl::Hidden, cl::desc("Only try to inject loop invariant conditions and "</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">135</td>
    <td class="">                         "unswitch on them to eliminate branches that are "</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">136</td>
    <td class="">                         "not-taken 1/<this option> times or less."),</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">137</td>
    <td class="">    cl::init(16));</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">138</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">139</td>
    <td class="">namespace {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">140</td>
    <td class="">struct CompareDesc {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">141</td>
    <td class="">  BranchInst *Term;</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">142</td>
    <td class="">  Value *Invariant;</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">143</td>
    <td class="">  BasicBlock *InLoopSucc;</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">144</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">145</td>
    <td class="uncoveredLine">  CompareDesc(BranchInst *Term, Value *Invariant, BasicBlock *InLoopSucc)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">146</td>
    <td class="uncoveredLine">      : Term(Term), Invariant(Invariant), InLoopSucc(InLoopSucc) {}</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">147</td>
    <td class="">};</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">148</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">149</td>
    <td class="">struct InjectedInvariant {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">150</td>
    <td class="">  ICmpInst::Predicate Pred;</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">151</td>
    <td class="">  Value *LHS;</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">152</td>
    <td class="">  Value *RHS;</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">153</td>
    <td class="">  BasicBlock *InLoopSucc;</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">154</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">155</td>
    <td class="uncoveredLine">  InjectedInvariant(ICmpInst::Predicate Pred, Value *LHS, Value *RHS,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">156</td>
    <td class="">                    BasicBlock *InLoopSucc)</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">157</td>
    <td class="uncoveredLine">      : Pred(Pred), LHS(LHS), RHS(RHS), InLoopSucc(InLoopSucc) {}</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">158</td>
    <td class="">};</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">159</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">160</td>
    <td class="">struct NonTrivialUnswitchCandidate {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">161</td>
    <td class="">  Instruction *TI = nullptr;</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">162</td>
    <td class="">  TinyPtrVector<Value *> Invariants;</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">163</td>
    <td class="">  std::optional<InstructionCost> Cost;</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">164</td>
    <td class="">  std::optional<InjectedInvariant> PendingInjection;</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">165</td>
    <td class="uncoveredLine">  NonTrivialUnswitchCandidate(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">166</td>
    <td class="">      Instruction *TI, ArrayRef<Value *> Invariants,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">167</td>
    <td class="">      std::optional<InstructionCost> Cost = std::nullopt,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">168</td>
    <td class="">      std::optional<InjectedInvariant> PendingInjection = std::nullopt)</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">169</td>
    <td class="uncoveredLine">      : TI(TI), Invariants(Invariants), Cost(Cost),</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">170</td>
    <td class="uncoveredLine">        PendingInjection(PendingInjection) {};</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">171</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">172</td>
    <td class="uncoveredLine">  bool hasPendingInjection() const { return PendingInjection.has_value(); }</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">173</td>
    <td class="">};</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">174</td>
    <td class="">} // end anonymous namespace.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">175</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">176</td>
    <td class="">// Helper to skip (select x, true, false), which matches both a logical AND and</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">177</td>
    <td class="">// OR and can confuse code that tries to determine if \p Cond is either a</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">178</td>
    <td class="">// logical AND or OR but not both.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">179</td>
    <td class="uncoveredLine">static Value *skipTrivialSelect(Value *Cond) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">180</td>
    <td class="">  Value *CondNext;</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">181</td>
    <td class="uncoveredLine">  while (match(Cond, m_Select(m_Value(CondNext), m_One(), m_Zero())))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">182</td>
    <td class="uncoveredLine">    Cond = CondNext;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">183</td>
    <td class="uncoveredLine">  return Cond;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">184</td>
    <td class="">}</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">185</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">186</td>
    <td class="">/// Collect all of the loop invariant input values transitively used by the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">187</td>
    <td class="">/// homogeneous instruction graph from a given root.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">188</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">189</td>
    <td class="">/// This essentially walks from a root recursively through loop variant operands</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">190</td>
    <td class="">/// which have perform the same logical operation (AND or OR) and finds all</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">191</td>
    <td class="">/// inputs which are loop invariant. For some operations these can be</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">192</td>
    <td class="">/// re-associated and unswitched out of the loop entirely.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">193</td>
    <td class="">static TinyPtrVector<Value *></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">194</td>
    <td class="uncoveredLine">collectHomogenousInstGraphLoopInvariants(const Loop &L, Instruction &Root,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">195</td>
    <td class="">                                         const LoopInfo &LI) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">196</td>
    <td class="uncoveredLine">  assert(!L.isLoopInvariant(&Root) &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">197</td>
    <td class="">         "Only need to walk the graph if root itself is not invariant.");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">198</td>
    <td class="uncoveredLine">  TinyPtrVector<Value *> Invariants;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">199</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">200</td>
    <td class="uncoveredLine">  bool IsRootAnd = match(&Root, m_LogicalAnd());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">201</td>
    <td class="uncoveredLine">  bool IsRootOr  = match(&Root, m_LogicalOr());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">202</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">203</td>
    <td class="">  // Build a worklist and recurse through operators collecting invariants.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">204</td>
    <td class="uncoveredLine">  SmallVector<Instruction *, 4> Worklist;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">205</td>
    <td class="uncoveredLine">  SmallPtrSet<Instruction *, 8> Visited;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">206</td>
    <td class="uncoveredLine">  Worklist.push_back(&Root);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">207</td>
    <td class="uncoveredLine">  Visited.insert(&Root);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">208</td>
    <td class="">  do {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">209</td>
    <td class="uncoveredLine">    Instruction &I = *Worklist.pop_back_val();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">210</td>
    <td class="uncoveredLine">    for (Value *OpV : I.operand_values()) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">211</td>
    <td class="">      // Skip constants as unswitching isn't interesting for them.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">212</td>
    <td class="uncoveredLine">      if (isa<Constant>(OpV))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">213</td>
    <td class="uncoveredLine">        continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">214</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">215</td>
    <td class="">      // Add it to our result if loop invariant.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">216</td>
    <td class="uncoveredLine">      if (L.isLoopInvariant(OpV)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">217</td>
    <td class="uncoveredLine">        Invariants.push_back(OpV);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">218</td>
    <td class="uncoveredLine">        continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">219</td>
    <td class="">      }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">220</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">221</td>
    <td class="">      // If not an instruction with the same opcode, nothing we can do.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">222</td>
    <td class="uncoveredLine">      Instruction *OpI = dyn_cast<Instruction>(skipTrivialSelect(OpV));</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">223</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">224</td>
    <td class="uncoveredLine">      if (OpI && ((IsRootAnd && match(OpI, m_LogicalAnd())) ||</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">225</td>
    <td class="uncoveredLine">                  (IsRootOr  && match(OpI, m_LogicalOr())))) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">226</td>
    <td class="">        // Visit this operand.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">227</td>
    <td class="uncoveredLine">        if (Visited.insert(OpI).second)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">228</td>
    <td class="uncoveredLine">          Worklist.push_back(OpI);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">229</td>
    <td class="">      }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">230</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">231</td>
    <td class="uncoveredLine">  } while (!Worklist.empty());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">232</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">233</td>
    <td class="uncoveredLine">  return Invariants;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">234</td>
    <td class="uncoveredLine">}</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">235</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">236</td>
    <td class="uncoveredLine">static void replaceLoopInvariantUses(const Loop &L, Value *Invariant,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">237</td>
    <td class="">                                     Constant &Replacement) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">238</td>
    <td class="uncoveredLine">  assert(!isa<Constant>(Invariant) && "Why are we unswitching on a constant?");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">239</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">240</td>
    <td class="">  // Replace uses of LIC in the loop with the given constant.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">241</td>
    <td class="">  // We use make_early_inc_range as set invalidates the iterator.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">242</td>
    <td class="uncoveredLine">  for (Use &U : llvm::make_early_inc_range(Invariant->uses())) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">243</td>
    <td class="uncoveredLine">    Instruction *UserI = dyn_cast<Instruction>(U.getUser());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">244</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">245</td>
    <td class="">    // Replace this use within the loop body.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">246</td>
    <td class="uncoveredLine">    if (UserI && L.contains(UserI))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">247</td>
    <td class="uncoveredLine">      U.set(&Replacement);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">248</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">249</td>
    <td class="uncoveredLine">}</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">250</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">251</td>
    <td class="">/// Check that all the LCSSA PHI nodes in the loop exit block have trivial</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">252</td>
    <td class="">/// incoming values along this edge.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">253</td>
    <td class="uncoveredLine">static bool areLoopExitPHIsLoopInvariant(const Loop &L,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">254</td>
    <td class="">                                         const BasicBlock &ExitingBB,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">255</td>
    <td class="">                                         const BasicBlock &ExitBB) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">256</td>
    <td class="uncoveredLine">  for (const Instruction &I : ExitBB) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">257</td>
    <td class="uncoveredLine">    auto *PN = dyn_cast<PHINode>(&I);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">258</td>
    <td class="uncoveredLine">    if (!PN)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">259</td>
    <td class="">      // No more PHIs to check.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">260</td>
    <td class="uncoveredLine">      return true;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">261</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">262</td>
    <td class="">    // If the incoming value for this edge isn't loop invariant the unswitch</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">263</td>
    <td class="">    // won't be trivial.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">264</td>
    <td class="uncoveredLine">    if (!L.isLoopInvariant(PN->getIncomingValueForBlock(&ExitingBB)))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">265</td>
    <td class="uncoveredLine">      return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">266</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">267</td>
    <td class="uncoveredLine">  llvm_unreachable("Basic blocks should never be empty!");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">268</td>
    <td class="">}</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">269</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">270</td>
    <td class="">/// Copy a set of loop invariant values \p ToDuplicate and insert them at the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">271</td>
    <td class="">/// end of \p BB and conditionally branch on the copied condition. We only</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">272</td>
    <td class="">/// branch on a single value.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">273</td>
    <td class="uncoveredLine">static void buildPartialUnswitchConditionalBranch(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">274</td>
    <td class="">    BasicBlock &BB, ArrayRef<Value *> Invariants, bool Direction,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">275</td>
    <td class="">    BasicBlock &UnswitchedSucc, BasicBlock &NormalSucc, bool InsertFreeze,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">276</td>
    <td class="">    const Instruction *I, AssumptionCache *AC, const DominatorTree &DT) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">277</td>
    <td class="uncoveredLine">  IRBuilder<> IRB(&BB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">278</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">279</td>
    <td class="uncoveredLine">  SmallVector<Value *> FrozenInvariants;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">280</td>
    <td class="uncoveredLine">  for (Value *Inv : Invariants) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">281</td>
    <td class="uncoveredLine">    if (InsertFreeze && !isGuaranteedNotToBeUndefOrPoison(Inv, AC, I, &DT))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">282</td>
    <td class="uncoveredLine">      Inv = IRB.CreateFreeze(Inv, Inv->getName() + ".fr");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">283</td>
    <td class="uncoveredLine">    FrozenInvariants.push_back(Inv);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">284</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">285</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">286</td>
    <td class="uncoveredLine">  Value *Cond = Direction ? IRB.CreateOr(FrozenInvariants)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">287</td>
    <td class="uncoveredLine">                          : IRB.CreateAnd(FrozenInvariants);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">288</td>
    <td class="uncoveredLine">  IRB.CreateCondBr(Cond, Direction ? &UnswitchedSucc : &NormalSucc,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">289</td>
    <td class="">                   Direction ? &NormalSucc : &UnswitchedSucc);</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">290</td>
    <td class="uncoveredLine">}</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">291</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">292</td>
    <td class="">/// Copy a set of loop invariant values, and conditionally branch on them.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">293</td>
    <td class="uncoveredLine">static void buildPartialInvariantUnswitchConditionalBranch(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">294</td>
    <td class="">    BasicBlock &BB, ArrayRef<Value *> ToDuplicate, bool Direction,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">295</td>
    <td class="">    BasicBlock &UnswitchedSucc, BasicBlock &NormalSucc, Loop &L,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">296</td>
    <td class="">    MemorySSAUpdater *MSSAU) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">297</td>
    <td class="uncoveredLine">  ValueToValueMapTy VMap;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">298</td>
    <td class="uncoveredLine">  for (auto *Val : reverse(ToDuplicate)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">299</td>
    <td class="uncoveredLine">    Instruction *Inst = cast<Instruction>(Val);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">300</td>
    <td class="uncoveredLine">    Instruction *NewInst = Inst->clone();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">301</td>
    <td class="uncoveredLine">    NewInst->insertInto(&BB, BB.end());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">302</td>
    <td class="uncoveredLine">    RemapInstruction(NewInst, VMap,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">303</td>
    <td class="">                     RF_NoModuleLevelChanges | RF_IgnoreMissingLocals);</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">304</td>
    <td class="uncoveredLine">    VMap[Val] = NewInst;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">305</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">306</td>
    <td class="uncoveredLine">    if (!MSSAU)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">307</td>
    <td class="uncoveredLine">      continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">308</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">309</td>
    <td class="uncoveredLine">    MemorySSA *MSSA = MSSAU->getMemorySSA();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">310</td>
    <td class="uncoveredLine">    if (auto *MemUse =</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">311</td>
    <td class="uncoveredLine">            dyn_cast_or_null<MemoryUse>(MSSA->getMemoryAccess(Inst))) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">312</td>
    <td class="uncoveredLine">      auto *DefiningAccess = MemUse->getDefiningAccess();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">313</td>
    <td class="">      // Get the first defining access before the loop.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">314</td>
    <td class="uncoveredLine">      while (L.contains(DefiningAccess->getBlock())) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">315</td>
    <td class="">        // If the defining access is a MemoryPhi, get the incoming</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">316</td>
    <td class="">        // value for the pre-header as defining access.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">317</td>
    <td class="uncoveredLine">        if (auto *MemPhi = dyn_cast<MemoryPhi>(DefiningAccess))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">318</td>
    <td class="">          DefiningAccess =</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">319</td>
    <td class="uncoveredLine">              MemPhi->getIncomingValueForBlock(L.getLoopPreheader());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">320</td>
    <td class="">        else</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">321</td>
    <td class="uncoveredLine">          DefiningAccess = cast<MemoryDef>(DefiningAccess)->getDefiningAccess();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">322</td>
    <td class="">      }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">323</td>
    <td class="uncoveredLine">      MSSAU->createMemoryAccessInBB(NewInst, DefiningAccess,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">324</td>
    <td class="uncoveredLine">                                    NewInst->getParent(),</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">325</td>
    <td class="">                                    MemorySSA::BeforeTerminator);</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">326</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">327</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">328</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">329</td>
    <td class="uncoveredLine">  IRBuilder<> IRB(&BB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">330</td>
    <td class="uncoveredLine">  Value *Cond = VMap[ToDuplicate[0]];</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">331</td>
    <td class="uncoveredLine">  IRB.CreateCondBr(Cond, Direction ? &UnswitchedSucc : &NormalSucc,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">332</td>
    <td class="">                   Direction ? &NormalSucc : &UnswitchedSucc);</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">333</td>
    <td class="uncoveredLine">}</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">334</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">335</td>
    <td class="">/// Rewrite the PHI nodes in an unswitched loop exit basic block.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">336</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">337</td>
    <td class="">/// Requires that the loop exit and unswitched basic block are the same, and</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">338</td>
    <td class="">/// that the exiting block was a unique predecessor of that block. Rewrites the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">339</td>
    <td class="">/// PHI nodes in that block such that what were LCSSA PHI nodes become trivial</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">340</td>
    <td class="">/// PHI nodes from the old preheader that now contains the unswitched</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">341</td>
    <td class="">/// terminator.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">342</td>
    <td class="uncoveredLine">static void rewritePHINodesForUnswitchedExitBlock(BasicBlock &UnswitchedBB,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">343</td>
    <td class="">                                                  BasicBlock &OldExitingBB,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">344</td>
    <td class="">                                                  BasicBlock &OldPH) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">345</td>
    <td class="uncoveredLine">  for (PHINode &PN : UnswitchedBB.phis()) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">346</td>
    <td class="">    // When the loop exit is directly unswitched we just need to update the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">347</td>
    <td class="">    // incoming basic block. We loop to handle weird cases with repeated</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">348</td>
    <td class="">    // incoming blocks, but expect to typically only have one operand here.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">349</td>
    <td class="uncoveredLine">    for (auto i : seq<int>(0, PN.getNumOperands())) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">350</td>
    <td class="uncoveredLine">      assert(PN.getIncomingBlock(i) == &OldExitingBB &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">351</td>
    <td class="">             "Found incoming block different from unique predecessor!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">352</td>
    <td class="uncoveredLine">      PN.setIncomingBlock(i, &OldPH);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">353</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">354</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">355</td>
    <td class="uncoveredLine">}</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">356</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">357</td>
    <td class="">/// Rewrite the PHI nodes in the loop exit basic block and the split off</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">358</td>
    <td class="">/// unswitched block.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">359</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">360</td>
    <td class="">/// Because the exit block remains an exit from the loop, this rewrites the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">361</td>
    <td class="">/// LCSSA PHI nodes in it to remove the unswitched edge and introduces PHI</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">362</td>
    <td class="">/// nodes into the unswitched basic block to select between the value in the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">363</td>
    <td class="">/// old preheader and the loop exit.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">364</td>
    <td class="uncoveredLine">static void rewritePHINodesForExitAndUnswitchedBlocks(BasicBlock &ExitBB,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">365</td>
    <td class="">                                                      BasicBlock &UnswitchedBB,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">366</td>
    <td class="">                                                      BasicBlock &OldExitingBB,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">367</td>
    <td class="">                                                      BasicBlock &OldPH,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">368</td>
    <td class="">                                                      bool FullUnswitch) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">369</td>
    <td class="uncoveredLine">  assert(&ExitBB != &UnswitchedBB &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">370</td>
    <td class="">         "Must have different loop exit and unswitched blocks!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">371</td>
    <td class="uncoveredLine">  Instruction *InsertPt = &*UnswitchedBB.begin();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">372</td>
    <td class="uncoveredLine">  for (PHINode &PN : ExitBB.phis()) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">373</td>
    <td class="uncoveredLine">    auto *NewPN = PHINode::Create(PN.getType(), /*NumReservedValues*/ 2,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">374</td>
    <td class="uncoveredLine">                                  PN.getName() + ".split", InsertPt);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">375</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">376</td>
    <td class="">    // Walk backwards over the old PHI node's inputs to minimize the cost of</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">377</td>
    <td class="">    // removing each one. We have to do this weird loop manually so that we</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">378</td>
    <td class="">    // create the same number of new incoming edges in the new PHI as we expect</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">379</td>
    <td class="">    // each case-based edge to be included in the unswitched switch in some</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">380</td>
    <td class="">    // cases.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">381</td>
    <td class="">    // FIXME: This is really, really gross. It would be much cleaner if LLVM</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">382</td>
    <td class="">    // allowed us to create a single entry for a predecessor block without</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">383</td>
    <td class="">    // having separate entries for each "edge" even though these edges are</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">384</td>
    <td class="">    // required to produce identical results.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">385</td>
    <td class="uncoveredLine">    for (int i = PN.getNumIncomingValues() - 1; i >= 0; --i) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">386</td>
    <td class="uncoveredLine">      if (PN.getIncomingBlock(i) != &OldExitingBB)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">387</td>
    <td class="uncoveredLine">        continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">388</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">389</td>
    <td class="uncoveredLine">      Value *Incoming = PN.getIncomingValue(i);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">390</td>
    <td class="uncoveredLine">      if (FullUnswitch)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">391</td>
    <td class="">        // No more edge from the old exiting block to the exit block.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">392</td>
    <td class="uncoveredLine">        PN.removeIncomingValue(i);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">393</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">394</td>
    <td class="uncoveredLine">      NewPN->addIncoming(Incoming, &OldPH);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">395</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">396</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">397</td>
    <td class="">    // Now replace the old PHI with the new one and wire the old one in as an</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">398</td>
    <td class="">    // input to the new one.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">399</td>
    <td class="uncoveredLine">    PN.replaceAllUsesWith(NewPN);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">400</td>
    <td class="uncoveredLine">    NewPN->addIncoming(&PN, &ExitBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">401</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">402</td>
    <td class="uncoveredLine">}</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">403</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">404</td>
    <td class="">/// Hoist the current loop up to the innermost loop containing a remaining exit.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">405</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">406</td>
    <td class="">/// Because we've removed an exit from the loop, we may have changed the set of</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">407</td>
    <td class="">/// loops reachable and need to move the current loop up the loop nest or even</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">408</td>
    <td class="">/// to an entirely separate nest.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">409</td>
    <td class="uncoveredLine">static void hoistLoopToNewParent(Loop &L, BasicBlock &Preheader,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">410</td>
    <td class="">                                 DominatorTree &DT, LoopInfo &LI,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">411</td>
    <td class="">                                 MemorySSAUpdater *MSSAU, ScalarEvolution *SE) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">412</td>
    <td class="">  // If the loop is already at the top level, we can't hoist it anywhere.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">413</td>
    <td class="uncoveredLine">  Loop *OldParentL = L.getParentLoop();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">414</td>
    <td class="uncoveredLine">  if (!OldParentL)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">415</td>
    <td class="uncoveredLine">    return;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">416</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">417</td>
    <td class="uncoveredLine">  SmallVector<BasicBlock *, 4> Exits;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">418</td>
    <td class="uncoveredLine">  L.getExitBlocks(Exits);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">419</td>
    <td class="uncoveredLine">  Loop *NewParentL = nullptr;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">420</td>
    <td class="uncoveredLine">  for (auto *ExitBB : Exits)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">421</td>
    <td class="uncoveredLine">    if (Loop *ExitL = LI.getLoopFor(ExitBB))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">422</td>
    <td class="uncoveredLine">      if (!NewParentL || NewParentL->contains(ExitL))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">423</td>
    <td class="uncoveredLine">        NewParentL = ExitL;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">424</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">425</td>
    <td class="uncoveredLine">  if (NewParentL == OldParentL)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">426</td>
    <td class="uncoveredLine">    return;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">427</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">428</td>
    <td class="">  // The new parent loop (if different) should always contain the old one.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">429</td>
    <td class="uncoveredLine">  if (NewParentL)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">430</td>
    <td class="uncoveredLine">    assert(NewParentL->contains(OldParentL) &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">431</td>
    <td class="">           "Can only hoist this loop up the nest!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">432</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">433</td>
    <td class="">  // The preheader will need to move with the body of this loop. However,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">434</td>
    <td class="">  // because it isn't in this loop we also need to update the primary loop map.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">435</td>
    <td class="uncoveredLine">  assert(OldParentL == LI.getLoopFor(&Preheader) &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">436</td>
    <td class="">         "Parent loop of this loop should contain this loop's preheader!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">437</td>
    <td class="uncoveredLine">  LI.changeLoopFor(&Preheader, NewParentL);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">438</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">439</td>
    <td class="">  // Remove this loop from its old parent.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">440</td>
    <td class="uncoveredLine">  OldParentL->removeChildLoop(&L);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">441</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">442</td>
    <td class="">  // Add the loop either to the new parent or as a top-level loop.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">443</td>
    <td class="uncoveredLine">  if (NewParentL)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">444</td>
    <td class="uncoveredLine">    NewParentL->addChildLoop(&L);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">445</td>
    <td class="">  else</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">446</td>
    <td class="uncoveredLine">    LI.addTopLevelLoop(&L);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">447</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">448</td>
    <td class="">  // Remove this loops blocks from the old parent and every other loop up the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">449</td>
    <td class="">  // nest until reaching the new parent. Also update all of these</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">450</td>
    <td class="">  // no-longer-containing loops to reflect the nesting change.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">451</td>
    <td class="uncoveredLine">  for (Loop *OldContainingL = OldParentL; OldContainingL != NewParentL;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">452</td>
    <td class="uncoveredLine">       OldContainingL = OldContainingL->getParentLoop()) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">453</td>
    <td class="uncoveredLine">    llvm::erase_if(OldContainingL->getBlocksVector(),</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">454</td>
    <td class="uncoveredLine">                   [&](const BasicBlock *BB) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">455</td>
    <td class="uncoveredLine">                     return BB == &Preheader || L.contains(BB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">456</td>
    <td class="">                   });</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">457</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">458</td>
    <td class="uncoveredLine">    OldContainingL->getBlocksSet().erase(&Preheader);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">459</td>
    <td class="uncoveredLine">    for (BasicBlock *BB : L.blocks())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">460</td>
    <td class="uncoveredLine">      OldContainingL->getBlocksSet().erase(BB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">461</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">462</td>
    <td class="">    // Because we just hoisted a loop out of this one, we have essentially</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">463</td>
    <td class="">    // created new exit paths from it. That means we need to form LCSSA PHI</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">464</td>
    <td class="">    // nodes for values used in the no-longer-nested loop.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">465</td>
    <td class="uncoveredLine">    formLCSSA(*OldContainingL, DT, &LI, SE);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">466</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">467</td>
    <td class="">    // We shouldn't need to form dedicated exits because the exit introduced</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">468</td>
    <td class="">    // here is the (just split by unswitching) preheader. However, after trivial</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">469</td>
    <td class="">    // unswitching it is possible to get new non-dedicated exits out of parent</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">470</td>
    <td class="">    // loop so let's conservatively form dedicated exit blocks and figure out</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">471</td>
    <td class="">    // if we can optimize later.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">472</td>
    <td class="uncoveredLine">    formDedicatedExitBlocks(OldContainingL, &DT, &LI, MSSAU,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">473</td>
    <td class="">                            /*PreserveLCSSA*/ true);</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">474</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">475</td>
    <td class="uncoveredLine">}</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">476</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">477</td>
    <td class="">// Return the top-most loop containing ExitBB and having ExitBB as exiting block</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">478</td>
    <td class="">// or the loop containing ExitBB, if there is no parent loop containing ExitBB</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">479</td>
    <td class="">// as exiting block.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">480</td>
    <td class="uncoveredLine">static Loop *getTopMostExitingLoop(const BasicBlock *ExitBB,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">481</td>
    <td class="">                                   const LoopInfo &LI) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">482</td>
    <td class="uncoveredLine">  Loop *TopMost = LI.getLoopFor(ExitBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">483</td>
    <td class="uncoveredLine">  Loop *Current = TopMost;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">484</td>
    <td class="uncoveredLine">  while (Current) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">485</td>
    <td class="uncoveredLine">    if (Current->isLoopExiting(ExitBB))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">486</td>
    <td class="uncoveredLine">      TopMost = Current;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">487</td>
    <td class="uncoveredLine">    Current = Current->getParentLoop();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">488</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">489</td>
    <td class="uncoveredLine">  return TopMost;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">490</td>
    <td class="">}</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">491</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">492</td>
    <td class="">/// Unswitch a trivial branch if the condition is loop invariant.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">493</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">494</td>
    <td class="">/// This routine should only be called when loop code leading to the branch has</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">495</td>
    <td class="">/// been validated as trivial (no side effects). This routine checks if the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">496</td>
    <td class="">/// condition is invariant and one of the successors is a loop exit. This</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">497</td>
    <td class="">/// allows us to unswitch without duplicating the loop, making it trivial.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">498</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">499</td>
    <td class="">/// If this routine fails to unswitch the branch it returns false.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">500</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">501</td>
    <td class="">/// If the branch can be unswitched, this routine splits the preheader and</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">502</td>
    <td class="">/// hoists the branch above that split. Preserves loop simplified form</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">503</td>
    <td class="">/// (splitting the exit block as necessary). It simplifies the branch within</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">504</td>
    <td class="">/// the loop to an unconditional branch but doesn't remove it entirely. Further</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">505</td>
    <td class="">/// cleanup can be done with some simplifycfg like pass.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">506</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">507</td>
    <td class="">/// If `SE` is not null, it will be updated based on the potential loop SCEVs</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">508</td>
    <td class="">/// invalidated by this.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">509</td>
    <td class="uncoveredLine">static bool unswitchTrivialBranch(Loop &L, BranchInst &BI, DominatorTree &DT,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">510</td>
    <td class="">                                  LoopInfo &LI, ScalarEvolution *SE,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">511</td>
    <td class="">                                  MemorySSAUpdater *MSSAU) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">512</td>
    <td class="uncoveredLine">  assert(BI.isConditional() && "Can only unswitch a conditional branch!");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">513</td>
    <td class="uncoveredLine">  LLVM_DEBUG(dbgs() << "  Trying to unswitch branch: " << BI << "\n");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">514</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">515</td>
    <td class="">  // The loop invariant values that we want to unswitch.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">516</td>
    <td class="uncoveredLine">  TinyPtrVector<Value *> Invariants;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">517</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">518</td>
    <td class="">  // When true, we're fully unswitching the branch rather than just unswitching</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">519</td>
    <td class="">  // some input conditions to the branch.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">520</td>
    <td class="uncoveredLine">  bool FullUnswitch = false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">521</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">522</td>
    <td class="uncoveredLine">  Value *Cond = skipTrivialSelect(BI.getCondition());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">523</td>
    <td class="uncoveredLine">  if (L.isLoopInvariant(Cond)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">524</td>
    <td class="uncoveredLine">    Invariants.push_back(Cond);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">525</td>
    <td class="uncoveredLine">    FullUnswitch = true;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">526</td>
    <td class="">  } else {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">527</td>
    <td class="uncoveredLine">    if (auto *CondInst = dyn_cast<Instruction>(Cond))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">528</td>
    <td class="uncoveredLine">      Invariants = collectHomogenousInstGraphLoopInvariants(L, *CondInst, LI);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">529</td>
    <td class="uncoveredLine">    if (Invariants.empty()) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">530</td>
    <td class="uncoveredLine">      LLVM_DEBUG(dbgs() << "   Couldn't find invariant inputs!\n");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">531</td>
    <td class="uncoveredLine">      return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">532</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">533</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">534</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">535</td>
    <td class="">  // Check that one of the branch's successors exits, and which one.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">536</td>
    <td class="uncoveredLine">  bool ExitDirection = true;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">537</td>
    <td class="uncoveredLine">  int LoopExitSuccIdx = 0;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">538</td>
    <td class="uncoveredLine">  auto *LoopExitBB = BI.getSuccessor(0);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">539</td>
    <td class="uncoveredLine">  if (L.contains(LoopExitBB)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">540</td>
    <td class="uncoveredLine">    ExitDirection = false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">541</td>
    <td class="uncoveredLine">    LoopExitSuccIdx = 1;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">542</td>
    <td class="uncoveredLine">    LoopExitBB = BI.getSuccessor(1);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">543</td>
    <td class="uncoveredLine">    if (L.contains(LoopExitBB)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">544</td>
    <td class="uncoveredLine">      LLVM_DEBUG(dbgs() << "   Branch doesn't exit the loop!\n");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">545</td>
    <td class="uncoveredLine">      return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">546</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">547</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">548</td>
    <td class="uncoveredLine">  auto *ContinueBB = BI.getSuccessor(1 - LoopExitSuccIdx);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">549</td>
    <td class="uncoveredLine">  auto *ParentBB = BI.getParent();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">550</td>
    <td class="uncoveredLine">  if (!areLoopExitPHIsLoopInvariant(L, *ParentBB, *LoopExitBB)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">551</td>
    <td class="uncoveredLine">    LLVM_DEBUG(dbgs() << "   Loop exit PHI's aren't loop-invariant!\n");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">552</td>
    <td class="uncoveredLine">    return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">553</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">554</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">555</td>
    <td class="">  // When unswitching only part of the branch's condition, we need the exit</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">556</td>
    <td class="">  // block to be reached directly from the partially unswitched input. This can</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">557</td>
    <td class="">  // be done when the exit block is along the true edge and the branch condition</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">558</td>
    <td class="">  // is a graph of `or` operations, or the exit block is along the false edge</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">559</td>
    <td class="">  // and the condition is a graph of `and` operations.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">560</td>
    <td class="uncoveredLine">  if (!FullUnswitch) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">561</td>
    <td class="uncoveredLine">    if (ExitDirection ? !match(Cond, m_LogicalOr())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">562</td>
    <td class="uncoveredLine">                      : !match(Cond, m_LogicalAnd())) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">563</td>
    <td class="uncoveredLine">      LLVM_DEBUG(dbgs() << "   Branch condition is in improper form for "</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">564</td>
    <td class="">                           "non-full unswitch!\n");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">565</td>
    <td class="uncoveredLine">      return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">566</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">567</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">568</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">569</td>
    <td class="uncoveredLine">  LLVM_DEBUG({</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">570</td>
    <td class="">    dbgs() << "    unswitching trivial invariant conditions for: " << BI</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">571</td>
    <td class="">           << "\n";</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">572</td>
    <td class="">    for (Value *Invariant : Invariants) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">573</td>
    <td class="">      dbgs() << "      " << *Invariant << " == true";</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">574</td>
    <td class="">      if (Invariant != Invariants.back())</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">575</td>
    <td class="">        dbgs() << " ||";</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">576</td>
    <td class="">      dbgs() << "\n";</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">577</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">578</td>
    <td class="">  });</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">579</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">580</td>
    <td class="">  // If we have scalar evolutions, we need to invalidate them including this</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">581</td>
    <td class="">  // loop, the loop containing the exit block and the topmost parent loop</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">582</td>
    <td class="">  // exiting via LoopExitBB.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">583</td>
    <td class="uncoveredLine">  if (SE) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">584</td>
    <td class="uncoveredLine">    if (const Loop *ExitL = getTopMostExitingLoop(LoopExitBB, LI))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">585</td>
    <td class="uncoveredLine">      SE->forgetLoop(ExitL);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">586</td>
    <td class="">    else</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">587</td>
    <td class="">      // Forget the entire nest as this exits the entire nest.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">588</td>
    <td class="uncoveredLine">      SE->forgetTopmostLoop(&L);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">589</td>
    <td class="uncoveredLine">    SE->forgetBlockAndLoopDispositions();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">590</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">591</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">592</td>
    <td class="uncoveredLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">593</td>
    <td class="uncoveredLine">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">594</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">595</td>
    <td class="">  // Split the preheader, so that we know that there is a safe place to insert</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">596</td>
    <td class="">  // the conditional branch. We will change the preheader to have a conditional</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">597</td>
    <td class="">  // branch on LoopCond.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">598</td>
    <td class="uncoveredLine">  BasicBlock *OldPH = L.getLoopPreheader();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">599</td>
    <td class="uncoveredLine">  BasicBlock *NewPH = SplitEdge(OldPH, L.getHeader(), &DT, &LI, MSSAU);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">600</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">601</td>
    <td class="">  // Now that we have a place to insert the conditional branch, create a place</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">602</td>
    <td class="">  // to branch to: this is the exit block out of the loop that we are</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">603</td>
    <td class="">  // unswitching. We need to split this if there are other loop predecessors.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">604</td>
    <td class="">  // Because the loop is in simplified form, *any* other predecessor is enough.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">605</td>
    <td class="">  BasicBlock *UnswitchedBB;</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">606</td>
    <td class="uncoveredLine">  if (FullUnswitch && LoopExitBB->getUniquePredecessor()) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">607</td>
    <td class="uncoveredLine">    assert(LoopExitBB->getUniquePredecessor() == BI.getParent() &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">608</td>
    <td class="">           "A branch's parent isn't a predecessor!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">609</td>
    <td class="uncoveredLine">    UnswitchedBB = LoopExitBB;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">610</td>
    <td class="">  } else {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">611</td>
    <td class="">    UnswitchedBB =</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">612</td>
    <td class="uncoveredLine">        SplitBlock(LoopExitBB, &LoopExitBB->front(), &DT, &LI, MSSAU);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">613</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">614</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">615</td>
    <td class="uncoveredLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">616</td>
    <td class="uncoveredLine">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">617</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">618</td>
    <td class="">  // Actually move the invariant uses into the unswitched position. If possible,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">619</td>
    <td class="">  // we do this by moving the instructions, but when doing partial unswitching</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">620</td>
    <td class="">  // we do it by building a new merge of the values in the unswitched position.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">621</td>
    <td class="uncoveredLine">  OldPH->getTerminator()->eraseFromParent();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">622</td>
    <td class="uncoveredLine">  if (FullUnswitch) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">623</td>
    <td class="">    // If fully unswitching, we can use the existing branch instruction.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">624</td>
    <td class="">    // Splice it into the old PH to gate reaching the new preheader and re-point</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">625</td>
    <td class="">    // its successors.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">626</td>
    <td class="uncoveredLine">    OldPH->splice(OldPH->end(), BI.getParent(), BI.getIterator());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">627</td>
    <td class="uncoveredLine">    BI.setCondition(Cond);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">628</td>
    <td class="uncoveredLine">    if (MSSAU) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">629</td>
    <td class="">      // Temporarily clone the terminator, to make MSSA update cheaper by</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">630</td>
    <td class="">      // separating "insert edge" updates from "remove edge" ones.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">631</td>
    <td class="uncoveredLine">      BI.clone()->insertInto(ParentBB, ParentBB->end());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">632</td>
    <td class="">    } else {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">633</td>
    <td class="">      // Create a new unconditional branch that will continue the loop as a new</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">634</td>
    <td class="">      // terminator.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">635</td>
    <td class="uncoveredLine">      BranchInst::Create(ContinueBB, ParentBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">636</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">637</td>
    <td class="uncoveredLine">    BI.setSuccessor(LoopExitSuccIdx, UnswitchedBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">638</td>
    <td class="uncoveredLine">    BI.setSuccessor(1 - LoopExitSuccIdx, NewPH);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">639</td>
    <td class="">  } else {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">640</td>
    <td class="">    // Only unswitching a subset of inputs to the condition, so we will need to</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">641</td>
    <td class="">    // build a new branch that merges the invariant inputs.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">642</td>
    <td class="uncoveredLine">    if (ExitDirection)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">643</td>
    <td class="uncoveredLine">      assert(match(skipTrivialSelect(BI.getCondition()), m_LogicalOr()) &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">644</td>
    <td class="">             "Must have an `or` of `i1`s or `select i1 X, true, Y`s for the "</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">645</td>
    <td class="">             "condition!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">646</td>
    <td class="">    else</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">647</td>
    <td class="uncoveredLine">      assert(match(skipTrivialSelect(BI.getCondition()), m_LogicalAnd()) &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">648</td>
    <td class="">             "Must have an `and` of `i1`s or `select i1 X, Y, false`s for the"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">649</td>
    <td class="">             " condition!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">650</td>
    <td class="uncoveredLine">    buildPartialUnswitchConditionalBranch(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">651</td>
    <td class="">        *OldPH, Invariants, ExitDirection, *UnswitchedBB, *NewPH,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">652</td>
    <td class="uncoveredLine">        FreezeLoopUnswitchCond, OldPH->getTerminator(), nullptr, DT);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">653</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">654</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">655</td>
    <td class="">  // Update the dominator tree with the added edge.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">656</td>
    <td class="uncoveredLine">  DT.insertEdge(OldPH, UnswitchedBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">657</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">658</td>
    <td class="">  // After the dominator tree was updated with the added edge, update MemorySSA</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">659</td>
    <td class="">  // if available.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">660</td>
    <td class="uncoveredLine">  if (MSSAU) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">661</td>
    <td class="uncoveredLine">    SmallVector<CFGUpdate, 1> Updates;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">662</td>
    <td class="uncoveredLine">    Updates.push_back({cfg::UpdateKind::Insert, OldPH, UnswitchedBB});</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">663</td>
    <td class="uncoveredLine">    MSSAU->applyInsertUpdates(Updates, DT);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">664</td>
    <td class="uncoveredLine">  }</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">665</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">666</td>
    <td class="">  // Finish updating dominator tree and memory ssa for full unswitch.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">667</td>
    <td class="uncoveredLine">  if (FullUnswitch) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">668</td>
    <td class="uncoveredLine">    if (MSSAU) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">669</td>
    <td class="">      // Remove the cloned branch instruction.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">670</td>
    <td class="uncoveredLine">      ParentBB->getTerminator()->eraseFromParent();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">671</td>
    <td class="">      // Create unconditional branch now.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">672</td>
    <td class="uncoveredLine">      BranchInst::Create(ContinueBB, ParentBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">673</td>
    <td class="uncoveredLine">      MSSAU->removeEdge(ParentBB, LoopExitBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">674</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">675</td>
    <td class="uncoveredLine">    DT.deleteEdge(ParentBB, LoopExitBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">676</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">677</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">678</td>
    <td class="uncoveredLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">679</td>
    <td class="uncoveredLine">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">680</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">681</td>
    <td class="">  // Rewrite the relevant PHI nodes.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">682</td>
    <td class="uncoveredLine">  if (UnswitchedBB == LoopExitBB)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">683</td>
    <td class="uncoveredLine">    rewritePHINodesForUnswitchedExitBlock(*UnswitchedBB, *ParentBB, *OldPH);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">684</td>
    <td class="">  else</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">685</td>
    <td class="uncoveredLine">    rewritePHINodesForExitAndUnswitchedBlocks(*LoopExitBB, *UnswitchedBB,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">686</td>
    <td class="">                                              *ParentBB, *OldPH, FullUnswitch);</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">687</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">688</td>
    <td class="">  // The constant we can replace all of our invariants with inside the loop</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">689</td>
    <td class="">  // body. If any of the invariants have a value other than this the loop won't</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">690</td>
    <td class="">  // be entered.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">691</td>
    <td class="">  ConstantInt *Replacement = ExitDirection</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">692</td>
    <td class="uncoveredLine">                                 ? ConstantInt::getFalse(BI.getContext())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">693</td>
    <td class="uncoveredLine">                                 : ConstantInt::getTrue(BI.getContext());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">694</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">695</td>
    <td class="">  // Since this is an i1 condition we can also trivially replace uses of it</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">696</td>
    <td class="">  // within the loop with a constant.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">697</td>
    <td class="uncoveredLine">  for (Value *Invariant : Invariants)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">698</td>
    <td class="uncoveredLine">    replaceLoopInvariantUses(L, Invariant, *Replacement);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">699</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">700</td>
    <td class="">  // If this was full unswitching, we may have changed the nesting relationship</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">701</td>
    <td class="">  // for this loop so hoist it to its correct parent if needed.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">702</td>
    <td class="uncoveredLine">  if (FullUnswitch)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">703</td>
    <td class="uncoveredLine">    hoistLoopToNewParent(L, *NewPH, DT, LI, MSSAU, SE);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">704</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">705</td>
    <td class="uncoveredLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">706</td>
    <td class="uncoveredLine">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">707</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">708</td>
    <td class="uncoveredLine">  LLVM_DEBUG(dbgs() << "    done: unswitching trivial branch...\n");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">709</td>
    <td class="uncoveredLine">  ++NumTrivial;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">710</td>
    <td class="uncoveredLine">  ++NumBranches;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">711</td>
    <td class="uncoveredLine">  return true;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">712</td>
    <td class="uncoveredLine">}</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">713</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">714</td>
    <td class="">/// Unswitch a trivial switch if the condition is loop invariant.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">715</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">716</td>
    <td class="">/// This routine should only be called when loop code leading to the switch has</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">717</td>
    <td class="">/// been validated as trivial (no side effects). This routine checks if the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">718</td>
    <td class="">/// condition is invariant and that at least one of the successors is a loop</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">719</td>
    <td class="">/// exit. This allows us to unswitch without duplicating the loop, making it</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">720</td>
    <td class="">/// trivial.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">721</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">722</td>
    <td class="">/// If this routine fails to unswitch the switch it returns false.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">723</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">724</td>
    <td class="">/// If the switch can be unswitched, this routine splits the preheader and</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">725</td>
    <td class="">/// copies the switch above that split. If the default case is one of the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">726</td>
    <td class="">/// exiting cases, it copies the non-exiting cases and points them at the new</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">727</td>
    <td class="">/// preheader. If the default case is not exiting, it copies the exiting cases</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">728</td>
    <td class="">/// and points the default at the preheader. It preserves loop simplified form</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">729</td>
    <td class="">/// (splitting the exit blocks as necessary). It simplifies the switch within</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">730</td>
    <td class="">/// the loop by removing now-dead cases. If the default case is one of those</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">731</td>
    <td class="">/// unswitched, it replaces its destination with a new basic block containing</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">732</td>
    <td class="">/// only unreachable. Such basic blocks, while technically loop exits, are not</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">733</td>
    <td class="">/// considered for unswitching so this is a stable transform and the same</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">734</td>
    <td class="">/// switch will not be revisited. If after unswitching there is only a single</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">735</td>
    <td class="">/// in-loop successor, the switch is further simplified to an unconditional</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">736</td>
    <td class="">/// branch. Still more cleanup can be done with some simplifycfg like pass.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">737</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">738</td>
    <td class="">/// If `SE` is not null, it will be updated based on the potential loop SCEVs</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">739</td>
    <td class="">/// invalidated by this.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">740</td>
    <td class="uncoveredLine">static bool unswitchTrivialSwitch(Loop &L, SwitchInst &SI, DominatorTree &DT,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">741</td>
    <td class="">                                  LoopInfo &LI, ScalarEvolution *SE,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">742</td>
    <td class="">                                  MemorySSAUpdater *MSSAU) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">743</td>
    <td class="uncoveredLine">  LLVM_DEBUG(dbgs() << "  Trying to unswitch switch: " << SI << "\n");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">744</td>
    <td class="uncoveredLine">  Value *LoopCond = SI.getCondition();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">745</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">746</td>
    <td class="">  // If this isn't switching on an invariant condition, we can't unswitch it.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">747</td>
    <td class="uncoveredLine">  if (!L.isLoopInvariant(LoopCond))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">748</td>
    <td class="uncoveredLine">    return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">749</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">750</td>
    <td class="uncoveredLine">  auto *ParentBB = SI.getParent();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">751</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">752</td>
    <td class="">  // The same check must be used both for the default and the exit cases. We</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">753</td>
    <td class="">  // should never leave edges from the switch instruction to a basic block that</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">754</td>
    <td class="">  // we are unswitching, hence the condition used to determine the default case</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">755</td>
    <td class="">  // needs to also be used to populate ExitCaseIndices, which is then used to</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">756</td>
    <td class="">  // remove cases from the switch.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">757</td>
    <td class="uncoveredLine">  auto IsTriviallyUnswitchableExitBlock = [&](BasicBlock &BBToCheck) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">758</td>
    <td class="">    // BBToCheck is not an exit block if it is inside loop L.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">759</td>
    <td class="uncoveredLine">    if (L.contains(&BBToCheck))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">760</td>
    <td class="uncoveredLine">      return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">761</td>
    <td class="">    // BBToCheck is not trivial to unswitch if its phis aren't loop invariant.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">762</td>
    <td class="uncoveredLine">    if (!areLoopExitPHIsLoopInvariant(L, *ParentBB, BBToCheck))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">763</td>
    <td class="uncoveredLine">      return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">764</td>
    <td class="">    // We do not unswitch a block that only has an unreachable statement, as</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">765</td>
    <td class="">    // it's possible this is a previously unswitched block. Only unswitch if</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">766</td>
    <td class="">    // either the terminator is not unreachable, or, if it is, it's not the only</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">767</td>
    <td class="">    // instruction in the block.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">768</td>
    <td class="uncoveredLine">    auto *TI = BBToCheck.getTerminator();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">769</td>
    <td class="uncoveredLine">    bool isUnreachable = isa<UnreachableInst>(TI);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">770</td>
    <td class="uncoveredLine">    return !isUnreachable ||</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">771</td>
    <td class="uncoveredLine">           (isUnreachable && (BBToCheck.getFirstNonPHIOrDbg() != TI));</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">772</td>
    <td class="uncoveredLine">  };</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">773</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">774</td>
    <td class="uncoveredLine">  SmallVector<int, 4> ExitCaseIndices;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">775</td>
    <td class="uncoveredLine">  for (auto Case : SI.cases())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">776</td>
    <td class="uncoveredLine">    if (IsTriviallyUnswitchableExitBlock(*Case.getCaseSuccessor()))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">777</td>
    <td class="uncoveredLine">      ExitCaseIndices.push_back(Case.getCaseIndex());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">778</td>
    <td class="uncoveredLine">  BasicBlock *DefaultExitBB = nullptr;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">779</td>
    <td class="">  SwitchInstProfUpdateWrapper::CaseWeightOpt DefaultCaseWeight =</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">780</td>
    <td class="uncoveredLine">      SwitchInstProfUpdateWrapper::getSuccessorWeight(SI, 0);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">781</td>
    <td class="uncoveredLine">  if (IsTriviallyUnswitchableExitBlock(*SI.getDefaultDest())) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">782</td>
    <td class="uncoveredLine">    DefaultExitBB = SI.getDefaultDest();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">783</td>
    <td class="uncoveredLine">  } else if (ExitCaseIndices.empty())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">784</td>
    <td class="uncoveredLine">    return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">785</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">786</td>
    <td class="uncoveredLine">  LLVM_DEBUG(dbgs() << "    unswitching trivial switch...\n");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">787</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">788</td>
    <td class="uncoveredLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">789</td>
    <td class="uncoveredLine">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">790</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">791</td>
    <td class="">  // We may need to invalidate SCEVs for the outermost loop reached by any of</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">792</td>
    <td class="">  // the exits.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">793</td>
    <td class="uncoveredLine">  Loop *OuterL = &L;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">794</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">795</td>
    <td class="uncoveredLine">  if (DefaultExitBB) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">796</td>
    <td class="">    // Check the loop containing this exit.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">797</td>
    <td class="uncoveredLine">    Loop *ExitL = getTopMostExitingLoop(DefaultExitBB, LI);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">798</td>
    <td class="uncoveredLine">    if (!ExitL || ExitL->contains(OuterL))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">799</td>
    <td class="uncoveredLine">      OuterL = ExitL;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">800</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">801</td>
    <td class="uncoveredLine">  for (unsigned Index : ExitCaseIndices) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">802</td>
    <td class="uncoveredLine">    auto CaseI = SI.case_begin() + Index;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">803</td>
    <td class="">    // Compute the outer loop from this exit.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">804</td>
    <td class="uncoveredLine">    Loop *ExitL = getTopMostExitingLoop(CaseI->getCaseSuccessor(), LI);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">805</td>
    <td class="uncoveredLine">    if (!ExitL || ExitL->contains(OuterL))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">806</td>
    <td class="uncoveredLine">      OuterL = ExitL;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">807</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">808</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">809</td>
    <td class="uncoveredLine">  if (SE) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">810</td>
    <td class="uncoveredLine">    if (OuterL)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">811</td>
    <td class="uncoveredLine">      SE->forgetLoop(OuterL);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">812</td>
    <td class="">    else</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">813</td>
    <td class="uncoveredLine">      SE->forgetTopmostLoop(&L);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">814</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">815</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">816</td>
    <td class="uncoveredLine">  if (DefaultExitBB) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">817</td>
    <td class="">    // Clear out the default destination temporarily to allow accurate</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">818</td>
    <td class="">    // predecessor lists to be examined below.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">819</td>
    <td class="uncoveredLine">    SI.setDefaultDest(nullptr);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">820</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">821</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">822</td>
    <td class="">  // Store the exit cases into a separate data structure and remove them from</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">823</td>
    <td class="">  // the switch.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">824</td>
    <td class="">  SmallVector<std::tuple<ConstantInt *, BasicBlock *,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">825</td>
    <td class="">                         SwitchInstProfUpdateWrapper::CaseWeightOpt>,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">826</td>
    <td class="uncoveredLine">              4> ExitCases;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">827</td>
    <td class="uncoveredLine">  ExitCases.reserve(ExitCaseIndices.size());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">828</td>
    <td class="uncoveredLine">  SwitchInstProfUpdateWrapper SIW(SI);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">829</td>
    <td class="">  // We walk the case indices backwards so that we remove the last case first</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">830</td>
    <td class="">  // and don't disrupt the earlier indices.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">831</td>
    <td class="uncoveredLine">  for (unsigned Index : reverse(ExitCaseIndices)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">832</td>
    <td class="uncoveredLine">    auto CaseI = SI.case_begin() + Index;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">833</td>
    <td class="">    // Save the value of this case.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">834</td>
    <td class="uncoveredLine">    auto W = SIW.getSuccessorWeight(CaseI->getSuccessorIndex());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">835</td>
    <td class="uncoveredLine">    ExitCases.emplace_back(CaseI->getCaseValue(), CaseI->getCaseSuccessor(), W);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">836</td>
    <td class="">    // Delete the unswitched cases.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">837</td>
    <td class="uncoveredLine">    SIW.removeCase(CaseI);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">838</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">839</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">840</td>
    <td class="">  // Check if after this all of the remaining cases point at the same</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">841</td>
    <td class="">  // successor.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">842</td>
    <td class="uncoveredLine">  BasicBlock *CommonSuccBB = nullptr;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">843</td>
    <td class="uncoveredLine">  if (SI.getNumCases() > 0 &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">844</td>
    <td class="uncoveredLine">      all_of(drop_begin(SI.cases()), [&SI](const SwitchInst::CaseHandle &Case) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">845</td>
    <td class="uncoveredLine">        return Case.getCaseSuccessor() == SI.case_begin()->getCaseSuccessor();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">846</td>
    <td class="">      }))</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">847</td>
    <td class="uncoveredLine">    CommonSuccBB = SI.case_begin()->getCaseSuccessor();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">848</td>
    <td class="uncoveredLine">  if (!DefaultExitBB) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">849</td>
    <td class="">    // If we're not unswitching the default, we need it to match any cases to</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">850</td>
    <td class="">    // have a common successor or if we have no cases it is the common</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">851</td>
    <td class="">    // successor.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">852</td>
    <td class="uncoveredLine">    if (SI.getNumCases() == 0)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">853</td>
    <td class="uncoveredLine">      CommonSuccBB = SI.getDefaultDest();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">854</td>
    <td class="uncoveredLine">    else if (SI.getDefaultDest() != CommonSuccBB)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">855</td>
    <td class="uncoveredLine">      CommonSuccBB = nullptr;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">856</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">857</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">858</td>
    <td class="">  // Split the preheader, so that we know that there is a safe place to insert</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">859</td>
    <td class="">  // the switch.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">860</td>
    <td class="uncoveredLine">  BasicBlock *OldPH = L.getLoopPreheader();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">861</td>
    <td class="uncoveredLine">  BasicBlock *NewPH = SplitEdge(OldPH, L.getHeader(), &DT, &LI, MSSAU);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">862</td>
    <td class="uncoveredLine">  OldPH->getTerminator()->eraseFromParent();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">863</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">864</td>
    <td class="">  // Now add the unswitched switch.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">865</td>
    <td class="uncoveredLine">  auto *NewSI = SwitchInst::Create(LoopCond, NewPH, ExitCases.size(), OldPH);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">866</td>
    <td class="uncoveredLine">  SwitchInstProfUpdateWrapper NewSIW(*NewSI);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">867</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">868</td>
    <td class="">  // Rewrite the IR for the unswitched basic blocks. This requires two steps.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">869</td>
    <td class="">  // First, we split any exit blocks with remaining in-loop predecessors. Then</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">870</td>
    <td class="">  // we update the PHIs in one of two ways depending on if there was a split.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">871</td>
    <td class="">  // We walk in reverse so that we split in the same order as the cases</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">872</td>
    <td class="">  // appeared. This is purely for convenience of reading the resulting IR, but</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">873</td>
    <td class="">  // it doesn't cost anything really.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">874</td>
    <td class="uncoveredLine">  SmallPtrSet<BasicBlock *, 2> UnswitchedExitBBs;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">875</td>
    <td class="uncoveredLine">  SmallDenseMap<BasicBlock *, BasicBlock *, 2> SplitExitBBMap;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">876</td>
    <td class="">  // Handle the default exit if necessary.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">877</td>
    <td class="">  // FIXME: It'd be great if we could merge this with the loop below but LLVM's</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">878</td>
    <td class="">  // ranges aren't quite powerful enough yet.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">879</td>
    <td class="uncoveredLine">  if (DefaultExitBB) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">880</td>
    <td class="uncoveredLine">    if (pred_empty(DefaultExitBB)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">881</td>
    <td class="uncoveredLine">      UnswitchedExitBBs.insert(DefaultExitBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">882</td>
    <td class="uncoveredLine">      rewritePHINodesForUnswitchedExitBlock(*DefaultExitBB, *ParentBB, *OldPH);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">883</td>
    <td class="">    } else {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">884</td>
    <td class="">      auto *SplitBB =</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">885</td>
    <td class="uncoveredLine">          SplitBlock(DefaultExitBB, &DefaultExitBB->front(), &DT, &LI, MSSAU);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">886</td>
    <td class="uncoveredLine">      rewritePHINodesForExitAndUnswitchedBlocks(*DefaultExitBB, *SplitBB,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">887</td>
    <td class="">                                                *ParentBB, *OldPH,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">888</td>
    <td class="">                                                /*FullUnswitch*/ true);</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">889</td>
    <td class="uncoveredLine">      DefaultExitBB = SplitExitBBMap[DefaultExitBB] = SplitBB;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">890</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">891</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">892</td>
    <td class="">  // Note that we must use a reference in the for loop so that we update the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">893</td>
    <td class="">  // container.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">894</td>
    <td class="uncoveredLine">  for (auto &ExitCase : reverse(ExitCases)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">895</td>
    <td class="">    // Grab a reference to the exit block in the pair so that we can update it.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">896</td>
    <td class="uncoveredLine">    BasicBlock *ExitBB = std::get<1>(ExitCase);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">897</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">898</td>
    <td class="">    // If this case is the last edge into the exit block, we can simply reuse it</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">899</td>
    <td class="">    // as it will no longer be a loop exit. No mapping necessary.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">900</td>
    <td class="uncoveredLine">    if (pred_empty(ExitBB)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">901</td>
    <td class="">      // Only rewrite once.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">902</td>
    <td class="uncoveredLine">      if (UnswitchedExitBBs.insert(ExitBB).second)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">903</td>
    <td class="uncoveredLine">        rewritePHINodesForUnswitchedExitBlock(*ExitBB, *ParentBB, *OldPH);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">904</td>
    <td class="uncoveredLine">      continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">905</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">906</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">907</td>
    <td class="">    // Otherwise we need to split the exit block so that we retain an exit</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">908</td>
    <td class="">    // block from the loop and a target for the unswitched condition.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">909</td>
    <td class="uncoveredLine">    BasicBlock *&SplitExitBB = SplitExitBBMap[ExitBB];</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">910</td>
    <td class="uncoveredLine">    if (!SplitExitBB) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">911</td>
    <td class="">      // If this is the first time we see this, do the split and remember it.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">912</td>
    <td class="uncoveredLine">      SplitExitBB = SplitBlock(ExitBB, &ExitBB->front(), &DT, &LI, MSSAU);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">913</td>
    <td class="uncoveredLine">      rewritePHINodesForExitAndUnswitchedBlocks(*ExitBB, *SplitExitBB,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">914</td>
    <td class="">                                                *ParentBB, *OldPH,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">915</td>
    <td class="">                                                /*FullUnswitch*/ true);</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">916</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">917</td>
    <td class="">    // Update the case pair to point to the split block.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">918</td>
    <td class="uncoveredLine">    std::get<1>(ExitCase) = SplitExitBB;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">919</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">920</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">921</td>
    <td class="">  // Now add the unswitched cases. We do this in reverse order as we built them</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">922</td>
    <td class="">  // in reverse order.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">923</td>
    <td class="uncoveredLine">  for (auto &ExitCase : reverse(ExitCases)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">924</td>
    <td class="uncoveredLine">    ConstantInt *CaseVal = std::get<0>(ExitCase);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">925</td>
    <td class="uncoveredLine">    BasicBlock *UnswitchedBB = std::get<1>(ExitCase);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">926</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">927</td>
    <td class="uncoveredLine">    NewSIW.addCase(CaseVal, UnswitchedBB, std::get<2>(ExitCase));</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">928</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">929</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">930</td>
    <td class="">  // If the default was unswitched, re-point it and add explicit cases for</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">931</td>
    <td class="">  // entering the loop.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">932</td>
    <td class="uncoveredLine">  if (DefaultExitBB) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">933</td>
    <td class="uncoveredLine">    NewSIW->setDefaultDest(DefaultExitBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">934</td>
    <td class="uncoveredLine">    NewSIW.setSuccessorWeight(0, DefaultCaseWeight);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">935</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">936</td>
    <td class="">    // We removed all the exit cases, so we just copy the cases to the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">937</td>
    <td class="">    // unswitched switch.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">938</td>
    <td class="uncoveredLine">    for (const auto &Case : SI.cases())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">939</td>
    <td class="uncoveredLine">      NewSIW.addCase(Case.getCaseValue(), NewPH,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">940</td>
    <td class="">                     SIW.getSuccessorWeight(Case.getSuccessorIndex()));</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">941</td>
    <td class="uncoveredLine">  } else if (DefaultCaseWeight) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">942</td>
    <td class="">    // We have to set branch weight of the default case.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">943</td>
    <td class="uncoveredLine">    uint64_t SW = *DefaultCaseWeight;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">944</td>
    <td class="uncoveredLine">    for (const auto &Case : SI.cases()) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">945</td>
    <td class="uncoveredLine">      auto W = SIW.getSuccessorWeight(Case.getSuccessorIndex());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">946</td>
    <td class="uncoveredLine">      assert(W &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">947</td>
    <td class="">             "case weight must be defined as default case weight is defined");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">948</td>
    <td class="uncoveredLine">      SW += *W;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">949</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">950</td>
    <td class="uncoveredLine">    NewSIW.setSuccessorWeight(0, SW);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">951</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">952</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">953</td>
    <td class="">  // If we ended up with a common successor for every path through the switch</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">954</td>
    <td class="">  // after unswitching, rewrite it to an unconditional branch to make it easy</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">955</td>
    <td class="">  // to recognize. Otherwise we potentially have to recognize the default case</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">956</td>
    <td class="">  // pointing at unreachable and other complexity.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">957</td>
    <td class="uncoveredLine">  if (CommonSuccBB) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">958</td>
    <td class="uncoveredLine">    BasicBlock *BB = SI.getParent();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">959</td>
    <td class="">    // We may have had multiple edges to this common successor block, so remove</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">960</td>
    <td class="">    // them as predecessors. We skip the first one, either the default or the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">961</td>
    <td class="">    // actual first case.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">962</td>
    <td class="uncoveredLine">    bool SkippedFirst = DefaultExitBB == nullptr;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">963</td>
    <td class="uncoveredLine">    for (auto Case : SI.cases()) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">964</td>
    <td class="uncoveredLine">      assert(Case.getCaseSuccessor() == CommonSuccBB &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">965</td>
    <td class="">             "Non-common successor!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">966</td>
    <td class="">      (void)Case;</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">967</td>
    <td class="uncoveredLine">      if (!SkippedFirst) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">968</td>
    <td class="uncoveredLine">        SkippedFirst = true;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">969</td>
    <td class="uncoveredLine">        continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">970</td>
    <td class="">      }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">971</td>
    <td class="uncoveredLine">      CommonSuccBB->removePredecessor(BB,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">972</td>
    <td class="">                                      /*KeepOneInputPHIs*/ true);</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">973</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">974</td>
    <td class="">    // Now nuke the switch and replace it with a direct branch.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">975</td>
    <td class="uncoveredLine">    SIW.eraseFromParent();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">976</td>
    <td class="uncoveredLine">    BranchInst::Create(CommonSuccBB, BB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">977</td>
    <td class="uncoveredLine">  } else if (DefaultExitBB) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">978</td>
    <td class="uncoveredLine">    assert(SI.getNumCases() > 0 &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">979</td>
    <td class="">           "If we had no cases we'd have a common successor!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">980</td>
    <td class="">    // Move the last case to the default successor. This is valid as if the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">981</td>
    <td class="">    // default got unswitched it cannot be reached. This has the advantage of</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">982</td>
    <td class="">    // being simple and keeping the number of edges from this switch to</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">983</td>
    <td class="">    // successors the same, and avoiding any PHI update complexity.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">984</td>
    <td class="uncoveredLine">    auto LastCaseI = std::prev(SI.case_end());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">985</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">986</td>
    <td class="uncoveredLine">    SI.setDefaultDest(LastCaseI->getCaseSuccessor());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">987</td>
    <td class="uncoveredLine">    SIW.setSuccessorWeight(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">988</td>
    <td class="uncoveredLine">        0, SIW.getSuccessorWeight(LastCaseI->getSuccessorIndex()));</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">989</td>
    <td class="uncoveredLine">    SIW.removeCase(LastCaseI);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">990</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">991</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">992</td>
    <td class="">  // Walk the unswitched exit blocks and the unswitched split blocks and update</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">993</td>
    <td class="">  // the dominator tree based on the CFG edits. While we are walking unordered</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">994</td>
    <td class="">  // containers here, the API for applyUpdates takes an unordered list of</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">995</td>
    <td class="">  // updates and requires them to not contain duplicates.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">996</td>
    <td class="uncoveredLine">  SmallVector<DominatorTree::UpdateType, 4> DTUpdates;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">997</td>
    <td class="uncoveredLine">  for (auto *UnswitchedExitBB : UnswitchedExitBBs) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">998</td>
    <td class="uncoveredLine">    DTUpdates.push_back({DT.Delete, ParentBB, UnswitchedExitBB});</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">999</td>
    <td class="uncoveredLine">    DTUpdates.push_back({DT.Insert, OldPH, UnswitchedExitBB});</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1000</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1001</td>
    <td class="uncoveredLine">  for (auto SplitUnswitchedPair : SplitExitBBMap) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1002</td>
    <td class="uncoveredLine">    DTUpdates.push_back({DT.Delete, ParentBB, SplitUnswitchedPair.first});</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1003</td>
    <td class="uncoveredLine">    DTUpdates.push_back({DT.Insert, OldPH, SplitUnswitchedPair.second});</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1004</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1005</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1006</td>
    <td class="uncoveredLine">  if (MSSAU) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1007</td>
    <td class="uncoveredLine">    MSSAU->applyUpdates(DTUpdates, DT, /*UpdateDT=*/true);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1008</td>
    <td class="uncoveredLine">    if (VerifyMemorySSA)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1009</td>
    <td class="uncoveredLine">      MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1010</td>
    <td class="">  } else {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1011</td>
    <td class="uncoveredLine">    DT.applyUpdates(DTUpdates);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1012</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1013</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1014</td>
    <td class="uncoveredLine">  assert(DT.verify(DominatorTree::VerificationLevel::Fast));</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1015</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1016</td>
    <td class="">  // We may have changed the nesting relationship for this loop so hoist it to</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1017</td>
    <td class="">  // its correct parent if needed.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1018</td>
    <td class="uncoveredLine">  hoistLoopToNewParent(L, *NewPH, DT, LI, MSSAU, SE);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1019</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1020</td>
    <td class="uncoveredLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1021</td>
    <td class="uncoveredLine">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1022</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1023</td>
    <td class="uncoveredLine">  ++NumTrivial;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1024</td>
    <td class="uncoveredLine">  ++NumSwitches;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1025</td>
    <td class="uncoveredLine">  LLVM_DEBUG(dbgs() << "    done: unswitching trivial switch...\n");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1026</td>
    <td class="uncoveredLine">  return true;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1027</td>
    <td class="uncoveredLine">}</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1028</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1029</td>
    <td class="">/// This routine scans the loop to find a branch or switch which occurs before</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1030</td>
    <td class="">/// any side effects occur. These can potentially be unswitched without</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1031</td>
    <td class="">/// duplicating the loop. If a branch or switch is successfully unswitched the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1032</td>
    <td class="">/// scanning continues to see if subsequent branches or switches have become</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1033</td>
    <td class="">/// trivial. Once all trivial candidates have been unswitched, this routine</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1034</td>
    <td class="">/// returns.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1035</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1036</td>
    <td class="">/// The return value indicates whether anything was unswitched (and therefore</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1037</td>
    <td class="">/// changed).</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1038</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1039</td>
    <td class="">/// If `SE` is not null, it will be updated based on the potential loop SCEVs</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1040</td>
    <td class="">/// invalidated by this.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1041</td>
    <td class="uncoveredLine">static bool unswitchAllTrivialConditions(Loop &L, DominatorTree &DT,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1042</td>
    <td class="">                                         LoopInfo &LI, ScalarEvolution *SE,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1043</td>
    <td class="">                                         MemorySSAUpdater *MSSAU) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1044</td>
    <td class="uncoveredLine">  bool Changed = false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1045</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1046</td>
    <td class="">  // If loop header has only one reachable successor we should keep looking for</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1047</td>
    <td class="">  // trivial condition candidates in the successor as well. An alternative is</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1048</td>
    <td class="">  // to constant fold conditions and merge successors into loop header (then we</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1049</td>
    <td class="">  // only need to check header's terminator). The reason for not doing this in</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1050</td>
    <td class="">  // LoopUnswitch pass is that it could potentially break LoopPassManager's</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1051</td>
    <td class="">  // invariants. Folding dead branches could either eliminate the current loop</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1052</td>
    <td class="">  // or make other loops unreachable. LCSSA form might also not be preserved</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1053</td>
    <td class="">  // after deleting branches. The following code keeps traversing loop header's</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1054</td>
    <td class="">  // successors until it finds the trivial condition candidate (condition that</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1055</td>
    <td class="">  // is not a constant). Since unswitching generates branches with constant</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1056</td>
    <td class="">  // conditions, this scenario could be very common in practice.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1057</td>
    <td class="uncoveredLine">  BasicBlock *CurrentBB = L.getHeader();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1058</td>
    <td class="uncoveredLine">  SmallPtrSet<BasicBlock *, 8> Visited;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1059</td>
    <td class="uncoveredLine">  Visited.insert(CurrentBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1060</td>
    <td class="">  do {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1061</td>
    <td class="">    // Check if there are any side-effecting instructions (e.g. stores, calls,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1062</td>
    <td class="">    // volatile loads) in the part of the loop that the code *would* execute</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1063</td>
    <td class="">    // without unswitching.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1064</td>
    <td class="uncoveredLine">    if (MSSAU) // Possible early exit with MSSA</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1065</td>
    <td class="uncoveredLine">      if (auto *Defs = MSSAU->getMemorySSA()->getBlockDefs(CurrentBB))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1066</td>
    <td class="uncoveredLine">        if (!isa<MemoryPhi>(*Defs->begin()) || (++Defs->begin() != Defs->end()))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1067</td>
    <td class="uncoveredLine">          return Changed;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1068</td>
    <td class="uncoveredLine">    if (llvm::any_of(*CurrentBB,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1069</td>
    <td class="uncoveredLine">                     [](Instruction &I) { return I.mayHaveSideEffects(); }))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1070</td>
    <td class="uncoveredLine">      return Changed;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1071</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1072</td>
    <td class="uncoveredLine">    Instruction *CurrentTerm = CurrentBB->getTerminator();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1073</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1074</td>
    <td class="uncoveredLine">    if (auto *SI = dyn_cast<SwitchInst>(CurrentTerm)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1075</td>
    <td class="">      // Don't bother trying to unswitch past a switch with a constant</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1076</td>
    <td class="">      // condition. This should be removed prior to running this pass by</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1077</td>
    <td class="">      // simplifycfg.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1078</td>
    <td class="uncoveredLine">      if (isa<Constant>(SI->getCondition()))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1079</td>
    <td class="uncoveredLine">        return Changed;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1080</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1081</td>
    <td class="uncoveredLine">      if (!unswitchTrivialSwitch(L, *SI, DT, LI, SE, MSSAU))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1082</td>
    <td class="">        // Couldn't unswitch this one so we're done.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1083</td>
    <td class="uncoveredLine">        return Changed;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1084</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1085</td>
    <td class="">      // Mark that we managed to unswitch something.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1086</td>
    <td class="uncoveredLine">      Changed = true;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1087</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1088</td>
    <td class="">      // If unswitching turned the terminator into an unconditional branch then</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1089</td>
    <td class="">      // we can continue. The unswitching logic specifically works to fold any</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1090</td>
    <td class="">      // cases it can into an unconditional branch to make it easier to</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1091</td>
    <td class="">      // recognize here.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1092</td>
    <td class="uncoveredLine">      auto *BI = dyn_cast<BranchInst>(CurrentBB->getTerminator());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1093</td>
    <td class="uncoveredLine">      if (!BI || BI->isConditional())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1094</td>
    <td class="uncoveredLine">        return Changed;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1095</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1096</td>
    <td class="uncoveredLine">      CurrentBB = BI->getSuccessor(0);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1097</td>
    <td class="uncoveredLine">      continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1098</td>
    <td class="uncoveredLine">    }</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1099</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1100</td>
    <td class="uncoveredLine">    auto *BI = dyn_cast<BranchInst>(CurrentTerm);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1101</td>
    <td class="uncoveredLine">    if (!BI)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1102</td>
    <td class="">      // We do not understand other terminator instructions.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1103</td>
    <td class="uncoveredLine">      return Changed;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1104</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1105</td>
    <td class="">    // Don't bother trying to unswitch past an unconditional branch or a branch</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1106</td>
    <td class="">    // with a constant value. These should be removed by simplifycfg prior to</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1107</td>
    <td class="">    // running this pass.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1108</td>
    <td class="uncoveredLine">    if (!BI->isConditional() ||</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1109</td>
    <td class="uncoveredLine">        isa<Constant>(skipTrivialSelect(BI->getCondition())))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1110</td>
    <td class="uncoveredLine">      return Changed;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1111</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1112</td>
    <td class="">    // Found a trivial condition candidate: non-foldable conditional branch. If</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1113</td>
    <td class="">    // we fail to unswitch this, we can't do anything else that is trivial.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1114</td>
    <td class="uncoveredLine">    if (!unswitchTrivialBranch(L, *BI, DT, LI, SE, MSSAU))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1115</td>
    <td class="uncoveredLine">      return Changed;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1116</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1117</td>
    <td class="">    // Mark that we managed to unswitch something.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1118</td>
    <td class="uncoveredLine">    Changed = true;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1119</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1120</td>
    <td class="">    // If we only unswitched some of the conditions feeding the branch, we won't</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1121</td>
    <td class="">    // have collapsed it to a single successor.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1122</td>
    <td class="uncoveredLine">    BI = cast<BranchInst>(CurrentBB->getTerminator());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1123</td>
    <td class="uncoveredLine">    if (BI->isConditional())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1124</td>
    <td class="uncoveredLine">      return Changed;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1125</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1126</td>
    <td class="">    // Follow the newly unconditional branch into its successor.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1127</td>
    <td class="uncoveredLine">    CurrentBB = BI->getSuccessor(0);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1128</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1129</td>
    <td class="">    // When continuing, if we exit the loop or reach a previous visited block,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1130</td>
    <td class="">    // then we can not reach any trivial condition candidates (unfoldable</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1131</td>
    <td class="">    // branch instructions or switch instructions) and no unswitch can happen.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1132</td>
    <td class="uncoveredLine">  } while (L.contains(CurrentBB) && Visited.insert(CurrentBB).second);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1133</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1134</td>
    <td class="uncoveredLine">  return Changed;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1135</td>
    <td class="uncoveredLine">}</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1136</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1137</td>
    <td class="">/// Build the cloned blocks for an unswitched copy of the given loop.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1138</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1139</td>
    <td class="">/// The cloned blocks are inserted before the loop preheader (`LoopPH`) and</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1140</td>
    <td class="">/// after the split block (`SplitBB`) that will be used to select between the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1141</td>
    <td class="">/// cloned and original loop.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1142</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1143</td>
    <td class="">/// This routine handles cloning all of the necessary loop blocks and exit</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1144</td>
    <td class="">/// blocks including rewriting their instructions and the relevant PHI nodes.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1145</td>
    <td class="">/// Any loop blocks or exit blocks which are dominated by a different successor</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1146</td>
    <td class="">/// than the one for this clone of the loop blocks can be trivially skipped. We</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1147</td>
    <td class="">/// use the `DominatingSucc` map to determine whether a block satisfies that</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1148</td>
    <td class="">/// property with a simple map lookup.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1149</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1150</td>
    <td class="">/// It also correctly creates the unconditional branch in the cloned</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1151</td>
    <td class="">/// unswitched parent block to only point at the unswitched successor.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1152</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1153</td>
    <td class="">/// This does not handle most of the necessary updates to `LoopInfo`. Only exit</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1154</td>
    <td class="">/// block splitting is correctly reflected in `LoopInfo`, essentially all of</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1155</td>
    <td class="">/// the cloned blocks (and their loops) are left without full `LoopInfo`</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1156</td>
    <td class="">/// updates. This also doesn't fully update `DominatorTree`. It adds the cloned</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1157</td>
    <td class="">/// blocks to them but doesn't create the cloned `DominatorTree` structure and</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1158</td>
    <td class="">/// instead the caller must recompute an accurate DT. It *does* correctly</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1159</td>
    <td class="">/// update the `AssumptionCache` provided in `AC`.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1160</td>
    <td class="uncoveredLine">static BasicBlock *buildClonedLoopBlocks(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1161</td>
    <td class="">    Loop &L, BasicBlock *LoopPH, BasicBlock *SplitBB,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1162</td>
    <td class="">    ArrayRef<BasicBlock *> ExitBlocks, BasicBlock *ParentBB,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1163</td>
    <td class="">    BasicBlock *UnswitchedSuccBB, BasicBlock *ContinueSuccBB,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1164</td>
    <td class="">    const SmallDenseMap<BasicBlock *, BasicBlock *, 16> &DominatingSucc,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1165</td>
    <td class="">    ValueToValueMapTy &VMap,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1166</td>
    <td class="">    SmallVectorImpl<DominatorTree::UpdateType> &DTUpdates, AssumptionCache &AC,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1167</td>
    <td class="">    DominatorTree &DT, LoopInfo &LI, MemorySSAUpdater *MSSAU,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1168</td>
    <td class="">    ScalarEvolution *SE) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1169</td>
    <td class="uncoveredLine">  SmallVector<BasicBlock *, 4> NewBlocks;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1170</td>
    <td class="uncoveredLine">  NewBlocks.reserve(L.getNumBlocks() + ExitBlocks.size());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1171</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1172</td>
    <td class="">  // We will need to clone a bunch of blocks, wrap up the clone operation in</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1173</td>
    <td class="">  // a helper.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1174</td>
    <td class="uncoveredLine">  auto CloneBlock = [&](BasicBlock *OldBB) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1175</td>
    <td class="">    // Clone the basic block and insert it before the new preheader.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1176</td>
    <td class="uncoveredLine">    BasicBlock *NewBB = CloneBasicBlock(OldBB, VMap, ".us", OldBB->getParent());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1177</td>
    <td class="uncoveredLine">    NewBB->moveBefore(LoopPH);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1178</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1179</td>
    <td class="">    // Record this block and the mapping.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1180</td>
    <td class="uncoveredLine">    NewBlocks.push_back(NewBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1181</td>
    <td class="uncoveredLine">    VMap[OldBB] = NewBB;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1182</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1183</td>
    <td class="uncoveredLine">    return NewBB;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1184</td>
    <td class="uncoveredLine">  };</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1185</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1186</td>
    <td class="">  // We skip cloning blocks when they have a dominating succ that is not the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1187</td>
    <td class="">  // succ we are cloning for.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1188</td>
    <td class="uncoveredLine">  auto SkipBlock = [&](BasicBlock *BB) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1189</td>
    <td class="uncoveredLine">    auto It = DominatingSucc.find(BB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1190</td>
    <td class="uncoveredLine">    return It != DominatingSucc.end() && It->second != UnswitchedSuccBB;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1191</td>
    <td class="uncoveredLine">  };</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1192</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1193</td>
    <td class="">  // First, clone the preheader.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1194</td>
    <td class="uncoveredLine">  auto *ClonedPH = CloneBlock(LoopPH);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1195</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1196</td>
    <td class="">  // Then clone all the loop blocks, skipping the ones that aren't necessary.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1197</td>
    <td class="uncoveredLine">  for (auto *LoopBB : L.blocks())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1198</td>
    <td class="uncoveredLine">    if (!SkipBlock(LoopBB))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1199</td>
    <td class="uncoveredLine">      CloneBlock(LoopBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1200</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1201</td>
    <td class="">  // Split all the loop exit edges so that when we clone the exit blocks, if</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1202</td>
    <td class="">  // any of the exit blocks are *also* a preheader for some other loop, we</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1203</td>
    <td class="">  // don't create multiple predecessors entering the loop header.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1204</td>
    <td class="uncoveredLine">  for (auto *ExitBB : ExitBlocks) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1205</td>
    <td class="uncoveredLine">    if (SkipBlock(ExitBB))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1206</td>
    <td class="uncoveredLine">      continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1207</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1208</td>
    <td class="">    // When we are going to clone an exit, we don't need to clone all the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1209</td>
    <td class="">    // instructions in the exit block and we want to ensure we have an easy</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1210</td>
    <td class="">    // place to merge the CFG, so split the exit first. This is always safe to</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1211</td>
    <td class="">    // do because there cannot be any non-loop predecessors of a loop exit in</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1212</td>
    <td class="">    // loop simplified form.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1213</td>
    <td class="uncoveredLine">    auto *MergeBB = SplitBlock(ExitBB, &ExitBB->front(), &DT, &LI, MSSAU);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1214</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1215</td>
    <td class="">    // Rearrange the names to make it easier to write test cases by having the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1216</td>
    <td class="">    // exit block carry the suffix rather than the merge block carrying the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1217</td>
    <td class="">    // suffix.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1218</td>
    <td class="uncoveredLine">    MergeBB->takeName(ExitBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1219</td>
    <td class="uncoveredLine">    ExitBB->setName(Twine(MergeBB->getName()) + ".split");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1220</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1221</td>
    <td class="">    // Now clone the original exit block.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1222</td>
    <td class="uncoveredLine">    auto *ClonedExitBB = CloneBlock(ExitBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1223</td>
    <td class="uncoveredLine">    assert(ClonedExitBB->getTerminator()->getNumSuccessors() == 1 &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1224</td>
    <td class="">           "Exit block should have been split to have one successor!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1225</td>
    <td class="uncoveredLine">    assert(ClonedExitBB->getTerminator()->getSuccessor(0) == MergeBB &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1226</td>
    <td class="">           "Cloned exit block has the wrong successor!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1227</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1228</td>
    <td class="">    // Remap any cloned instructions and create a merge phi node for them.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1229</td>
    <td class="uncoveredLine">    for (auto ZippedInsts : llvm::zip_first(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1230</td>
    <td class="uncoveredLine">             llvm::make_range(ExitBB->begin(), std::prev(ExitBB->end())),</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1231</td>
    <td class="uncoveredLine">             llvm::make_range(ClonedExitBB->begin(),</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1232</td>
    <td class="uncoveredLine">                              std::prev(ClonedExitBB->end())))) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1233</td>
    <td class="uncoveredLine">      Instruction &I = std::get<0>(ZippedInsts);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1234</td>
    <td class="uncoveredLine">      Instruction &ClonedI = std::get<1>(ZippedInsts);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1235</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1236</td>
    <td class="">      // The only instructions in the exit block should be PHI nodes and</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1237</td>
    <td class="">      // potentially a landing pad.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1238</td>
    <td class="uncoveredLine">      assert(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1239</td>
    <td class="">          (isa<PHINode>(I) || isa<LandingPadInst>(I) || isa<CatchPadInst>(I)) &&</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1240</td>
    <td class="">          "Bad instruction in exit block!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1241</td>
    <td class="">      // We should have a value map between the instruction and its clone.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1242</td>
    <td class="uncoveredLine">      assert(VMap.lookup(&I) == &ClonedI && "Mismatch in the value map!");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1243</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1244</td>
    <td class="">      // Forget SCEVs based on exit phis in case SCEV looked through the phi.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1245</td>
    <td class="uncoveredLine">      if (SE && isa<PHINode>(I))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1246</td>
    <td class="uncoveredLine">        SE->forgetValue(&I);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1247</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1248</td>
    <td class="">      auto *MergePN =</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1249</td>
    <td class="uncoveredLine">          PHINode::Create(I.getType(), /*NumReservedValues*/ 2, ".us-phi",</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1250</td>
    <td class="uncoveredLine">                          &*MergeBB->getFirstInsertionPt());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1251</td>
    <td class="uncoveredLine">      I.replaceAllUsesWith(MergePN);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1252</td>
    <td class="uncoveredLine">      MergePN->addIncoming(&I, ExitBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1253</td>
    <td class="uncoveredLine">      MergePN->addIncoming(&ClonedI, ClonedExitBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1254</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1255</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1256</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1257</td>
    <td class="">  // Rewrite the instructions in the cloned blocks to refer to the instructions</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1258</td>
    <td class="">  // in the cloned blocks. We have to do this as a second pass so that we have</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1259</td>
    <td class="">  // everything available. Also, we have inserted new instructions which may</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1260</td>
    <td class="">  // include assume intrinsics, so we update the assumption cache while</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1261</td>
    <td class="">  // processing this.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1262</td>
    <td class="uncoveredLine">  for (auto *ClonedBB : NewBlocks)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1263</td>
    <td class="uncoveredLine">    for (Instruction &I : *ClonedBB) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1264</td>
    <td class="uncoveredLine">      RemapInstruction(&I, VMap,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1265</td>
    <td class="">                       RF_NoModuleLevelChanges | RF_IgnoreMissingLocals);</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1266</td>
    <td class="uncoveredLine">      if (auto *II = dyn_cast<AssumeInst>(&I))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1267</td>
    <td class="uncoveredLine">        AC.registerAssumption(II);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1268</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1269</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1270</td>
    <td class="">  // Update any PHI nodes in the cloned successors of the skipped blocks to not</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1271</td>
    <td class="">  // have spurious incoming values.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1272</td>
    <td class="uncoveredLine">  for (auto *LoopBB : L.blocks())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1273</td>
    <td class="uncoveredLine">    if (SkipBlock(LoopBB))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1274</td>
    <td class="uncoveredLine">      for (auto *SuccBB : successors(LoopBB))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1275</td>
    <td class="uncoveredLine">        if (auto *ClonedSuccBB = cast_or_null<BasicBlock>(VMap.lookup(SuccBB)))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1276</td>
    <td class="uncoveredLine">          for (PHINode &PN : ClonedSuccBB->phis())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1277</td>
    <td class="uncoveredLine">            PN.removeIncomingValue(LoopBB, /*DeletePHIIfEmpty*/ false);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1278</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1279</td>
    <td class="">  // Remove the cloned parent as a predecessor of any successor we ended up</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1280</td>
    <td class="">  // cloning other than the unswitched one.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1281</td>
    <td class="uncoveredLine">  auto *ClonedParentBB = cast<BasicBlock>(VMap.lookup(ParentBB));</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1282</td>
    <td class="uncoveredLine">  for (auto *SuccBB : successors(ParentBB)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1283</td>
    <td class="uncoveredLine">    if (SuccBB == UnswitchedSuccBB)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1284</td>
    <td class="uncoveredLine">      continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1285</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1286</td>
    <td class="uncoveredLine">    auto *ClonedSuccBB = cast_or_null<BasicBlock>(VMap.lookup(SuccBB));</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1287</td>
    <td class="uncoveredLine">    if (!ClonedSuccBB)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1288</td>
    <td class="uncoveredLine">      continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1289</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1290</td>
    <td class="uncoveredLine">    ClonedSuccBB->removePredecessor(ClonedParentBB,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1291</td>
    <td class="">                                    /*KeepOneInputPHIs*/ true);</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1292</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1293</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1294</td>
    <td class="">  // Replace the cloned branch with an unconditional branch to the cloned</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1295</td>
    <td class="">  // unswitched successor.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1296</td>
    <td class="uncoveredLine">  auto *ClonedSuccBB = cast<BasicBlock>(VMap.lookup(UnswitchedSuccBB));</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1297</td>
    <td class="uncoveredLine">  Instruction *ClonedTerminator = ClonedParentBB->getTerminator();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1298</td>
    <td class="">  // Trivial Simplification. If Terminator is a conditional branch and</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1299</td>
    <td class="">  // condition becomes dead - erase it.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1300</td>
    <td class="uncoveredLine">  Value *ClonedConditionToErase = nullptr;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1301</td>
    <td class="uncoveredLine">  if (auto *BI = dyn_cast<BranchInst>(ClonedTerminator))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1302</td>
    <td class="uncoveredLine">    ClonedConditionToErase = BI->getCondition();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1303</td>
    <td class="uncoveredLine">  else if (auto *SI = dyn_cast<SwitchInst>(ClonedTerminator))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1304</td>
    <td class="uncoveredLine">    ClonedConditionToErase = SI->getCondition();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1305</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1306</td>
    <td class="uncoveredLine">  ClonedTerminator->eraseFromParent();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1307</td>
    <td class="uncoveredLine">  BranchInst::Create(ClonedSuccBB, ClonedParentBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1308</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1309</td>
    <td class="uncoveredLine">  if (ClonedConditionToErase)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1310</td>
    <td class="uncoveredLine">    RecursivelyDeleteTriviallyDeadInstructions(ClonedConditionToErase, nullptr,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1311</td>
    <td class="">                                               MSSAU);</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1312</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1313</td>
    <td class="">  // If there are duplicate entries in the PHI nodes because of multiple edges</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1314</td>
    <td class="">  // to the unswitched successor, we need to nuke all but one as we replaced it</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1315</td>
    <td class="">  // with a direct branch.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1316</td>
    <td class="uncoveredLine">  for (PHINode &PN : ClonedSuccBB->phis()) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1317</td>
    <td class="uncoveredLine">    bool Found = false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1318</td>
    <td class="">    // Loop over the incoming operands backwards so we can easily delete as we</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1319</td>
    <td class="">    // go without invalidating the index.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1320</td>
    <td class="uncoveredLine">    for (int i = PN.getNumOperands() - 1; i >= 0; --i) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1321</td>
    <td class="uncoveredLine">      if (PN.getIncomingBlock(i) != ClonedParentBB)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1322</td>
    <td class="uncoveredLine">        continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1323</td>
    <td class="uncoveredLine">      if (!Found) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1324</td>
    <td class="uncoveredLine">        Found = true;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1325</td>
    <td class="uncoveredLine">        continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1326</td>
    <td class="">      }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1327</td>
    <td class="uncoveredLine">      PN.removeIncomingValue(i, /*DeletePHIIfEmpty*/ false);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1328</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1329</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1330</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1331</td>
    <td class="">  // Record the domtree updates for the new blocks.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1332</td>
    <td class="uncoveredLine">  SmallPtrSet<BasicBlock *, 4> SuccSet;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1333</td>
    <td class="uncoveredLine">  for (auto *ClonedBB : NewBlocks) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1334</td>
    <td class="uncoveredLine">    for (auto *SuccBB : successors(ClonedBB))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1335</td>
    <td class="uncoveredLine">      if (SuccSet.insert(SuccBB).second)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1336</td>
    <td class="uncoveredLine">        DTUpdates.push_back({DominatorTree::Insert, ClonedBB, SuccBB});</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1337</td>
    <td class="uncoveredLine">    SuccSet.clear();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1338</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1339</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1340</td>
    <td class="uncoveredLine">  return ClonedPH;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1341</td>
    <td class="uncoveredLine">}</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1342</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1343</td>
    <td class="">/// Recursively clone the specified loop and all of its children.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1344</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1345</td>
    <td class="">/// The target parent loop for the clone should be provided, or can be null if</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1346</td>
    <td class="">/// the clone is a top-level loop. While cloning, all the blocks are mapped</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1347</td>
    <td class="">/// with the provided value map. The entire original loop must be present in</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1348</td>
    <td class="">/// the value map. The cloned loop is returned.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1349</td>
    <td class="uncoveredLine">static Loop *cloneLoopNest(Loop &OrigRootL, Loop *RootParentL,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1350</td>
    <td class="">                           const ValueToValueMapTy &VMap, LoopInfo &LI) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1351</td>
    <td class="uncoveredLine">  auto AddClonedBlocksToLoop = [&](Loop &OrigL, Loop &ClonedL) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1352</td>
    <td class="uncoveredLine">    assert(ClonedL.getBlocks().empty() && "Must start with an empty loop!");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1353</td>
    <td class="uncoveredLine">    ClonedL.reserveBlocks(OrigL.getNumBlocks());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1354</td>
    <td class="uncoveredLine">    for (auto *BB : OrigL.blocks()) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1355</td>
    <td class="uncoveredLine">      auto *ClonedBB = cast<BasicBlock>(VMap.lookup(BB));</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1356</td>
    <td class="uncoveredLine">      ClonedL.addBlockEntry(ClonedBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1357</td>
    <td class="uncoveredLine">      if (LI.getLoopFor(BB) == &OrigL)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1358</td>
    <td class="uncoveredLine">        LI.changeLoopFor(ClonedBB, &ClonedL);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1359</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1360</td>
    <td class="uncoveredLine">  };</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1361</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1362</td>
    <td class="">  // We specially handle the first loop because it may get cloned into</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1363</td>
    <td class="">  // a different parent and because we most commonly are cloning leaf loops.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1364</td>
    <td class="uncoveredLine">  Loop *ClonedRootL = LI.AllocateLoop();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1365</td>
    <td class="uncoveredLine">  if (RootParentL)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1366</td>
    <td class="uncoveredLine">    RootParentL->addChildLoop(ClonedRootL);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1367</td>
    <td class="">  else</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1368</td>
    <td class="uncoveredLine">    LI.addTopLevelLoop(ClonedRootL);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1369</td>
    <td class="uncoveredLine">  AddClonedBlocksToLoop(OrigRootL, *ClonedRootL);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1370</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1371</td>
    <td class="uncoveredLine">  if (OrigRootL.isInnermost())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1372</td>
    <td class="uncoveredLine">    return ClonedRootL;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1373</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1374</td>
    <td class="">  // If we have a nest, we can quickly clone the entire loop nest using an</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1375</td>
    <td class="">  // iterative approach because it is a tree. We keep the cloned parent in the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1376</td>
    <td class="">  // data structure to avoid repeatedly querying through a map to find it.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1377</td>
    <td class="uncoveredLine">  SmallVector<std::pair<Loop *, Loop *>, 16> LoopsToClone;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1378</td>
    <td class="">  // Build up the loops to clone in reverse order as we'll clone them from the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1379</td>
    <td class="">  // back.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1380</td>
    <td class="uncoveredLine">  for (Loop *ChildL : llvm::reverse(OrigRootL))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1381</td>
    <td class="uncoveredLine">    LoopsToClone.push_back({ClonedRootL, ChildL});</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1382</td>
    <td class="">  do {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1383</td>
    <td class="">    Loop *ClonedParentL, *L;</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1384</td>
    <td class="uncoveredLine">    std::tie(ClonedParentL, L) = LoopsToClone.pop_back_val();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1385</td>
    <td class="uncoveredLine">    Loop *ClonedL = LI.AllocateLoop();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1386</td>
    <td class="uncoveredLine">    ClonedParentL->addChildLoop(ClonedL);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1387</td>
    <td class="uncoveredLine">    AddClonedBlocksToLoop(*L, *ClonedL);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1388</td>
    <td class="uncoveredLine">    for (Loop *ChildL : llvm::reverse(*L))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1389</td>
    <td class="uncoveredLine">      LoopsToClone.push_back({ClonedL, ChildL});</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1390</td>
    <td class="uncoveredLine">  } while (!LoopsToClone.empty());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1391</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1392</td>
    <td class="uncoveredLine">  return ClonedRootL;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1393</td>
    <td class="uncoveredLine">}</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1394</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1395</td>
    <td class="">/// Build the cloned loops of an original loop from unswitching.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1396</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1397</td>
    <td class="">/// Because unswitching simplifies the CFG of the loop, this isn't a trivial</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1398</td>
    <td class="">/// operation. We need to re-verify that there even is a loop (as the backedge</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1399</td>
    <td class="">/// may not have been cloned), and even if there are remaining backedges the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1400</td>
    <td class="">/// backedge set may be different. However, we know that each child loop is</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1401</td>
    <td class="">/// undisturbed, we only need to find where to place each child loop within</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1402</td>
    <td class="">/// either any parent loop or within a cloned version of the original loop.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1403</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1404</td>
    <td class="">/// Because child loops may end up cloned outside of any cloned version of the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1405</td>
    <td class="">/// original loop, multiple cloned sibling loops may be created. All of them</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1406</td>
    <td class="">/// are returned so that the newly introduced loop nest roots can be</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1407</td>
    <td class="">/// identified.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1408</td>
    <td class="uncoveredLine">static void buildClonedLoops(Loop &OrigL, ArrayRef<BasicBlock *> ExitBlocks,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1409</td>
    <td class="">                             const ValueToValueMapTy &VMap, LoopInfo &LI,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1410</td>
    <td class="">                             SmallVectorImpl<Loop *> &NonChildClonedLoops) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1411</td>
    <td class="uncoveredLine">  Loop *ClonedL = nullptr;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1412</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1413</td>
    <td class="uncoveredLine">  auto *OrigPH = OrigL.getLoopPreheader();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1414</td>
    <td class="uncoveredLine">  auto *OrigHeader = OrigL.getHeader();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1415</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1416</td>
    <td class="uncoveredLine">  auto *ClonedPH = cast<BasicBlock>(VMap.lookup(OrigPH));</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1417</td>
    <td class="uncoveredLine">  auto *ClonedHeader = cast<BasicBlock>(VMap.lookup(OrigHeader));</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1418</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1419</td>
    <td class="">  // We need to know the loops of the cloned exit blocks to even compute the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1420</td>
    <td class="">  // accurate parent loop. If we only clone exits to some parent of the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1421</td>
    <td class="">  // original parent, we want to clone into that outer loop. We also keep track</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1422</td>
    <td class="">  // of the loops that our cloned exit blocks participate in.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1423</td>
    <td class="uncoveredLine">  Loop *ParentL = nullptr;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1424</td>
    <td class="uncoveredLine">  SmallVector<BasicBlock *, 4> ClonedExitsInLoops;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1425</td>
    <td class="uncoveredLine">  SmallDenseMap<BasicBlock *, Loop *, 16> ExitLoopMap;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1426</td>
    <td class="uncoveredLine">  ClonedExitsInLoops.reserve(ExitBlocks.size());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1427</td>
    <td class="uncoveredLine">  for (auto *ExitBB : ExitBlocks)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1428</td>
    <td class="uncoveredLine">    if (auto *ClonedExitBB = cast_or_null<BasicBlock>(VMap.lookup(ExitBB)))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1429</td>
    <td class="uncoveredLine">      if (Loop *ExitL = LI.getLoopFor(ExitBB)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1430</td>
    <td class="uncoveredLine">        ExitLoopMap[ClonedExitBB] = ExitL;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1431</td>
    <td class="uncoveredLine">        ClonedExitsInLoops.push_back(ClonedExitBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1432</td>
    <td class="uncoveredLine">        if (!ParentL || (ParentL != ExitL && ParentL->contains(ExitL)))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1433</td>
    <td class="uncoveredLine">          ParentL = ExitL;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1434</td>
    <td class="">      }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1435</td>
    <td class="uncoveredLine">  assert((!ParentL || ParentL == OrigL.getParentLoop() ||</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1436</td>
    <td class="">          ParentL->contains(OrigL.getParentLoop())) &&</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1437</td>
    <td class="">         "The computed parent loop should always contain (or be) the parent of "</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1438</td>
    <td class="">         "the original loop.");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1439</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1440</td>
    <td class="">  // We build the set of blocks dominated by the cloned header from the set of</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1441</td>
    <td class="">  // cloned blocks out of the original loop. While not all of these will</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1442</td>
    <td class="">  // necessarily be in the cloned loop, it is enough to establish that they</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1443</td>
    <td class="">  // aren't in unreachable cycles, etc.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1444</td>
    <td class="uncoveredLine">  SmallSetVector<BasicBlock *, 16> ClonedLoopBlocks;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1445</td>
    <td class="uncoveredLine">  for (auto *BB : OrigL.blocks())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1446</td>
    <td class="uncoveredLine">    if (auto *ClonedBB = cast_or_null<BasicBlock>(VMap.lookup(BB)))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1447</td>
    <td class="uncoveredLine">      ClonedLoopBlocks.insert(ClonedBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1448</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1449</td>
    <td class="">  // Rebuild the set of blocks that will end up in the cloned loop. We may have</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1450</td>
    <td class="">  // skipped cloning some region of this loop which can in turn skip some of</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1451</td>
    <td class="">  // the backedges so we have to rebuild the blocks in the loop based on the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1452</td>
    <td class="">  // backedges that remain after cloning.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1453</td>
    <td class="uncoveredLine">  SmallVector<BasicBlock *, 16> Worklist;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1454</td>
    <td class="uncoveredLine">  SmallPtrSet<BasicBlock *, 16> BlocksInClonedLoop;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1455</td>
    <td class="uncoveredLine">  for (auto *Pred : predecessors(ClonedHeader)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1456</td>
    <td class="">    // The only possible non-loop header predecessor is the preheader because</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1457</td>
    <td class="">    // we know we cloned the loop in simplified form.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1458</td>
    <td class="uncoveredLine">    if (Pred == ClonedPH)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1459</td>
    <td class="uncoveredLine">      continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1460</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1461</td>
    <td class="">    // Because the loop was in simplified form, the only non-loop predecessor</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1462</td>
    <td class="">    // should be the preheader.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1463</td>
    <td class="uncoveredLine">    assert(ClonedLoopBlocks.count(Pred) && "Found a predecessor of the loop "</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1464</td>
    <td class="">                                           "header other than the preheader "</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1465</td>
    <td class="">                                           "that is not part of the loop!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1466</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1467</td>
    <td class="">    // Insert this block into the loop set and on the first visit (and if it</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1468</td>
    <td class="">    // isn't the header we're currently walking) put it into the worklist to</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1469</td>
    <td class="">    // recurse through.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1470</td>
    <td class="uncoveredLine">    if (BlocksInClonedLoop.insert(Pred).second && Pred != ClonedHeader)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1471</td>
    <td class="uncoveredLine">      Worklist.push_back(Pred);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1472</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1473</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1474</td>
    <td class="">  // If we had any backedges then there *is* a cloned loop. Put the header into</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1475</td>
    <td class="">  // the loop set and then walk the worklist backwards to find all the blocks</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1476</td>
    <td class="">  // that remain within the loop after cloning.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1477</td>
    <td class="uncoveredLine">  if (!BlocksInClonedLoop.empty()) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1478</td>
    <td class="uncoveredLine">    BlocksInClonedLoop.insert(ClonedHeader);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1479</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1480</td>
    <td class="uncoveredLine">    while (!Worklist.empty()) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1481</td>
    <td class="uncoveredLine">      BasicBlock *BB = Worklist.pop_back_val();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1482</td>
    <td class="uncoveredLine">      assert(BlocksInClonedLoop.count(BB) &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1483</td>
    <td class="">             "Didn't put block into the loop set!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1484</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1485</td>
    <td class="">      // Insert any predecessors that are in the possible set into the cloned</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1486</td>
    <td class="">      // set, and if the insert is successful, add them to the worklist. Note</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1487</td>
    <td class="">      // that we filter on the blocks that are definitely reachable via the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1488</td>
    <td class="">      // backedge to the loop header so we may prune out dead code within the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1489</td>
    <td class="">      // cloned loop.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1490</td>
    <td class="uncoveredLine">      for (auto *Pred : predecessors(BB))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1491</td>
    <td class="uncoveredLine">        if (ClonedLoopBlocks.count(Pred) &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1492</td>
    <td class="uncoveredLine">            BlocksInClonedLoop.insert(Pred).second)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1493</td>
    <td class="uncoveredLine">          Worklist.push_back(Pred);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1494</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1495</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1496</td>
    <td class="uncoveredLine">    ClonedL = LI.AllocateLoop();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1497</td>
    <td class="uncoveredLine">    if (ParentL) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1498</td>
    <td class="uncoveredLine">      ParentL->addBasicBlockToLoop(ClonedPH, LI);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1499</td>
    <td class="uncoveredLine">      ParentL->addChildLoop(ClonedL);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1500</td>
    <td class="">    } else {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1501</td>
    <td class="uncoveredLine">      LI.addTopLevelLoop(ClonedL);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1502</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1503</td>
    <td class="uncoveredLine">    NonChildClonedLoops.push_back(ClonedL);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1504</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1505</td>
    <td class="uncoveredLine">    ClonedL->reserveBlocks(BlocksInClonedLoop.size());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1506</td>
    <td class="">    // We don't want to just add the cloned loop blocks based on how we</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1507</td>
    <td class="">    // discovered them. The original order of blocks was carefully built in</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1508</td>
    <td class="">    // a way that doesn't rely on predecessor ordering. Rather than re-invent</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1509</td>
    <td class="">    // that logic, we just re-walk the original blocks (and those of the child</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1510</td>
    <td class="">    // loops) and filter them as we add them into the cloned loop.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1511</td>
    <td class="uncoveredLine">    for (auto *BB : OrigL.blocks()) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1512</td>
    <td class="uncoveredLine">      auto *ClonedBB = cast_or_null<BasicBlock>(VMap.lookup(BB));</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1513</td>
    <td class="uncoveredLine">      if (!ClonedBB || !BlocksInClonedLoop.count(ClonedBB))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1514</td>
    <td class="uncoveredLine">        continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1515</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1516</td>
    <td class="">      // Directly add the blocks that are only in this loop.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1517</td>
    <td class="uncoveredLine">      if (LI.getLoopFor(BB) == &OrigL) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1518</td>
    <td class="uncoveredLine">        ClonedL->addBasicBlockToLoop(ClonedBB, LI);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1519</td>
    <td class="uncoveredLine">        continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1520</td>
    <td class="">      }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1521</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1522</td>
    <td class="">      // We want to manually add it to this loop and parents.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1523</td>
    <td class="">      // Registering it with LoopInfo will happen when we clone the top</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1524</td>
    <td class="">      // loop for this block.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1525</td>
    <td class="uncoveredLine">      for (Loop *PL = ClonedL; PL; PL = PL->getParentLoop())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1526</td>
    <td class="uncoveredLine">        PL->addBlockEntry(ClonedBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1527</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1528</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1529</td>
    <td class="">    // Now add each child loop whose header remains within the cloned loop. All</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1530</td>
    <td class="">    // of the blocks within the loop must satisfy the same constraints as the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1531</td>
    <td class="">    // header so once we pass the header checks we can just clone the entire</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1532</td>
    <td class="">    // child loop nest.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1533</td>
    <td class="uncoveredLine">    for (Loop *ChildL : OrigL) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1534</td>
    <td class="">      auto *ClonedChildHeader =</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1535</td>
    <td class="uncoveredLine">          cast_or_null<BasicBlock>(VMap.lookup(ChildL->getHeader()));</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1536</td>
    <td class="uncoveredLine">      if (!ClonedChildHeader || !BlocksInClonedLoop.count(ClonedChildHeader))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1537</td>
    <td class="uncoveredLine">        continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1538</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1539</td>
    <td class="">#ifndef NDEBUG</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1540</td>
    <td class="">      // We should never have a cloned child loop header but fail to have</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1541</td>
    <td class="">      // all of the blocks for that child loop.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1542</td>
    <td class="uncoveredLine">      for (auto *ChildLoopBB : ChildL->blocks())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1543</td>
    <td class="uncoveredLine">        assert(BlocksInClonedLoop.count(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1544</td>
    <td class="">                   cast<BasicBlock>(VMap.lookup(ChildLoopBB))) &&</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1545</td>
    <td class="">               "Child cloned loop has a header within the cloned outer "</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1546</td>
    <td class="">               "loop but not all of its blocks!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1547</td>
    <td class="">#endif</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1548</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1549</td>
    <td class="uncoveredLine">      cloneLoopNest(*ChildL, ClonedL, VMap, LI);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1550</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1551</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1552</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1553</td>
    <td class="">  // Now that we've handled all the components of the original loop that were</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1554</td>
    <td class="">  // cloned into a new loop, we still need to handle anything from the original</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1555</td>
    <td class="">  // loop that wasn't in a cloned loop.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1556</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1557</td>
    <td class="">  // Figure out what blocks are left to place within any loop nest containing</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1558</td>
    <td class="">  // the unswitched loop. If we never formed a loop, the cloned PH is one of</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1559</td>
    <td class="">  // them.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1560</td>
    <td class="uncoveredLine">  SmallPtrSet<BasicBlock *, 16> UnloopedBlockSet;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1561</td>
    <td class="uncoveredLine">  if (BlocksInClonedLoop.empty())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1562</td>
    <td class="uncoveredLine">    UnloopedBlockSet.insert(ClonedPH);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1563</td>
    <td class="uncoveredLine">  for (auto *ClonedBB : ClonedLoopBlocks)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1564</td>
    <td class="uncoveredLine">    if (!BlocksInClonedLoop.count(ClonedBB))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1565</td>
    <td class="uncoveredLine">      UnloopedBlockSet.insert(ClonedBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1566</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1567</td>
    <td class="">  // Copy the cloned exits and sort them in ascending loop depth, we'll work</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1568</td>
    <td class="">  // backwards across these to process them inside out. The order shouldn't</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1569</td>
    <td class="">  // matter as we're just trying to build up the map from inside-out; we use</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1570</td>
    <td class="">  // the map in a more stably ordered way below.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1571</td>
    <td class="uncoveredLine">  auto OrderedClonedExitsInLoops = ClonedExitsInLoops;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1572</td>
    <td class="uncoveredLine">  llvm::sort(OrderedClonedExitsInLoops, [&](BasicBlock *LHS, BasicBlock *RHS) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1573</td>
    <td class="uncoveredLine">    return ExitLoopMap.lookup(LHS)->getLoopDepth() <</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1574</td>
    <td class="uncoveredLine">           ExitLoopMap.lookup(RHS)->getLoopDepth();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1575</td>
    <td class="">  });</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1576</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1577</td>
    <td class="">  // Populate the existing ExitLoopMap with everything reachable from each</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1578</td>
    <td class="">  // exit, starting from the inner most exit.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1579</td>
    <td class="uncoveredLine">  while (!UnloopedBlockSet.empty() && !OrderedClonedExitsInLoops.empty()) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1580</td>
    <td class="uncoveredLine">    assert(Worklist.empty() && "Didn't clear worklist!");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1581</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1582</td>
    <td class="uncoveredLine">    BasicBlock *ExitBB = OrderedClonedExitsInLoops.pop_back_val();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1583</td>
    <td class="uncoveredLine">    Loop *ExitL = ExitLoopMap.lookup(ExitBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1584</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1585</td>
    <td class="">    // Walk the CFG back until we hit the cloned PH adding everything reachable</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1586</td>
    <td class="">    // and in the unlooped set to this exit block's loop.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1587</td>
    <td class="uncoveredLine">    Worklist.push_back(ExitBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1588</td>
    <td class="">    do {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1589</td>
    <td class="uncoveredLine">      BasicBlock *BB = Worklist.pop_back_val();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1590</td>
    <td class="">      // We can stop recursing at the cloned preheader (if we get there).</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1591</td>
    <td class="uncoveredLine">      if (BB == ClonedPH)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1592</td>
    <td class="uncoveredLine">        continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1593</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1594</td>
    <td class="uncoveredLine">      for (BasicBlock *PredBB : predecessors(BB)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1595</td>
    <td class="">        // If this pred has already been moved to our set or is part of some</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1596</td>
    <td class="">        // (inner) loop, no update needed.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1597</td>
    <td class="uncoveredLine">        if (!UnloopedBlockSet.erase(PredBB)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1598</td>
    <td class="uncoveredLine">          assert(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1599</td>
    <td class="">              (BlocksInClonedLoop.count(PredBB) || ExitLoopMap.count(PredBB)) &&</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1600</td>
    <td class="">              "Predecessor not mapped to a loop!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1601</td>
    <td class="uncoveredLine">          continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1602</td>
    <td class="">        }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1603</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1604</td>
    <td class="">        // We just insert into the loop set here. We'll add these blocks to the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1605</td>
    <td class="">        // exit loop after we build up the set in an order that doesn't rely on</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1606</td>
    <td class="">        // predecessor order (which in turn relies on use list order).</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1607</td>
    <td class="uncoveredLine">        bool Inserted = ExitLoopMap.insert({PredBB, ExitL}).second;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1608</td>
    <td class="">        (void)Inserted;</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1609</td>
    <td class="uncoveredLine">        assert(Inserted && "Should only visit an unlooped block once!");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1610</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1611</td>
    <td class="">        // And recurse through to its predecessors.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1612</td>
    <td class="uncoveredLine">        Worklist.push_back(PredBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1613</td>
    <td class="">      }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1614</td>
    <td class="uncoveredLine">    } while (!Worklist.empty());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1615</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1616</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1617</td>
    <td class="">  // Now that the ExitLoopMap gives as  mapping for all the non-looping cloned</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1618</td>
    <td class="">  // blocks to their outer loops, walk the cloned blocks and the cloned exits</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1619</td>
    <td class="">  // in their original order adding them to the correct loop.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1620</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1621</td>
    <td class="">  // We need a stable insertion order. We use the order of the original loop</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1622</td>
    <td class="">  // order and map into the correct parent loop.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1623</td>
    <td class="uncoveredLine">  for (auto *BB : llvm::concat<BasicBlock *const>(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1624</td>
    <td class="uncoveredLine">           ArrayRef(ClonedPH), ClonedLoopBlocks, ClonedExitsInLoops))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1625</td>
    <td class="uncoveredLine">    if (Loop *OuterL = ExitLoopMap.lookup(BB))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1626</td>
    <td class="uncoveredLine">      OuterL->addBasicBlockToLoop(BB, LI);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1627</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1628</td>
    <td class="">#ifndef NDEBUG</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1629</td>
    <td class="uncoveredLine">  for (auto &BBAndL : ExitLoopMap) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1630</td>
    <td class="uncoveredLine">    auto *BB = BBAndL.first;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1631</td>
    <td class="uncoveredLine">    auto *OuterL = BBAndL.second;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1632</td>
    <td class="uncoveredLine">    assert(LI.getLoopFor(BB) == OuterL &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1633</td>
    <td class="">           "Failed to put all blocks into outer loops!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1634</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1635</td>
    <td class="">#endif</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1636</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1637</td>
    <td class="">  // Now that all the blocks are placed into the correct containing loop in the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1638</td>
    <td class="">  // absence of child loops, find all the potentially cloned child loops and</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1639</td>
    <td class="">  // clone them into whatever outer loop we placed their header into.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1640</td>
    <td class="uncoveredLine">  for (Loop *ChildL : OrigL) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1641</td>
    <td class="">    auto *ClonedChildHeader =</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1642</td>
    <td class="uncoveredLine">        cast_or_null<BasicBlock>(VMap.lookup(ChildL->getHeader()));</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1643</td>
    <td class="uncoveredLine">    if (!ClonedChildHeader || BlocksInClonedLoop.count(ClonedChildHeader))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1644</td>
    <td class="uncoveredLine">      continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1645</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1646</td>
    <td class="">#ifndef NDEBUG</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1647</td>
    <td class="uncoveredLine">    for (auto *ChildLoopBB : ChildL->blocks())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1648</td>
    <td class="uncoveredLine">      assert(VMap.count(ChildLoopBB) &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1649</td>
    <td class="">             "Cloned a child loop header but not all of that loops blocks!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1650</td>
    <td class="">#endif</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1651</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1652</td>
    <td class="uncoveredLine">    NonChildClonedLoops.push_back(cloneLoopNest(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1653</td>
    <td class="">        *ChildL, ExitLoopMap.lookup(ClonedChildHeader), VMap, LI));</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1654</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1655</td>
    <td class="uncoveredLine">}</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1656</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1657</td>
    <td class="">static void</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1658</td>
    <td class="uncoveredLine">deleteDeadClonedBlocks(Loop &L, ArrayRef<BasicBlock *> ExitBlocks,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1659</td>
    <td class="">                       ArrayRef<std::unique_ptr<ValueToValueMapTy>> VMaps,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1660</td>
    <td class="">                       DominatorTree &DT, MemorySSAUpdater *MSSAU) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1661</td>
    <td class="">  // Find all the dead clones, and remove them from their successors.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1662</td>
    <td class="uncoveredLine">  SmallVector<BasicBlock *, 16> DeadBlocks;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1663</td>
    <td class="uncoveredLine">  for (BasicBlock *BB : llvm::concat<BasicBlock *const>(L.blocks(), ExitBlocks))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1664</td>
    <td class="uncoveredLine">    for (const auto &VMap : VMaps)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1665</td>
    <td class="uncoveredLine">      if (BasicBlock *ClonedBB = cast_or_null<BasicBlock>(VMap->lookup(BB)))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1666</td>
    <td class="uncoveredLine">        if (!DT.isReachableFromEntry(ClonedBB)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1667</td>
    <td class="uncoveredLine">          for (BasicBlock *SuccBB : successors(ClonedBB))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1668</td>
    <td class="uncoveredLine">            SuccBB->removePredecessor(ClonedBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1669</td>
    <td class="uncoveredLine">          DeadBlocks.push_back(ClonedBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1670</td>
    <td class="">        }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1671</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1672</td>
    <td class="">  // Remove all MemorySSA in the dead blocks</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1673</td>
    <td class="uncoveredLine">  if (MSSAU) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1674</td>
    <td class="">    SmallSetVector<BasicBlock *, 8> DeadBlockSet(DeadBlocks.begin(),</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1675</td>
    <td class="uncoveredLine">                                                 DeadBlocks.end());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1676</td>
    <td class="uncoveredLine">    MSSAU->removeBlocks(DeadBlockSet);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1677</td>
    <td class="uncoveredLine">  }</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1678</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1679</td>
    <td class="">  // Drop any remaining references to break cycles.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1680</td>
    <td class="uncoveredLine">  for (BasicBlock *BB : DeadBlocks)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1681</td>
    <td class="uncoveredLine">    BB->dropAllReferences();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1682</td>
    <td class="">  // Erase them from the IR.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1683</td>
    <td class="uncoveredLine">  for (BasicBlock *BB : DeadBlocks)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1684</td>
    <td class="uncoveredLine">    BB->eraseFromParent();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1685</td>
    <td class="uncoveredLine">}</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1686</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1687</td>
    <td class="">static void</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1688</td>
    <td class="uncoveredLine">deleteDeadBlocksFromLoop(Loop &L,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1689</td>
    <td class="">                         SmallVectorImpl<BasicBlock *> &ExitBlocks,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1690</td>
    <td class="">                         DominatorTree &DT, LoopInfo &LI,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1691</td>
    <td class="">                         MemorySSAUpdater *MSSAU,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1692</td>
    <td class="">                         ScalarEvolution *SE,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1693</td>
    <td class="">                         function_ref<void(Loop &, StringRef)> DestroyLoopCB) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1694</td>
    <td class="">  // Find all the dead blocks tied to this loop, and remove them from their</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1695</td>
    <td class="">  // successors.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1696</td>
    <td class="uncoveredLine">  SmallSetVector<BasicBlock *, 8> DeadBlockSet;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1697</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1698</td>
    <td class="">  // Start with loop/exit blocks and get a transitive closure of reachable dead</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1699</td>
    <td class="">  // blocks.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1700</td>
    <td class="">  SmallVector<BasicBlock *, 16> DeathCandidates(ExitBlocks.begin(),</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1701</td>
    <td class="uncoveredLine">                                                ExitBlocks.end());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1702</td>
    <td class="uncoveredLine">  DeathCandidates.append(L.blocks().begin(), L.blocks().end());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1703</td>
    <td class="uncoveredLine">  while (!DeathCandidates.empty()) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1704</td>
    <td class="uncoveredLine">    auto *BB = DeathCandidates.pop_back_val();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1705</td>
    <td class="uncoveredLine">    if (!DeadBlockSet.count(BB) && !DT.isReachableFromEntry(BB)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1706</td>
    <td class="uncoveredLine">      for (BasicBlock *SuccBB : successors(BB)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1707</td>
    <td class="uncoveredLine">        SuccBB->removePredecessor(BB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1708</td>
    <td class="uncoveredLine">        DeathCandidates.push_back(SuccBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1709</td>
    <td class="">      }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1710</td>
    <td class="uncoveredLine">      DeadBlockSet.insert(BB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1711</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1712</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1713</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1714</td>
    <td class="">  // Remove all MemorySSA in the dead blocks</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1715</td>
    <td class="uncoveredLine">  if (MSSAU)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1716</td>
    <td class="uncoveredLine">    MSSAU->removeBlocks(DeadBlockSet);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1717</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1718</td>
    <td class="">  // Filter out the dead blocks from the exit blocks list so that it can be</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1719</td>
    <td class="">  // used in the caller.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1720</td>
    <td class="uncoveredLine">  llvm::erase_if(ExitBlocks,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1721</td>
    <td class="uncoveredLine">                 [&](BasicBlock *BB) { return DeadBlockSet.count(BB); });</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1722</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1723</td>
    <td class="">  // Walk from this loop up through its parents removing all of the dead blocks.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1724</td>
    <td class="uncoveredLine">  for (Loop *ParentL = &L; ParentL; ParentL = ParentL->getParentLoop()) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1725</td>
    <td class="uncoveredLine">    for (auto *BB : DeadBlockSet)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1726</td>
    <td class="uncoveredLine">      ParentL->getBlocksSet().erase(BB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1727</td>
    <td class="uncoveredLine">    llvm::erase_if(ParentL->getBlocksVector(),</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1728</td>
    <td class="uncoveredLine">                   [&](BasicBlock *BB) { return DeadBlockSet.count(BB); });</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1729</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1730</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1731</td>
    <td class="">  // Now delete the dead child loops. This raw delete will clear them</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1732</td>
    <td class="">  // recursively.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1733</td>
    <td class="uncoveredLine">  llvm::erase_if(L.getSubLoopsVector(), [&](Loop *ChildL) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1734</td>
    <td class="uncoveredLine">    if (!DeadBlockSet.count(ChildL->getHeader()))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1735</td>
    <td class="uncoveredLine">      return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1736</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1737</td>
    <td class="uncoveredLine">    assert(llvm::all_of(ChildL->blocks(),</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1738</td>
    <td class="">                        [&](BasicBlock *ChildBB) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1739</td>
    <td class="">                          return DeadBlockSet.count(ChildBB);</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1740</td>
    <td class="">                        }) &&</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1741</td>
    <td class="">           "If the child loop header is dead all blocks in the child loop must "</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1742</td>
    <td class="">           "be dead as well!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1743</td>
    <td class="uncoveredLine">    DestroyLoopCB(*ChildL, ChildL->getName());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1744</td>
    <td class="uncoveredLine">    if (SE)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1745</td>
    <td class="uncoveredLine">      SE->forgetBlockAndLoopDispositions();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1746</td>
    <td class="uncoveredLine">    LI.destroy(ChildL);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1747</td>
    <td class="uncoveredLine">    return true;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1748</td>
    <td class="">  });</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1749</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1750</td>
    <td class="">  // Remove the loop mappings for the dead blocks and drop all the references</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1751</td>
    <td class="">  // from these blocks to others to handle cyclic references as we start</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1752</td>
    <td class="">  // deleting the blocks themselves.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1753</td>
    <td class="uncoveredLine">  for (auto *BB : DeadBlockSet) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1754</td>
    <td class="">    // Check that the dominator tree has already been updated.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1755</td>
    <td class="uncoveredLine">    assert(!DT.getNode(BB) && "Should already have cleared domtree!");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1756</td>
    <td class="uncoveredLine">    LI.changeLoopFor(BB, nullptr);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1757</td>
    <td class="">    // Drop all uses of the instructions to make sure we won't have dangling</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1758</td>
    <td class="">    // uses in other blocks.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1759</td>
    <td class="uncoveredLine">    for (auto &I : *BB)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1760</td>
    <td class="uncoveredLine">      if (!I.use_empty())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1761</td>
    <td class="uncoveredLine">        I.replaceAllUsesWith(PoisonValue::get(I.getType()));</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1762</td>
    <td class="uncoveredLine">    BB->dropAllReferences();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1763</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1764</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1765</td>
    <td class="">  // Actually delete the blocks now that they've been fully unhooked from the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1766</td>
    <td class="">  // IR.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1767</td>
    <td class="uncoveredLine">  for (auto *BB : DeadBlockSet)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1768</td>
    <td class="uncoveredLine">    BB->eraseFromParent();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1769</td>
    <td class="uncoveredLine">}</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1770</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1771</td>
    <td class="">/// Recompute the set of blocks in a loop after unswitching.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1772</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1773</td>
    <td class="">/// This walks from the original headers predecessors to rebuild the loop. We</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1774</td>
    <td class="">/// take advantage of the fact that new blocks can't have been added, and so we</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1775</td>
    <td class="">/// filter by the original loop's blocks. This also handles potentially</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1776</td>
    <td class="">/// unreachable code that we don't want to explore but might be found examining</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1777</td>
    <td class="">/// the predecessors of the header.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1778</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1779</td>
    <td class="">/// If the original loop is no longer a loop, this will return an empty set. If</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1780</td>
    <td class="">/// it remains a loop, all the blocks within it will be added to the set</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1781</td>
    <td class="">/// (including those blocks in inner loops).</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1782</td>
    <td class="uncoveredLine">static SmallPtrSet<const BasicBlock *, 16> recomputeLoopBlockSet(Loop &L,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1783</td>
    <td class="">                                                                 LoopInfo &LI) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1784</td>
    <td class="uncoveredLine">  SmallPtrSet<const BasicBlock *, 16> LoopBlockSet;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1785</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1786</td>
    <td class="uncoveredLine">  auto *PH = L.getLoopPreheader();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1787</td>
    <td class="uncoveredLine">  auto *Header = L.getHeader();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1788</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1789</td>
    <td class="">  // A worklist to use while walking backwards from the header.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1790</td>
    <td class="uncoveredLine">  SmallVector<BasicBlock *, 16> Worklist;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1791</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1792</td>
    <td class="">  // First walk the predecessors of the header to find the backedges. This will</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1793</td>
    <td class="">  // form the basis of our walk.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1794</td>
    <td class="uncoveredLine">  for (auto *Pred : predecessors(Header)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1795</td>
    <td class="">    // Skip the preheader.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1796</td>
    <td class="uncoveredLine">    if (Pred == PH)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1797</td>
    <td class="uncoveredLine">      continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1798</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1799</td>
    <td class="">    // Because the loop was in simplified form, the only non-loop predecessor</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1800</td>
    <td class="">    // is the preheader.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1801</td>
    <td class="uncoveredLine">    assert(L.contains(Pred) && "Found a predecessor of the loop header other "</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1802</td>
    <td class="">                               "than the preheader that is not part of the "</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1803</td>
    <td class="">                               "loop!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1804</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1805</td>
    <td class="">    // Insert this block into the loop set and on the first visit and, if it</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1806</td>
    <td class="">    // isn't the header we're currently walking, put it into the worklist to</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1807</td>
    <td class="">    // recurse through.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1808</td>
    <td class="uncoveredLine">    if (LoopBlockSet.insert(Pred).second && Pred != Header)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1809</td>
    <td class="uncoveredLine">      Worklist.push_back(Pred);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1810</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1811</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1812</td>
    <td class="">  // If no backedges were found, we're done.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1813</td>
    <td class="uncoveredLine">  if (LoopBlockSet.empty())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1814</td>
    <td class="uncoveredLine">    return LoopBlockSet;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1815</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1816</td>
    <td class="">  // We found backedges, recurse through them to identify the loop blocks.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1817</td>
    <td class="uncoveredLine">  while (!Worklist.empty()) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1818</td>
    <td class="uncoveredLine">    BasicBlock *BB = Worklist.pop_back_val();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1819</td>
    <td class="uncoveredLine">    assert(LoopBlockSet.count(BB) && "Didn't put block into the loop set!");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1820</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1821</td>
    <td class="">    // No need to walk past the header.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1822</td>
    <td class="uncoveredLine">    if (BB == Header)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1823</td>
    <td class="uncoveredLine">      continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1824</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1825</td>
    <td class="">    // Because we know the inner loop structure remains valid we can use the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1826</td>
    <td class="">    // loop structure to jump immediately across the entire nested loop.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1827</td>
    <td class="">    // Further, because it is in loop simplified form, we can directly jump</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1828</td>
    <td class="">    // to its preheader afterward.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1829</td>
    <td class="uncoveredLine">    if (Loop *InnerL = LI.getLoopFor(BB))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1830</td>
    <td class="uncoveredLine">      if (InnerL != &L) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1831</td>
    <td class="uncoveredLine">        assert(L.contains(InnerL) &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1832</td>
    <td class="">               "Should not reach a loop *outside* this loop!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1833</td>
    <td class="">        // The preheader is the only possible predecessor of the loop so</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1834</td>
    <td class="">        // insert it into the set and check whether it was already handled.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1835</td>
    <td class="uncoveredLine">        auto *InnerPH = InnerL->getLoopPreheader();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1836</td>
    <td class="uncoveredLine">        assert(L.contains(InnerPH) && "Cannot contain an inner loop block "</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1837</td>
    <td class="">                                      "but not contain the inner loop "</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1838</td>
    <td class="">                                      "preheader!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1839</td>
    <td class="uncoveredLine">        if (!LoopBlockSet.insert(InnerPH).second)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1840</td>
    <td class="">          // The only way to reach the preheader is through the loop body</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1841</td>
    <td class="">          // itself so if it has been visited the loop is already handled.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1842</td>
    <td class="uncoveredLine">          continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1843</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1844</td>
    <td class="">        // Insert all of the blocks (other than those already present) into</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1845</td>
    <td class="">        // the loop set. We expect at least the block that led us to find the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1846</td>
    <td class="">        // inner loop to be in the block set, but we may also have other loop</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1847</td>
    <td class="">        // blocks if they were already enqueued as predecessors of some other</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1848</td>
    <td class="">        // outer loop block.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1849</td>
    <td class="uncoveredLine">        for (auto *InnerBB : InnerL->blocks()) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1850</td>
    <td class="uncoveredLine">          if (InnerBB == BB) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1851</td>
    <td class="uncoveredLine">            assert(LoopBlockSet.count(InnerBB) &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1852</td>
    <td class="">                   "Block should already be in the set!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1853</td>
    <td class="uncoveredLine">            continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1854</td>
    <td class="">          }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1855</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1856</td>
    <td class="uncoveredLine">          LoopBlockSet.insert(InnerBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1857</td>
    <td class="">        }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1858</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1859</td>
    <td class="">        // Add the preheader to the worklist so we will continue past the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1860</td>
    <td class="">        // loop body.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1861</td>
    <td class="uncoveredLine">        Worklist.push_back(InnerPH);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1862</td>
    <td class="uncoveredLine">        continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1863</td>
    <td class="uncoveredLine">      }</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1864</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1865</td>
    <td class="">    // Insert any predecessors that were in the original loop into the new</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1866</td>
    <td class="">    // set, and if the insert is successful, add them to the worklist.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1867</td>
    <td class="uncoveredLine">    for (auto *Pred : predecessors(BB))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1868</td>
    <td class="uncoveredLine">      if (L.contains(Pred) && LoopBlockSet.insert(Pred).second)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1869</td>
    <td class="uncoveredLine">        Worklist.push_back(Pred);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1870</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1871</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1872</td>
    <td class="uncoveredLine">  assert(LoopBlockSet.count(Header) && "Cannot fail to add the header!");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1873</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1874</td>
    <td class="">  // We've found all the blocks participating in the loop, return our completed</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1875</td>
    <td class="">  // set.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1876</td>
    <td class="uncoveredLine">  return LoopBlockSet;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1877</td>
    <td class="uncoveredLine">}</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1878</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1879</td>
    <td class="">/// Rebuild a loop after unswitching removes some subset of blocks and edges.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1880</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1881</td>
    <td class="">/// The removal may have removed some child loops entirely but cannot have</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1882</td>
    <td class="">/// disturbed any remaining child loops. However, they may need to be hoisted</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1883</td>
    <td class="">/// to the parent loop (or to be top-level loops). The original loop may be</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1884</td>
    <td class="">/// completely removed.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1885</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1886</td>
    <td class="">/// The sibling loops resulting from this update are returned. If the original</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1887</td>
    <td class="">/// loop remains a valid loop, it will be the first entry in this list with all</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1888</td>
    <td class="">/// of the newly sibling loops following it.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1889</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1890</td>
    <td class="">/// Returns true if the loop remains a loop after unswitching, and false if it</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1891</td>
    <td class="">/// is no longer a loop after unswitching (and should not continue to be</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1892</td>
    <td class="">/// referenced).</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1893</td>
    <td class="uncoveredLine">static bool rebuildLoopAfterUnswitch(Loop &L, ArrayRef<BasicBlock *> ExitBlocks,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1894</td>
    <td class="">                                     LoopInfo &LI,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1895</td>
    <td class="">                                     SmallVectorImpl<Loop *> &HoistedLoops,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1896</td>
    <td class="">                                     ScalarEvolution *SE) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1897</td>
    <td class="uncoveredLine">  auto *PH = L.getLoopPreheader();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1898</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1899</td>
    <td class="">  // Compute the actual parent loop from the exit blocks. Because we may have</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1900</td>
    <td class="">  // pruned some exits the loop may be different from the original parent.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1901</td>
    <td class="uncoveredLine">  Loop *ParentL = nullptr;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1902</td>
    <td class="uncoveredLine">  SmallVector<Loop *, 4> ExitLoops;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1903</td>
    <td class="uncoveredLine">  SmallVector<BasicBlock *, 4> ExitsInLoops;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1904</td>
    <td class="uncoveredLine">  ExitsInLoops.reserve(ExitBlocks.size());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1905</td>
    <td class="uncoveredLine">  for (auto *ExitBB : ExitBlocks)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1906</td>
    <td class="uncoveredLine">    if (Loop *ExitL = LI.getLoopFor(ExitBB)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1907</td>
    <td class="uncoveredLine">      ExitLoops.push_back(ExitL);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1908</td>
    <td class="uncoveredLine">      ExitsInLoops.push_back(ExitBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1909</td>
    <td class="uncoveredLine">      if (!ParentL || (ParentL != ExitL && ParentL->contains(ExitL)))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1910</td>
    <td class="uncoveredLine">        ParentL = ExitL;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1911</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1912</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1913</td>
    <td class="">  // Recompute the blocks participating in this loop. This may be empty if it</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1914</td>
    <td class="">  // is no longer a loop.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1915</td>
    <td class="uncoveredLine">  auto LoopBlockSet = recomputeLoopBlockSet(L, LI);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1916</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1917</td>
    <td class="">  // If we still have a loop, we need to re-set the loop's parent as the exit</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1918</td>
    <td class="">  // block set changing may have moved it within the loop nest. Note that this</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1919</td>
    <td class="">  // can only happen when this loop has a parent as it can only hoist the loop</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1920</td>
    <td class="">  // *up* the nest.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1921</td>
    <td class="uncoveredLine">  if (!LoopBlockSet.empty() && L.getParentLoop() != ParentL) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1922</td>
    <td class="">    // Remove this loop's (original) blocks from all of the intervening loops.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1923</td>
    <td class="uncoveredLine">    for (Loop *IL = L.getParentLoop(); IL != ParentL;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1924</td>
    <td class="uncoveredLine">         IL = IL->getParentLoop()) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1925</td>
    <td class="uncoveredLine">      IL->getBlocksSet().erase(PH);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1926</td>
    <td class="uncoveredLine">      for (auto *BB : L.blocks())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1927</td>
    <td class="uncoveredLine">        IL->getBlocksSet().erase(BB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1928</td>
    <td class="uncoveredLine">      llvm::erase_if(IL->getBlocksVector(), [&](BasicBlock *BB) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1929</td>
    <td class="uncoveredLine">        return BB == PH || L.contains(BB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1930</td>
    <td class="">      });</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1931</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1932</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1933</td>
    <td class="uncoveredLine">    LI.changeLoopFor(PH, ParentL);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1934</td>
    <td class="uncoveredLine">    L.getParentLoop()->removeChildLoop(&L);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1935</td>
    <td class="uncoveredLine">    if (ParentL)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1936</td>
    <td class="uncoveredLine">      ParentL->addChildLoop(&L);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1937</td>
    <td class="">    else</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1938</td>
    <td class="uncoveredLine">      LI.addTopLevelLoop(&L);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1939</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1940</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1941</td>
    <td class="">  // Now we update all the blocks which are no longer within the loop.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1942</td>
    <td class="uncoveredLine">  auto &Blocks = L.getBlocksVector();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1943</td>
    <td class="">  auto BlocksSplitI =</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1944</td>
    <td class="uncoveredLine">      LoopBlockSet.empty()</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1945</td>
    <td class="uncoveredLine">          ? Blocks.begin()</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1946</td>
    <td class="uncoveredLine">          : std::stable_partition(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1947</td>
    <td class="">                Blocks.begin(), Blocks.end(),</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1948</td>
    <td class="uncoveredLine">                [&](BasicBlock *BB) { return LoopBlockSet.count(BB); });</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1949</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1950</td>
    <td class="">  // Before we erase the list of unlooped blocks, build a set of them.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1951</td>
    <td class="uncoveredLine">  SmallPtrSet<BasicBlock *, 16> UnloopedBlocks(BlocksSplitI, Blocks.end());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1952</td>
    <td class="uncoveredLine">  if (LoopBlockSet.empty())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1953</td>
    <td class="uncoveredLine">    UnloopedBlocks.insert(PH);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1954</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1955</td>
    <td class="">  // Now erase these blocks from the loop.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1956</td>
    <td class="uncoveredLine">  for (auto *BB : make_range(BlocksSplitI, Blocks.end()))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1957</td>
    <td class="uncoveredLine">    L.getBlocksSet().erase(BB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1958</td>
    <td class="uncoveredLine">  Blocks.erase(BlocksSplitI, Blocks.end());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1959</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1960</td>
    <td class="">  // Sort the exits in ascending loop depth, we'll work backwards across these</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1961</td>
    <td class="">  // to process them inside out.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1962</td>
    <td class="uncoveredLine">  llvm::stable_sort(ExitsInLoops, [&](BasicBlock *LHS, BasicBlock *RHS) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1963</td>
    <td class="uncoveredLine">    return LI.getLoopDepth(LHS) < LI.getLoopDepth(RHS);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1964</td>
    <td class="">  });</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1965</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1966</td>
    <td class="">  // We'll build up a set for each exit loop.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1967</td>
    <td class="uncoveredLine">  SmallPtrSet<BasicBlock *, 16> NewExitLoopBlocks;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1968</td>
    <td class="uncoveredLine">  Loop *PrevExitL = L.getParentLoop(); // The deepest possible exit loop.</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1969</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1970</td>
    <td class="">  auto RemoveUnloopedBlocksFromLoop =</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1971</td>
    <td class="uncoveredLine">      [](Loop &L, SmallPtrSetImpl<BasicBlock *> &UnloopedBlocks) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1972</td>
    <td class="uncoveredLine">        for (auto *BB : UnloopedBlocks)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1973</td>
    <td class="uncoveredLine">          L.getBlocksSet().erase(BB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1974</td>
    <td class="uncoveredLine">        llvm::erase_if(L.getBlocksVector(), [&](BasicBlock *BB) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1975</td>
    <td class="uncoveredLine">          return UnloopedBlocks.count(BB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1976</td>
    <td class="">        });</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1977</td>
    <td class="uncoveredLine">      };</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1978</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1979</td>
    <td class="uncoveredLine">  SmallVector<BasicBlock *, 16> Worklist;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1980</td>
    <td class="uncoveredLine">  while (!UnloopedBlocks.empty() && !ExitsInLoops.empty()) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1981</td>
    <td class="uncoveredLine">    assert(Worklist.empty() && "Didn't clear worklist!");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1982</td>
    <td class="uncoveredLine">    assert(NewExitLoopBlocks.empty() && "Didn't clear loop set!");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1983</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1984</td>
    <td class="">    // Grab the next exit block, in decreasing loop depth order.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1985</td>
    <td class="uncoveredLine">    BasicBlock *ExitBB = ExitsInLoops.pop_back_val();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1986</td>
    <td class="uncoveredLine">    Loop &ExitL = *LI.getLoopFor(ExitBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1987</td>
    <td class="uncoveredLine">    assert(ExitL.contains(&L) && "Exit loop must contain the inner loop!");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1988</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1989</td>
    <td class="">    // Erase all of the unlooped blocks from the loops between the previous</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1990</td>
    <td class="">    // exit loop and this exit loop. This works because the ExitInLoops list is</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1991</td>
    <td class="">    // sorted in increasing order of loop depth and thus we visit loops in</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1992</td>
    <td class="">    // decreasing order of loop depth.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1993</td>
    <td class="uncoveredLine">    for (; PrevExitL != &ExitL; PrevExitL = PrevExitL->getParentLoop())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1994</td>
    <td class="uncoveredLine">      RemoveUnloopedBlocksFromLoop(*PrevExitL, UnloopedBlocks);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1995</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1996</td>
    <td class="">    // Walk the CFG back until we hit the cloned PH adding everything reachable</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1997</td>
    <td class="">    // and in the unlooped set to this exit block's loop.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1998</td>
    <td class="uncoveredLine">    Worklist.push_back(ExitBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1999</td>
    <td class="">    do {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2000</td>
    <td class="uncoveredLine">      BasicBlock *BB = Worklist.pop_back_val();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2001</td>
    <td class="">      // We can stop recursing at the cloned preheader (if we get there).</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2002</td>
    <td class="uncoveredLine">      if (BB == PH)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2003</td>
    <td class="uncoveredLine">        continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2004</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2005</td>
    <td class="uncoveredLine">      for (BasicBlock *PredBB : predecessors(BB)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2006</td>
    <td class="">        // If this pred has already been moved to our set or is part of some</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2007</td>
    <td class="">        // (inner) loop, no update needed.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2008</td>
    <td class="uncoveredLine">        if (!UnloopedBlocks.erase(PredBB)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2009</td>
    <td class="uncoveredLine">          assert((NewExitLoopBlocks.count(PredBB) ||</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2010</td>
    <td class="">                  ExitL.contains(LI.getLoopFor(PredBB))) &&</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2011</td>
    <td class="">                 "Predecessor not in a nested loop (or already visited)!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2012</td>
    <td class="uncoveredLine">          continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2013</td>
    <td class="">        }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2014</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2015</td>
    <td class="">        // We just insert into the loop set here. We'll add these blocks to the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2016</td>
    <td class="">        // exit loop after we build up the set in a deterministic order rather</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2017</td>
    <td class="">        // than the predecessor-influenced visit order.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2018</td>
    <td class="uncoveredLine">        bool Inserted = NewExitLoopBlocks.insert(PredBB).second;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2019</td>
    <td class="">        (void)Inserted;</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2020</td>
    <td class="uncoveredLine">        assert(Inserted && "Should only visit an unlooped block once!");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2021</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2022</td>
    <td class="">        // And recurse through to its predecessors.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2023</td>
    <td class="uncoveredLine">        Worklist.push_back(PredBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2024</td>
    <td class="">      }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2025</td>
    <td class="uncoveredLine">    } while (!Worklist.empty());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2026</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2027</td>
    <td class="">    // If blocks in this exit loop were directly part of the original loop (as</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2028</td>
    <td class="">    // opposed to a child loop) update the map to point to this exit loop. This</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2029</td>
    <td class="">    // just updates a map and so the fact that the order is unstable is fine.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2030</td>
    <td class="uncoveredLine">    for (auto *BB : NewExitLoopBlocks)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2031</td>
    <td class="uncoveredLine">      if (Loop *BBL = LI.getLoopFor(BB))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2032</td>
    <td class="uncoveredLine">        if (BBL == &L || !L.contains(BBL))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2033</td>
    <td class="uncoveredLine">          LI.changeLoopFor(BB, &ExitL);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2034</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2035</td>
    <td class="">    // We will remove the remaining unlooped blocks from this loop in the next</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2036</td>
    <td class="">    // iteration or below.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2037</td>
    <td class="uncoveredLine">    NewExitLoopBlocks.clear();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2038</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2039</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2040</td>
    <td class="">  // Any remaining unlooped blocks are no longer part of any loop unless they</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2041</td>
    <td class="">  // are part of some child loop.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2042</td>
    <td class="uncoveredLine">  for (; PrevExitL; PrevExitL = PrevExitL->getParentLoop())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2043</td>
    <td class="uncoveredLine">    RemoveUnloopedBlocksFromLoop(*PrevExitL, UnloopedBlocks);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2044</td>
    <td class="uncoveredLine">  for (auto *BB : UnloopedBlocks)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2045</td>
    <td class="uncoveredLine">    if (Loop *BBL = LI.getLoopFor(BB))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2046</td>
    <td class="uncoveredLine">      if (BBL == &L || !L.contains(BBL))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2047</td>
    <td class="uncoveredLine">        LI.changeLoopFor(BB, nullptr);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2048</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2049</td>
    <td class="">  // Sink all the child loops whose headers are no longer in the loop set to</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2050</td>
    <td class="">  // the parent (or to be top level loops). We reach into the loop and directly</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2051</td>
    <td class="">  // update its subloop vector to make this batch update efficient.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2052</td>
    <td class="uncoveredLine">  auto &SubLoops = L.getSubLoopsVector();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2053</td>
    <td class="">  auto SubLoopsSplitI =</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2054</td>
    <td class="uncoveredLine">      LoopBlockSet.empty()</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2055</td>
    <td class="uncoveredLine">          ? SubLoops.begin()</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2056</td>
    <td class="uncoveredLine">          : std::stable_partition(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2057</td>
    <td class="uncoveredLine">                SubLoops.begin(), SubLoops.end(), [&](Loop *SubL) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2058</td>
    <td class="uncoveredLine">                  return LoopBlockSet.count(SubL->getHeader());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2059</td>
    <td class="uncoveredLine">                });</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2060</td>
    <td class="uncoveredLine">  for (auto *HoistedL : make_range(SubLoopsSplitI, SubLoops.end())) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2061</td>
    <td class="uncoveredLine">    HoistedLoops.push_back(HoistedL);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2062</td>
    <td class="uncoveredLine">    HoistedL->setParentLoop(nullptr);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2063</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2064</td>
    <td class="">    // To compute the new parent of this hoisted loop we look at where we</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2065</td>
    <td class="">    // placed the preheader above. We can't lookup the header itself because we</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2066</td>
    <td class="">    // retained the mapping from the header to the hoisted loop. But the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2067</td>
    <td class="">    // preheader and header should have the exact same new parent computed</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2068</td>
    <td class="">    // based on the set of exit blocks from the original loop as the preheader</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2069</td>
    <td class="">    // is a predecessor of the header and so reached in the reverse walk. And</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2070</td>
    <td class="">    // because the loops were all in simplified form the preheader of the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2071</td>
    <td class="">    // hoisted loop can't be part of some *other* loop.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2072</td>
    <td class="uncoveredLine">    if (auto *NewParentL = LI.getLoopFor(HoistedL->getLoopPreheader()))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2073</td>
    <td class="uncoveredLine">      NewParentL->addChildLoop(HoistedL);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2074</td>
    <td class="">    else</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2075</td>
    <td class="uncoveredLine">      LI.addTopLevelLoop(HoistedL);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2076</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2077</td>
    <td class="uncoveredLine">  SubLoops.erase(SubLoopsSplitI, SubLoops.end());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2078</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2079</td>
    <td class="">  // Actually delete the loop if nothing remained within it.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2080</td>
    <td class="uncoveredLine">  if (Blocks.empty()) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2081</td>
    <td class="uncoveredLine">    assert(SubLoops.empty() &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2082</td>
    <td class="">           "Failed to remove all subloops from the original loop!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2083</td>
    <td class="uncoveredLine">    if (Loop *ParentL = L.getParentLoop())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2084</td>
    <td class="uncoveredLine">      ParentL->removeChildLoop(llvm::find(*ParentL, &L));</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2085</td>
    <td class="">    else</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2086</td>
    <td class="uncoveredLine">      LI.removeLoop(llvm::find(LI, &L));</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2087</td>
    <td class="">    // markLoopAsDeleted for L should be triggered by the caller (it is typically</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2088</td>
    <td class="">    // done by using the UnswitchCB callback).</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2089</td>
    <td class="uncoveredLine">    if (SE)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2090</td>
    <td class="uncoveredLine">      SE->forgetBlockAndLoopDispositions();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2091</td>
    <td class="uncoveredLine">    LI.destroy(&L);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2092</td>
    <td class="uncoveredLine">    return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2093</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2094</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2095</td>
    <td class="uncoveredLine">  return true;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2096</td>
    <td class="uncoveredLine">}</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2097</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2098</td>
    <td class="">/// Helper to visit a dominator subtree, invoking a callable on each node.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2099</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2100</td>
    <td class="">/// Returning false at any point will stop walking past that node of the tree.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2101</td>
    <td class="">template <typename CallableT></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2102</td>
    <td class="uncoveredLine">void visitDomSubTree(DominatorTree &DT, BasicBlock *BB, CallableT Callable) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2103</td>
    <td class="uncoveredLine">  SmallVector<DomTreeNode *, 4> DomWorklist;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2104</td>
    <td class="uncoveredLine">  DomWorklist.push_back(DT[BB]);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2105</td>
    <td class="">#ifndef NDEBUG</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2106</td>
    <td class="uncoveredLine">  SmallPtrSet<DomTreeNode *, 4> Visited;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2107</td>
    <td class="uncoveredLine">  Visited.insert(DT[BB]);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2108</td>
    <td class="">#endif</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2109</td>
    <td class="">  do {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2110</td>
    <td class="uncoveredLine">    DomTreeNode *N = DomWorklist.pop_back_val();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2111</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2112</td>
    <td class="">    // Visit this node.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2113</td>
    <td class="uncoveredLine">    if (!Callable(N->getBlock()))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2114</td>
    <td class="uncoveredLine">      continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2115</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2116</td>
    <td class="">    // Accumulate the child nodes.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2117</td>
    <td class="uncoveredLine">    for (DomTreeNode *ChildN : *N) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2118</td>
    <td class="uncoveredLine">      assert(Visited.insert(ChildN).second &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2119</td>
    <td class="">             "Cannot visit a node twice when walking a tree!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2120</td>
    <td class="uncoveredLine">      DomWorklist.push_back(ChildN);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2121</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2122</td>
    <td class="uncoveredLine">  } while (!DomWorklist.empty());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2123</td>
    <td class="uncoveredLine">}</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2124</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2125</td>
    <td class="uncoveredLine">static void unswitchNontrivialInvariants(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2126</td>
    <td class="">    Loop &L, Instruction &TI, ArrayRef<Value *> Invariants,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2127</td>
    <td class="">    IVConditionInfo &PartialIVInfo, DominatorTree &DT, LoopInfo &LI,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2128</td>
    <td class="">    AssumptionCache &AC,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2129</td>
    <td class="">    function_ref<void(bool, bool, ArrayRef<Loop *>)> UnswitchCB,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2130</td>
    <td class="">    ScalarEvolution *SE, MemorySSAUpdater *MSSAU,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2131</td>
    <td class="">    function_ref<void(Loop &, StringRef)> DestroyLoopCB, bool InsertFreeze) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2132</td>
    <td class="uncoveredLine">  auto *ParentBB = TI.getParent();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2133</td>
    <td class="uncoveredLine">  BranchInst *BI = dyn_cast<BranchInst>(&TI);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2134</td>
    <td class="uncoveredLine">  SwitchInst *SI = BI ? nullptr : cast<SwitchInst>(&TI);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2135</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2136</td>
    <td class="">  // We can only unswitch switches, conditional branches with an invariant</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2137</td>
    <td class="">  // condition, or combining invariant conditions with an instruction or</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2138</td>
    <td class="">  // partially invariant instructions.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2139</td>
    <td class="uncoveredLine">  assert((SI || (BI && BI->isConditional())) &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2140</td>
    <td class="">         "Can only unswitch switches and conditional branch!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2141</td>
    <td class="uncoveredLine">  bool PartiallyInvariant = !PartialIVInfo.InstToDuplicate.empty();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2142</td>
    <td class="">  bool FullUnswitch =</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2143</td>
    <td class="uncoveredLine">      SI || (skipTrivialSelect(BI->getCondition()) == Invariants[0] &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2144</td>
    <td class="uncoveredLine">             !PartiallyInvariant);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2145</td>
    <td class="uncoveredLine">  if (FullUnswitch)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2146</td>
    <td class="uncoveredLine">    assert(Invariants.size() == 1 &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2147</td>
    <td class="">           "Cannot have other invariants with full unswitching!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2148</td>
    <td class="">  else</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2149</td>
    <td class="uncoveredLine">    assert(isa<Instruction>(skipTrivialSelect(BI->getCondition())) &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2150</td>
    <td class="">           "Partial unswitching requires an instruction as the condition!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2151</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2152</td>
    <td class="uncoveredLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2153</td>
    <td class="uncoveredLine">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2154</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2155</td>
    <td class="">  // Constant and BBs tracking the cloned and continuing successor. When we are</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2156</td>
    <td class="">  // unswitching the entire condition, this can just be trivially chosen to</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2157</td>
    <td class="">  // unswitch towards `true`. However, when we are unswitching a set of</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2158</td>
    <td class="">  // invariants combined with `and` or `or` or partially invariant instructions,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2159</td>
    <td class="">  // the combining operation determines the best direction to unswitch: we want</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2160</td>
    <td class="">  // to unswitch the direction that will collapse the branch.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2161</td>
    <td class="uncoveredLine">  bool Direction = true;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2162</td>
    <td class="uncoveredLine">  int ClonedSucc = 0;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2163</td>
    <td class="uncoveredLine">  if (!FullUnswitch) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2164</td>
    <td class="uncoveredLine">    Value *Cond = skipTrivialSelect(BI->getCondition());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2165</td>
    <td class="">    (void)Cond;</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2166</td>
    <td class="uncoveredLine">    assert(((match(Cond, m_LogicalAnd()) ^ match(Cond, m_LogicalOr())) ||</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2167</td>
    <td class="">            PartiallyInvariant) &&</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2168</td>
    <td class="">           "Only `or`, `and`, an `select`, partially invariant instructions "</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2169</td>
    <td class="">           "can combine invariants being unswitched.");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2170</td>
    <td class="uncoveredLine">    if (!match(Cond, m_LogicalOr())) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2171</td>
    <td class="uncoveredLine">      if (match(Cond, m_LogicalAnd()) ||</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2172</td>
    <td class="uncoveredLine">          (PartiallyInvariant && !PartialIVInfo.KnownValue->isOneValue())) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2173</td>
    <td class="uncoveredLine">        Direction = false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2174</td>
    <td class="uncoveredLine">        ClonedSucc = 1;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2175</td>
    <td class="">      }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2176</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2177</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2178</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2179</td>
    <td class="">  BasicBlock *RetainedSuccBB =</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2180</td>
    <td class="uncoveredLine">      BI ? BI->getSuccessor(1 - ClonedSucc) : SI->getDefaultDest();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2181</td>
    <td class="uncoveredLine">  SmallSetVector<BasicBlock *, 4> UnswitchedSuccBBs;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2182</td>
    <td class="uncoveredLine">  if (BI)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2183</td>
    <td class="uncoveredLine">    UnswitchedSuccBBs.insert(BI->getSuccessor(ClonedSucc));</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2184</td>
    <td class="">  else</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2185</td>
    <td class="uncoveredLine">    for (auto Case : SI->cases())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2186</td>
    <td class="uncoveredLine">      if (Case.getCaseSuccessor() != RetainedSuccBB)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2187</td>
    <td class="uncoveredLine">        UnswitchedSuccBBs.insert(Case.getCaseSuccessor());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2188</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2189</td>
    <td class="uncoveredLine">  assert(!UnswitchedSuccBBs.count(RetainedSuccBB) &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2190</td>
    <td class="">         "Should not unswitch the same successor we are retaining!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2191</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2192</td>
    <td class="">  // The branch should be in this exact loop. Any inner loop's invariant branch</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2193</td>
    <td class="">  // should be handled by unswitching that inner loop. The caller of this</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2194</td>
    <td class="">  // routine should filter out any candidates that remain (but were skipped for</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2195</td>
    <td class="">  // whatever reason).</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2196</td>
    <td class="uncoveredLine">  assert(LI.getLoopFor(ParentBB) == &L && "Branch in an inner loop!");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2197</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2198</td>
    <td class="">  // Compute the parent loop now before we start hacking on things.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2199</td>
    <td class="uncoveredLine">  Loop *ParentL = L.getParentLoop();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2200</td>
    <td class="">  // Get blocks in RPO order for MSSA update, before changing the CFG.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2201</td>
    <td class="uncoveredLine">  LoopBlocksRPO LBRPO(&L);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2202</td>
    <td class="uncoveredLine">  if (MSSAU)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2203</td>
    <td class="uncoveredLine">    LBRPO.perform(&LI);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2204</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2205</td>
    <td class="">  // Compute the outer-most loop containing one of our exit blocks. This is the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2206</td>
    <td class="">  // furthest up our loopnest which can be mutated, which we will use below to</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2207</td>
    <td class="">  // update things.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2208</td>
    <td class="uncoveredLine">  Loop *OuterExitL = &L;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2209</td>
    <td class="uncoveredLine">  SmallVector<BasicBlock *, 4> ExitBlocks;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2210</td>
    <td class="uncoveredLine">  L.getUniqueExitBlocks(ExitBlocks);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2211</td>
    <td class="uncoveredLine">  for (auto *ExitBB : ExitBlocks) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2212</td>
    <td class="">    // ExitBB can be an exit block for several levels in the loop nest. Make</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2213</td>
    <td class="">    // sure we find the top most.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2214</td>
    <td class="uncoveredLine">    Loop *NewOuterExitL = getTopMostExitingLoop(ExitBB, LI);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2215</td>
    <td class="uncoveredLine">    if (!NewOuterExitL) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2216</td>
    <td class="">      // We exited the entire nest with this block, so we're done.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2217</td>
    <td class="uncoveredLine">      OuterExitL = nullptr;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2218</td>
    <td class="uncoveredLine">      break;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2219</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2220</td>
    <td class="uncoveredLine">    if (NewOuterExitL != OuterExitL && NewOuterExitL->contains(OuterExitL))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2221</td>
    <td class="uncoveredLine">      OuterExitL = NewOuterExitL;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2222</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2223</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2224</td>
    <td class="">  // At this point, we're definitely going to unswitch something so invalidate</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2225</td>
    <td class="">  // any cached information in ScalarEvolution for the outer most loop</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2226</td>
    <td class="">  // containing an exit block and all nested loops.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2227</td>
    <td class="uncoveredLine">  if (SE) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2228</td>
    <td class="uncoveredLine">    if (OuterExitL)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2229</td>
    <td class="uncoveredLine">      SE->forgetLoop(OuterExitL);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2230</td>
    <td class="">    else</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2231</td>
    <td class="uncoveredLine">      SE->forgetTopmostLoop(&L);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2232</td>
    <td class="uncoveredLine">    SE->forgetBlockAndLoopDispositions();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2233</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2234</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2235</td>
    <td class="">  // If the edge from this terminator to a successor dominates that successor,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2236</td>
    <td class="">  // store a map from each block in its dominator subtree to it. This lets us</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2237</td>
    <td class="">  // tell when cloning for a particular successor if a block is dominated by</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2238</td>
    <td class="">  // some *other* successor with a single data structure. We use this to</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2239</td>
    <td class="">  // significantly reduce cloning.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2240</td>
    <td class="uncoveredLine">  SmallDenseMap<BasicBlock *, BasicBlock *, 16> DominatingSucc;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2241</td>
    <td class="uncoveredLine">  for (auto *SuccBB : llvm::concat<BasicBlock *const>(ArrayRef(RetainedSuccBB),</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2242</td>
    <td class="uncoveredLine">                                                      UnswitchedSuccBBs))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2243</td>
    <td class="uncoveredLine">    if (SuccBB->getUniquePredecessor() ||</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2244</td>
    <td class="uncoveredLine">        llvm::all_of(predecessors(SuccBB), [&](BasicBlock *PredBB) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2245</td>
    <td class="uncoveredLine">          return PredBB == ParentBB || DT.dominates(SuccBB, PredBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2246</td>
    <td class="">        }))</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2247</td>
    <td class="uncoveredLine">      visitDomSubTree(DT, SuccBB, [&](BasicBlock *BB) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2248</td>
    <td class="uncoveredLine">        DominatingSucc[BB] = SuccBB;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2249</td>
    <td class="uncoveredLine">        return true;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2250</td>
    <td class="">      });</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2251</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2252</td>
    <td class="">  // Split the preheader, so that we know that there is a safe place to insert</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2253</td>
    <td class="">  // the conditional branch. We will change the preheader to have a conditional</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2254</td>
    <td class="">  // branch on LoopCond. The original preheader will become the split point</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2255</td>
    <td class="">  // between the unswitched versions, and we will have a new preheader for the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2256</td>
    <td class="">  // original loop.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2257</td>
    <td class="uncoveredLine">  BasicBlock *SplitBB = L.getLoopPreheader();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2258</td>
    <td class="uncoveredLine">  BasicBlock *LoopPH = SplitEdge(SplitBB, L.getHeader(), &DT, &LI, MSSAU);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2259</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2260</td>
    <td class="">  // Keep track of the dominator tree updates needed.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2261</td>
    <td class="uncoveredLine">  SmallVector<DominatorTree::UpdateType, 4> DTUpdates;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2262</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2263</td>
    <td class="">  // Clone the loop for each unswitched successor.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2264</td>
    <td class="uncoveredLine">  SmallVector<std::unique_ptr<ValueToValueMapTy>, 4> VMaps;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2265</td>
    <td class="uncoveredLine">  VMaps.reserve(UnswitchedSuccBBs.size());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2266</td>
    <td class="uncoveredLine">  SmallDenseMap<BasicBlock *, BasicBlock *, 4> ClonedPHs;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2267</td>
    <td class="uncoveredLine">  for (auto *SuccBB : UnswitchedSuccBBs) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2268</td>
    <td class="uncoveredLine">    VMaps.emplace_back(new ValueToValueMapTy());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2269</td>
    <td class="uncoveredLine">    ClonedPHs[SuccBB] = buildClonedLoopBlocks(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2270</td>
    <td class="">        L, LoopPH, SplitBB, ExitBlocks, ParentBB, SuccBB, RetainedSuccBB,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2271</td>
    <td class="uncoveredLine">        DominatingSucc, *VMaps.back(), DTUpdates, AC, DT, LI, MSSAU, SE);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2272</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2273</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2274</td>
    <td class="">  // Drop metadata if we may break its semantics by moving this instr into the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2275</td>
    <td class="">  // split block.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2276</td>
    <td class="uncoveredLine">  if (TI.getMetadata(LLVMContext::MD_make_implicit)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2277</td>
    <td class="uncoveredLine">    if (DropNonTrivialImplicitNullChecks)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2278</td>
    <td class="">      // Do not spend time trying to understand if we can keep it, just drop it</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2279</td>
    <td class="">      // to save compile time.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2280</td>
    <td class="uncoveredLine">      TI.setMetadata(LLVMContext::MD_make_implicit, nullptr);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2281</td>
    <td class="">    else {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2282</td>
    <td class="">      // It is only legal to preserve make.implicit metadata if we are</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2283</td>
    <td class="">      // guaranteed no reach implicit null check after following this branch.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2284</td>
    <td class="uncoveredLine">      ICFLoopSafetyInfo SafetyInfo;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2285</td>
    <td class="uncoveredLine">      SafetyInfo.computeLoopSafetyInfo(&L);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2286</td>
    <td class="uncoveredLine">      if (!SafetyInfo.isGuaranteedToExecute(TI, &DT, &L))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2287</td>
    <td class="uncoveredLine">        TI.setMetadata(LLVMContext::MD_make_implicit, nullptr);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2288</td>
    <td class="uncoveredLine">    }</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2289</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2290</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2291</td>
    <td class="">  // The stitching of the branched code back together depends on whether we're</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2292</td>
    <td class="">  // doing full unswitching or not with the exception that we always want to</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2293</td>
    <td class="">  // nuke the initial terminator placed in the split block.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2294</td>
    <td class="uncoveredLine">  SplitBB->getTerminator()->eraseFromParent();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2295</td>
    <td class="uncoveredLine">  if (FullUnswitch) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2296</td>
    <td class="">    // Splice the terminator from the original loop and rewrite its</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2297</td>
    <td class="">    // successors.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2298</td>
    <td class="uncoveredLine">    SplitBB->splice(SplitBB->end(), ParentBB, TI.getIterator());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2299</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2300</td>
    <td class="">    // Keep a clone of the terminator for MSSA updates.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2301</td>
    <td class="uncoveredLine">    Instruction *NewTI = TI.clone();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2302</td>
    <td class="uncoveredLine">    NewTI->insertInto(ParentBB, ParentBB->end());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2303</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2304</td>
    <td class="">    // First wire up the moved terminator to the preheaders.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2305</td>
    <td class="uncoveredLine">    if (BI) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2306</td>
    <td class="uncoveredLine">      BasicBlock *ClonedPH = ClonedPHs.begin()->second;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2307</td>
    <td class="uncoveredLine">      BI->setSuccessor(ClonedSucc, ClonedPH);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2308</td>
    <td class="uncoveredLine">      BI->setSuccessor(1 - ClonedSucc, LoopPH);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2309</td>
    <td class="uncoveredLine">      Value *Cond = skipTrivialSelect(BI->getCondition());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2310</td>
    <td class="uncoveredLine">      if (InsertFreeze)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2311</td>
    <td class="uncoveredLine">        Cond = new FreezeInst(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2312</td>
    <td class="uncoveredLine">            Cond, Cond->getName() + ".fr", BI);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2313</td>
    <td class="uncoveredLine">      BI->setCondition(Cond);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2314</td>
    <td class="uncoveredLine">      DTUpdates.push_back({DominatorTree::Insert, SplitBB, ClonedPH});</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2315</td>
    <td class="">    } else {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2316</td>
    <td class="uncoveredLine">      assert(SI && "Must either be a branch or switch!");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2317</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2318</td>
    <td class="">      // Walk the cases and directly update their successors.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2319</td>
    <td class="uncoveredLine">      assert(SI->getDefaultDest() == RetainedSuccBB &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2320</td>
    <td class="">             "Not retaining default successor!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2321</td>
    <td class="uncoveredLine">      SI->setDefaultDest(LoopPH);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2322</td>
    <td class="uncoveredLine">      for (const auto &Case : SI->cases())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2323</td>
    <td class="uncoveredLine">        if (Case.getCaseSuccessor() == RetainedSuccBB)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2324</td>
    <td class="uncoveredLine">          Case.setSuccessor(LoopPH);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2325</td>
    <td class="">        else</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2326</td>
    <td class="uncoveredLine">          Case.setSuccessor(ClonedPHs.find(Case.getCaseSuccessor())->second);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2327</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2328</td>
    <td class="uncoveredLine">      if (InsertFreeze)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2329</td>
    <td class="uncoveredLine">        SI->setCondition(new FreezeInst(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2330</td>
    <td class="uncoveredLine">            SI->getCondition(), SI->getCondition()->getName() + ".fr", SI));</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2331</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2332</td>
    <td class="">      // We need to use the set to populate domtree updates as even when there</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2333</td>
    <td class="">      // are multiple cases pointing at the same successor we only want to</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2334</td>
    <td class="">      // remove and insert one edge in the domtree.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2335</td>
    <td class="uncoveredLine">      for (BasicBlock *SuccBB : UnswitchedSuccBBs)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2336</td>
    <td class="uncoveredLine">        DTUpdates.push_back(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2337</td>
    <td class="uncoveredLine">            {DominatorTree::Insert, SplitBB, ClonedPHs.find(SuccBB)->second});</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2338</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2339</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2340</td>
    <td class="uncoveredLine">    if (MSSAU) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2341</td>
    <td class="uncoveredLine">      DT.applyUpdates(DTUpdates);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2342</td>
    <td class="uncoveredLine">      DTUpdates.clear();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2343</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2344</td>
    <td class="">      // Remove all but one edge to the retained block and all unswitched</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2345</td>
    <td class="">      // blocks. This is to avoid having duplicate entries in the cloned Phis,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2346</td>
    <td class="">      // when we know we only keep a single edge for each case.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2347</td>
    <td class="uncoveredLine">      MSSAU->removeDuplicatePhiEdgesBetween(ParentBB, RetainedSuccBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2348</td>
    <td class="uncoveredLine">      for (BasicBlock *SuccBB : UnswitchedSuccBBs)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2349</td>
    <td class="uncoveredLine">        MSSAU->removeDuplicatePhiEdgesBetween(ParentBB, SuccBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2350</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2351</td>
    <td class="uncoveredLine">      for (auto &VMap : VMaps)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2352</td>
    <td class="uncoveredLine">        MSSAU->updateForClonedLoop(LBRPO, ExitBlocks, *VMap,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2353</td>
    <td class="">                                   /*IgnoreIncomingWithNoClones=*/true);</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2354</td>
    <td class="uncoveredLine">      MSSAU->updateExitBlocksForClonedLoop(ExitBlocks, VMaps, DT);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2355</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2356</td>
    <td class="">      // Remove all edges to unswitched blocks.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2357</td>
    <td class="uncoveredLine">      for (BasicBlock *SuccBB : UnswitchedSuccBBs)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2358</td>
    <td class="uncoveredLine">        MSSAU->removeEdge(ParentBB, SuccBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2359</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2360</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2361</td>
    <td class="">    // Now unhook the successor relationship as we'll be replacing</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2362</td>
    <td class="">    // the terminator with a direct branch. This is much simpler for branches</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2363</td>
    <td class="">    // than switches so we handle those first.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2364</td>
    <td class="uncoveredLine">    if (BI) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2365</td>
    <td class="">      // Remove the parent as a predecessor of the unswitched successor.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2366</td>
    <td class="uncoveredLine">      assert(UnswitchedSuccBBs.size() == 1 &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2367</td>
    <td class="">             "Only one possible unswitched block for a branch!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2368</td>
    <td class="uncoveredLine">      BasicBlock *UnswitchedSuccBB = *UnswitchedSuccBBs.begin();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2369</td>
    <td class="uncoveredLine">      UnswitchedSuccBB->removePredecessor(ParentBB,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2370</td>
    <td class="">                                          /*KeepOneInputPHIs*/ true);</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2371</td>
    <td class="uncoveredLine">      DTUpdates.push_back({DominatorTree::Delete, ParentBB, UnswitchedSuccBB});</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2372</td>
    <td class="">    } else {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2373</td>
    <td class="">      // Note that we actually want to remove the parent block as a predecessor</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2374</td>
    <td class="">      // of *every* case successor. The case successor is either unswitched,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2375</td>
    <td class="">      // completely eliminating an edge from the parent to that successor, or it</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2376</td>
    <td class="">      // is a duplicate edge to the retained successor as the retained successor</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2377</td>
    <td class="">      // is always the default successor and as we'll replace this with a direct</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2378</td>
    <td class="">      // branch we no longer need the duplicate entries in the PHI nodes.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2379</td>
    <td class="uncoveredLine">      SwitchInst *NewSI = cast<SwitchInst>(NewTI);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2380</td>
    <td class="uncoveredLine">      assert(NewSI->getDefaultDest() == RetainedSuccBB &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2381</td>
    <td class="">             "Not retaining default successor!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2382</td>
    <td class="uncoveredLine">      for (const auto &Case : NewSI->cases())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2383</td>
    <td class="uncoveredLine">        Case.getCaseSuccessor()->removePredecessor(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2384</td>
    <td class="">            ParentBB,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2385</td>
    <td class="">            /*KeepOneInputPHIs*/ true);</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2386</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2387</td>
    <td class="">      // We need to use the set to populate domtree updates as even when there</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2388</td>
    <td class="">      // are multiple cases pointing at the same successor we only want to</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2389</td>
    <td class="">      // remove and insert one edge in the domtree.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2390</td>
    <td class="uncoveredLine">      for (BasicBlock *SuccBB : UnswitchedSuccBBs)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2391</td>
    <td class="uncoveredLine">        DTUpdates.push_back({DominatorTree::Delete, ParentBB, SuccBB});</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2392</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2393</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2394</td>
    <td class="">    // After MSSAU update, remove the cloned terminator instruction NewTI.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2395</td>
    <td class="uncoveredLine">    ParentBB->getTerminator()->eraseFromParent();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2396</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2397</td>
    <td class="">    // Create a new unconditional branch to the continuing block (as opposed to</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2398</td>
    <td class="">    // the one cloned).</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2399</td>
    <td class="uncoveredLine">    BranchInst::Create(RetainedSuccBB, ParentBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2400</td>
    <td class="">  } else {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2401</td>
    <td class="uncoveredLine">    assert(BI && "Only branches have partial unswitching.");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2402</td>
    <td class="uncoveredLine">    assert(UnswitchedSuccBBs.size() == 1 &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2403</td>
    <td class="">           "Only one possible unswitched block for a branch!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2404</td>
    <td class="uncoveredLine">    BasicBlock *ClonedPH = ClonedPHs.begin()->second;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2405</td>
    <td class="">    // When doing a partial unswitch, we have to do a bit more work to build up</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2406</td>
    <td class="">    // the branch in the split block.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2407</td>
    <td class="uncoveredLine">    if (PartiallyInvariant)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2408</td>
    <td class="uncoveredLine">      buildPartialInvariantUnswitchConditionalBranch(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2409</td>
    <td class="">          *SplitBB, Invariants, Direction, *ClonedPH, *LoopPH, L, MSSAU);</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2410</td>
    <td class="">    else {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2411</td>
    <td class="uncoveredLine">      buildPartialUnswitchConditionalBranch(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2412</td>
    <td class="">          *SplitBB, Invariants, Direction, *ClonedPH, *LoopPH,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2413</td>
    <td class="">          FreezeLoopUnswitchCond, BI, &AC, DT);</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2414</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2415</td>
    <td class="uncoveredLine">    DTUpdates.push_back({DominatorTree::Insert, SplitBB, ClonedPH});</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2416</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2417</td>
    <td class="uncoveredLine">    if (MSSAU) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2418</td>
    <td class="uncoveredLine">      DT.applyUpdates(DTUpdates);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2419</td>
    <td class="uncoveredLine">      DTUpdates.clear();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2420</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2421</td>
    <td class="">      // Perform MSSA cloning updates.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2422</td>
    <td class="uncoveredLine">      for (auto &VMap : VMaps)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2423</td>
    <td class="uncoveredLine">        MSSAU->updateForClonedLoop(LBRPO, ExitBlocks, *VMap,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2424</td>
    <td class="">                                   /*IgnoreIncomingWithNoClones=*/true);</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2425</td>
    <td class="uncoveredLine">      MSSAU->updateExitBlocksForClonedLoop(ExitBlocks, VMaps, DT);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2426</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2427</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2428</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2429</td>
    <td class="">  // Apply the updates accumulated above to get an up-to-date dominator tree.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2430</td>
    <td class="uncoveredLine">  DT.applyUpdates(DTUpdates);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2431</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2432</td>
    <td class="">  // Now that we have an accurate dominator tree, first delete the dead cloned</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2433</td>
    <td class="">  // blocks so that we can accurately build any cloned loops. It is important to</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2434</td>
    <td class="">  // not delete the blocks from the original loop yet because we still want to</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2435</td>
    <td class="">  // reference the original loop to understand the cloned loop's structure.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2436</td>
    <td class="uncoveredLine">  deleteDeadClonedBlocks(L, ExitBlocks, VMaps, DT, MSSAU);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2437</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2438</td>
    <td class="">  // Build the cloned loop structure itself. This may be substantially</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2439</td>
    <td class="">  // different from the original structure due to the simplified CFG. This also</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2440</td>
    <td class="">  // handles inserting all the cloned blocks into the correct loops.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2441</td>
    <td class="uncoveredLine">  SmallVector<Loop *, 4> NonChildClonedLoops;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2442</td>
    <td class="uncoveredLine">  for (std::unique_ptr<ValueToValueMapTy> &VMap : VMaps)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2443</td>
    <td class="uncoveredLine">    buildClonedLoops(L, ExitBlocks, *VMap, LI, NonChildClonedLoops);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2444</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2445</td>
    <td class="">  // Now that our cloned loops have been built, we can update the original loop.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2446</td>
    <td class="">  // First we delete the dead blocks from it and then we rebuild the loop</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2447</td>
    <td class="">  // structure taking these deletions into account.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2448</td>
    <td class="uncoveredLine">  deleteDeadBlocksFromLoop(L, ExitBlocks, DT, LI, MSSAU, SE,DestroyLoopCB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2449</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2450</td>
    <td class="uncoveredLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2451</td>
    <td class="uncoveredLine">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2452</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2453</td>
    <td class="uncoveredLine">  SmallVector<Loop *, 4> HoistedLoops;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2454</td>
    <td class="">  bool IsStillLoop =</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2455</td>
    <td class="uncoveredLine">      rebuildLoopAfterUnswitch(L, ExitBlocks, LI, HoistedLoops, SE);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2456</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2457</td>
    <td class="uncoveredLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2458</td>
    <td class="uncoveredLine">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2459</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2460</td>
    <td class="">  // This transformation has a high risk of corrupting the dominator tree, and</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2461</td>
    <td class="">  // the below steps to rebuild loop structures will result in hard to debug</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2462</td>
    <td class="">  // errors in that case so verify that the dominator tree is sane first.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2463</td>
    <td class="">  // FIXME: Remove this when the bugs stop showing up and rely on existing</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2464</td>
    <td class="">  // verification steps.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2465</td>
    <td class="uncoveredLine">  assert(DT.verify(DominatorTree::VerificationLevel::Fast));</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2466</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2467</td>
    <td class="uncoveredLine">  if (BI && !PartiallyInvariant) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2468</td>
    <td class="">    // If we unswitched a branch which collapses the condition to a known</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2469</td>
    <td class="">    // constant we want to replace all the uses of the invariants within both</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2470</td>
    <td class="">    // the original and cloned blocks. We do this here so that we can use the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2471</td>
    <td class="">    // now updated dominator tree to identify which side the users are on.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2472</td>
    <td class="uncoveredLine">    assert(UnswitchedSuccBBs.size() == 1 &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2473</td>
    <td class="">           "Only one possible unswitched block for a branch!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2474</td>
    <td class="uncoveredLine">    BasicBlock *ClonedPH = ClonedPHs.begin()->second;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2475</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2476</td>
    <td class="">    // When considering multiple partially-unswitched invariants</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2477</td>
    <td class="">    // we cant just go replace them with constants in both branches.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2478</td>
    <td class="">    //</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2479</td>
    <td class="">    // For 'AND' we infer that true branch ("continue") means true</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2480</td>
    <td class="">    // for each invariant operand.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2481</td>
    <td class="">    // For 'OR' we can infer that false branch ("continue") means false</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2482</td>
    <td class="">    // for each invariant operand.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2483</td>
    <td class="">    // So it happens that for multiple-partial case we dont replace</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2484</td>
    <td class="">    // in the unswitched branch.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2485</td>
    <td class="">    bool ReplaceUnswitched =</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2486</td>
    <td class="uncoveredLine">        FullUnswitch || (Invariants.size() == 1) || PartiallyInvariant;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2487</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2488</td>
    <td class="">    ConstantInt *UnswitchedReplacement =</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2489</td>
    <td class="uncoveredLine">        Direction ? ConstantInt::getTrue(BI->getContext())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2490</td>
    <td class="uncoveredLine">                  : ConstantInt::getFalse(BI->getContext());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2491</td>
    <td class="">    ConstantInt *ContinueReplacement =</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2492</td>
    <td class="uncoveredLine">        Direction ? ConstantInt::getFalse(BI->getContext())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2493</td>
    <td class="uncoveredLine">                  : ConstantInt::getTrue(BI->getContext());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2494</td>
    <td class="uncoveredLine">    for (Value *Invariant : Invariants) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2495</td>
    <td class="uncoveredLine">      assert(!isa<Constant>(Invariant) &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2496</td>
    <td class="">             "Should not be replacing constant values!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2497</td>
    <td class="">      // Use make_early_inc_range here as set invalidates the iterator.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2498</td>
    <td class="uncoveredLine">      for (Use &U : llvm::make_early_inc_range(Invariant->uses())) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2499</td>
    <td class="uncoveredLine">        Instruction *UserI = dyn_cast<Instruction>(U.getUser());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2500</td>
    <td class="uncoveredLine">        if (!UserI)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2501</td>
    <td class="uncoveredLine">          continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2502</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2503</td>
    <td class="">        // Replace it with the 'continue' side if in the main loop body, and the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2504</td>
    <td class="">        // unswitched if in the cloned blocks.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2505</td>
    <td class="uncoveredLine">        if (DT.dominates(LoopPH, UserI->getParent()))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2506</td>
    <td class="uncoveredLine">          U.set(ContinueReplacement);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2507</td>
    <td class="uncoveredLine">        else if (ReplaceUnswitched &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2508</td>
    <td class="uncoveredLine">                 DT.dominates(ClonedPH, UserI->getParent()))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2509</td>
    <td class="uncoveredLine">          U.set(UnswitchedReplacement);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2510</td>
    <td class="">      }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2511</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2512</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2513</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2514</td>
    <td class="">  // We can change which blocks are exit blocks of all the cloned sibling</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2515</td>
    <td class="">  // loops, the current loop, and any parent loops which shared exit blocks</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2516</td>
    <td class="">  // with the current loop. As a consequence, we need to re-form LCSSA for</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2517</td>
    <td class="">  // them. But we shouldn't need to re-form LCSSA for any child loops.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2518</td>
    <td class="">  // FIXME: This could be made more efficient by tracking which exit blocks are</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2519</td>
    <td class="">  // new, and focusing on them, but that isn't likely to be necessary.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2520</td>
    <td class="">  //</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2521</td>
    <td class="">  // In order to reasonably rebuild LCSSA we need to walk inside-out across the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2522</td>
    <td class="">  // loop nest and update every loop that could have had its exits changed. We</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2523</td>
    <td class="">  // also need to cover any intervening loops. We add all of these loops to</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2524</td>
    <td class="">  // a list and sort them by loop depth to achieve this without updating</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2525</td>
    <td class="">  // unnecessary loops.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2526</td>
    <td class="uncoveredLine">  auto UpdateLoop = [&](Loop &UpdateL) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2527</td>
    <td class="">#ifndef NDEBUG</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2528</td>
    <td class="uncoveredLine">    UpdateL.verifyLoop();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2529</td>
    <td class="uncoveredLine">    for (Loop *ChildL : UpdateL) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2530</td>
    <td class="uncoveredLine">      ChildL->verifyLoop();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2531</td>
    <td class="uncoveredLine">      assert(ChildL->isRecursivelyLCSSAForm(DT, LI) &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2532</td>
    <td class="">             "Perturbed a child loop's LCSSA form!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2533</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2534</td>
    <td class="">#endif</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2535</td>
    <td class="">    // First build LCSSA for this loop so that we can preserve it when</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2536</td>
    <td class="">    // forming dedicated exits. We don't want to perturb some other loop's</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2537</td>
    <td class="">    // LCSSA while doing that CFG edit.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2538</td>
    <td class="uncoveredLine">    formLCSSA(UpdateL, DT, &LI, SE);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2539</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2540</td>
    <td class="">    // For loops reached by this loop's original exit blocks we may</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2541</td>
    <td class="">    // introduced new, non-dedicated exits. At least try to re-form dedicated</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2542</td>
    <td class="">    // exits for these loops. This may fail if they couldn't have dedicated</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2543</td>
    <td class="">    // exits to start with.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2544</td>
    <td class="uncoveredLine">    formDedicatedExitBlocks(&UpdateL, &DT, &LI, MSSAU, /*PreserveLCSSA*/ true);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2545</td>
    <td class="uncoveredLine">  };</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2546</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2547</td>
    <td class="">  // For non-child cloned loops and hoisted loops, we just need to update LCSSA</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2548</td>
    <td class="">  // and we can do it in any order as they don't nest relative to each other.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2549</td>
    <td class="">  //</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2550</td>
    <td class="">  // Also check if any of the loops we have updated have become top-level loops</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2551</td>
    <td class="">  // as that will necessitate widening the outer loop scope.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2552</td>
    <td class="uncoveredLine">  for (Loop *UpdatedL :</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2553</td>
    <td class="uncoveredLine">       llvm::concat<Loop *>(NonChildClonedLoops, HoistedLoops)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2554</td>
    <td class="uncoveredLine">    UpdateLoop(*UpdatedL);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2555</td>
    <td class="uncoveredLine">    if (UpdatedL->isOutermost())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2556</td>
    <td class="uncoveredLine">      OuterExitL = nullptr;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2557</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2558</td>
    <td class="uncoveredLine">  if (IsStillLoop) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2559</td>
    <td class="uncoveredLine">    UpdateLoop(L);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2560</td>
    <td class="uncoveredLine">    if (L.isOutermost())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2561</td>
    <td class="uncoveredLine">      OuterExitL = nullptr;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2562</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2563</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2564</td>
    <td class="">  // If the original loop had exit blocks, walk up through the outer most loop</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2565</td>
    <td class="">  // of those exit blocks to update LCSSA and form updated dedicated exits.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2566</td>
    <td class="uncoveredLine">  if (OuterExitL != &L)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2567</td>
    <td class="uncoveredLine">    for (Loop *OuterL = ParentL; OuterL != OuterExitL;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2568</td>
    <td class="uncoveredLine">         OuterL = OuterL->getParentLoop())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2569</td>
    <td class="uncoveredLine">      UpdateLoop(*OuterL);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2570</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2571</td>
    <td class="">#ifndef NDEBUG</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2572</td>
    <td class="">  // Verify the entire loop structure to catch any incorrect updates before we</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2573</td>
    <td class="">  // progress in the pass pipeline.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2574</td>
    <td class="uncoveredLine">  LI.verify(DT);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2575</td>
    <td class="">#endif</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2576</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2577</td>
    <td class="">  // Now that we've unswitched something, make callbacks to report the changes.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2578</td>
    <td class="">  // For that we need to merge together the updated loops and the cloned loops</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2579</td>
    <td class="">  // and check whether the original loop survived.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2580</td>
    <td class="uncoveredLine">  SmallVector<Loop *, 4> SibLoops;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2581</td>
    <td class="uncoveredLine">  for (Loop *UpdatedL : llvm::concat<Loop *>(NonChildClonedLoops, HoistedLoops))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2582</td>
    <td class="uncoveredLine">    if (UpdatedL->getParentLoop() == ParentL)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2583</td>
    <td class="uncoveredLine">      SibLoops.push_back(UpdatedL);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2584</td>
    <td class="uncoveredLine">  UnswitchCB(IsStillLoop, PartiallyInvariant, SibLoops);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2585</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2586</td>
    <td class="uncoveredLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2587</td>
    <td class="uncoveredLine">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2588</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2589</td>
    <td class="uncoveredLine">  if (BI)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2590</td>
    <td class="uncoveredLine">    ++NumBranches;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2591</td>
    <td class="">  else</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2592</td>
    <td class="uncoveredLine">    ++NumSwitches;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2593</td>
    <td class="uncoveredLine">}</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2594</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2595</td>
    <td class="">/// Recursively compute the cost of a dominator subtree based on the per-block</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2596</td>
    <td class="">/// cost map provided.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2597</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2598</td>
    <td class="">/// The recursive computation is memozied into the provided DT-indexed cost map</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2599</td>
    <td class="">/// to allow querying it for most nodes in the domtree without it becoming</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2600</td>
    <td class="">/// quadratic.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2601</td>
    <td class="uncoveredLine">static InstructionCost computeDomSubtreeCost(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2602</td>
    <td class="">    DomTreeNode &N,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2603</td>
    <td class="">    const SmallDenseMap<BasicBlock *, InstructionCost, 4> &BBCostMap,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2604</td>
    <td class="">    SmallDenseMap<DomTreeNode *, InstructionCost, 4> &DTCostMap) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2605</td>
    <td class="">  // Don't accumulate cost (or recurse through) blocks not in our block cost</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2606</td>
    <td class="">  // map and thus not part of the duplication cost being considered.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2607</td>
    <td class="uncoveredLine">  auto BBCostIt = BBCostMap.find(N.getBlock());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2608</td>
    <td class="uncoveredLine">  if (BBCostIt == BBCostMap.end())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2609</td>
    <td class="uncoveredLine">    return 0;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2610</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2611</td>
    <td class="">  // Lookup this node to see if we already computed its cost.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2612</td>
    <td class="uncoveredLine">  auto DTCostIt = DTCostMap.find(&N);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2613</td>
    <td class="uncoveredLine">  if (DTCostIt != DTCostMap.end())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2614</td>
    <td class="uncoveredLine">    return DTCostIt->second;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2615</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2616</td>
    <td class="">  // If not, we have to compute it. We can't use insert above and update</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2617</td>
    <td class="">  // because computing the cost may insert more things into the map.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2618</td>
    <td class="uncoveredLine">  InstructionCost Cost = std::accumulate(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2619</td>
    <td class="uncoveredLine">      N.begin(), N.end(), BBCostIt->second,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2620</td>
    <td class="uncoveredLine">      [&](InstructionCost Sum, DomTreeNode *ChildN) -> InstructionCost {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2621</td>
    <td class="uncoveredLine">        return Sum + computeDomSubtreeCost(*ChildN, BBCostMap, DTCostMap);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2622</td>
    <td class="">      });</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2623</td>
    <td class="uncoveredLine">  bool Inserted = DTCostMap.insert({&N, Cost}).second;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2624</td>
    <td class="">  (void)Inserted;</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2625</td>
    <td class="uncoveredLine">  assert(Inserted && "Should not insert a node while visiting children!");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2626</td>
    <td class="uncoveredLine">  return Cost;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2627</td>
    <td class="">}</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2628</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2629</td>
    <td class="">/// Turns a select instruction into implicit control flow branch,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2630</td>
    <td class="">/// making the following replacement:</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2631</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2632</td>
    <td class="">/// head:</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2633</td>
    <td class="">///   --code before select--</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2634</td>
    <td class="">///   select %cond, %trueval, %falseval</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2635</td>
    <td class="">///   --code after select--</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2636</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2637</td>
    <td class="">/// into</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2638</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2639</td>
    <td class="">/// head:</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2640</td>
    <td class="">///   --code before select--</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2641</td>
    <td class="">///   br i1 %cond, label %then, label %tail</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2642</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2643</td>
    <td class="">/// then:</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2644</td>
    <td class="">///   br %tail</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2645</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2646</td>
    <td class="">/// tail:</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2647</td>
    <td class="">///   phi [ %trueval, %then ], [ %falseval, %head]</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2648</td>
    <td class="">///   unreachable</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2649</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2650</td>
    <td class="">/// It also makes all relevant DT and LI updates, so that all structures are in</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2651</td>
    <td class="">/// valid state after this transform.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2652</td>
    <td class="uncoveredLine">static BranchInst *turnSelectIntoBranch(SelectInst *SI, DominatorTree &DT,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2653</td>
    <td class="">                                        LoopInfo &LI, MemorySSAUpdater *MSSAU,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2654</td>
    <td class="">                                        AssumptionCache *AC) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2655</td>
    <td class="uncoveredLine">  LLVM_DEBUG(dbgs() << "Turning " << *SI << " into a branch.\n");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2656</td>
    <td class="uncoveredLine">  BasicBlock *HeadBB = SI->getParent();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2657</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2658</td>
    <td class="uncoveredLine">  DomTreeUpdater DTU(DT, DomTreeUpdater::UpdateStrategy::Eager);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2659</td>
    <td class="uncoveredLine">  SplitBlockAndInsertIfThen(SI->getCondition(), SI, false,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2660</td>
    <td class="">                            SI->getMetadata(LLVMContext::MD_prof), &DTU, &LI);</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2661</td>
    <td class="uncoveredLine">  auto *CondBr = cast<BranchInst>(HeadBB->getTerminator());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2662</td>
    <td class="uncoveredLine">  BasicBlock *ThenBB = CondBr->getSuccessor(0),</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2663</td>
    <td class="uncoveredLine">             *TailBB = CondBr->getSuccessor(1);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2664</td>
    <td class="uncoveredLine">  if (MSSAU)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2665</td>
    <td class="uncoveredLine">    MSSAU->moveAllAfterSpliceBlocks(HeadBB, TailBB, SI);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2666</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2667</td>
    <td class="uncoveredLine">  PHINode *Phi = PHINode::Create(SI->getType(), 2, "unswitched.select", SI);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2668</td>
    <td class="uncoveredLine">  Phi->addIncoming(SI->getTrueValue(), ThenBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2669</td>
    <td class="uncoveredLine">  Phi->addIncoming(SI->getFalseValue(), HeadBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2670</td>
    <td class="uncoveredLine">  SI->replaceAllUsesWith(Phi);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2671</td>
    <td class="uncoveredLine">  SI->eraseFromParent();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2672</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2673</td>
    <td class="uncoveredLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2674</td>
    <td class="uncoveredLine">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2675</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2676</td>
    <td class="uncoveredLine">  ++NumSelects;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2677</td>
    <td class="uncoveredLine">  return CondBr;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2678</td>
    <td class="uncoveredLine">}</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2679</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2680</td>
    <td class="">/// Turns a llvm.experimental.guard intrinsic into implicit control flow branch,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2681</td>
    <td class="">/// making the following replacement:</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2682</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2683</td>
    <td class="">///   --code before guard--</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2684</td>
    <td class="">///   call void (i1, ...) @llvm.experimental.guard(i1 %cond) [ "deopt"() ]</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2685</td>
    <td class="">///   --code after guard--</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2686</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2687</td>
    <td class="">/// into</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2688</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2689</td>
    <td class="">///   --code before guard--</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2690</td>
    <td class="">///   br i1 %cond, label %guarded, label %deopt</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2691</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2692</td>
    <td class="">/// guarded:</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2693</td>
    <td class="">///   --code after guard--</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2694</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2695</td>
    <td class="">/// deopt:</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2696</td>
    <td class="">///   call void (i1, ...) @llvm.experimental.guard(i1 false) [ "deopt"() ]</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2697</td>
    <td class="">///   unreachable</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2698</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2699</td>
    <td class="">/// It also makes all relevant DT and LI updates, so that all structures are in</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2700</td>
    <td class="">/// valid state after this transform.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2701</td>
    <td class="uncoveredLine">static BranchInst *turnGuardIntoBranch(IntrinsicInst *GI, Loop &L,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2702</td>
    <td class="">                                       DominatorTree &DT, LoopInfo &LI,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2703</td>
    <td class="">                                       MemorySSAUpdater *MSSAU) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2704</td>
    <td class="uncoveredLine">  SmallVector<DominatorTree::UpdateType, 4> DTUpdates;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2705</td>
    <td class="uncoveredLine">  LLVM_DEBUG(dbgs() << "Turning " << *GI << " into a branch.\n");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2706</td>
    <td class="uncoveredLine">  BasicBlock *CheckBB = GI->getParent();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2707</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2708</td>
    <td class="uncoveredLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2709</td>
    <td class="uncoveredLine">     MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2710</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2711</td>
    <td class="uncoveredLine">  DomTreeUpdater DTU(DT, DomTreeUpdater::UpdateStrategy::Eager);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2712</td>
    <td class="">  Instruction *DeoptBlockTerm =</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2713</td>
    <td class="uncoveredLine">      SplitBlockAndInsertIfThen(GI->getArgOperand(0), GI, true,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2714</td>
    <td class="">                                GI->getMetadata(LLVMContext::MD_prof), &DTU, &LI);</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2715</td>
    <td class="uncoveredLine">  BranchInst *CheckBI = cast<BranchInst>(CheckBB->getTerminator());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2716</td>
    <td class="">  // SplitBlockAndInsertIfThen inserts control flow that branches to</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2717</td>
    <td class="">  // DeoptBlockTerm if the condition is true.  We want the opposite.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2718</td>
    <td class="uncoveredLine">  CheckBI->swapSuccessors();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2719</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2720</td>
    <td class="uncoveredLine">  BasicBlock *GuardedBlock = CheckBI->getSuccessor(0);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2721</td>
    <td class="uncoveredLine">  GuardedBlock->setName("guarded");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2722</td>
    <td class="uncoveredLine">  CheckBI->getSuccessor(1)->setName("deopt");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2723</td>
    <td class="uncoveredLine">  BasicBlock *DeoptBlock = CheckBI->getSuccessor(1);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2724</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2725</td>
    <td class="uncoveredLine">  if (MSSAU)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2726</td>
    <td class="uncoveredLine">    MSSAU->moveAllAfterSpliceBlocks(CheckBB, GuardedBlock, GI);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2727</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2728</td>
    <td class="uncoveredLine">  GI->moveBefore(DeoptBlockTerm);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2729</td>
    <td class="uncoveredLine">  GI->setArgOperand(0, ConstantInt::getFalse(GI->getContext()));</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2730</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2731</td>
    <td class="uncoveredLine">  if (MSSAU) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2732</td>
    <td class="uncoveredLine">    MemoryDef *MD = cast<MemoryDef>(MSSAU->getMemorySSA()->getMemoryAccess(GI));</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2733</td>
    <td class="uncoveredLine">    MSSAU->moveToPlace(MD, DeoptBlock, MemorySSA::BeforeTerminator);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2734</td>
    <td class="uncoveredLine">    if (VerifyMemorySSA)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2735</td>
    <td class="uncoveredLine">      MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2736</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2737</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2738</td>
    <td class="uncoveredLine">  if (VerifyLoopInfo)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2739</td>
    <td class="uncoveredLine">    LI.verify(DT);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2740</td>
    <td class="uncoveredLine">  ++NumGuards;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2741</td>
    <td class="uncoveredLine">  return CheckBI;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2742</td>
    <td class="uncoveredLine">}</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2743</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2744</td>
    <td class="">/// Cost multiplier is a way to limit potentially exponential behavior</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2745</td>
    <td class="">/// of loop-unswitch. Cost is multipied in proportion of 2^number of unswitch</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2746</td>
    <td class="">/// candidates available. Also accounting for the number of "sibling" loops with</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2747</td>
    <td class="">/// the idea to account for previous unswitches that already happened on this</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2748</td>
    <td class="">/// cluster of loops. There was an attempt to keep this formula simple,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2749</td>
    <td class="">/// just enough to limit the worst case behavior. Even if it is not that simple</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2750</td>
    <td class="">/// now it is still not an attempt to provide a detailed heuristic size</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2751</td>
    <td class="">/// prediction.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2752</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2753</td>
    <td class="">/// TODO: Make a proper accounting of "explosion" effect for all kinds of</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2754</td>
    <td class="">/// unswitch candidates, making adequate predictions instead of wild guesses.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2755</td>
    <td class="">/// That requires knowing not just the number of "remaining" candidates but</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2756</td>
    <td class="">/// also costs of unswitching for each of these candidates.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2757</td>
    <td class="uncoveredLine">static int CalculateUnswitchCostMultiplier(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2758</td>
    <td class="">    const Instruction &TI, const Loop &L, const LoopInfo &LI,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2759</td>
    <td class="">    const DominatorTree &DT,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2760</td>
    <td class="">    ArrayRef<NonTrivialUnswitchCandidate> UnswitchCandidates) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2761</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2762</td>
    <td class="">  // Guards and other exiting conditions do not contribute to exponential</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2763</td>
    <td class="">  // explosion as soon as they dominate the latch (otherwise there might be</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2764</td>
    <td class="">  // another path to the latch remaining that does not allow to eliminate the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2765</td>
    <td class="">  // loop copy on unswitch).</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2766</td>
    <td class="uncoveredLine">  const BasicBlock *Latch = L.getLoopLatch();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2767</td>
    <td class="uncoveredLine">  const BasicBlock *CondBlock = TI.getParent();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2768</td>
    <td class="uncoveredLine">  if (DT.dominates(CondBlock, Latch) &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2769</td>
    <td class="uncoveredLine">      (isGuard(&TI) ||</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2770</td>
    <td class="uncoveredLine">       (TI.isTerminator() &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2771</td>
    <td class="uncoveredLine">        llvm::count_if(successors(&TI), [&L](const BasicBlock *SuccBB) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2772</td>
    <td class="uncoveredLine">          return L.contains(SuccBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2773</td>
    <td class="">        }) <= 1))) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2774</td>
    <td class="uncoveredLine">    NumCostMultiplierSkipped++;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2775</td>
    <td class="uncoveredLine">    return 1;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2776</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2777</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2778</td>
    <td class="uncoveredLine">  auto *ParentL = L.getParentLoop();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2779</td>
    <td class="uncoveredLine">  int SiblingsCount = (ParentL ? ParentL->getSubLoopsVector().size()</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2780</td>
    <td class="uncoveredLine">                               : std::distance(LI.begin(), LI.end()));</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2781</td>
    <td class="">  // Count amount of clones that all the candidates might cause during</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2782</td>
    <td class="">  // unswitching. Branch/guard/select counts as 1, switch counts as log2 of its</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2783</td>
    <td class="">  // cases.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2784</td>
    <td class="uncoveredLine">  int UnswitchedClones = 0;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2785</td>
    <td class="uncoveredLine">  for (const auto &Candidate : UnswitchCandidates) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2786</td>
    <td class="uncoveredLine">    const Instruction *CI = Candidate.TI;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2787</td>
    <td class="uncoveredLine">    const BasicBlock *CondBlock = CI->getParent();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2788</td>
    <td class="uncoveredLine">    bool SkipExitingSuccessors = DT.dominates(CondBlock, Latch);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2789</td>
    <td class="uncoveredLine">    if (isa<SelectInst>(CI)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2790</td>
    <td class="uncoveredLine">      UnswitchedClones++;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2791</td>
    <td class="uncoveredLine">      continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2792</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2793</td>
    <td class="uncoveredLine">    if (isGuard(CI)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2794</td>
    <td class="uncoveredLine">      if (!SkipExitingSuccessors)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2795</td>
    <td class="uncoveredLine">        UnswitchedClones++;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2796</td>
    <td class="uncoveredLine">      continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2797</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2798</td>
    <td class="">    int NonExitingSuccessors =</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2799</td>
    <td class="uncoveredLine">        llvm::count_if(successors(CondBlock),</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2800</td>
    <td class="uncoveredLine">                       [SkipExitingSuccessors, &L](const BasicBlock *SuccBB) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2801</td>
    <td class="uncoveredLine">          return !SkipExitingSuccessors || L.contains(SuccBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2802</td>
    <td class="">        });</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2803</td>
    <td class="uncoveredLine">    UnswitchedClones += Log2_32(NonExitingSuccessors);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2804</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2805</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2806</td>
    <td class="">  // Ignore up to the "unscaled candidates" number of unswitch candidates</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2807</td>
    <td class="">  // when calculating the power-of-two scaling of the cost. The main idea</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2808</td>
    <td class="">  // with this control is to allow a small number of unswitches to happen</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2809</td>
    <td class="">  // and rely more on siblings multiplier (see below) when the number</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2810</td>
    <td class="">  // of candidates is small.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2811</td>
    <td class="">  unsigned ClonesPower =</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2812</td>
    <td class="uncoveredLine">      std::max(UnswitchedClones - (int)UnswitchNumInitialUnscaledCandidates, 0);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2813</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2814</td>
    <td class="">  // Allowing top-level loops to spread a bit more than nested ones.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2815</td>
    <td class="">  int SiblingsMultiplier =</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2816</td>
    <td class="uncoveredLine">      std::max((ParentL ? SiblingsCount</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2817</td>
    <td class="uncoveredLine">                        : SiblingsCount / (int)UnswitchSiblingsToplevelDiv),</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2818</td>
    <td class="uncoveredLine">               1);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2819</td>
    <td class="">  // Compute the cost multiplier in a way that won't overflow by saturating</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2820</td>
    <td class="">  // at an upper bound.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2821</td>
    <td class="">  int CostMultiplier;</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2822</td>
    <td class="uncoveredLine">  if (ClonesPower > Log2_32(UnswitchThreshold) ||</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2823</td>
    <td class="uncoveredLine">      SiblingsMultiplier > UnswitchThreshold)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2824</td>
    <td class="uncoveredLine">    CostMultiplier = UnswitchThreshold;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2825</td>
    <td class="">  else</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2826</td>
    <td class="uncoveredLine">    CostMultiplier = std::min(SiblingsMultiplier * (1 << ClonesPower),</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2827</td>
    <td class="uncoveredLine">                              (int)UnswitchThreshold);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2828</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2829</td>
    <td class="uncoveredLine">  LLVM_DEBUG(dbgs() << "  Computed multiplier  " << CostMultiplier</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2830</td>
    <td class="">                    << " (siblings " << SiblingsMultiplier << " * clones "</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2831</td>
    <td class="">                    << (1 << ClonesPower) << ")"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2832</td>
    <td class="">                    << " for unswitch candidate: " << TI << "\n");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2833</td>
    <td class="uncoveredLine">  return CostMultiplier;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2834</td>
    <td class="">}</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2835</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2836</td>
    <td class="uncoveredLine">static bool collectUnswitchCandidates(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2837</td>
    <td class="">    SmallVectorImpl<NonTrivialUnswitchCandidate> &UnswitchCandidates,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2838</td>
    <td class="">    IVConditionInfo &PartialIVInfo, Instruction *&PartialIVCondBranch,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2839</td>
    <td class="">    const Loop &L, const LoopInfo &LI, AAResults &AA,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2840</td>
    <td class="">    const MemorySSAUpdater *MSSAU) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2841</td>
    <td class="uncoveredLine">  assert(UnswitchCandidates.empty() && "Should be!");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2842</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2843</td>
    <td class="uncoveredLine">  auto AddUnswitchCandidatesForInst = [&](Instruction *I, Value *Cond) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2844</td>
    <td class="uncoveredLine">    Cond = skipTrivialSelect(Cond);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2845</td>
    <td class="uncoveredLine">    if (isa<Constant>(Cond))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2846</td>
    <td class="uncoveredLine">      return;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2847</td>
    <td class="uncoveredLine">    if (L.isLoopInvariant(Cond)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2848</td>
    <td class="uncoveredLine">      UnswitchCandidates.push_back({I, {Cond}});</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2849</td>
    <td class="uncoveredLine">      return;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2850</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2851</td>
    <td class="uncoveredLine">    if (match(Cond, m_CombineOr(m_LogicalAnd(), m_LogicalOr()))) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2852</td>
    <td class="">      TinyPtrVector<Value *> Invariants =</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2853</td>
    <td class="">          collectHomogenousInstGraphLoopInvariants(</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2854</td>
    <td class="uncoveredLine">              L, *static_cast<Instruction *>(Cond), LI);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2855</td>
    <td class="uncoveredLine">      if (!Invariants.empty())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2856</td>
    <td class="uncoveredLine">        UnswitchCandidates.push_back({I, std::move(Invariants)});</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2857</td>
    <td class="uncoveredLine">    }</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2858</td>
    <td class="uncoveredLine">  };</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2859</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2860</td>
    <td class="">  // Whether or not we should also collect guards in the loop.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2861</td>
    <td class="uncoveredLine">  bool CollectGuards = false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2862</td>
    <td class="uncoveredLine">  if (UnswitchGuards) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2863</td>
    <td class="uncoveredLine">    auto *GuardDecl = L.getHeader()->getParent()->getParent()->getFunction(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2864</td>
    <td class="">        Intrinsic::getName(Intrinsic::experimental_guard));</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2865</td>
    <td class="uncoveredLine">    if (GuardDecl && !GuardDecl->use_empty())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2866</td>
    <td class="uncoveredLine">      CollectGuards = true;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2867</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2868</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2869</td>
    <td class="uncoveredLine">  for (auto *BB : L.blocks()) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2870</td>
    <td class="uncoveredLine">    if (LI.getLoopFor(BB) != &L)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2871</td>
    <td class="uncoveredLine">      continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2872</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2873</td>
    <td class="uncoveredLine">    for (auto &I : *BB) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2874</td>
    <td class="uncoveredLine">      if (auto *SI = dyn_cast<SelectInst>(&I)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2875</td>
    <td class="uncoveredLine">        auto *Cond = SI->getCondition();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2876</td>
    <td class="">        // Do not unswitch vector selects and logical and/or selects</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2877</td>
    <td class="uncoveredLine">        if (Cond->getType()->isIntegerTy(1) && !SI->getType()->isIntegerTy(1))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2878</td>
    <td class="uncoveredLine">          AddUnswitchCandidatesForInst(SI, Cond);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2879</td>
    <td class="uncoveredLine">      } else if (CollectGuards && isGuard(&I)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2880</td>
    <td class="">        auto *Cond =</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2881</td>
    <td class="uncoveredLine">            skipTrivialSelect(cast<IntrinsicInst>(&I)->getArgOperand(0));</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2882</td>
    <td class="">        // TODO: Support AND, OR conditions and partial unswitching.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2883</td>
    <td class="uncoveredLine">        if (!isa<Constant>(Cond) && L.isLoopInvariant(Cond))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2884</td>
    <td class="uncoveredLine">          UnswitchCandidates.push_back({&I, {Cond}});</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2885</td>
    <td class="">      }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2886</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2887</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2888</td>
    <td class="uncoveredLine">    if (auto *SI = dyn_cast<SwitchInst>(BB->getTerminator())) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2889</td>
    <td class="">      // We can only consider fully loop-invariant switch conditions as we need</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2890</td>
    <td class="">      // to completely eliminate the switch after unswitching.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2891</td>
    <td class="uncoveredLine">      if (!isa<Constant>(SI->getCondition()) &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2892</td>
    <td class="uncoveredLine">          L.isLoopInvariant(SI->getCondition()) && !BB->getUniqueSuccessor())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2893</td>
    <td class="uncoveredLine">        UnswitchCandidates.push_back({SI, {SI->getCondition()}});</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2894</td>
    <td class="uncoveredLine">      continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2895</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2896</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2897</td>
    <td class="uncoveredLine">    auto *BI = dyn_cast<BranchInst>(BB->getTerminator());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2898</td>
    <td class="uncoveredLine">    if (!BI || !BI->isConditional() ||</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2899</td>
    <td class="uncoveredLine">        BI->getSuccessor(0) == BI->getSuccessor(1))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2900</td>
    <td class="uncoveredLine">      continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2901</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2902</td>
    <td class="uncoveredLine">    AddUnswitchCandidatesForInst(BI, BI->getCondition());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2903</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2904</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2905</td>
    <td class="uncoveredLine">  if (MSSAU && !findOptionMDForLoop(&L, "llvm.loop.unswitch.partial.disable") &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2906</td>
    <td class="uncoveredLine">      !any_of(UnswitchCandidates, [&L](auto &TerminatorAndInvariants) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2907</td>
    <td class="uncoveredLine">         return TerminatorAndInvariants.TI == L.getHeader()->getTerminator();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2908</td>
    <td class="">       })) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2909</td>
    <td class="uncoveredLine">    MemorySSA *MSSA = MSSAU->getMemorySSA();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2910</td>
    <td class="uncoveredLine">    if (auto Info = hasPartialIVCondition(L, MSSAThreshold, *MSSA, AA)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2911</td>
    <td class="uncoveredLine">      LLVM_DEBUG(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2912</td>
    <td class="">          dbgs() << "simple-loop-unswitch: Found partially invariant condition "</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2913</td>
    <td class="">                 << *Info->InstToDuplicate[0] << "\n");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2914</td>
    <td class="uncoveredLine">      PartialIVInfo = *Info;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2915</td>
    <td class="uncoveredLine">      PartialIVCondBranch = L.getHeader()->getTerminator();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2916</td>
    <td class="uncoveredLine">      TinyPtrVector<Value *> ValsToDuplicate;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2917</td>
    <td class="uncoveredLine">      llvm::append_range(ValsToDuplicate, Info->InstToDuplicate);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2918</td>
    <td class="uncoveredLine">      UnswitchCandidates.push_back(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2919</td>
    <td class="uncoveredLine">          {L.getHeader()->getTerminator(), std::move(ValsToDuplicate)});</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2920</td>
    <td class="uncoveredLine">    }</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2921</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2922</td>
    <td class="uncoveredLine">  return !UnswitchCandidates.empty();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2923</td>
    <td class="">}</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2924</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2925</td>
    <td class="">/// Tries to canonicalize condition described by:</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2926</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2927</td>
    <td class="">///   br (LHS pred RHS), label IfTrue, label IfFalse</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2928</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2929</td>
    <td class="">/// into its equivalent where `Pred` is something that we support for injected</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2930</td>
    <td class="">/// invariants (so far it is limited to ult), LHS in canonicalized form is</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2931</td>
    <td class="">/// non-invariant and RHS is an invariant.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2932</td>
    <td class="uncoveredLine">static void canonicalizeForInvariantConditionInjection(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2933</td>
    <td class="">    ICmpInst::Predicate &Pred, Value *&LHS, Value *&RHS, BasicBlock *&IfTrue,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2934</td>
    <td class="">    BasicBlock *&IfFalse, const Loop &L) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2935</td>
    <td class="uncoveredLine">  if (!L.contains(IfTrue)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2936</td>
    <td class="uncoveredLine">    Pred = ICmpInst::getInversePredicate(Pred);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2937</td>
    <td class="uncoveredLine">    std::swap(IfTrue, IfFalse);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2938</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2939</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2940</td>
    <td class="">  // Move loop-invariant argument to RHS position.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2941</td>
    <td class="uncoveredLine">  if (L.isLoopInvariant(LHS)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2942</td>
    <td class="uncoveredLine">    Pred = ICmpInst::getSwappedPredicate(Pred);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2943</td>
    <td class="uncoveredLine">    std::swap(LHS, RHS);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2944</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2945</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2946</td>
    <td class="uncoveredLine">  if (Pred == ICmpInst::ICMP_SGE && match(RHS, m_Zero())) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2947</td>
    <td class="">    // Turn "x >=s 0" into "x <u UMIN_INT"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2948</td>
    <td class="uncoveredLine">    Pred = ICmpInst::ICMP_ULT;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2949</td>
    <td class="uncoveredLine">    RHS = ConstantInt::get(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2950</td>
    <td class="">        RHS->getContext(),</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2951</td>
    <td class="uncoveredLine">        APInt::getSignedMinValue(RHS->getType()->getIntegerBitWidth()));</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2952</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2953</td>
    <td class="uncoveredLine">}</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2954</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2955</td>
    <td class="">/// Returns true, if predicate described by ( \p Pred, \p LHS, \p RHS )</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2956</td>
    <td class="">/// succeeding into blocks ( \p IfTrue, \p IfFalse) can be optimized by</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2957</td>
    <td class="">/// injecting a loop-invariant condition.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2958</td>
    <td class="uncoveredLine">static bool shouldTryInjectInvariantCondition(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2959</td>
    <td class="">    const ICmpInst::Predicate Pred, const Value *LHS, const Value *RHS,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2960</td>
    <td class="">    const BasicBlock *IfTrue, const BasicBlock *IfFalse, const Loop &L) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2961</td>
    <td class="uncoveredLine">  if (L.isLoopInvariant(LHS) || !L.isLoopInvariant(RHS))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2962</td>
    <td class="uncoveredLine">    return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2963</td>
    <td class="">  // TODO: Support other predicates.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2964</td>
    <td class="uncoveredLine">  if (Pred != ICmpInst::ICMP_ULT)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2965</td>
    <td class="uncoveredLine">    return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2966</td>
    <td class="">  // TODO: Support non-loop-exiting branches?</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2967</td>
    <td class="uncoveredLine">  if (!L.contains(IfTrue) || L.contains(IfFalse))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2968</td>
    <td class="uncoveredLine">    return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2969</td>
    <td class="">  // FIXME: For some reason this causes problems with MSSA updates, need to</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2970</td>
    <td class="">  // investigate why. So far, just don't unswitch latch.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2971</td>
    <td class="uncoveredLine">  if (L.getHeader() == IfTrue)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2972</td>
    <td class="uncoveredLine">    return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2973</td>
    <td class="uncoveredLine">  return true;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2974</td>
    <td class="">}</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2975</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2976</td>
    <td class="">/// Returns true, if metadata on \p BI allows us to optimize branching into \p</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2977</td>
    <td class="">/// TakenSucc via injection of invariant conditions. The branch should be not</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2978</td>
    <td class="">/// enough and not previously unswitched, the information about this comes from</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2979</td>
    <td class="">/// the metadata.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2980</td>
    <td class="uncoveredLine">bool shouldTryInjectBasingOnMetadata(const BranchInst *BI,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2981</td>
    <td class="">                                     const BasicBlock *TakenSucc) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2982</td>
    <td class="">  // Skip branches that have already been unswithed this way. After successful</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2983</td>
    <td class="">  // unswitching of injected condition, we will still have a copy of this loop</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2984</td>
    <td class="">  // which looks exactly the same as original one. To prevent the 2nd attempt</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2985</td>
    <td class="">  // of unswitching it in the same pass, mark this branch as "nothing to do</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2986</td>
    <td class="">  // here".</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2987</td>
    <td class="uncoveredLine">  if (BI->hasMetadata("llvm.invariant.condition.injection.disabled"))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2988</td>
    <td class="uncoveredLine">    return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2989</td>
    <td class="uncoveredLine">  SmallVector<uint32_t> Weights;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2990</td>
    <td class="uncoveredLine">  if (!extractBranchWeights(*BI, Weights))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2991</td>
    <td class="uncoveredLine">    return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2992</td>
    <td class="uncoveredLine">  unsigned T = InjectInvariantConditionHotnesThreshold;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2993</td>
    <td class="uncoveredLine">  BranchProbability LikelyTaken(T - 1, T);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2994</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2995</td>
    <td class="uncoveredLine">  assert(Weights.size() == 2 && "Unexpected profile data!");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2996</td>
    <td class="uncoveredLine">  size_t Idx = BI->getSuccessor(0) == TakenSucc ? 0 : 1;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2997</td>
    <td class="uncoveredLine">  auto Num = Weights[Idx];</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2998</td>
    <td class="uncoveredLine">  auto Denom = Weights[0] + Weights[1];</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2999</td>
    <td class="">  // Degenerate or overflowed metadata.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3000</td>
    <td class="uncoveredLine">  if (Denom == 0 || Num > Denom)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3001</td>
    <td class="uncoveredLine">    return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3002</td>
    <td class="uncoveredLine">  BranchProbability ActualTaken(Num, Denom);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3003</td>
    <td class="uncoveredLine">  if (LikelyTaken > ActualTaken)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3004</td>
    <td class="uncoveredLine">    return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3005</td>
    <td class="uncoveredLine">  return true;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3006</td>
    <td class="uncoveredLine">}</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3007</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3008</td>
    <td class="">/// Materialize pending invariant condition of the given candidate into IR. The</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3009</td>
    <td class="">/// injected loop-invariant condition implies the original loop-variant branch</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3010</td>
    <td class="">/// condition, so the materialization turns</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3011</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3012</td>
    <td class="">/// loop_block:</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3013</td>
    <td class="">///   ...</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3014</td>
    <td class="">///   br i1 %variant_cond, label InLoopSucc, label OutOfLoopSucc</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3015</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3016</td>
    <td class="">/// into</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3017</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3018</td>
    <td class="">/// preheader:</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3019</td>
    <td class="">///   %invariant_cond = LHS pred RHS</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3020</td>
    <td class="">/// ...</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3021</td>
    <td class="">/// loop_block:</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3022</td>
    <td class="">///   br i1 %invariant_cond, label InLoopSucc, label OriginalCheck</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3023</td>
    <td class="">/// OriginalCheck:</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3024</td>
    <td class="">///   br i1 %variant_cond, label InLoopSucc, label OutOfLoopSucc</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3025</td>
    <td class="">/// ...</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3026</td>
    <td class="">static NonTrivialUnswitchCandidate</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3027</td>
    <td class="uncoveredLine">injectPendingInvariantConditions(NonTrivialUnswitchCandidate Candidate, Loop &L,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3028</td>
    <td class="">                                 DominatorTree &DT, LoopInfo &LI,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3029</td>
    <td class="">                                 AssumptionCache &AC, MemorySSAUpdater *MSSAU) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3030</td>
    <td class="uncoveredLine">  assert(Candidate.hasPendingInjection() && "Nothing to inject!");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3031</td>
    <td class="uncoveredLine">  BasicBlock *Preheader = L.getLoopPreheader();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3032</td>
    <td class="uncoveredLine">  assert(Preheader && "Loop is not in simplified form?");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3033</td>
    <td class="uncoveredLine">  assert(LI.getLoopFor(Candidate.TI->getParent()) == &L &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3034</td>
    <td class="">         "Unswitching branch of inner loop!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3035</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3036</td>
    <td class="uncoveredLine">  auto Pred = Candidate.PendingInjection->Pred;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3037</td>
    <td class="uncoveredLine">  auto *LHS = Candidate.PendingInjection->LHS;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3038</td>
    <td class="uncoveredLine">  auto *RHS = Candidate.PendingInjection->RHS;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3039</td>
    <td class="uncoveredLine">  auto *InLoopSucc = Candidate.PendingInjection->InLoopSucc;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3040</td>
    <td class="uncoveredLine">  auto *TI = cast<BranchInst>(Candidate.TI);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3041</td>
    <td class="uncoveredLine">  auto *BB = Candidate.TI->getParent();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3042</td>
    <td class="uncoveredLine">  auto *OutOfLoopSucc = InLoopSucc == TI->getSuccessor(0) ? TI->getSuccessor(1)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3043</td>
    <td class="uncoveredLine">                                                          : TI->getSuccessor(0);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3044</td>
    <td class="">  // FIXME: Remove this once limitation on successors is lifted.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3045</td>
    <td class="uncoveredLine">  assert(L.contains(InLoopSucc) && "Not supported yet!");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3046</td>
    <td class="uncoveredLine">  assert(!L.contains(OutOfLoopSucc) && "Not supported yet!");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3047</td>
    <td class="uncoveredLine">  auto &Ctx = BB->getContext();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3048</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3049</td>
    <td class="uncoveredLine">  IRBuilder<> Builder(Preheader->getTerminator());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3050</td>
    <td class="uncoveredLine">  assert(ICmpInst::isUnsigned(Pred) && "Not supported yet!");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3051</td>
    <td class="uncoveredLine">  if (LHS->getType() != RHS->getType()) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3052</td>
    <td class="uncoveredLine">    if (LHS->getType()->getIntegerBitWidth() <</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3053</td>
    <td class="uncoveredLine">        RHS->getType()->getIntegerBitWidth())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3054</td>
    <td class="uncoveredLine">      LHS = Builder.CreateZExt(LHS, RHS->getType(), LHS->getName() + ".wide");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3055</td>
    <td class="">    else</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3056</td>
    <td class="uncoveredLine">      RHS = Builder.CreateZExt(RHS, LHS->getType(), RHS->getName() + ".wide");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3057</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3058</td>
    <td class="">  // Do not use builder here: CreateICmp may simplify this into a constant and</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3059</td>
    <td class="">  // unswitching will break. Better optimize it away later.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3060</td>
    <td class="">  auto *InjectedCond =</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3061</td>
    <td class="uncoveredLine">      ICmpInst::Create(Instruction::ICmp, Pred, LHS, RHS, "injected.cond",</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3062</td>
    <td class="">                       Preheader->getTerminator());</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3063</td>
    <td class="uncoveredLine">  auto *OldCond = TI->getCondition();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3064</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3065</td>
    <td class="uncoveredLine">  BasicBlock *CheckBlock = BasicBlock::Create(Ctx, BB->getName() + ".check",</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3066</td>
    <td class="">                                              BB->getParent(), InLoopSucc);</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3067</td>
    <td class="uncoveredLine">  Builder.SetInsertPoint(TI);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3068</td>
    <td class="">  auto *InvariantBr =</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3069</td>
    <td class="uncoveredLine">      Builder.CreateCondBr(InjectedCond, InLoopSucc, CheckBlock);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3070</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3071</td>
    <td class="uncoveredLine">  Builder.SetInsertPoint(CheckBlock);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3072</td>
    <td class="uncoveredLine">  auto *NewTerm = Builder.CreateCondBr(OldCond, InLoopSucc, OutOfLoopSucc);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3073</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3074</td>
    <td class="uncoveredLine">  TI->eraseFromParent();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3075</td>
    <td class="">  // Prevent infinite unswitching.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3076</td>
    <td class="uncoveredLine">  NewTerm->setMetadata("llvm.invariant.condition.injection.disabled",</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3077</td>
    <td class="uncoveredLine">                       MDNode::get(BB->getContext(), {}));</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3078</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3079</td>
    <td class="">  // Fixup phis.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3080</td>
    <td class="uncoveredLine">  for (auto &I : *InLoopSucc) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3081</td>
    <td class="uncoveredLine">    auto *PN = dyn_cast<PHINode>(&I);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3082</td>
    <td class="uncoveredLine">    if (!PN)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3083</td>
    <td class="uncoveredLine">      break;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3084</td>
    <td class="uncoveredLine">    auto *Inc = PN->getIncomingValueForBlock(BB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3085</td>
    <td class="uncoveredLine">    PN->addIncoming(Inc, CheckBlock);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3086</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3087</td>
    <td class="uncoveredLine">  OutOfLoopSucc->replacePhiUsesWith(BB, CheckBlock);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3088</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3089</td>
    <td class="">  SmallVector<DominatorTree::UpdateType, 4> DTUpdates = {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3090</td>
    <td class="">    { DominatorTree::Insert, BB, CheckBlock },</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3091</td>
    <td class="">    { DominatorTree::Insert, CheckBlock, InLoopSucc },</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3092</td>
    <td class="">    { DominatorTree::Insert, CheckBlock, OutOfLoopSucc },</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3093</td>
    <td class="">    { DominatorTree::Delete, BB, OutOfLoopSucc }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3094</td>
    <td class="uncoveredLine">  };</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3095</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3096</td>
    <td class="uncoveredLine">  DT.applyUpdates(DTUpdates);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3097</td>
    <td class="uncoveredLine">  if (MSSAU)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3098</td>
    <td class="uncoveredLine">    MSSAU->applyUpdates(DTUpdates, DT);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3099</td>
    <td class="uncoveredLine">  L.addBasicBlockToLoop(CheckBlock, LI);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3100</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3101</td>
    <td class="">#ifndef NDEBUG</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3102</td>
    <td class="uncoveredLine">  DT.verify();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3103</td>
    <td class="uncoveredLine">  LI.verify(DT);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3104</td>
    <td class="uncoveredLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3105</td>
    <td class="uncoveredLine">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3106</td>
    <td class="">#endif</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3107</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3108</td>
    <td class="">  // TODO: In fact, cost of unswitching a new invariant candidate is *slightly*</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3109</td>
    <td class="">  // higher because we have just inserted a new block. Need to think how to</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3110</td>
    <td class="">  // adjust the cost of injected candidates when it was first computed.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3111</td>
    <td class="uncoveredLine">  LLVM_DEBUG(dbgs() << "Injected a new loop-invariant branch " << *InvariantBr</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3112</td>
    <td class="">                    << " and considering it for unswitching.");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3113</td>
    <td class="uncoveredLine">  ++NumInvariantConditionsInjected;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3114</td>
    <td class="">  return NonTrivialUnswitchCandidate(InvariantBr, { InjectedCond },</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3115</td>
    <td class="uncoveredLine">                                     Candidate.Cost);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3116</td>
    <td class="uncoveredLine">}</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3117</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3118</td>
    <td class="">/// Given chain of loop branch conditions looking like:</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3119</td>
    <td class="">///   br (Variant < Invariant1)</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3120</td>
    <td class="">///   br (Variant < Invariant2)</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3121</td>
    <td class="">///   br (Variant < Invariant3)</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3122</td>
    <td class="">///   ...</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3123</td>
    <td class="">/// collect set of invariant conditions on which we want to unswitch, which</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3124</td>
    <td class="">/// look like:</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3125</td>
    <td class="">///   Invariant1 <= Invariant2</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3126</td>
    <td class="">///   Invariant2 <= Invariant3</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3127</td>
    <td class="">///   ...</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3128</td>
    <td class="">/// Though they might not immediately exist in the IR, we can still inject them.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3129</td>
    <td class="uncoveredLine">static bool insertCandidatesWithPendingInjections(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3130</td>
    <td class="">    SmallVectorImpl<NonTrivialUnswitchCandidate> &UnswitchCandidates, Loop &L,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3131</td>
    <td class="">    ICmpInst::Predicate Pred, ArrayRef<CompareDesc> Compares,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3132</td>
    <td class="">    const DominatorTree &DT) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3133</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3134</td>
    <td class="uncoveredLine">  assert(ICmpInst::isRelational(Pred));</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3135</td>
    <td class="uncoveredLine">  assert(ICmpInst::isStrictPredicate(Pred));</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3136</td>
    <td class="uncoveredLine">  if (Compares.size() < 2)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3137</td>
    <td class="uncoveredLine">    return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3138</td>
    <td class="uncoveredLine">  ICmpInst::Predicate NonStrictPred = ICmpInst::getNonStrictPredicate(Pred);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3139</td>
    <td class="uncoveredLine">  for (auto Prev = Compares.begin(), Next = Compares.begin() + 1;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3140</td>
    <td class="uncoveredLine">       Next != Compares.end(); ++Prev, ++Next) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3141</td>
    <td class="uncoveredLine">    Value *LHS = Next->Invariant;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3142</td>
    <td class="uncoveredLine">    Value *RHS = Prev->Invariant;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3143</td>
    <td class="uncoveredLine">    BasicBlock *InLoopSucc = Prev->InLoopSucc;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3144</td>
    <td class="uncoveredLine">    InjectedInvariant ToInject(NonStrictPred, LHS, RHS, InLoopSucc);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3145</td>
    <td class="uncoveredLine">    NonTrivialUnswitchCandidate Candidate(Prev->Term, { LHS, RHS },</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3146</td>
    <td class="uncoveredLine">                                          std::nullopt, std::move(ToInject));</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3147</td>
    <td class="uncoveredLine">    UnswitchCandidates.push_back(std::move(Candidate));</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3148</td>
    <td class="uncoveredLine">  }</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3149</td>
    <td class="uncoveredLine">  return true;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3150</td>
    <td class="">}</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3151</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3152</td>
    <td class="">/// Collect unswitch candidates by invariant conditions that are not immediately</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3153</td>
    <td class="">/// present in the loop. However, they can be injected into the code if we</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3154</td>
    <td class="">/// decide it's profitable.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3155</td>
    <td class="">/// An example of such conditions is following:</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3156</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3157</td>
    <td class="">///   for (...) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3158</td>
    <td class="">///     x = load ...</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3159</td>
    <td class="">///     if (! x <u C1) break;</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3160</td>
    <td class="">///     if (! x <u C2) break;</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3161</td>
    <td class="">///     <do something></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3162</td>
    <td class="">///   }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3163</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3164</td>
    <td class="">/// We can unswitch by condition "C1 <=u C2". If that is true, then "x <u C1 <=</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3165</td>
    <td class="">/// C2" automatically implies "x <u C2", so we can get rid of one of</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3166</td>
    <td class="">/// loop-variant checks in unswitched loop version.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3167</td>
    <td class="uncoveredLine">static bool collectUnswitchCandidatesWithInjections(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3168</td>
    <td class="">    SmallVectorImpl<NonTrivialUnswitchCandidate> &UnswitchCandidates,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3169</td>
    <td class="">    IVConditionInfo &PartialIVInfo, Instruction *&PartialIVCondBranch, Loop &L,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3170</td>
    <td class="">    const DominatorTree &DT, const LoopInfo &LI, AAResults &AA,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3171</td>
    <td class="">    const MemorySSAUpdater *MSSAU) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3172</td>
    <td class="uncoveredLine">  if (!InjectInvariantConditions)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3173</td>
    <td class="uncoveredLine">    return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3174</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3175</td>
    <td class="uncoveredLine">  if (!DT.isReachableFromEntry(L.getHeader()))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3176</td>
    <td class="uncoveredLine">    return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3177</td>
    <td class="uncoveredLine">  auto *Latch = L.getLoopLatch();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3178</td>
    <td class="">  // Need to have a single latch and a preheader.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3179</td>
    <td class="uncoveredLine">  if (!Latch)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3180</td>
    <td class="uncoveredLine">    return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3181</td>
    <td class="uncoveredLine">  assert(L.getLoopPreheader() && "Must have a preheader!");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3182</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3183</td>
    <td class="uncoveredLine">  DenseMap<Value *, SmallVector<CompareDesc, 4> > CandidatesULT;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3184</td>
    <td class="">  // Traverse the conditions that dominate latch (and therefore dominate each</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3185</td>
    <td class="">  // other).</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3186</td>
    <td class="uncoveredLine">  for (auto *DTN = DT.getNode(Latch); L.contains(DTN->getBlock());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3187</td>
    <td class="uncoveredLine">       DTN = DTN->getIDom()) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3188</td>
    <td class="">    ICmpInst::Predicate Pred;</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3189</td>
    <td class="uncoveredLine">    Value *LHS = nullptr, *RHS = nullptr;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3190</td>
    <td class="uncoveredLine">    BasicBlock *IfTrue = nullptr, *IfFalse = nullptr;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3191</td>
    <td class="uncoveredLine">    auto *BB = DTN->getBlock();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3192</td>
    <td class="">    // Ignore inner loops.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3193</td>
    <td class="uncoveredLine">    if (LI.getLoopFor(BB) != &L)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3194</td>
    <td class="uncoveredLine">      continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3195</td>
    <td class="uncoveredLine">    auto *Term = BB->getTerminator();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3196</td>
    <td class="uncoveredLine">    if (!match(Term, m_Br(m_ICmp(Pred, m_Value(LHS), m_Value(RHS)),</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3197</td>
    <td class="uncoveredLine">                          m_BasicBlock(IfTrue), m_BasicBlock(IfFalse))))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3198</td>
    <td class="uncoveredLine">      continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3199</td>
    <td class="uncoveredLine">    if (!LHS->getType()->isIntegerTy())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3200</td>
    <td class="uncoveredLine">      continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3201</td>
    <td class="uncoveredLine">    canonicalizeForInvariantConditionInjection(Pred, LHS, RHS, IfTrue, IfFalse,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3202</td>
    <td class="">                                               L);</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3203</td>
    <td class="uncoveredLine">    if (!shouldTryInjectInvariantCondition(Pred, LHS, RHS, IfTrue, IfFalse, L))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3204</td>
    <td class="uncoveredLine">      continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3205</td>
    <td class="uncoveredLine">    if (!shouldTryInjectBasingOnMetadata(cast<BranchInst>(Term), IfTrue))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3206</td>
    <td class="uncoveredLine">      continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3207</td>
    <td class="">    // Strip ZEXT for unsigned predicate.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3208</td>
    <td class="">    // TODO: once signed predicates are supported, also strip SEXT.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3209</td>
    <td class="uncoveredLine">    CompareDesc Desc(cast<BranchInst>(Term), RHS, IfTrue);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3210</td>
    <td class="uncoveredLine">    while (auto *Zext = dyn_cast<ZExtInst>(LHS))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3211</td>
    <td class="uncoveredLine">      LHS = Zext->getOperand(0);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3212</td>
    <td class="uncoveredLine">    CandidatesULT[LHS].push_back(Desc);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3213</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3214</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3215</td>
    <td class="uncoveredLine">  bool Found = false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3216</td>
    <td class="uncoveredLine">  for (auto &It : CandidatesULT)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3217</td>
    <td class="uncoveredLine">    Found |= insertCandidatesWithPendingInjections(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3218</td>
    <td class="">        UnswitchCandidates, L, ICmpInst::ICMP_ULT, It.second, DT);</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3219</td>
    <td class="uncoveredLine">  return Found;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3220</td>
    <td class="uncoveredLine">}</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3221</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3222</td>
    <td class="uncoveredLine">static bool isSafeForNoNTrivialUnswitching(Loop &L, LoopInfo &LI) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3223</td>
    <td class="uncoveredLine">  if (!L.isSafeToClone())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3224</td>
    <td class="uncoveredLine">    return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3225</td>
    <td class="uncoveredLine">  for (auto *BB : L.blocks())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3226</td>
    <td class="uncoveredLine">    for (auto &I : *BB) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3227</td>
    <td class="uncoveredLine">      if (I.getType()->isTokenTy() && I.isUsedOutsideOfBlock(BB))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3228</td>
    <td class="uncoveredLine">        return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3229</td>
    <td class="uncoveredLine">      if (auto *CB = dyn_cast<CallBase>(&I)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3230</td>
    <td class="uncoveredLine">        assert(!CB->cannotDuplicate() && "Checked by L.isSafeToClone().");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3231</td>
    <td class="uncoveredLine">        if (CB->isConvergent())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3232</td>
    <td class="uncoveredLine">          return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3233</td>
    <td class="">      }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3234</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3235</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3236</td>
    <td class="">  // Check if there are irreducible CFG cycles in this loop. If so, we cannot</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3237</td>
    <td class="">  // easily unswitch non-trivial edges out of the loop. Doing so might turn the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3238</td>
    <td class="">  // irreducible control flow into reducible control flow and introduce new</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3239</td>
    <td class="">  // loops "out of thin air". If we ever discover important use cases for doing</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3240</td>
    <td class="">  // this, we can add support to loop unswitch, but it is a lot of complexity</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3241</td>
    <td class="">  // for what seems little or no real world benefit.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3242</td>
    <td class="uncoveredLine">  LoopBlocksRPO RPOT(&L);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3243</td>
    <td class="uncoveredLine">  RPOT.perform(&LI);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3244</td>
    <td class="uncoveredLine">  if (containsIrreducibleCFG<const BasicBlock *>(RPOT, LI))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3245</td>
    <td class="uncoveredLine">    return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3246</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3247</td>
    <td class="uncoveredLine">  SmallVector<BasicBlock *, 4> ExitBlocks;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3248</td>
    <td class="uncoveredLine">  L.getUniqueExitBlocks(ExitBlocks);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3249</td>
    <td class="">  // We cannot unswitch if exit blocks contain a cleanuppad/catchswitch</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3250</td>
    <td class="">  // instruction as we don't know how to split those exit blocks.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3251</td>
    <td class="">  // FIXME: We should teach SplitBlock to handle this and remove this</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3252</td>
    <td class="">  // restriction.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3253</td>
    <td class="uncoveredLine">  for (auto *ExitBB : ExitBlocks) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3254</td>
    <td class="uncoveredLine">    auto *I = ExitBB->getFirstNonPHI();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3255</td>
    <td class="uncoveredLine">    if (isa<CleanupPadInst>(I) || isa<CatchSwitchInst>(I)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3256</td>
    <td class="uncoveredLine">      LLVM_DEBUG(dbgs() << "Cannot unswitch because of cleanuppad/catchswitch "</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3257</td>
    <td class="">                           "in exit block\n");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3258</td>
    <td class="uncoveredLine">      return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3259</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3260</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3261</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3262</td>
    <td class="uncoveredLine">  return true;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3263</td>
    <td class="uncoveredLine">}</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3264</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3265</td>
    <td class="uncoveredLine">static NonTrivialUnswitchCandidate findBestNonTrivialUnswitchCandidate(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3266</td>
    <td class="">    ArrayRef<NonTrivialUnswitchCandidate> UnswitchCandidates, const Loop &L,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3267</td>
    <td class="">    const DominatorTree &DT, const LoopInfo &LI, AssumptionCache &AC,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3268</td>
    <td class="">    const TargetTransformInfo &TTI, const IVConditionInfo &PartialIVInfo) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3269</td>
    <td class="">  // Given that unswitching these terminators will require duplicating parts of</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3270</td>
    <td class="">  // the loop, so we need to be able to model that cost. Compute the ephemeral</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3271</td>
    <td class="">  // values and set up a data structure to hold per-BB costs. We cache each</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3272</td>
    <td class="">  // block's cost so that we don't recompute this when considering different</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3273</td>
    <td class="">  // subsets of the loop for duplication during unswitching.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3274</td>
    <td class="uncoveredLine">  SmallPtrSet<const Value *, 4> EphValues;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3275</td>
    <td class="uncoveredLine">  CodeMetrics::collectEphemeralValues(&L, &AC, EphValues);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3276</td>
    <td class="uncoveredLine">  SmallDenseMap<BasicBlock *, InstructionCost, 4> BBCostMap;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3277</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3278</td>
    <td class="">  // Compute the cost of each block, as well as the total loop cost. Also, bail</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3279</td>
    <td class="">  // out if we see instructions which are incompatible with loop unswitching</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3280</td>
    <td class="">  // (convergent, noduplicate, or cross-basic-block tokens).</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3281</td>
    <td class="">  // FIXME: We might be able to safely handle some of these in non-duplicated</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3282</td>
    <td class="">  // regions.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3283</td>
    <td class="">  TargetTransformInfo::TargetCostKind CostKind =</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3284</td>
    <td class="uncoveredLine">      L.getHeader()->getParent()->hasMinSize()</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3285</td>
    <td class="uncoveredLine">      ? TargetTransformInfo::TCK_CodeSize</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3286</td>
    <td class="uncoveredLine">      : TargetTransformInfo::TCK_SizeAndLatency;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3287</td>
    <td class="uncoveredLine">  InstructionCost LoopCost = 0;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3288</td>
    <td class="uncoveredLine">  for (auto *BB : L.blocks()) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3289</td>
    <td class="uncoveredLine">    InstructionCost Cost = 0;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3290</td>
    <td class="uncoveredLine">    for (auto &I : *BB) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3291</td>
    <td class="uncoveredLine">      if (EphValues.count(&I))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3292</td>
    <td class="uncoveredLine">        continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3293</td>
    <td class="uncoveredLine">      Cost += TTI.getInstructionCost(&I, CostKind);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3294</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3295</td>
    <td class="uncoveredLine">    assert(Cost >= 0 && "Must not have negative costs!");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3296</td>
    <td class="uncoveredLine">    LoopCost += Cost;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3297</td>
    <td class="uncoveredLine">    assert(LoopCost >= 0 && "Must not have negative loop costs!");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3298</td>
    <td class="uncoveredLine">    BBCostMap[BB] = Cost;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3299</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3300</td>
    <td class="uncoveredLine">  LLVM_DEBUG(dbgs() << "  Total loop cost: " << LoopCost << "\n");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3301</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3302</td>
    <td class="">  // Now we find the best candidate by searching for the one with the following</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3303</td>
    <td class="">  // properties in order:</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3304</td>
    <td class="">  //</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3305</td>
    <td class="">  // 1) An unswitching cost below the threshold</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3306</td>
    <td class="">  // 2) The smallest number of duplicated unswitch candidates (to avoid</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3307</td>
    <td class="">  //    creating redundant subsequent unswitching)</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3308</td>
    <td class="">  // 3) The smallest cost after unswitching.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3309</td>
    <td class="">  //</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3310</td>
    <td class="">  // We prioritize reducing fanout of unswitch candidates provided the cost</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3311</td>
    <td class="">  // remains below the threshold because this has a multiplicative effect.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3312</td>
    <td class="">  //</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3313</td>
    <td class="">  // This requires memoizing each dominator subtree to avoid redundant work.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3314</td>
    <td class="">  //</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3315</td>
    <td class="">  // FIXME: Need to actually do the number of candidates part above.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3316</td>
    <td class="uncoveredLine">  SmallDenseMap<DomTreeNode *, InstructionCost, 4> DTCostMap;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3317</td>
    <td class="">  // Given a terminator which might be unswitched, computes the non-duplicated</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3318</td>
    <td class="">  // cost for that terminator.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3319</td>
    <td class="uncoveredLine">  auto ComputeUnswitchedCost = [&](Instruction &TI,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3320</td>
    <td class="">                                   bool FullUnswitch) -> InstructionCost {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3321</td>
    <td class="">    // Unswitching selects unswitches the entire loop.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3322</td>
    <td class="uncoveredLine">    if (isa<SelectInst>(TI))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3323</td>
    <td class="uncoveredLine">      return LoopCost;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3324</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3325</td>
    <td class="uncoveredLine">    BasicBlock &BB = *TI.getParent();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3326</td>
    <td class="uncoveredLine">    SmallPtrSet<BasicBlock *, 4> Visited;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3327</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3328</td>
    <td class="uncoveredLine">    InstructionCost Cost = 0;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3329</td>
    <td class="uncoveredLine">    for (BasicBlock *SuccBB : successors(&BB)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3330</td>
    <td class="">      // Don't count successors more than once.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3331</td>
    <td class="uncoveredLine">      if (!Visited.insert(SuccBB).second)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3332</td>
    <td class="uncoveredLine">        continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3333</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3334</td>
    <td class="">      // If this is a partial unswitch candidate, then it must be a conditional</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3335</td>
    <td class="">      // branch with a condition of either `or`, `and`, their corresponding</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3336</td>
    <td class="">      // select forms or partially invariant instructions. In that case, one of</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3337</td>
    <td class="">      // the successors is necessarily duplicated, so don't even try to remove</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3338</td>
    <td class="">      // its cost.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3339</td>
    <td class="uncoveredLine">      if (!FullUnswitch) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3340</td>
    <td class="uncoveredLine">        auto &BI = cast<BranchInst>(TI);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3341</td>
    <td class="uncoveredLine">        Value *Cond = skipTrivialSelect(BI.getCondition());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3342</td>
    <td class="uncoveredLine">        if (match(Cond, m_LogicalAnd())) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3343</td>
    <td class="uncoveredLine">          if (SuccBB == BI.getSuccessor(1))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3344</td>
    <td class="uncoveredLine">            continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3345</td>
    <td class="uncoveredLine">        } else if (match(Cond, m_LogicalOr())) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3346</td>
    <td class="uncoveredLine">          if (SuccBB == BI.getSuccessor(0))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3347</td>
    <td class="uncoveredLine">            continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3348</td>
    <td class="uncoveredLine">        } else if ((PartialIVInfo.KnownValue->isOneValue() &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3349</td>
    <td class="uncoveredLine">                    SuccBB == BI.getSuccessor(0)) ||</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3350</td>
    <td class="uncoveredLine">                   (!PartialIVInfo.KnownValue->isOneValue() &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3351</td>
    <td class="uncoveredLine">                    SuccBB == BI.getSuccessor(1)))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3352</td>
    <td class="uncoveredLine">          continue;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3353</td>
    <td class="">      }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3354</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3355</td>
    <td class="">      // This successor's domtree will not need to be duplicated after</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3356</td>
    <td class="">      // unswitching if the edge to the successor dominates it (and thus the</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3357</td>
    <td class="">      // entire tree). This essentially means there is no other path into this</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3358</td>
    <td class="">      // subtree and so it will end up live in only one clone of the loop.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3359</td>
    <td class="uncoveredLine">      if (SuccBB->getUniquePredecessor() ||</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3360</td>
    <td class="uncoveredLine">          llvm::all_of(predecessors(SuccBB), [&](BasicBlock *PredBB) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3361</td>
    <td class="uncoveredLine">            return PredBB == &BB || DT.dominates(SuccBB, PredBB);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3362</td>
    <td class="">          })) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3363</td>
    <td class="uncoveredLine">        Cost += computeDomSubtreeCost(*DT[SuccBB], BBCostMap, DTCostMap);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3364</td>
    <td class="uncoveredLine">        assert(Cost <= LoopCost &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3365</td>
    <td class="">               "Non-duplicated cost should never exceed total loop cost!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3366</td>
    <td class="">      }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3367</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3368</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3369</td>
    <td class="">    // Now scale the cost by the number of unique successors minus one. We</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3370</td>
    <td class="">    // subtract one because there is already at least one copy of the entire</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3371</td>
    <td class="">    // loop. This is computing the new cost of unswitching a condition.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3372</td>
    <td class="">    // Note that guards always have 2 unique successors that are implicit and</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3373</td>
    <td class="">    // will be materialized if we decide to unswitch it.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3374</td>
    <td class="uncoveredLine">    int SuccessorsCount = isGuard(&TI) ? 2 : Visited.size();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3375</td>
    <td class="uncoveredLine">    assert(SuccessorsCount > 1 &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3376</td>
    <td class="">           "Cannot unswitch a condition without multiple distinct successors!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3377</td>
    <td class="uncoveredLine">    return (LoopCost - Cost) * (SuccessorsCount - 1);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3378</td>
    <td class="uncoveredLine">  };</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3379</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3380</td>
    <td class="uncoveredLine">  std::optional<NonTrivialUnswitchCandidate> Best;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3381</td>
    <td class="uncoveredLine">  for (auto &Candidate : UnswitchCandidates) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3382</td>
    <td class="uncoveredLine">    Instruction &TI = *Candidate.TI;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3383</td>
    <td class="uncoveredLine">    ArrayRef<Value *> Invariants = Candidate.Invariants;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3384</td>
    <td class="uncoveredLine">    BranchInst *BI = dyn_cast<BranchInst>(&TI);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3385</td>
    <td class="">    bool FullUnswitch =</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3386</td>
    <td class="uncoveredLine">        !BI || Candidate.hasPendingInjection() ||</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3387</td>
    <td class="uncoveredLine">        (Invariants.size() == 1 &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3388</td>
    <td class="uncoveredLine">         Invariants[0] == skipTrivialSelect(BI->getCondition()));</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3389</td>
    <td class="uncoveredLine">    InstructionCost CandidateCost = ComputeUnswitchedCost(TI, FullUnswitch);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3390</td>
    <td class="">    // Calculate cost multiplier which is a tool to limit potentially</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3391</td>
    <td class="">    // exponential behavior of loop-unswitch.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3392</td>
    <td class="uncoveredLine">    if (EnableUnswitchCostMultiplier) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3393</td>
    <td class="">      int CostMultiplier =</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3394</td>
    <td class="uncoveredLine">          CalculateUnswitchCostMultiplier(TI, L, LI, DT, UnswitchCandidates);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3395</td>
    <td class="uncoveredLine">      assert(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3396</td>
    <td class="">          (CostMultiplier > 0 && CostMultiplier <= UnswitchThreshold) &&</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3397</td>
    <td class="">          "cost multiplier needs to be in the range of 1..UnswitchThreshold");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3398</td>
    <td class="uncoveredLine">      CandidateCost *= CostMultiplier;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3399</td>
    <td class="uncoveredLine">      LLVM_DEBUG(dbgs() << "  Computed cost of " << CandidateCost</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3400</td>
    <td class="">                        << " (multiplier: " << CostMultiplier << ")"</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3401</td>
    <td class="">                        << " for unswitch candidate: " << TI << "\n");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3402</td>
    <td class="">    } else {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3403</td>
    <td class="uncoveredLine">      LLVM_DEBUG(dbgs() << "  Computed cost of " << CandidateCost</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3404</td>
    <td class="">                        << " for unswitch candidate: " << TI << "\n");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3405</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3406</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3407</td>
    <td class="uncoveredLine">    if (!Best || CandidateCost < Best->Cost) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3408</td>
    <td class="uncoveredLine">      Best = Candidate;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3409</td>
    <td class="uncoveredLine">      Best->Cost = CandidateCost;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3410</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3411</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3412</td>
    <td class="uncoveredLine">  assert(Best && "Must be!");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3413</td>
    <td class="uncoveredLine">  return *Best;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3414</td>
    <td class="uncoveredLine">}</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3415</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3416</td>
    <td class="">// Insert a freeze on an unswitched branch if all is true:</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3417</td>
    <td class="">// 1. freeze-loop-unswitch-cond option is true</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3418</td>
    <td class="">// 2. The branch may not execute in the loop pre-transformation. If a branch may</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3419</td>
    <td class="">// not execute and could cause UB, it would always cause UB if it is hoisted outside</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3420</td>
    <td class="">// of the loop. Insert a freeze to prevent this case.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3421</td>
    <td class="">// 3. The branch condition may be poison or undef</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3422</td>
    <td class="uncoveredLine">static bool shouldInsertFreeze(Loop &L, Instruction &TI, DominatorTree &DT,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3423</td>
    <td class="">                               AssumptionCache &AC) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3424</td>
    <td class="uncoveredLine">  assert(isa<BranchInst>(TI) || isa<SwitchInst>(TI));</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3425</td>
    <td class="uncoveredLine">  if (!FreezeLoopUnswitchCond)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3426</td>
    <td class="uncoveredLine">    return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3427</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3428</td>
    <td class="uncoveredLine">  ICFLoopSafetyInfo SafetyInfo;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3429</td>
    <td class="uncoveredLine">  SafetyInfo.computeLoopSafetyInfo(&L);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3430</td>
    <td class="uncoveredLine">  if (SafetyInfo.isGuaranteedToExecute(TI, &DT, &L))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3431</td>
    <td class="uncoveredLine">    return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3432</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3433</td>
    <td class="">  Value *Cond;</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3434</td>
    <td class="uncoveredLine">  if (BranchInst *BI = dyn_cast<BranchInst>(&TI))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3435</td>
    <td class="uncoveredLine">    Cond = skipTrivialSelect(BI->getCondition());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3436</td>
    <td class="">  else</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3437</td>
    <td class="uncoveredLine">    Cond = skipTrivialSelect(cast<SwitchInst>(&TI)->getCondition());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3438</td>
    <td class="uncoveredLine">  return !isGuaranteedNotToBeUndefOrPoison(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3439</td>
    <td class="uncoveredLine">      Cond, &AC, L.getLoopPreheader()->getTerminator(), &DT);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3440</td>
    <td class="uncoveredLine">}</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3441</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3442</td>
    <td class="uncoveredLine">static bool unswitchBestCondition(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3443</td>
    <td class="">    Loop &L, DominatorTree &DT, LoopInfo &LI, AssumptionCache &AC,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3444</td>
    <td class="">    AAResults &AA, TargetTransformInfo &TTI,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3445</td>
    <td class="">    function_ref<void(bool, bool, ArrayRef<Loop *>)> UnswitchCB,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3446</td>
    <td class="">    ScalarEvolution *SE, MemorySSAUpdater *MSSAU,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3447</td>
    <td class="">    function_ref<void(Loop &, StringRef)> DestroyLoopCB) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3448</td>
    <td class="">  // Collect all invariant conditions within this loop (as opposed to an inner</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3449</td>
    <td class="">  // loop which would be handled when visiting that inner loop).</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3450</td>
    <td class="uncoveredLine">  SmallVector<NonTrivialUnswitchCandidate, 4> UnswitchCandidates;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3451</td>
    <td class="uncoveredLine">  IVConditionInfo PartialIVInfo;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3452</td>
    <td class="uncoveredLine">  Instruction *PartialIVCondBranch = nullptr;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3453</td>
    <td class="uncoveredLine">  collectUnswitchCandidates(UnswitchCandidates, PartialIVInfo,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3454</td>
    <td class="">                            PartialIVCondBranch, L, LI, AA, MSSAU);</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3455</td>
    <td class="uncoveredLine">  collectUnswitchCandidatesWithInjections(UnswitchCandidates, PartialIVInfo,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3456</td>
    <td class="">                                          PartialIVCondBranch, L, DT, LI, AA,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3457</td>
    <td class="">                                          MSSAU);</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3458</td>
    <td class="">  // If we didn't find any candidates, we're done.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3459</td>
    <td class="uncoveredLine">  if (UnswitchCandidates.empty())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3460</td>
    <td class="uncoveredLine">    return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3461</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3462</td>
    <td class="uncoveredLine">  LLVM_DEBUG(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3463</td>
    <td class="">      dbgs() << "Considering " << UnswitchCandidates.size()</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3464</td>
    <td class="">             << " non-trivial loop invariant conditions for unswitching.\n");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3465</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3466</td>
    <td class="">  NonTrivialUnswitchCandidate Best = findBestNonTrivialUnswitchCandidate(</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3467</td>
    <td class="uncoveredLine">      UnswitchCandidates, L, DT, LI, AC, TTI, PartialIVInfo);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3468</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3469</td>
    <td class="uncoveredLine">  assert(Best.TI && "Failed to find loop unswitch candidate");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3470</td>
    <td class="uncoveredLine">  assert(Best.Cost && "Failed to compute cost");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3471</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3472</td>
    <td class="uncoveredLine">  if (*Best.Cost >= UnswitchThreshold) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3473</td>
    <td class="uncoveredLine">    LLVM_DEBUG(dbgs() << "Cannot unswitch, lowest cost found: " << *Best.Cost</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3474</td>
    <td class="">                      << "\n");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3475</td>
    <td class="uncoveredLine">    return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3476</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3477</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3478</td>
    <td class="uncoveredLine">  if (Best.hasPendingInjection())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3479</td>
    <td class="uncoveredLine">    Best = injectPendingInvariantConditions(Best, L, DT, LI, AC, MSSAU);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3480</td>
    <td class="uncoveredLine">  assert(!Best.hasPendingInjection() &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3481</td>
    <td class="">         "All injections should have been done by now!");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3482</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3483</td>
    <td class="uncoveredLine">  if (Best.TI != PartialIVCondBranch)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3484</td>
    <td class="uncoveredLine">    PartialIVInfo.InstToDuplicate.clear();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3485</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3486</td>
    <td class="">  bool InsertFreeze;</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3487</td>
    <td class="uncoveredLine">  if (auto *SI = dyn_cast<SelectInst>(Best.TI)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3488</td>
    <td class="">    // If the best candidate is a select, turn it into a branch. Select</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3489</td>
    <td class="">    // instructions with a poison conditional do not propagate poison, but</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3490</td>
    <td class="">    // branching on poison causes UB. Insert a freeze on the select</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3491</td>
    <td class="">    // conditional to prevent UB after turning the select into a branch.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3492</td>
    <td class="uncoveredLine">    InsertFreeze = !isGuaranteedNotToBeUndefOrPoison(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3493</td>
    <td class="uncoveredLine">        SI->getCondition(), &AC, L.getLoopPreheader()->getTerminator(), &DT);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3494</td>
    <td class="uncoveredLine">    Best.TI = turnSelectIntoBranch(SI, DT, LI, MSSAU, &AC);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3495</td>
    <td class="">  } else {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3496</td>
    <td class="">    // If the best candidate is a guard, turn it into a branch.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3497</td>
    <td class="uncoveredLine">    if (isGuard(Best.TI))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3498</td>
    <td class="uncoveredLine">      Best.TI =</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3499</td>
    <td class="uncoveredLine">          turnGuardIntoBranch(cast<IntrinsicInst>(Best.TI), L, DT, LI, MSSAU);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3500</td>
    <td class="uncoveredLine">    InsertFreeze = shouldInsertFreeze(L, *Best.TI, DT, AC);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3501</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3502</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3503</td>
    <td class="uncoveredLine">  LLVM_DEBUG(dbgs() << "  Unswitching non-trivial (cost = " << Best.Cost</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3504</td>
    <td class="">                    << ") terminator: " << *Best.TI << "\n");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3505</td>
    <td class="uncoveredLine">  unswitchNontrivialInvariants(L, *Best.TI, Best.Invariants, PartialIVInfo, DT,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3506</td>
    <td class="">                               LI, AC, UnswitchCB, SE, MSSAU, DestroyLoopCB,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3507</td>
    <td class="">                               InsertFreeze);</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3508</td>
    <td class="uncoveredLine">  return true;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3509</td>
    <td class="uncoveredLine">}</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3510</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3511</td>
    <td class="">/// Unswitch control flow predicated on loop invariant conditions.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3512</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3513</td>
    <td class="">/// This first hoists all branches or switches which are trivial (IE, do not</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3514</td>
    <td class="">/// require duplicating any part of the loop) out of the loop body. It then</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3515</td>
    <td class="">/// looks at other loop invariant control flows and tries to unswitch those as</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3516</td>
    <td class="">/// well by cloning the loop if the result is small enough.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3517</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3518</td>
    <td class="">/// The `DT`, `LI`, `AC`, `AA`, `TTI` parameters are required analyses that are</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3519</td>
    <td class="">/// also updated based on the unswitch. The `MSSA` analysis is also updated if</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3520</td>
    <td class="">/// valid (i.e. its use is enabled).</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3521</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3522</td>
    <td class="">/// If either `NonTrivial` is true or the flag `EnableNonTrivialUnswitch` is</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3523</td>
    <td class="">/// true, we will attempt to do non-trivial unswitching as well as trivial</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3524</td>
    <td class="">/// unswitching.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3525</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3526</td>
    <td class="">/// The `UnswitchCB` callback provided will be run after unswitching is</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3527</td>
    <td class="">/// complete, with the first parameter set to `true` if the provided loop</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3528</td>
    <td class="">/// remains a loop, and a list of new sibling loops created.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3529</td>
    <td class="">///</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3530</td>
    <td class="">/// If `SE` is non-null, we will update that analysis based on the unswitching</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3531</td>
    <td class="">/// done.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3532</td>
    <td class="">static bool</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3533</td>
    <td class="uncoveredLine">unswitchLoop(Loop &L, DominatorTree &DT, LoopInfo &LI, AssumptionCache &AC,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3534</td>
    <td class="">             AAResults &AA, TargetTransformInfo &TTI, bool Trivial,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3535</td>
    <td class="">             bool NonTrivial,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3536</td>
    <td class="">             function_ref<void(bool, bool, ArrayRef<Loop *>)> UnswitchCB,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3537</td>
    <td class="">             ScalarEvolution *SE, MemorySSAUpdater *MSSAU,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3538</td>
    <td class="">             ProfileSummaryInfo *PSI, BlockFrequencyInfo *BFI,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3539</td>
    <td class="">             function_ref<void(Loop &, StringRef)> DestroyLoopCB) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3540</td>
    <td class="uncoveredLine">  assert(L.isRecursivelyLCSSAForm(DT, LI) &&</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3541</td>
    <td class="">         "Loops must be in LCSSA form before unswitching.");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3542</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3543</td>
    <td class="">  // Must be in loop simplified form: we need a preheader and dedicated exits.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3544</td>
    <td class="uncoveredLine">  if (!L.isLoopSimplifyForm())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3545</td>
    <td class="uncoveredLine">    return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3546</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3547</td>
    <td class="">  // Try trivial unswitch first before loop over other basic blocks in the loop.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3548</td>
    <td class="uncoveredLine">  if (Trivial && unswitchAllTrivialConditions(L, DT, LI, SE, MSSAU)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3549</td>
    <td class="">    // If we unswitched successfully we will want to clean up the loop before</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3550</td>
    <td class="">    // processing it further so just mark it as unswitched and return.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3551</td>
    <td class="uncoveredLine">    UnswitchCB(/*CurrentLoopValid*/ true, false, {});</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3552</td>
    <td class="uncoveredLine">    return true;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3553</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3554</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3555</td>
    <td class="uncoveredLine">  const Function *F = L.getHeader()->getParent();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3556</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3557</td>
    <td class="">  // Check whether we should continue with non-trivial conditions.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3558</td>
    <td class="">  // EnableNonTrivialUnswitch: Global variable that forces non-trivial</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3559</td>
    <td class="">  //                           unswitching for testing and debugging.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3560</td>
    <td class="">  // NonTrivial: Parameter that enables non-trivial unswitching for this</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3561</td>
    <td class="">  //             invocation of the transform. But this should be allowed only</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3562</td>
    <td class="">  //             for targets without branch divergence.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3563</td>
    <td class="">  //</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3564</td>
    <td class="">  // FIXME: If divergence analysis becomes available to a loop</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3565</td>
    <td class="">  // transform, we should allow unswitching for non-trivial uniform</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3566</td>
    <td class="">  // branches even on targets that have divergence.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3567</td>
    <td class="">  // https://bugs.llvm.org/show_bug.cgi?id=48819</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3568</td>
    <td class="">  bool ContinueWithNonTrivial =</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3569</td>
    <td class="uncoveredLine">      EnableNonTrivialUnswitch || (NonTrivial && !TTI.hasBranchDivergence(F));</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3570</td>
    <td class="uncoveredLine">  if (!ContinueWithNonTrivial)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3571</td>
    <td class="uncoveredLine">    return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3572</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3573</td>
    <td class="">  // Skip non-trivial unswitching for optsize functions.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3574</td>
    <td class="uncoveredLine">  if (F->hasOptSize())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3575</td>
    <td class="uncoveredLine">    return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3576</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3577</td>
    <td class="">  // Returns true if Loop L's loop nest is cold, i.e. if the headers of L,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3578</td>
    <td class="">  // of the loops L is nested in, and of the loops nested in L are all cold.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3579</td>
    <td class="uncoveredLine">  auto IsLoopNestCold = [&](const Loop *L) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3580</td>
    <td class="">    // Check L and all of its parent loops.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3581</td>
    <td class="uncoveredLine">    auto *Parent = L;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3582</td>
    <td class="uncoveredLine">    while (Parent) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3583</td>
    <td class="uncoveredLine">      if (!PSI->isColdBlock(Parent->getHeader(), BFI))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3584</td>
    <td class="uncoveredLine">        return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3585</td>
    <td class="uncoveredLine">      Parent = Parent->getParentLoop();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3586</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3587</td>
    <td class="">    // Next check all loops nested within L.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3588</td>
    <td class="uncoveredLine">    SmallVector<const Loop *, 4> Worklist;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3589</td>
    <td class="uncoveredLine">    Worklist.insert(Worklist.end(), L->getSubLoops().begin(),</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3590</td>
    <td class="uncoveredLine">                    L->getSubLoops().end());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3591</td>
    <td class="uncoveredLine">    while (!Worklist.empty()) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3592</td>
    <td class="uncoveredLine">      auto *CurLoop = Worklist.pop_back_val();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3593</td>
    <td class="uncoveredLine">      if (!PSI->isColdBlock(CurLoop->getHeader(), BFI))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3594</td>
    <td class="uncoveredLine">        return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3595</td>
    <td class="uncoveredLine">      Worklist.insert(Worklist.end(), CurLoop->getSubLoops().begin(),</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3596</td>
    <td class="uncoveredLine">                      CurLoop->getSubLoops().end());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3597</td>
    <td class="">    }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3598</td>
    <td class="uncoveredLine">    return true;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3599</td>
    <td class="uncoveredLine">  };</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3600</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3601</td>
    <td class="">  // Skip cold loops in cold loop nests, as unswitching them brings little</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3602</td>
    <td class="">  // benefit but increases the code size</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3603</td>
    <td class="uncoveredLine">  if (PSI && PSI->hasProfileSummary() && BFI && IsLoopNestCold(&L)) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3604</td>
    <td class="uncoveredLine">    LLVM_DEBUG(dbgs() << " Skip cold loop: " << L << "\n");</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3605</td>
    <td class="uncoveredLine">    return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3606</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3607</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3608</td>
    <td class="">  // Perform legality checks.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3609</td>
    <td class="uncoveredLine">  if (!isSafeForNoNTrivialUnswitching(L, LI))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3610</td>
    <td class="uncoveredLine">    return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3611</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3612</td>
    <td class="">  // For non-trivial unswitching, because it often creates new loops, we rely on</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3613</td>
    <td class="">  // the pass manager to iterate on the loops rather than trying to immediately</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3614</td>
    <td class="">  // reach a fixed point. There is no substantial advantage to iterating</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3615</td>
    <td class="">  // internally, and if any of the new loops are simplified enough to contain</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3616</td>
    <td class="">  // trivial unswitching we want to prefer those.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3617</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3618</td>
    <td class="">  // Try to unswitch the best invariant condition. We prefer this full unswitch to</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3619</td>
    <td class="">  // a partial unswitch when possible below the threshold.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3620</td>
    <td class="uncoveredLine">  if (unswitchBestCondition(L, DT, LI, AC, AA, TTI, UnswitchCB, SE, MSSAU,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3621</td>
    <td class="">                            DestroyLoopCB))</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3622</td>
    <td class="uncoveredLine">    return true;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3623</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3624</td>
    <td class="">  // No other opportunities to unswitch.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3625</td>
    <td class="uncoveredLine">  return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3626</td>
    <td class="">}</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3627</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3628</td>
    <td class="uncoveredLine">PreservedAnalyses SimpleLoopUnswitchPass::run(Loop &L, LoopAnalysisManager &AM,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3629</td>
    <td class="">                                              LoopStandardAnalysisResults &AR,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3630</td>
    <td class="">                                              LPMUpdater &U) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3631</td>
    <td class="uncoveredLine">  Function &F = *L.getHeader()->getParent();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3632</td>
    <td class="">  (void)F;</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3633</td>
    <td class="uncoveredLine">  ProfileSummaryInfo *PSI = nullptr;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3634</td>
    <td class="uncoveredLine">  if (auto OuterProxy =</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3635</td>
    <td class="uncoveredLine">          AM.getResult<FunctionAnalysisManagerLoopProxy>(L, AR)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3636</td>
    <td class="uncoveredLine">              .getCachedResult<ModuleAnalysisManagerFunctionProxy>(F))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3637</td>
    <td class="uncoveredLine">    PSI = OuterProxy->getCachedResult<ProfileSummaryAnalysis>(*F.getParent());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3638</td>
    <td class="uncoveredLine">  LLVM_DEBUG(dbgs() << "Unswitching loop in " << F.getName() << ": " << L</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3639</td>
    <td class="">                    << "\n");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3640</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3641</td>
    <td class="">  // Save the current loop name in a variable so that we can report it even</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3642</td>
    <td class="">  // after it has been deleted.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3643</td>
    <td class="uncoveredLine">  std::string LoopName = std::string(L.getName());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3644</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3645</td>
    <td class="uncoveredLine">  auto UnswitchCB = [&L, &U, &LoopName](bool CurrentLoopValid,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3646</td>
    <td class="">                                        bool PartiallyInvariant,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3647</td>
    <td class="uncoveredLine">                                        ArrayRef<Loop *> NewLoops) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3648</td>
    <td class="">    // If we did a non-trivial unswitch, we have added new (cloned) loops.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3649</td>
    <td class="uncoveredLine">    if (!NewLoops.empty())</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3650</td>
    <td class="uncoveredLine">      U.addSiblingLoops(NewLoops);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3651</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3652</td>
    <td class="">    // If the current loop remains valid, we should revisit it to catch any</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3653</td>
    <td class="">    // other unswitch opportunities. Otherwise, we need to mark it as deleted.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3654</td>
    <td class="uncoveredLine">    if (CurrentLoopValid) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3655</td>
    <td class="uncoveredLine">      if (PartiallyInvariant) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3656</td>
    <td class="">        // Mark the new loop as partially unswitched, to avoid unswitching on</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3657</td>
    <td class="">        // the same condition again.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3658</td>
    <td class="uncoveredLine">        auto &Context = L.getHeader()->getContext();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3659</td>
    <td class="uncoveredLine">        MDNode *DisableUnswitchMD = MDNode::get(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3660</td>
    <td class="">            Context,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3661</td>
    <td class="uncoveredLine">            MDString::get(Context, "llvm.loop.unswitch.partial.disable"));</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3662</td>
    <td class="uncoveredLine">        MDNode *NewLoopID = makePostTransformationMetadata(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3663</td>
    <td class="">            Context, L.getLoopID(), {"llvm.loop.unswitch.partial"},</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3664</td>
    <td class="">            {DisableUnswitchMD});</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3665</td>
    <td class="uncoveredLine">        L.setLoopID(NewLoopID);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3666</td>
    <td class="">      } else</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3667</td>
    <td class="uncoveredLine">        U.revisitCurrentLoop();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3668</td>
    <td class="">    } else</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3669</td>
    <td class="uncoveredLine">      U.markLoopAsDeleted(L, LoopName);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3670</td>
    <td class="uncoveredLine">  };</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3671</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3672</td>
    <td class="uncoveredLine">  auto DestroyLoopCB = [&U](Loop &L, StringRef Name) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3673</td>
    <td class="uncoveredLine">    U.markLoopAsDeleted(L, Name);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3674</td>
    <td class="uncoveredLine">  };</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3675</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3676</td>
    <td class="uncoveredLine">  std::optional<MemorySSAUpdater> MSSAU;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3677</td>
    <td class="uncoveredLine">  if (AR.MSSA) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3678</td>
    <td class="uncoveredLine">    MSSAU = MemorySSAUpdater(AR.MSSA);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3679</td>
    <td class="uncoveredLine">    if (VerifyMemorySSA)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3680</td>
    <td class="uncoveredLine">      AR.MSSA->verifyMemorySSA();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3681</td>
    <td class="">  }</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3682</td>
    <td class="uncoveredLine">  if (!unswitchLoop(L, AR.DT, AR.LI, AR.AC, AR.AA, AR.TTI, Trivial, NonTrivial,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3683</td>
    <td class="uncoveredLine">                    UnswitchCB, &AR.SE, MSSAU ? &*MSSAU : nullptr, PSI, AR.BFI,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3684</td>
    <td class="">                    DestroyLoopCB))</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3685</td>
    <td class="uncoveredLine">    return PreservedAnalyses::all();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3686</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3687</td>
    <td class="uncoveredLine">  if (AR.MSSA && VerifyMemorySSA)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3688</td>
    <td class="uncoveredLine">    AR.MSSA->verifyMemorySSA();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3689</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3690</td>
    <td class="">  // Historically this pass has had issues with the dominator tree so verify it</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3691</td>
    <td class="">  // in asserts builds.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3692</td>
    <td class="uncoveredLine">  assert(AR.DT.verify(DominatorTree::VerificationLevel::Fast));</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3693</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3694</td>
    <td class="uncoveredLine">  auto PA = getLoopPassPreservedAnalyses();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3695</td>
    <td class="uncoveredLine">  if (AR.MSSA)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3696</td>
    <td class="uncoveredLine">    PA.preserve<MemorySSAAnalysis>();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3697</td>
    <td class="uncoveredLine">  return PA;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3698</td>
    <td class="uncoveredLine">}</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3699</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3700</td>
    <td class="uncoveredLine">void SimpleLoopUnswitchPass::printPipeline(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3701</td>
    <td class="">    raw_ostream &OS, function_ref<StringRef(StringRef)> MapClassName2PassName) {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3702</td>
    <td class="uncoveredLine">  static_cast<PassInfoMixin<SimpleLoopUnswitchPass> *>(this)->printPipeline(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3703</td>
    <td class="">      OS, MapClassName2PassName);</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3704</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3705</td>
    <td class="uncoveredLine">  OS << '<';</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3706</td>
    <td class="uncoveredLine">  OS << (NonTrivial ? "" : "no-") << "nontrivial;";</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3707</td>
    <td class="uncoveredLine">  OS << (Trivial ? "" : "no-") << "trivial";</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3708</td>
    <td class="uncoveredLine">  OS << '>';</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3709</td>
    <td class="uncoveredLine">}</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3710</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3711</td>
    <td class="">namespace {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3712</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3713</td>
    <td class="">class SimpleLoopUnswitchLegacyPass : public LoopPass {</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3714</td>
    <td class="">  bool NonTrivial;</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3715</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3716</td>
    <td class="">public:</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3717</td>
    <td class="">  static char ID; // Pass ID, replacement for typeid</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3718</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3719</td>
    <td class="uncoveredLine">  explicit SimpleLoopUnswitchLegacyPass(bool NonTrivial = false)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3720</td>
    <td class="uncoveredLine">      : LoopPass(ID), NonTrivial(NonTrivial) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3721</td>
    <td class="uncoveredLine">    initializeSimpleLoopUnswitchLegacyPassPass(</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3722</td>
    <td class="uncoveredLine">        *PassRegistry::getPassRegistry());</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3723</td>
    <td class="uncoveredLine">  }</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3724</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3725</td>
    <td class="">  bool runOnLoop(Loop *L, LPPassManager &LPM) override;</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3726</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3727</td>
    <td class="uncoveredLine">  void getAnalysisUsage(AnalysisUsage &AU) const override {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3728</td>
    <td class="uncoveredLine">    AU.addRequired<AssumptionCacheTracker>();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3729</td>
    <td class="uncoveredLine">    AU.addRequired<TargetTransformInfoWrapperPass>();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3730</td>
    <td class="uncoveredLine">    AU.addRequired<MemorySSAWrapperPass>();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3731</td>
    <td class="uncoveredLine">    AU.addPreserved<MemorySSAWrapperPass>();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3732</td>
    <td class="uncoveredLine">    getLoopAnalysisUsage(AU);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3733</td>
    <td class="uncoveredLine">  }</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3734</td>
    <td class="">};</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3735</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3736</td>
    <td class="">} // end anonymous namespace</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3737</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3738</td>
    <td class="uncoveredLine">bool SimpleLoopUnswitchLegacyPass::runOnLoop(Loop *L, LPPassManager &LPM) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3739</td>
    <td class="uncoveredLine">  if (skipLoop(L))</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3740</td>
    <td class="uncoveredLine">    return false;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3741</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3742</td>
    <td class="uncoveredLine">  Function &F = *L->getHeader()->getParent();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3743</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3744</td>
    <td class="uncoveredLine">  LLVM_DEBUG(dbgs() << "Unswitching loop in " << F.getName() << ": " << *L</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3745</td>
    <td class="">                    << "\n");</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3746</td>
    <td class="uncoveredLine">  auto &DT = getAnalysis<DominatorTreeWrapperPass>().getDomTree();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3747</td>
    <td class="uncoveredLine">  auto &LI = getAnalysis<LoopInfoWrapperPass>().getLoopInfo();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3748</td>
    <td class="uncoveredLine">  auto &AC = getAnalysis<AssumptionCacheTracker>().getAssumptionCache(F);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3749</td>
    <td class="uncoveredLine">  auto &AA = getAnalysis<AAResultsWrapperPass>().getAAResults();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3750</td>
    <td class="uncoveredLine">  auto &TTI = getAnalysis<TargetTransformInfoWrapperPass>().getTTI(F);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3751</td>
    <td class="uncoveredLine">  MemorySSA *MSSA = &getAnalysis<MemorySSAWrapperPass>().getMSSA();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3752</td>
    <td class="uncoveredLine">  MemorySSAUpdater MSSAU(MSSA);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3753</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3754</td>
    <td class="uncoveredLine">  auto *SEWP = getAnalysisIfAvailable<ScalarEvolutionWrapperPass>();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3755</td>
    <td class="uncoveredLine">  auto *SE = SEWP ? &SEWP->getSE() : nullptr;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3756</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3757</td>
    <td class="uncoveredLine">  auto UnswitchCB = [&L, &LPM](bool CurrentLoopValid, bool PartiallyInvariant,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3758</td>
    <td class="uncoveredLine">                               ArrayRef<Loop *> NewLoops) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3759</td>
    <td class="">    // If we did a non-trivial unswitch, we have added new (cloned) loops.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3760</td>
    <td class="uncoveredLine">    for (auto *NewL : NewLoops)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3761</td>
    <td class="uncoveredLine">      LPM.addLoop(*NewL);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3762</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3763</td>
    <td class="">    // If the current loop remains valid, re-add it to the queue. This is</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3764</td>
    <td class="">    // a little wasteful as we'll finish processing the current loop as well,</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3765</td>
    <td class="">    // but it is the best we can do in the old PM.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3766</td>
    <td class="uncoveredLine">    if (CurrentLoopValid) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3767</td>
    <td class="">      // If the current loop has been unswitched using a partially invariant</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3768</td>
    <td class="">      // condition, we should not re-add the current loop to avoid unswitching</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3769</td>
    <td class="">      // on the same condition again.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3770</td>
    <td class="uncoveredLine">      if (!PartiallyInvariant)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3771</td>
    <td class="uncoveredLine">        LPM.addLoop(*L);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3772</td>
    <td class="">    } else</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3773</td>
    <td class="uncoveredLine">      LPM.markLoopAsDeleted(*L);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3774</td>
    <td class="uncoveredLine">  };</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3775</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3776</td>
    <td class="uncoveredLine">  auto DestroyLoopCB = [&LPM](Loop &L, StringRef /* Name */) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3777</td>
    <td class="uncoveredLine">    LPM.markLoopAsDeleted(L);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3778</td>
    <td class="uncoveredLine">  };</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3779</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3780</td>
    <td class="uncoveredLine">  if (VerifyMemorySSA)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3781</td>
    <td class="uncoveredLine">    MSSA->verifyMemorySSA();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3782</td>
    <td class="">  bool Changed =</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3783</td>
    <td class="uncoveredLine">      unswitchLoop(*L, DT, LI, AC, AA, TTI, true, NonTrivial, UnswitchCB, SE,</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3784</td>
    <td class="">                   &MSSAU, nullptr, nullptr, DestroyLoopCB);</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3785</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3786</td>
    <td class="uncoveredLine">  if (VerifyMemorySSA)</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3787</td>
    <td class="uncoveredLine">    MSSA->verifyMemorySSA();</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3788</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3789</td>
    <td class="">  // Historically this pass has had issues with the dominator tree so verify it</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3790</td>
    <td class="">  // in asserts builds.</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3791</td>
    <td class="uncoveredLine">  assert(DT.verify(DominatorTree::VerificationLevel::Fast));</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3792</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3793</td>
    <td class="uncoveredLine">  return Changed;</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3794</td>
    <td class="uncoveredLine">}</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3795</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3796</td>
    <td class="">char SimpleLoopUnswitchLegacyPass::ID = 0;</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3797</td>
    <td class="coveredLine">INITIALIZE_PASS_BEGIN(SimpleLoopUnswitchLegacyPass, "simple-loop-unswitch",</td>
    <td>2</td>
    <td class="testName">
      <span class="badge">../DebugInfoTest/example_mips_dbg.ll</span>
      <span class="badge">../DebugInfoTest/example_mips.ll</span>
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3798</td>
    <td class="">                      "Simple unswitch loops", false, false)</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3799</td>
    <td class="coveredLine">INITIALIZE_PASS_DEPENDENCY(AssumptionCacheTracker)</td>
    <td>2</td>
    <td class="testName">
      <span class="badge">../DebugInfoTest/example_mips_dbg.ll</span>
      <span class="badge">../DebugInfoTest/example_mips.ll</span>
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3800</td>
    <td class="coveredLine">INITIALIZE_PASS_DEPENDENCY(DominatorTreeWrapperPass)</td>
    <td>2</td>
    <td class="testName">
      <span class="badge">../DebugInfoTest/example_mips_dbg.ll</span>
      <span class="badge">../DebugInfoTest/example_mips.ll</span>
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3801</td>
    <td class="coveredLine">INITIALIZE_PASS_DEPENDENCY(LoopInfoWrapperPass)</td>
    <td>2</td>
    <td class="testName">
      <span class="badge">../DebugInfoTest/example_mips_dbg.ll</span>
      <span class="badge">../DebugInfoTest/example_mips.ll</span>
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3802</td>
    <td class="coveredLine">INITIALIZE_PASS_DEPENDENCY(LoopPass)</td>
    <td>2</td>
    <td class="testName">
      <span class="badge">../DebugInfoTest/example_mips_dbg.ll</span>
      <span class="badge">../DebugInfoTest/example_mips.ll</span>
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3803</td>
    <td class="coveredLine">INITIALIZE_PASS_DEPENDENCY(MemorySSAWrapperPass)</td>
    <td>2</td>
    <td class="testName">
      <span class="badge">../DebugInfoTest/example_mips_dbg.ll</span>
      <span class="badge">../DebugInfoTest/example_mips.ll</span>
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3804</td>
    <td class="coveredLine">INITIALIZE_PASS_DEPENDENCY(TargetTransformInfoWrapperPass)</td>
    <td>2</td>
    <td class="testName">
      <span class="badge">../DebugInfoTest/example_mips_dbg.ll</span>
      <span class="badge">../DebugInfoTest/example_mips.ll</span>
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3805</td>
    <td class="coveredLine">INITIALIZE_PASS_END(SimpleLoopUnswitchLegacyPass, "simple-loop-unswitch",</td>
    <td>4</td>
    <td class="testName">
      <span class="badge">../DebugInfoTest/example_mips_dbg.ll</span>
      <span class="badge">../DebugInfoTest/example_mips.ll</span>
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3806</td>
    <td class="">                    "Simple unswitch loops", false, false)</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3807</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3808</td>
    <td class="uncoveredLine">Pass *llvm::createSimpleLoopUnswitchLegacyPass(bool NonTrivial) {</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3809</td>
    <td class="uncoveredLine">  return new SimpleLoopUnswitchLegacyPass(NonTrivial);</td>
    <td>0</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3810</td>
    <td class="">}</td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3811</td>
    <td class=""></td>
    <td>----</td>
    <td class="testName">
    </td>
  </tr>
</table>
    </div>
    <button class="collapsible" type="button">Open Functions Report</button>
    <div class="content" style="display: none;">
      <hr />
      <h3 class="subheader">Functions Report</h3>
      <table class="mainTable">
  <tr class="mainTr">
    <th class="mainTh">Function name</th>
    <th class="mainTh">Number of hits</th>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZN12_GLOBAL__N_111CompareDescC2EPN4llvm10BranchInstEPNS1_5ValueEPNS1_10BasicBlockE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZN12_GLOBAL__N_117InjectedInvariantC2EN4llvm7CmpInst9PredicateEPNS1_5ValueES5_PNS1_10BasicBlockE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZN12_GLOBAL__N_127NonTrivialUnswitchCandidateC2EPN4llvm11InstructionENS1_8ArrayRefIPNS1_5ValueEEESt8optionalINS1_15InstructionCostEES8_INS_17InjectedInvariantEE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZNK12_GLOBAL__N_127NonTrivialUnswitchCandidate19hasPendingInjectionEv</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZL17skipTrivialSelectPN4llvm5ValueE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZL40collectHomogenousInstGraphLoopInvariantsRKN4llvm4LoopERNS_11InstructionERKNS_8LoopInfoE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZL24replaceLoopInvariantUsesRKN4llvm4LoopEPNS_5ValueERNS_8ConstantE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZL28areLoopExitPHIsLoopInvariantRKN4llvm4LoopERKNS_10BasicBlockES5_</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZL37buildPartialUnswitchConditionalBranchRN4llvm10BasicBlockENS_8ArrayRefIPNS_5ValueEEEbS1_S1_bPKNS_11InstructionEPNS_15AssumptionCacheERKNS_13DominatorTreeE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZL46buildPartialInvariantUnswitchConditionalBranchRN4llvm10BasicBlockENS_8ArrayRefIPNS_5ValueEEEbS1_S1_RNS_4LoopEPNS_16MemorySSAUpdaterE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZL37rewritePHINodesForUnswitchedExitBlockRN4llvm10BasicBlockES1_S1_</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZL41rewritePHINodesForExitAndUnswitchedBlocksRN4llvm10BasicBlockES1_S1_S1_b</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZL20hoistLoopToNewParentRN4llvm4LoopERNS_10BasicBlockERNS_13DominatorTreeERNS_8LoopInfoEPNS_16MemorySSAUpdaterEPNS_15ScalarEvolutionE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZZL20hoistLoopToNewParentRN4llvm4LoopERNS_10BasicBlockERNS_13DominatorTreeERNS_8LoopInfoEPNS_16MemorySSAUpdaterEPNS_15ScalarEvolutionEENKUlPKS2_E_clESD_</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZL21getTopMostExitingLoopPKN4llvm10BasicBlockERKNS_8LoopInfoE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZL21unswitchTrivialBranchRN4llvm4LoopERNS_10BranchInstERNS_13DominatorTreeERNS_8LoopInfoEPNS_15ScalarEvolutionEPNS_16MemorySSAUpdaterE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZL21unswitchTrivialSwitchRN4llvm4LoopERNS_10SwitchInstERNS_13DominatorTreeERNS_8LoopInfoEPNS_15ScalarEvolutionEPNS_16MemorySSAUpdaterE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZZL21unswitchTrivialSwitchRN4llvm4LoopERNS_10SwitchInstERNS_13DominatorTreeERNS_8LoopInfoEPNS_15ScalarEvolutionEPNS_16MemorySSAUpdaterEENKUlRNS_10BasicBlockEE_clESD_</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZZL21unswitchTrivialSwitchRN4llvm4LoopERNS_10SwitchInstERNS_13DominatorTreeERNS_8LoopInfoEPNS_15ScalarEvolutionEPNS_16MemorySSAUpdaterEENKUlRKNS2_10CaseHandleEE0_clESE_</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZL28unswitchAllTrivialConditionsRN4llvm4LoopERNS_13DominatorTreeERNS_8LoopInfoEPNS_15ScalarEvolutionEPNS_16MemorySSAUpdaterE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZZL28unswitchAllTrivialConditionsRN4llvm4LoopERNS_13DominatorTreeERNS_8LoopInfoEPNS_15ScalarEvolutionEPNS_16MemorySSAUpdaterEENKUlRNS_11InstructionEE_clESB_</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZL21buildClonedLoopBlocksRN4llvm4LoopEPNS_10BasicBlockES3_NS_8ArrayRefIS3_EES3_S3_S3_RKNS_13SmallDenseMapIS3_S3_Lj16ENS_12DenseMapInfoIS3_vEENS_6detail12DenseMapPairIS3_S3_EEEERNS_8ValueMapIPKNS_5ValueENS_14WeakTrackingVHENS_14ValueMapConfigISI_NS_3sys10SmartMutexILb0EEEEEEERNS_15SmallVectorImplINS_3cfg6UpdateIS3_EEEERNS_15AssumptionCacheERNS_13DominatorTreeERNS_8LoopInfoEPNS_16MemorySSAUpdaterEPNS_15ScalarEvolutionE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZZL21buildClonedLoopBlocksRN4llvm4LoopEPNS_10BasicBlockES3_NS_8ArrayRefIS3_EES3_S3_S3_RKNS_13SmallDenseMapIS3_S3_Lj16ENS_12DenseMapInfoIS3_vEENS_6detail12DenseMapPairIS3_S3_EEEERNS_8ValueMapIPKNS_5ValueENS_14WeakTrackingVHENS_14ValueMapConfigISI_NS_3sys10SmartMutexILb0EEEEEEERNS_15SmallVectorImplINS_3cfg6UpdateIS3_EEEERNS_15AssumptionCacheERNS_13DominatorTreeERNS_8LoopInfoEPNS_16MemorySSAUpdaterEPNS_15ScalarEvolutionEENKUlS3_E_clES3_</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZZL21buildClonedLoopBlocksRN4llvm4LoopEPNS_10BasicBlockES3_NS_8ArrayRefIS3_EES3_S3_S3_RKNS_13SmallDenseMapIS3_S3_Lj16ENS_12DenseMapInfoIS3_vEENS_6detail12DenseMapPairIS3_S3_EEEERNS_8ValueMapIPKNS_5ValueENS_14WeakTrackingVHENS_14ValueMapConfigISI_NS_3sys10SmartMutexILb0EEEEEEERNS_15SmallVectorImplINS_3cfg6UpdateIS3_EEEERNS_15AssumptionCacheERNS_13DominatorTreeERNS_8LoopInfoEPNS_16MemorySSAUpdaterEPNS_15ScalarEvolutionEENKUlS3_E0_clES3_</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZL13cloneLoopNestRN4llvm4LoopEPS0_RKNS_8ValueMapIPKNS_5ValueENS_14WeakTrackingVHENS_14ValueMapConfigIS6_NS_3sys10SmartMutexILb0EEEEEEERNS_8LoopInfoE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZZL13cloneLoopNestRN4llvm4LoopEPS0_RKNS_8ValueMapIPKNS_5ValueENS_14WeakTrackingVHENS_14ValueMapConfigIS6_NS_3sys10SmartMutexILb0EEEEEEERNS_8LoopInfoEENKUlS1_S1_E_clES1_S1_</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZL16buildClonedLoopsRN4llvm4LoopENS_8ArrayRefIPNS_10BasicBlockEEERKNS_8ValueMapIPKNS_5ValueENS_14WeakTrackingVHENS_14ValueMapConfigIS9_NS_3sys10SmartMutexILb0EEEEEEERNS_8LoopInfoERNS_15SmallVectorImplIPS0_EE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZZL16buildClonedLoopsRN4llvm4LoopENS_8ArrayRefIPNS_10BasicBlockEEERKNS_8ValueMapIPKNS_5ValueENS_14WeakTrackingVHENS_14ValueMapConfigIS9_NS_3sys10SmartMutexILb0EEEEEEERNS_8LoopInfoERNS_15SmallVectorImplIPS0_EEENKUlS4_S4_E_clES4_S4_</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZL22deleteDeadClonedBlocksRN4llvm4LoopENS_8ArrayRefIPNS_10BasicBlockEEENS2_ISt10unique_ptrINS_8ValueMapIPKNS_5ValueENS_14WeakTrackingVHENS_14ValueMapConfigISA_NS_3sys10SmartMutexILb0EEEEEEESt14default_deleteISH_EEEERNS_13DominatorTreeEPNS_16MemorySSAUpdaterE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZL24deleteDeadBlocksFromLoopRN4llvm4LoopERNS_15SmallVectorImplIPNS_10BasicBlockEEERNS_13DominatorTreeERNS_8LoopInfoEPNS_16MemorySSAUpdaterEPNS_15ScalarEvolutionENS_12function_refIFvS1_NS_9StringRefEEEE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZZL24deleteDeadBlocksFromLoopRN4llvm4LoopERNS_15SmallVectorImplIPNS_10BasicBlockEEERNS_13DominatorTreeERNS_8LoopInfoEPNS_16MemorySSAUpdaterEPNS_15ScalarEvolutionENS_12function_refIFvS1_NS_9StringRefEEEEENKUlS4_E_clES4_</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZZL24deleteDeadBlocksFromLoopRN4llvm4LoopERNS_15SmallVectorImplIPNS_10BasicBlockEEERNS_13DominatorTreeERNS_8LoopInfoEPNS_16MemorySSAUpdaterEPNS_15ScalarEvolutionENS_12function_refIFvS1_NS_9StringRefEEEEENKUlS4_E0_clES4_</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZZL24deleteDeadBlocksFromLoopRN4llvm4LoopERNS_15SmallVectorImplIPNS_10BasicBlockEEERNS_13DominatorTreeERNS_8LoopInfoEPNS_16MemorySSAUpdaterEPNS_15ScalarEvolutionENS_12function_refIFvS1_NS_9StringRefEEEEENKUlPS0_E1_clESJ_</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZZZL24deleteDeadBlocksFromLoopRN4llvm4LoopERNS_15SmallVectorImplIPNS_10BasicBlockEEERNS_13DominatorTreeERNS_8LoopInfoEPNS_16MemorySSAUpdaterEPNS_15ScalarEvolutionENS_12function_refIFvS1_NS_9StringRefEEEEENKUlPS0_E1_clESJ_ENKUlS4_E_clES4_</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZL21recomputeLoopBlockSetRN4llvm4LoopERNS_8LoopInfoE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZL24rebuildLoopAfterUnswitchRN4llvm4LoopENS_8ArrayRefIPNS_10BasicBlockEEERNS_8LoopInfoERNS_15SmallVectorImplIPS0_EEPNS_15ScalarEvolutionE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZZL24rebuildLoopAfterUnswitchRN4llvm4LoopENS_8ArrayRefIPNS_10BasicBlockEEERNS_8LoopInfoERNS_15SmallVectorImplIPS0_EEPNS_15ScalarEvolutionEENKUlS4_E_clES4_</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZZL24rebuildLoopAfterUnswitchRN4llvm4LoopENS_8ArrayRefIPNS_10BasicBlockEEERNS_8LoopInfoERNS_15SmallVectorImplIPS0_EEPNS_15ScalarEvolutionEENKUlS4_E0_clES4_</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZZL24rebuildLoopAfterUnswitchRN4llvm4LoopENS_8ArrayRefIPNS_10BasicBlockEEERNS_8LoopInfoERNS_15SmallVectorImplIPS0_EEPNS_15ScalarEvolutionEENKUlS4_S4_E1_clES4_S4_</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZZL24rebuildLoopAfterUnswitchRN4llvm4LoopENS_8ArrayRefIPNS_10BasicBlockEEERNS_8LoopInfoERNS_15SmallVectorImplIPS0_EEPNS_15ScalarEvolutionEENKUlS1_RNS_15SmallPtrSetImplIS4_EEE2_clES1_SG_</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZZZL24rebuildLoopAfterUnswitchRN4llvm4LoopENS_8ArrayRefIPNS_10BasicBlockEEERNS_8LoopInfoERNS_15SmallVectorImplIPS0_EEPNS_15ScalarEvolutionEENKUlS1_RNS_15SmallPtrSetImplIS4_EEE2_clES1_SG_ENKUlS4_E_clES4_</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZZL24rebuildLoopAfterUnswitchRN4llvm4LoopENS_8ArrayRefIPNS_10BasicBlockEEERNS_8LoopInfoERNS_15SmallVectorImplIPS0_EEPNS_15ScalarEvolutionEENKUlS9_E3_clES9_</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_Z15visitDomSubTreeIZL28unswitchNontrivialInvariantsRN4llvm4LoopERNS0_11InstructionENS0_8ArrayRefIPNS0_5ValueEEERNS0_15IVConditionInfoERNS0_13DominatorTreeERNS0_8LoopInfoERNS0_15AssumptionCacheENS0_12function_refIFvbbNS5_IPS1_EEEEEPNS0_15ScalarEvolutionEPNS0_16MemorySSAUpdaterENSH_IFvS2_NS0_9StringRefEEEEbEUlPNS0_10BasicBlockEE0_EvSC_SU_T_</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZL28unswitchNontrivialInvariantsRN4llvm4LoopERNS_11InstructionENS_8ArrayRefIPNS_5ValueEEERNS_15IVConditionInfoERNS_13DominatorTreeERNS_8LoopInfoERNS_15AssumptionCacheENS_12function_refIFvbbNS4_IPS0_EEEEEPNS_15ScalarEvolutionEPNS_16MemorySSAUpdaterENSG_IFvS1_NS_9StringRefEEEEb</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZZL28unswitchNontrivialInvariantsRN4llvm4LoopERNS_11InstructionENS_8ArrayRefIPNS_5ValueEEERNS_15IVConditionInfoERNS_13DominatorTreeERNS_8LoopInfoERNS_15AssumptionCacheENS_12function_refIFvbbNS4_IPS0_EEEEEPNS_15ScalarEvolutionEPNS_16MemorySSAUpdaterENSG_IFvS1_NS_9StringRefEEEEbENKUlPNS_10BasicBlockEE_clEST_</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZZL28unswitchNontrivialInvariantsRN4llvm4LoopERNS_11InstructionENS_8ArrayRefIPNS_5ValueEEERNS_15IVConditionInfoERNS_13DominatorTreeERNS_8LoopInfoERNS_15AssumptionCacheENS_12function_refIFvbbNS4_IPS0_EEEEEPNS_15ScalarEvolutionEPNS_16MemorySSAUpdaterENSG_IFvS1_NS_9StringRefEEEEbENKUlPNS_10BasicBlockEE0_clEST_</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZZL28unswitchNontrivialInvariantsRN4llvm4LoopERNS_11InstructionENS_8ArrayRefIPNS_5ValueEEERNS_15IVConditionInfoERNS_13DominatorTreeERNS_8LoopInfoERNS_15AssumptionCacheENS_12function_refIFvbbNS4_IPS0_EEEEEPNS_15ScalarEvolutionEPNS_16MemorySSAUpdaterENSG_IFvS1_NS_9StringRefEEEEbENKUlS1_E1_clES1_</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZL21computeDomSubtreeCostRN4llvm15DomTreeNodeBaseINS_10BasicBlockEEERKNS_13SmallDenseMapIPS1_NS_15InstructionCostELj4ENS_12DenseMapInfoIS5_vEENS_6detail12DenseMapPairIS5_S6_EEEERNS4_IPS2_S6_Lj4ENS7_ISF_vEENSA_ISF_S6_EEEE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZZL21computeDomSubtreeCostRN4llvm15DomTreeNodeBaseINS_10BasicBlockEEERKNS_13SmallDenseMapIPS1_NS_15InstructionCostELj4ENS_12DenseMapInfoIS5_vEENS_6detail12DenseMapPairIS5_S6_EEEERNS4_IPS2_S6_Lj4ENS7_ISF_vEENSA_ISF_S6_EEEEENKUlS6_SF_E_clES6_SF_</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZL20turnSelectIntoBranchPN4llvm10SelectInstERNS_13DominatorTreeERNS_8LoopInfoEPNS_16MemorySSAUpdaterEPNS_15AssumptionCacheE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZL19turnGuardIntoBranchPN4llvm13IntrinsicInstERNS_4LoopERNS_13DominatorTreeERNS_8LoopInfoEPNS_16MemorySSAUpdaterE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZL31CalculateUnswitchCostMultiplierRKN4llvm11InstructionERKNS_4LoopERKNS_8LoopInfoERKNS_13DominatorTreeENS_8ArrayRefIN12_GLOBAL__N_127NonTrivialUnswitchCandidateEEE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZZL31CalculateUnswitchCostMultiplierRKN4llvm11InstructionERKNS_4LoopERKNS_8LoopInfoERKNS_13DominatorTreeENS_8ArrayRefIN12_GLOBAL__N_127NonTrivialUnswitchCandidateEEEENKUlPKNS_10BasicBlockEE_clESI_</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZZL31CalculateUnswitchCostMultiplierRKN4llvm11InstructionERKNS_4LoopERKNS_8LoopInfoERKNS_13DominatorTreeENS_8ArrayRefIN12_GLOBAL__N_127NonTrivialUnswitchCandidateEEEENKUlPKNS_10BasicBlockEE0_clESI_</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZL25collectUnswitchCandidatesRN4llvm15SmallVectorImplIN12_GLOBAL__N_127NonTrivialUnswitchCandidateEEERNS_15IVConditionInfoERPNS_11InstructionERKNS_4LoopERKNS_8LoopInfoERNS_9AAResultsEPKNS_16MemorySSAUpdaterE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZZL25collectUnswitchCandidatesRN4llvm15SmallVectorImplIN12_GLOBAL__N_127NonTrivialUnswitchCandidateEEERNS_15IVConditionInfoERPNS_11InstructionERKNS_4LoopERKNS_8LoopInfoERNS_9AAResultsEPKNS_16MemorySSAUpdaterEENKUlS8_PNS_5ValueEE_clES8_SM_</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZZL25collectUnswitchCandidatesRN4llvm15SmallVectorImplIN12_GLOBAL__N_127NonTrivialUnswitchCandidateEEERNS_15IVConditionInfoERPNS_11InstructionERKNS_4LoopERKNS_8LoopInfoERNS_9AAResultsEPKNS_16MemorySSAUpdaterEENKUlRT_E0_clIS2_EEDaSM_</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZL42canonicalizeForInvariantConditionInjectionRN4llvm7CmpInst9PredicateERPNS_5ValueES5_RPNS_10BasicBlockES8_RKNS_4LoopE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZL33shouldTryInjectInvariantConditionN4llvm7CmpInst9PredicateEPKNS_5ValueES4_PKNS_10BasicBlockES7_RKNS_4LoopE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_Z31shouldTryInjectBasingOnMetadataPKN4llvm10BranchInstEPKNS_10BasicBlockE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZL32injectPendingInvariantConditionsN12_GLOBAL__N_127NonTrivialUnswitchCandidateERN4llvm4LoopERNS1_13DominatorTreeERNS1_8LoopInfoERNS1_15AssumptionCacheEPNS1_16MemorySSAUpdaterE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZL37insertCandidatesWithPendingInjectionsRN4llvm15SmallVectorImplIN12_GLOBAL__N_127NonTrivialUnswitchCandidateEEERNS_4LoopENS_7CmpInst9PredicateENS_8ArrayRefINS1_11CompareDescEEERKNS_13DominatorTreeE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZL39collectUnswitchCandidatesWithInjectionsRN4llvm15SmallVectorImplIN12_GLOBAL__N_127NonTrivialUnswitchCandidateEEERNS_15IVConditionInfoERPNS_11InstructionERNS_4LoopERKNS_13DominatorTreeERKNS_8LoopInfoERNS_9AAResultsEPKNS_16MemorySSAUpdaterE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZL30isSafeForNoNTrivialUnswitchingRN4llvm4LoopERNS_8LoopInfoE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZL35findBestNonTrivialUnswitchCandidateN4llvm8ArrayRefIN12_GLOBAL__N_127NonTrivialUnswitchCandidateEEERKNS_4LoopERKNS_13DominatorTreeERKNS_8LoopInfoERNS_15AssumptionCacheERKNS_19TargetTransformInfoERKNS_15IVConditionInfoE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZZL35findBestNonTrivialUnswitchCandidateN4llvm8ArrayRefIN12_GLOBAL__N_127NonTrivialUnswitchCandidateEEERKNS_4LoopERKNS_13DominatorTreeERKNS_8LoopInfoERNS_15AssumptionCacheERKNS_19TargetTransformInfoERKNS_15IVConditionInfoEENKUlRNS_11InstructionEbE_clESM_b</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZZZL35findBestNonTrivialUnswitchCandidateN4llvm8ArrayRefIN12_GLOBAL__N_127NonTrivialUnswitchCandidateEEERKNS_4LoopERKNS_13DominatorTreeERKNS_8LoopInfoERNS_15AssumptionCacheERKNS_19TargetTransformInfoERKNS_15IVConditionInfoEENKUlRNS_11InstructionEbE_clESM_bENKUlPNS_10BasicBlockEE_clESP_</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZL18shouldInsertFreezeRN4llvm4LoopERNS_11InstructionERNS_13DominatorTreeERNS_15AssumptionCacheE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZL21unswitchBestConditionRN4llvm4LoopERNS_13DominatorTreeERNS_8LoopInfoERNS_15AssumptionCacheERNS_9AAResultsERNS_19TargetTransformInfoENS_12function_refIFvbbNS_8ArrayRefIPS0_EEEEEPNS_15ScalarEvolutionEPNS_16MemorySSAUpdaterENSC_IFvS1_NS_9StringRefEEEE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZL12unswitchLoopRN4llvm4LoopERNS_13DominatorTreeERNS_8LoopInfoERNS_15AssumptionCacheERNS_9AAResultsERNS_19TargetTransformInfoEbbNS_12function_refIFvbbNS_8ArrayRefIPS0_EEEEEPNS_15ScalarEvolutionEPNS_16MemorySSAUpdaterEPNS_18ProfileSummaryInfoEPNS_18BlockFrequencyInfoENSC_IFvS1_NS_9StringRefEEEE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZZL12unswitchLoopRN4llvm4LoopERNS_13DominatorTreeERNS_8LoopInfoERNS_15AssumptionCacheERNS_9AAResultsERNS_19TargetTransformInfoEbbNS_12function_refIFvbbNS_8ArrayRefIPS0_EEEEEPNS_15ScalarEvolutionEPNS_16MemorySSAUpdaterEPNS_18ProfileSummaryInfoEPNS_18BlockFrequencyInfoENSC_IFvS1_NS_9StringRefEEEEENKUlPKS0_E_clESU_</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZN4llvm22SimpleLoopUnswitchPass3runERNS_4LoopERNS_15AnalysisManagerIS1_JRNS_27LoopStandardAnalysisResultsEEEES5_RNS_10LPMUpdaterE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZZN4llvm22SimpleLoopUnswitchPass3runERNS_4LoopERNS_15AnalysisManagerIS1_JRNS_27LoopStandardAnalysisResultsEEEES5_RNS_10LPMUpdaterEENKUlbbNS_8ArrayRefIPS1_EEE_clEbbSC_</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZZN4llvm22SimpleLoopUnswitchPass3runERNS_4LoopERNS_15AnalysisManagerIS1_JRNS_27LoopStandardAnalysisResultsEEEES5_RNS_10LPMUpdaterEENKUlS2_NS_9StringRefEE0_clES2_SA_</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZN4llvm22SimpleLoopUnswitchPass13printPipelineERNS_11raw_ostreamENS_12function_refIFNS_9StringRefES4_EEE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZN12_GLOBAL__N_128SimpleLoopUnswitchLegacyPassC2Eb</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZNK12_GLOBAL__N_128SimpleLoopUnswitchLegacyPass16getAnalysisUsageERN4llvm13AnalysisUsageE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZN12_GLOBAL__N_128SimpleLoopUnswitchLegacyPass9runOnLoopEPN4llvm4LoopERNS1_13LPPassManagerE</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZZN12_GLOBAL__N_128SimpleLoopUnswitchLegacyPass9runOnLoopEPN4llvm4LoopERNS1_13LPPassManagerEENKUlbbNS1_8ArrayRefIS3_EEE_clEbbS7_</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZZN12_GLOBAL__N_128SimpleLoopUnswitchLegacyPass9runOnLoopEPN4llvm4LoopERNS1_13LPPassManagerEENKUlRS2_NS1_9StringRefEE0_clES6_S7_</td>
    <td class="numberOfCalls">0</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZL46initializeSimpleLoopUnswitchLegacyPassPassOnceRN4llvm12PassRegistryE</td>
    <td class="numberOfCalls">2</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZN4llvm42initializeSimpleLoopUnswitchLegacyPassPassERNS_12PassRegistryE</td>
    <td class="numberOfCalls">2</td>
  </tr>
  <tr class="mainTr">
    <td class="functionName">_ZN4llvm34createSimpleLoopUnswitchLegacyPassEb</td>
    <td class="numberOfCalls">0</td>
  </tr>
</table>
    </div>
    <button class="collapsible" type="button">Open Coverage Diff</button>
    <div class="content" style="display: none;">
      <hr />
      <h3 class="subheader">Coverage Diff</h3>
      <table class="mainTable">
  <tr class="mainTr">
    <th class="mainTh">Line Number</th>
    <th class="mainTh">
      <span class="badge">../DebugInfoTest/example_mips_dbg.ll</span>
      <span> BUT NOT </span>
      <span class="badge">../DebugInfoTest/example_mips.ll</span>
    </th>
    <th class="mainTh">Line Number</th>
    <th class="mainTh">
      <span class="badge">../DebugInfoTest/example_mips.ll</span>
      <span> BUT NOT </span>
      <span class="badge">../DebugInfoTest/example_mips_dbg.ll</span>
    </th>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1</td>
    <td class="codeline">///===- SimpleLoopUnswitch.cpp - Hoist loop-invariant control flow ---------===//</td>
    <td class="lineNumber">1</td>
    <td class="codeline">///===- SimpleLoopUnswitch.cpp - Hoist loop-invariant control flow ---------===//</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2</td>
    <td class="codeline">//</td>
    <td class="lineNumber">2</td>
    <td class="codeline">//</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3</td>
    <td class="codeline">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</td>
    <td class="lineNumber">3</td>
    <td class="codeline">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">4</td>
    <td class="codeline">// See https://llvm.org/LICENSE.txt for license information.</td>
    <td class="lineNumber">4</td>
    <td class="codeline">// See https://llvm.org/LICENSE.txt for license information.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">5</td>
    <td class="codeline">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</td>
    <td class="lineNumber">5</td>
    <td class="codeline">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">6</td>
    <td class="codeline">//</td>
    <td class="lineNumber">6</td>
    <td class="codeline">//</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">7</td>
    <td class="codeline">//===----------------------------------------------------------------------===//</td>
    <td class="lineNumber">7</td>
    <td class="codeline">//===----------------------------------------------------------------------===//</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">8</td>
    <td class="codeline"></td>
    <td class="lineNumber">8</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">9</td>
    <td class="codeline">#include "llvm/Transforms/Scalar/SimpleLoopUnswitch.h"</td>
    <td class="lineNumber">9</td>
    <td class="codeline">#include "llvm/Transforms/Scalar/SimpleLoopUnswitch.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">10</td>
    <td class="codeline">#include "llvm/ADT/DenseMap.h"</td>
    <td class="lineNumber">10</td>
    <td class="codeline">#include "llvm/ADT/DenseMap.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">11</td>
    <td class="codeline">#include "llvm/ADT/STLExtras.h"</td>
    <td class="lineNumber">11</td>
    <td class="codeline">#include "llvm/ADT/STLExtras.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">12</td>
    <td class="codeline">#include "llvm/ADT/Sequence.h"</td>
    <td class="lineNumber">12</td>
    <td class="codeline">#include "llvm/ADT/Sequence.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">13</td>
    <td class="codeline">#include "llvm/ADT/SetVector.h"</td>
    <td class="lineNumber">13</td>
    <td class="codeline">#include "llvm/ADT/SetVector.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">14</td>
    <td class="codeline">#include "llvm/ADT/SmallPtrSet.h"</td>
    <td class="lineNumber">14</td>
    <td class="codeline">#include "llvm/ADT/SmallPtrSet.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">15</td>
    <td class="codeline">#include "llvm/ADT/SmallVector.h"</td>
    <td class="lineNumber">15</td>
    <td class="codeline">#include "llvm/ADT/SmallVector.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">16</td>
    <td class="codeline">#include "llvm/ADT/Statistic.h"</td>
    <td class="lineNumber">16</td>
    <td class="codeline">#include "llvm/ADT/Statistic.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">17</td>
    <td class="codeline">#include "llvm/ADT/Twine.h"</td>
    <td class="lineNumber">17</td>
    <td class="codeline">#include "llvm/ADT/Twine.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">18</td>
    <td class="codeline">#include "llvm/Analysis/AssumptionCache.h"</td>
    <td class="lineNumber">18</td>
    <td class="codeline">#include "llvm/Analysis/AssumptionCache.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">19</td>
    <td class="codeline">#include "llvm/Analysis/BlockFrequencyInfo.h"</td>
    <td class="lineNumber">19</td>
    <td class="codeline">#include "llvm/Analysis/BlockFrequencyInfo.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">20</td>
    <td class="codeline">#include "llvm/Analysis/CFG.h"</td>
    <td class="lineNumber">20</td>
    <td class="codeline">#include "llvm/Analysis/CFG.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">21</td>
    <td class="codeline">#include "llvm/Analysis/CodeMetrics.h"</td>
    <td class="lineNumber">21</td>
    <td class="codeline">#include "llvm/Analysis/CodeMetrics.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">22</td>
    <td class="codeline">#include "llvm/Analysis/DomTreeUpdater.h"</td>
    <td class="lineNumber">22</td>
    <td class="codeline">#include "llvm/Analysis/DomTreeUpdater.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">23</td>
    <td class="codeline">#include "llvm/Analysis/GuardUtils.h"</td>
    <td class="lineNumber">23</td>
    <td class="codeline">#include "llvm/Analysis/GuardUtils.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">24</td>
    <td class="codeline">#include "llvm/Analysis/LoopAnalysisManager.h"</td>
    <td class="lineNumber">24</td>
    <td class="codeline">#include "llvm/Analysis/LoopAnalysisManager.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">25</td>
    <td class="codeline">#include "llvm/Analysis/LoopInfo.h"</td>
    <td class="lineNumber">25</td>
    <td class="codeline">#include "llvm/Analysis/LoopInfo.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">26</td>
    <td class="codeline">#include "llvm/Analysis/LoopIterator.h"</td>
    <td class="lineNumber">26</td>
    <td class="codeline">#include "llvm/Analysis/LoopIterator.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">27</td>
    <td class="codeline">#include "llvm/Analysis/LoopPass.h"</td>
    <td class="lineNumber">27</td>
    <td class="codeline">#include "llvm/Analysis/LoopPass.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">28</td>
    <td class="codeline">#include "llvm/Analysis/MemorySSA.h"</td>
    <td class="lineNumber">28</td>
    <td class="codeline">#include "llvm/Analysis/MemorySSA.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">29</td>
    <td class="codeline">#include "llvm/Analysis/MemorySSAUpdater.h"</td>
    <td class="lineNumber">29</td>
    <td class="codeline">#include "llvm/Analysis/MemorySSAUpdater.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">30</td>
    <td class="codeline">#include "llvm/Analysis/MustExecute.h"</td>
    <td class="lineNumber">30</td>
    <td class="codeline">#include "llvm/Analysis/MustExecute.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">31</td>
    <td class="codeline">#include "llvm/Analysis/ProfileSummaryInfo.h"</td>
    <td class="lineNumber">31</td>
    <td class="codeline">#include "llvm/Analysis/ProfileSummaryInfo.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">32</td>
    <td class="codeline">#include "llvm/Analysis/ScalarEvolution.h"</td>
    <td class="lineNumber">32</td>
    <td class="codeline">#include "llvm/Analysis/ScalarEvolution.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">33</td>
    <td class="codeline">#include "llvm/Analysis/TargetTransformInfo.h"</td>
    <td class="lineNumber">33</td>
    <td class="codeline">#include "llvm/Analysis/TargetTransformInfo.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">34</td>
    <td class="codeline">#include "llvm/Analysis/ValueTracking.h"</td>
    <td class="lineNumber">34</td>
    <td class="codeline">#include "llvm/Analysis/ValueTracking.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">35</td>
    <td class="codeline">#include "llvm/IR/BasicBlock.h"</td>
    <td class="lineNumber">35</td>
    <td class="codeline">#include "llvm/IR/BasicBlock.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">36</td>
    <td class="codeline">#include "llvm/IR/Constant.h"</td>
    <td class="lineNumber">36</td>
    <td class="codeline">#include "llvm/IR/Constant.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">37</td>
    <td class="codeline">#include "llvm/IR/Constants.h"</td>
    <td class="lineNumber">37</td>
    <td class="codeline">#include "llvm/IR/Constants.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">38</td>
    <td class="codeline">#include "llvm/IR/Dominators.h"</td>
    <td class="lineNumber">38</td>
    <td class="codeline">#include "llvm/IR/Dominators.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">39</td>
    <td class="codeline">#include "llvm/IR/Function.h"</td>
    <td class="lineNumber">39</td>
    <td class="codeline">#include "llvm/IR/Function.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">40</td>
    <td class="codeline">#include "llvm/IR/IRBuilder.h"</td>
    <td class="lineNumber">40</td>
    <td class="codeline">#include "llvm/IR/IRBuilder.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">41</td>
    <td class="codeline">#include "llvm/IR/InstrTypes.h"</td>
    <td class="lineNumber">41</td>
    <td class="codeline">#include "llvm/IR/InstrTypes.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">42</td>
    <td class="codeline">#include "llvm/IR/Instruction.h"</td>
    <td class="lineNumber">42</td>
    <td class="codeline">#include "llvm/IR/Instruction.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">43</td>
    <td class="codeline">#include "llvm/IR/Instructions.h"</td>
    <td class="lineNumber">43</td>
    <td class="codeline">#include "llvm/IR/Instructions.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">44</td>
    <td class="codeline">#include "llvm/IR/IntrinsicInst.h"</td>
    <td class="lineNumber">44</td>
    <td class="codeline">#include "llvm/IR/IntrinsicInst.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">45</td>
    <td class="codeline">#include "llvm/IR/PatternMatch.h"</td>
    <td class="lineNumber">45</td>
    <td class="codeline">#include "llvm/IR/PatternMatch.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">46</td>
    <td class="codeline">#include "llvm/IR/ProfDataUtils.h"</td>
    <td class="lineNumber">46</td>
    <td class="codeline">#include "llvm/IR/ProfDataUtils.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">47</td>
    <td class="codeline">#include "llvm/IR/Use.h"</td>
    <td class="lineNumber">47</td>
    <td class="codeline">#include "llvm/IR/Use.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">48</td>
    <td class="codeline">#include "llvm/IR/Value.h"</td>
    <td class="lineNumber">48</td>
    <td class="codeline">#include "llvm/IR/Value.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">49</td>
    <td class="codeline">#include "llvm/InitializePasses.h"</td>
    <td class="lineNumber">49</td>
    <td class="codeline">#include "llvm/InitializePasses.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">50</td>
    <td class="codeline">#include "llvm/Pass.h"</td>
    <td class="lineNumber">50</td>
    <td class="codeline">#include "llvm/Pass.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">51</td>
    <td class="codeline">#include "llvm/Support/Casting.h"</td>
    <td class="lineNumber">51</td>
    <td class="codeline">#include "llvm/Support/Casting.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">52</td>
    <td class="codeline">#include "llvm/Support/CommandLine.h"</td>
    <td class="lineNumber">52</td>
    <td class="codeline">#include "llvm/Support/CommandLine.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">53</td>
    <td class="codeline">#include "llvm/Support/Debug.h"</td>
    <td class="lineNumber">53</td>
    <td class="codeline">#include "llvm/Support/Debug.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">54</td>
    <td class="codeline">#include "llvm/Support/ErrorHandling.h"</td>
    <td class="lineNumber">54</td>
    <td class="codeline">#include "llvm/Support/ErrorHandling.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">55</td>
    <td class="codeline">#include "llvm/Support/GenericDomTree.h"</td>
    <td class="lineNumber">55</td>
    <td class="codeline">#include "llvm/Support/GenericDomTree.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">56</td>
    <td class="codeline">#include "llvm/Support/InstructionCost.h"</td>
    <td class="lineNumber">56</td>
    <td class="codeline">#include "llvm/Support/InstructionCost.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">57</td>
    <td class="codeline">#include "llvm/Support/raw_ostream.h"</td>
    <td class="lineNumber">57</td>
    <td class="codeline">#include "llvm/Support/raw_ostream.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">58</td>
    <td class="codeline">#include "llvm/Transforms/Scalar/LoopPassManager.h"</td>
    <td class="lineNumber">58</td>
    <td class="codeline">#include "llvm/Transforms/Scalar/LoopPassManager.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">59</td>
    <td class="codeline">#include "llvm/Transforms/Utils/BasicBlockUtils.h"</td>
    <td class="lineNumber">59</td>
    <td class="codeline">#include "llvm/Transforms/Utils/BasicBlockUtils.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">60</td>
    <td class="codeline">#include "llvm/Transforms/Utils/Cloning.h"</td>
    <td class="lineNumber">60</td>
    <td class="codeline">#include "llvm/Transforms/Utils/Cloning.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">61</td>
    <td class="codeline">#include "llvm/Transforms/Utils/Local.h"</td>
    <td class="lineNumber">61</td>
    <td class="codeline">#include "llvm/Transforms/Utils/Local.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">62</td>
    <td class="codeline">#include "llvm/Transforms/Utils/LoopUtils.h"</td>
    <td class="lineNumber">62</td>
    <td class="codeline">#include "llvm/Transforms/Utils/LoopUtils.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">63</td>
    <td class="codeline">#include "llvm/Transforms/Utils/ValueMapper.h"</td>
    <td class="lineNumber">63</td>
    <td class="codeline">#include "llvm/Transforms/Utils/ValueMapper.h"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">64</td>
    <td class="codeline">#include <algorithm></td>
    <td class="lineNumber">64</td>
    <td class="codeline">#include <algorithm></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">65</td>
    <td class="codeline">#include <cassert></td>
    <td class="lineNumber">65</td>
    <td class="codeline">#include <cassert></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">66</td>
    <td class="codeline">#include <iterator></td>
    <td class="lineNumber">66</td>
    <td class="codeline">#include <iterator></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">67</td>
    <td class="codeline">#include <numeric></td>
    <td class="lineNumber">67</td>
    <td class="codeline">#include <numeric></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">68</td>
    <td class="codeline">#include <optional></td>
    <td class="lineNumber">68</td>
    <td class="codeline">#include <optional></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">69</td>
    <td class="codeline">#include <utility></td>
    <td class="lineNumber">69</td>
    <td class="codeline">#include <utility></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">70</td>
    <td class="codeline"></td>
    <td class="lineNumber">70</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">71</td>
    <td class="codeline">#define DEBUG_TYPE "simple-loop-unswitch"</td>
    <td class="lineNumber">71</td>
    <td class="codeline">#define DEBUG_TYPE "simple-loop-unswitch"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">72</td>
    <td class="codeline"></td>
    <td class="lineNumber">72</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">73</td>
    <td class="codeline">using namespace llvm;</td>
    <td class="lineNumber">73</td>
    <td class="codeline">using namespace llvm;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">74</td>
    <td class="codeline">using namespace llvm::PatternMatch;</td>
    <td class="lineNumber">74</td>
    <td class="codeline">using namespace llvm::PatternMatch;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">75</td>
    <td class="codeline"></td>
    <td class="lineNumber">75</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">76</td>
    <td class="codeline">STATISTIC(NumBranches, "Number of branches unswitched");</td>
    <td class="lineNumber">76</td>
    <td class="codeline">STATISTIC(NumBranches, "Number of branches unswitched");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">77</td>
    <td class="codeline">STATISTIC(NumSwitches, "Number of switches unswitched");</td>
    <td class="lineNumber">77</td>
    <td class="codeline">STATISTIC(NumSwitches, "Number of switches unswitched");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">78</td>
    <td class="codeline">STATISTIC(NumSelects, "Number of selects turned into branches for unswitching");</td>
    <td class="lineNumber">78</td>
    <td class="codeline">STATISTIC(NumSelects, "Number of selects turned into branches for unswitching");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">79</td>
    <td class="codeline">STATISTIC(NumGuards, "Number of guards turned into branches for unswitching");</td>
    <td class="lineNumber">79</td>
    <td class="codeline">STATISTIC(NumGuards, "Number of guards turned into branches for unswitching");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">80</td>
    <td class="codeline">STATISTIC(NumTrivial, "Number of unswitches that are trivial");</td>
    <td class="lineNumber">80</td>
    <td class="codeline">STATISTIC(NumTrivial, "Number of unswitches that are trivial");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">81</td>
    <td class="codeline">STATISTIC(</td>
    <td class="lineNumber">81</td>
    <td class="codeline">STATISTIC(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">82</td>
    <td class="codeline">    NumCostMultiplierSkipped,</td>
    <td class="lineNumber">82</td>
    <td class="codeline">    NumCostMultiplierSkipped,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">83</td>
    <td class="codeline">    "Number of unswitch candidates that had their cost multiplier skipped");</td>
    <td class="lineNumber">83</td>
    <td class="codeline">    "Number of unswitch candidates that had their cost multiplier skipped");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">84</td>
    <td class="codeline">STATISTIC(NumInvariantConditionsInjected,</td>
    <td class="lineNumber">84</td>
    <td class="codeline">STATISTIC(NumInvariantConditionsInjected,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">85</td>
    <td class="codeline">          "Number of invariant conditions injected and unswitched");</td>
    <td class="lineNumber">85</td>
    <td class="codeline">          "Number of invariant conditions injected and unswitched");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">86</td>
    <td class="codeline"></td>
    <td class="lineNumber">86</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">87</td>
    <td class="codeline">static cl::opt<bool> EnableNonTrivialUnswitch(</td>
    <td class="lineNumber">87</td>
    <td class="codeline">static cl::opt<bool> EnableNonTrivialUnswitch(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">88</td>
    <td class="codeline">    "enable-nontrivial-unswitch", cl::init(false), cl::Hidden,</td>
    <td class="lineNumber">88</td>
    <td class="codeline">    "enable-nontrivial-unswitch", cl::init(false), cl::Hidden,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">89</td>
    <td class="codeline">    cl::desc("Forcibly enables non-trivial loop unswitching rather than "</td>
    <td class="lineNumber">89</td>
    <td class="codeline">    cl::desc("Forcibly enables non-trivial loop unswitching rather than "</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">90</td>
    <td class="codeline">             "following the configuration passed into the pass."));</td>
    <td class="lineNumber">90</td>
    <td class="codeline">             "following the configuration passed into the pass."));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">91</td>
    <td class="codeline"></td>
    <td class="lineNumber">91</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">92</td>
    <td class="codeline">static cl::opt<int></td>
    <td class="lineNumber">92</td>
    <td class="codeline">static cl::opt<int></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">93</td>
    <td class="codeline">    UnswitchThreshold("unswitch-threshold", cl::init(50), cl::Hidden,</td>
    <td class="lineNumber">93</td>
    <td class="codeline">    UnswitchThreshold("unswitch-threshold", cl::init(50), cl::Hidden,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">94</td>
    <td class="codeline">                      cl::desc("The cost threshold for unswitching a loop."));</td>
    <td class="lineNumber">94</td>
    <td class="codeline">                      cl::desc("The cost threshold for unswitching a loop."));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">95</td>
    <td class="codeline"></td>
    <td class="lineNumber">95</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">96</td>
    <td class="codeline">static cl::opt<bool> EnableUnswitchCostMultiplier(</td>
    <td class="lineNumber">96</td>
    <td class="codeline">static cl::opt<bool> EnableUnswitchCostMultiplier(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">97</td>
    <td class="codeline">    "enable-unswitch-cost-multiplier", cl::init(true), cl::Hidden,</td>
    <td class="lineNumber">97</td>
    <td class="codeline">    "enable-unswitch-cost-multiplier", cl::init(true), cl::Hidden,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">98</td>
    <td class="codeline">    cl::desc("Enable unswitch cost multiplier that prohibits exponential "</td>
    <td class="lineNumber">98</td>
    <td class="codeline">    cl::desc("Enable unswitch cost multiplier that prohibits exponential "</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">99</td>
    <td class="codeline">             "explosion in nontrivial unswitch."));</td>
    <td class="lineNumber">99</td>
    <td class="codeline">             "explosion in nontrivial unswitch."));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">100</td>
    <td class="codeline">static cl::opt<int> UnswitchSiblingsToplevelDiv(</td>
    <td class="lineNumber">100</td>
    <td class="codeline">static cl::opt<int> UnswitchSiblingsToplevelDiv(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">101</td>
    <td class="codeline">    "unswitch-siblings-toplevel-div", cl::init(2), cl::Hidden,</td>
    <td class="lineNumber">101</td>
    <td class="codeline">    "unswitch-siblings-toplevel-div", cl::init(2), cl::Hidden,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">102</td>
    <td class="codeline">    cl::desc("Toplevel siblings divisor for cost multiplier."));</td>
    <td class="lineNumber">102</td>
    <td class="codeline">    cl::desc("Toplevel siblings divisor for cost multiplier."));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">103</td>
    <td class="codeline">static cl::opt<int> UnswitchNumInitialUnscaledCandidates(</td>
    <td class="lineNumber">103</td>
    <td class="codeline">static cl::opt<int> UnswitchNumInitialUnscaledCandidates(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">104</td>
    <td class="codeline">    "unswitch-num-initial-unscaled-candidates", cl::init(8), cl::Hidden,</td>
    <td class="lineNumber">104</td>
    <td class="codeline">    "unswitch-num-initial-unscaled-candidates", cl::init(8), cl::Hidden,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">105</td>
    <td class="codeline">    cl::desc("Number of unswitch candidates that are ignored when calculating "</td>
    <td class="lineNumber">105</td>
    <td class="codeline">    cl::desc("Number of unswitch candidates that are ignored when calculating "</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">106</td>
    <td class="codeline">             "cost multiplier."));</td>
    <td class="lineNumber">106</td>
    <td class="codeline">             "cost multiplier."));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">107</td>
    <td class="codeline">static cl::opt<bool> UnswitchGuards(</td>
    <td class="lineNumber">107</td>
    <td class="codeline">static cl::opt<bool> UnswitchGuards(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">108</td>
    <td class="codeline">    "simple-loop-unswitch-guards", cl::init(true), cl::Hidden,</td>
    <td class="lineNumber">108</td>
    <td class="codeline">    "simple-loop-unswitch-guards", cl::init(true), cl::Hidden,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">109</td>
    <td class="codeline">    cl::desc("If enabled, simple loop unswitching will also consider "</td>
    <td class="lineNumber">109</td>
    <td class="codeline">    cl::desc("If enabled, simple loop unswitching will also consider "</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">110</td>
    <td class="codeline">             "llvm.experimental.guard intrinsics as unswitch candidates."));</td>
    <td class="lineNumber">110</td>
    <td class="codeline">             "llvm.experimental.guard intrinsics as unswitch candidates."));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">111</td>
    <td class="codeline">static cl::opt<bool> DropNonTrivialImplicitNullChecks(</td>
    <td class="lineNumber">111</td>
    <td class="codeline">static cl::opt<bool> DropNonTrivialImplicitNullChecks(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">112</td>
    <td class="codeline">    "simple-loop-unswitch-drop-non-trivial-implicit-null-checks",</td>
    <td class="lineNumber">112</td>
    <td class="codeline">    "simple-loop-unswitch-drop-non-trivial-implicit-null-checks",</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">113</td>
    <td class="codeline">    cl::init(false), cl::Hidden,</td>
    <td class="lineNumber">113</td>
    <td class="codeline">    cl::init(false), cl::Hidden,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">114</td>
    <td class="codeline">    cl::desc("If enabled, drop make.implicit metadata in unswitched implicit "</td>
    <td class="lineNumber">114</td>
    <td class="codeline">    cl::desc("If enabled, drop make.implicit metadata in unswitched implicit "</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">115</td>
    <td class="codeline">             "null checks to save time analyzing if we can keep it."));</td>
    <td class="lineNumber">115</td>
    <td class="codeline">             "null checks to save time analyzing if we can keep it."));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">116</td>
    <td class="codeline">static cl::opt<unsigned></td>
    <td class="lineNumber">116</td>
    <td class="codeline">static cl::opt<unsigned></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">117</td>
    <td class="codeline">    MSSAThreshold("simple-loop-unswitch-memoryssa-threshold",</td>
    <td class="lineNumber">117</td>
    <td class="codeline">    MSSAThreshold("simple-loop-unswitch-memoryssa-threshold",</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">118</td>
    <td class="codeline">                  cl::desc("Max number of memory uses to explore during "</td>
    <td class="lineNumber">118</td>
    <td class="codeline">                  cl::desc("Max number of memory uses to explore during "</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">119</td>
    <td class="codeline">                           "partial unswitching analysis"),</td>
    <td class="lineNumber">119</td>
    <td class="codeline">                           "partial unswitching analysis"),</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">120</td>
    <td class="codeline">                  cl::init(100), cl::Hidden);</td>
    <td class="lineNumber">120</td>
    <td class="codeline">                  cl::init(100), cl::Hidden);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">121</td>
    <td class="codeline">static cl::opt<bool> FreezeLoopUnswitchCond(</td>
    <td class="lineNumber">121</td>
    <td class="codeline">static cl::opt<bool> FreezeLoopUnswitchCond(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">122</td>
    <td class="codeline">    "freeze-loop-unswitch-cond", cl::init(true), cl::Hidden,</td>
    <td class="lineNumber">122</td>
    <td class="codeline">    "freeze-loop-unswitch-cond", cl::init(true), cl::Hidden,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">123</td>
    <td class="codeline">    cl::desc("If enabled, the freeze instruction will be added to condition "</td>
    <td class="lineNumber">123</td>
    <td class="codeline">    cl::desc("If enabled, the freeze instruction will be added to condition "</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">124</td>
    <td class="codeline">             "of loop unswitch to prevent miscompilation."));</td>
    <td class="lineNumber">124</td>
    <td class="codeline">             "of loop unswitch to prevent miscompilation."));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">125</td>
    <td class="codeline"></td>
    <td class="lineNumber">125</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">126</td>
    <td class="codeline">static cl::opt<bool> InjectInvariantConditions(</td>
    <td class="lineNumber">126</td>
    <td class="codeline">static cl::opt<bool> InjectInvariantConditions(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">127</td>
    <td class="codeline">    "simple-loop-unswitch-inject-invariant-conditions", cl::Hidden,</td>
    <td class="lineNumber">127</td>
    <td class="codeline">    "simple-loop-unswitch-inject-invariant-conditions", cl::Hidden,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">128</td>
    <td class="codeline">    cl::desc("Whether we should inject new invariants and unswitch them to "</td>
    <td class="lineNumber">128</td>
    <td class="codeline">    cl::desc("Whether we should inject new invariants and unswitch them to "</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">129</td>
    <td class="codeline">             "eliminate some existing (non-invariant) conditions."),</td>
    <td class="lineNumber">129</td>
    <td class="codeline">             "eliminate some existing (non-invariant) conditions."),</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">130</td>
    <td class="codeline">    cl::init(true));</td>
    <td class="lineNumber">130</td>
    <td class="codeline">    cl::init(true));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">131</td>
    <td class="codeline"></td>
    <td class="lineNumber">131</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">132</td>
    <td class="codeline">static cl::opt<unsigned> InjectInvariantConditionHotnesThreshold(</td>
    <td class="lineNumber">132</td>
    <td class="codeline">static cl::opt<unsigned> InjectInvariantConditionHotnesThreshold(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">133</td>
    <td class="codeline">    "simple-loop-unswitch-inject-invariant-condition-hotness-threshold",</td>
    <td class="lineNumber">133</td>
    <td class="codeline">    "simple-loop-unswitch-inject-invariant-condition-hotness-threshold",</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">134</td>
    <td class="codeline">    cl::Hidden, cl::desc("Only try to inject loop invariant conditions and "</td>
    <td class="lineNumber">134</td>
    <td class="codeline">    cl::Hidden, cl::desc("Only try to inject loop invariant conditions and "</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">135</td>
    <td class="codeline">                         "unswitch on them to eliminate branches that are "</td>
    <td class="lineNumber">135</td>
    <td class="codeline">                         "unswitch on them to eliminate branches that are "</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">136</td>
    <td class="codeline">                         "not-taken 1/<this option> times or less."),</td>
    <td class="lineNumber">136</td>
    <td class="codeline">                         "not-taken 1/<this option> times or less."),</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">137</td>
    <td class="codeline">    cl::init(16));</td>
    <td class="lineNumber">137</td>
    <td class="codeline">    cl::init(16));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">138</td>
    <td class="codeline"></td>
    <td class="lineNumber">138</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">139</td>
    <td class="codeline">namespace {</td>
    <td class="lineNumber">139</td>
    <td class="codeline">namespace {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">140</td>
    <td class="codeline">struct CompareDesc {</td>
    <td class="lineNumber">140</td>
    <td class="codeline">struct CompareDesc {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">141</td>
    <td class="codeline">  BranchInst *Term;</td>
    <td class="lineNumber">141</td>
    <td class="codeline">  BranchInst *Term;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">142</td>
    <td class="codeline">  Value *Invariant;</td>
    <td class="lineNumber">142</td>
    <td class="codeline">  Value *Invariant;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">143</td>
    <td class="codeline">  BasicBlock *InLoopSucc;</td>
    <td class="lineNumber">143</td>
    <td class="codeline">  BasicBlock *InLoopSucc;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">144</td>
    <td class="codeline"></td>
    <td class="lineNumber">144</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">145</td>
    <td class="codeline">  CompareDesc(BranchInst *Term, Value *Invariant, BasicBlock *InLoopSucc)</td>
    <td class="lineNumber">145</td>
    <td class="codeline">  CompareDesc(BranchInst *Term, Value *Invariant, BasicBlock *InLoopSucc)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">146</td>
    <td class="codeline">      : Term(Term), Invariant(Invariant), InLoopSucc(InLoopSucc) {}</td>
    <td class="lineNumber">146</td>
    <td class="codeline">      : Term(Term), Invariant(Invariant), InLoopSucc(InLoopSucc) {}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">147</td>
    <td class="codeline">};</td>
    <td class="lineNumber">147</td>
    <td class="codeline">};</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">148</td>
    <td class="codeline"></td>
    <td class="lineNumber">148</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">149</td>
    <td class="codeline">struct InjectedInvariant {</td>
    <td class="lineNumber">149</td>
    <td class="codeline">struct InjectedInvariant {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">150</td>
    <td class="codeline">  ICmpInst::Predicate Pred;</td>
    <td class="lineNumber">150</td>
    <td class="codeline">  ICmpInst::Predicate Pred;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">151</td>
    <td class="codeline">  Value *LHS;</td>
    <td class="lineNumber">151</td>
    <td class="codeline">  Value *LHS;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">152</td>
    <td class="codeline">  Value *RHS;</td>
    <td class="lineNumber">152</td>
    <td class="codeline">  Value *RHS;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">153</td>
    <td class="codeline">  BasicBlock *InLoopSucc;</td>
    <td class="lineNumber">153</td>
    <td class="codeline">  BasicBlock *InLoopSucc;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">154</td>
    <td class="codeline"></td>
    <td class="lineNumber">154</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">155</td>
    <td class="codeline">  InjectedInvariant(ICmpInst::Predicate Pred, Value *LHS, Value *RHS,</td>
    <td class="lineNumber">155</td>
    <td class="codeline">  InjectedInvariant(ICmpInst::Predicate Pred, Value *LHS, Value *RHS,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">156</td>
    <td class="codeline">                    BasicBlock *InLoopSucc)</td>
    <td class="lineNumber">156</td>
    <td class="codeline">                    BasicBlock *InLoopSucc)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">157</td>
    <td class="codeline">      : Pred(Pred), LHS(LHS), RHS(RHS), InLoopSucc(InLoopSucc) {}</td>
    <td class="lineNumber">157</td>
    <td class="codeline">      : Pred(Pred), LHS(LHS), RHS(RHS), InLoopSucc(InLoopSucc) {}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">158</td>
    <td class="codeline">};</td>
    <td class="lineNumber">158</td>
    <td class="codeline">};</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">159</td>
    <td class="codeline"></td>
    <td class="lineNumber">159</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">160</td>
    <td class="codeline">struct NonTrivialUnswitchCandidate {</td>
    <td class="lineNumber">160</td>
    <td class="codeline">struct NonTrivialUnswitchCandidate {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">161</td>
    <td class="codeline">  Instruction *TI = nullptr;</td>
    <td class="lineNumber">161</td>
    <td class="codeline">  Instruction *TI = nullptr;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">162</td>
    <td class="codeline">  TinyPtrVector<Value *> Invariants;</td>
    <td class="lineNumber">162</td>
    <td class="codeline">  TinyPtrVector<Value *> Invariants;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">163</td>
    <td class="codeline">  std::optional<InstructionCost> Cost;</td>
    <td class="lineNumber">163</td>
    <td class="codeline">  std::optional<InstructionCost> Cost;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">164</td>
    <td class="codeline">  std::optional<InjectedInvariant> PendingInjection;</td>
    <td class="lineNumber">164</td>
    <td class="codeline">  std::optional<InjectedInvariant> PendingInjection;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">165</td>
    <td class="codeline">  NonTrivialUnswitchCandidate(</td>
    <td class="lineNumber">165</td>
    <td class="codeline">  NonTrivialUnswitchCandidate(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">166</td>
    <td class="codeline">      Instruction *TI, ArrayRef<Value *> Invariants,</td>
    <td class="lineNumber">166</td>
    <td class="codeline">      Instruction *TI, ArrayRef<Value *> Invariants,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">167</td>
    <td class="codeline">      std::optional<InstructionCost> Cost = std::nullopt,</td>
    <td class="lineNumber">167</td>
    <td class="codeline">      std::optional<InstructionCost> Cost = std::nullopt,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">168</td>
    <td class="codeline">      std::optional<InjectedInvariant> PendingInjection = std::nullopt)</td>
    <td class="lineNumber">168</td>
    <td class="codeline">      std::optional<InjectedInvariant> PendingInjection = std::nullopt)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">169</td>
    <td class="codeline">      : TI(TI), Invariants(Invariants), Cost(Cost),</td>
    <td class="lineNumber">169</td>
    <td class="codeline">      : TI(TI), Invariants(Invariants), Cost(Cost),</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">170</td>
    <td class="codeline">        PendingInjection(PendingInjection) {};</td>
    <td class="lineNumber">170</td>
    <td class="codeline">        PendingInjection(PendingInjection) {};</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">171</td>
    <td class="codeline"></td>
    <td class="lineNumber">171</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">172</td>
    <td class="codeline">  bool hasPendingInjection() const { return PendingInjection.has_value(); }</td>
    <td class="lineNumber">172</td>
    <td class="codeline">  bool hasPendingInjection() const { return PendingInjection.has_value(); }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">173</td>
    <td class="codeline">};</td>
    <td class="lineNumber">173</td>
    <td class="codeline">};</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">174</td>
    <td class="codeline">} // end anonymous namespace.</td>
    <td class="lineNumber">174</td>
    <td class="codeline">} // end anonymous namespace.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">175</td>
    <td class="codeline"></td>
    <td class="lineNumber">175</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">176</td>
    <td class="codeline">// Helper to skip (select x, true, false), which matches both a logical AND and</td>
    <td class="lineNumber">176</td>
    <td class="codeline">// Helper to skip (select x, true, false), which matches both a logical AND and</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">177</td>
    <td class="codeline">// OR and can confuse code that tries to determine if \p Cond is either a</td>
    <td class="lineNumber">177</td>
    <td class="codeline">// OR and can confuse code that tries to determine if \p Cond is either a</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">178</td>
    <td class="codeline">// logical AND or OR but not both.</td>
    <td class="lineNumber">178</td>
    <td class="codeline">// logical AND or OR but not both.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">179</td>
    <td class="codeline">static Value *skipTrivialSelect(Value *Cond) {</td>
    <td class="lineNumber">179</td>
    <td class="codeline">static Value *skipTrivialSelect(Value *Cond) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">180</td>
    <td class="codeline">  Value *CondNext;</td>
    <td class="lineNumber">180</td>
    <td class="codeline">  Value *CondNext;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">181</td>
    <td class="codeline">  while (match(Cond, m_Select(m_Value(CondNext), m_One(), m_Zero())))</td>
    <td class="lineNumber">181</td>
    <td class="codeline">  while (match(Cond, m_Select(m_Value(CondNext), m_One(), m_Zero())))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">182</td>
    <td class="codeline">    Cond = CondNext;</td>
    <td class="lineNumber">182</td>
    <td class="codeline">    Cond = CondNext;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">183</td>
    <td class="codeline">  return Cond;</td>
    <td class="lineNumber">183</td>
    <td class="codeline">  return Cond;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">184</td>
    <td class="codeline">}</td>
    <td class="lineNumber">184</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">185</td>
    <td class="codeline"></td>
    <td class="lineNumber">185</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">186</td>
    <td class="codeline">/// Collect all of the loop invariant input values transitively used by the</td>
    <td class="lineNumber">186</td>
    <td class="codeline">/// Collect all of the loop invariant input values transitively used by the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">187</td>
    <td class="codeline">/// homogeneous instruction graph from a given root.</td>
    <td class="lineNumber">187</td>
    <td class="codeline">/// homogeneous instruction graph from a given root.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">188</td>
    <td class="codeline">///</td>
    <td class="lineNumber">188</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">189</td>
    <td class="codeline">/// This essentially walks from a root recursively through loop variant operands</td>
    <td class="lineNumber">189</td>
    <td class="codeline">/// This essentially walks from a root recursively through loop variant operands</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">190</td>
    <td class="codeline">/// which have perform the same logical operation (AND or OR) and finds all</td>
    <td class="lineNumber">190</td>
    <td class="codeline">/// which have perform the same logical operation (AND or OR) and finds all</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">191</td>
    <td class="codeline">/// inputs which are loop invariant. For some operations these can be</td>
    <td class="lineNumber">191</td>
    <td class="codeline">/// inputs which are loop invariant. For some operations these can be</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">192</td>
    <td class="codeline">/// re-associated and unswitched out of the loop entirely.</td>
    <td class="lineNumber">192</td>
    <td class="codeline">/// re-associated and unswitched out of the loop entirely.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">193</td>
    <td class="codeline">static TinyPtrVector<Value *></td>
    <td class="lineNumber">193</td>
    <td class="codeline">static TinyPtrVector<Value *></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">194</td>
    <td class="codeline">collectHomogenousInstGraphLoopInvariants(const Loop &L, Instruction &Root,</td>
    <td class="lineNumber">194</td>
    <td class="codeline">collectHomogenousInstGraphLoopInvariants(const Loop &L, Instruction &Root,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">195</td>
    <td class="codeline">                                         const LoopInfo &LI) {</td>
    <td class="lineNumber">195</td>
    <td class="codeline">                                         const LoopInfo &LI) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">196</td>
    <td class="codeline">  assert(!L.isLoopInvariant(&Root) &&</td>
    <td class="lineNumber">196</td>
    <td class="codeline">  assert(!L.isLoopInvariant(&Root) &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">197</td>
    <td class="codeline">         "Only need to walk the graph if root itself is not invariant.");</td>
    <td class="lineNumber">197</td>
    <td class="codeline">         "Only need to walk the graph if root itself is not invariant.");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">198</td>
    <td class="codeline">  TinyPtrVector<Value *> Invariants;</td>
    <td class="lineNumber">198</td>
    <td class="codeline">  TinyPtrVector<Value *> Invariants;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">199</td>
    <td class="codeline"></td>
    <td class="lineNumber">199</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">200</td>
    <td class="codeline">  bool IsRootAnd = match(&Root, m_LogicalAnd());</td>
    <td class="lineNumber">200</td>
    <td class="codeline">  bool IsRootAnd = match(&Root, m_LogicalAnd());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">201</td>
    <td class="codeline">  bool IsRootOr  = match(&Root, m_LogicalOr());</td>
    <td class="lineNumber">201</td>
    <td class="codeline">  bool IsRootOr  = match(&Root, m_LogicalOr());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">202</td>
    <td class="codeline"></td>
    <td class="lineNumber">202</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">203</td>
    <td class="codeline">  // Build a worklist and recurse through operators collecting invariants.</td>
    <td class="lineNumber">203</td>
    <td class="codeline">  // Build a worklist and recurse through operators collecting invariants.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">204</td>
    <td class="codeline">  SmallVector<Instruction *, 4> Worklist;</td>
    <td class="lineNumber">204</td>
    <td class="codeline">  SmallVector<Instruction *, 4> Worklist;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">205</td>
    <td class="codeline">  SmallPtrSet<Instruction *, 8> Visited;</td>
    <td class="lineNumber">205</td>
    <td class="codeline">  SmallPtrSet<Instruction *, 8> Visited;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">206</td>
    <td class="codeline">  Worklist.push_back(&Root);</td>
    <td class="lineNumber">206</td>
    <td class="codeline">  Worklist.push_back(&Root);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">207</td>
    <td class="codeline">  Visited.insert(&Root);</td>
    <td class="lineNumber">207</td>
    <td class="codeline">  Visited.insert(&Root);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">208</td>
    <td class="codeline">  do {</td>
    <td class="lineNumber">208</td>
    <td class="codeline">  do {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">209</td>
    <td class="codeline">    Instruction &I = *Worklist.pop_back_val();</td>
    <td class="lineNumber">209</td>
    <td class="codeline">    Instruction &I = *Worklist.pop_back_val();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">210</td>
    <td class="codeline">    for (Value *OpV : I.operand_values()) {</td>
    <td class="lineNumber">210</td>
    <td class="codeline">    for (Value *OpV : I.operand_values()) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">211</td>
    <td class="codeline">      // Skip constants as unswitching isn't interesting for them.</td>
    <td class="lineNumber">211</td>
    <td class="codeline">      // Skip constants as unswitching isn't interesting for them.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">212</td>
    <td class="codeline">      if (isa<Constant>(OpV))</td>
    <td class="lineNumber">212</td>
    <td class="codeline">      if (isa<Constant>(OpV))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">213</td>
    <td class="codeline">        continue;</td>
    <td class="lineNumber">213</td>
    <td class="codeline">        continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">214</td>
    <td class="codeline"></td>
    <td class="lineNumber">214</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">215</td>
    <td class="codeline">      // Add it to our result if loop invariant.</td>
    <td class="lineNumber">215</td>
    <td class="codeline">      // Add it to our result if loop invariant.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">216</td>
    <td class="codeline">      if (L.isLoopInvariant(OpV)) {</td>
    <td class="lineNumber">216</td>
    <td class="codeline">      if (L.isLoopInvariant(OpV)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">217</td>
    <td class="codeline">        Invariants.push_back(OpV);</td>
    <td class="lineNumber">217</td>
    <td class="codeline">        Invariants.push_back(OpV);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">218</td>
    <td class="codeline">        continue;</td>
    <td class="lineNumber">218</td>
    <td class="codeline">        continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">219</td>
    <td class="codeline">      }</td>
    <td class="lineNumber">219</td>
    <td class="codeline">      }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">220</td>
    <td class="codeline"></td>
    <td class="lineNumber">220</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">221</td>
    <td class="codeline">      // If not an instruction with the same opcode, nothing we can do.</td>
    <td class="lineNumber">221</td>
    <td class="codeline">      // If not an instruction with the same opcode, nothing we can do.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">222</td>
    <td class="codeline">      Instruction *OpI = dyn_cast<Instruction>(skipTrivialSelect(OpV));</td>
    <td class="lineNumber">222</td>
    <td class="codeline">      Instruction *OpI = dyn_cast<Instruction>(skipTrivialSelect(OpV));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">223</td>
    <td class="codeline"></td>
    <td class="lineNumber">223</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">224</td>
    <td class="codeline">      if (OpI && ((IsRootAnd && match(OpI, m_LogicalAnd())) ||</td>
    <td class="lineNumber">224</td>
    <td class="codeline">      if (OpI && ((IsRootAnd && match(OpI, m_LogicalAnd())) ||</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">225</td>
    <td class="codeline">                  (IsRootOr  && match(OpI, m_LogicalOr())))) {</td>
    <td class="lineNumber">225</td>
    <td class="codeline">                  (IsRootOr  && match(OpI, m_LogicalOr())))) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">226</td>
    <td class="codeline">        // Visit this operand.</td>
    <td class="lineNumber">226</td>
    <td class="codeline">        // Visit this operand.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">227</td>
    <td class="codeline">        if (Visited.insert(OpI).second)</td>
    <td class="lineNumber">227</td>
    <td class="codeline">        if (Visited.insert(OpI).second)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">228</td>
    <td class="codeline">          Worklist.push_back(OpI);</td>
    <td class="lineNumber">228</td>
    <td class="codeline">          Worklist.push_back(OpI);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">229</td>
    <td class="codeline">      }</td>
    <td class="lineNumber">229</td>
    <td class="codeline">      }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">230</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">230</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">231</td>
    <td class="codeline">  } while (!Worklist.empty());</td>
    <td class="lineNumber">231</td>
    <td class="codeline">  } while (!Worklist.empty());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">232</td>
    <td class="codeline"></td>
    <td class="lineNumber">232</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">233</td>
    <td class="codeline">  return Invariants;</td>
    <td class="lineNumber">233</td>
    <td class="codeline">  return Invariants;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">234</td>
    <td class="codeline">}</td>
    <td class="lineNumber">234</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">235</td>
    <td class="codeline"></td>
    <td class="lineNumber">235</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">236</td>
    <td class="codeline">static void replaceLoopInvariantUses(const Loop &L, Value *Invariant,</td>
    <td class="lineNumber">236</td>
    <td class="codeline">static void replaceLoopInvariantUses(const Loop &L, Value *Invariant,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">237</td>
    <td class="codeline">                                     Constant &Replacement) {</td>
    <td class="lineNumber">237</td>
    <td class="codeline">                                     Constant &Replacement) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">238</td>
    <td class="codeline">  assert(!isa<Constant>(Invariant) && "Why are we unswitching on a constant?");</td>
    <td class="lineNumber">238</td>
    <td class="codeline">  assert(!isa<Constant>(Invariant) && "Why are we unswitching on a constant?");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">239</td>
    <td class="codeline"></td>
    <td class="lineNumber">239</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">240</td>
    <td class="codeline">  // Replace uses of LIC in the loop with the given constant.</td>
    <td class="lineNumber">240</td>
    <td class="codeline">  // Replace uses of LIC in the loop with the given constant.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">241</td>
    <td class="codeline">  // We use make_early_inc_range as set invalidates the iterator.</td>
    <td class="lineNumber">241</td>
    <td class="codeline">  // We use make_early_inc_range as set invalidates the iterator.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">242</td>
    <td class="codeline">  for (Use &U : llvm::make_early_inc_range(Invariant->uses())) {</td>
    <td class="lineNumber">242</td>
    <td class="codeline">  for (Use &U : llvm::make_early_inc_range(Invariant->uses())) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">243</td>
    <td class="codeline">    Instruction *UserI = dyn_cast<Instruction>(U.getUser());</td>
    <td class="lineNumber">243</td>
    <td class="codeline">    Instruction *UserI = dyn_cast<Instruction>(U.getUser());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">244</td>
    <td class="codeline"></td>
    <td class="lineNumber">244</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">245</td>
    <td class="codeline">    // Replace this use within the loop body.</td>
    <td class="lineNumber">245</td>
    <td class="codeline">    // Replace this use within the loop body.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">246</td>
    <td class="codeline">    if (UserI && L.contains(UserI))</td>
    <td class="lineNumber">246</td>
    <td class="codeline">    if (UserI && L.contains(UserI))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">247</td>
    <td class="codeline">      U.set(&Replacement);</td>
    <td class="lineNumber">247</td>
    <td class="codeline">      U.set(&Replacement);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">248</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">248</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">249</td>
    <td class="codeline">}</td>
    <td class="lineNumber">249</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">250</td>
    <td class="codeline"></td>
    <td class="lineNumber">250</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">251</td>
    <td class="codeline">/// Check that all the LCSSA PHI nodes in the loop exit block have trivial</td>
    <td class="lineNumber">251</td>
    <td class="codeline">/// Check that all the LCSSA PHI nodes in the loop exit block have trivial</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">252</td>
    <td class="codeline">/// incoming values along this edge.</td>
    <td class="lineNumber">252</td>
    <td class="codeline">/// incoming values along this edge.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">253</td>
    <td class="codeline">static bool areLoopExitPHIsLoopInvariant(const Loop &L,</td>
    <td class="lineNumber">253</td>
    <td class="codeline">static bool areLoopExitPHIsLoopInvariant(const Loop &L,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">254</td>
    <td class="codeline">                                         const BasicBlock &ExitingBB,</td>
    <td class="lineNumber">254</td>
    <td class="codeline">                                         const BasicBlock &ExitingBB,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">255</td>
    <td class="codeline">                                         const BasicBlock &ExitBB) {</td>
    <td class="lineNumber">255</td>
    <td class="codeline">                                         const BasicBlock &ExitBB) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">256</td>
    <td class="codeline">  for (const Instruction &I : ExitBB) {</td>
    <td class="lineNumber">256</td>
    <td class="codeline">  for (const Instruction &I : ExitBB) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">257</td>
    <td class="codeline">    auto *PN = dyn_cast<PHINode>(&I);</td>
    <td class="lineNumber">257</td>
    <td class="codeline">    auto *PN = dyn_cast<PHINode>(&I);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">258</td>
    <td class="codeline">    if (!PN)</td>
    <td class="lineNumber">258</td>
    <td class="codeline">    if (!PN)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">259</td>
    <td class="codeline">      // No more PHIs to check.</td>
    <td class="lineNumber">259</td>
    <td class="codeline">      // No more PHIs to check.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">260</td>
    <td class="codeline">      return true;</td>
    <td class="lineNumber">260</td>
    <td class="codeline">      return true;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">261</td>
    <td class="codeline"></td>
    <td class="lineNumber">261</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">262</td>
    <td class="codeline">    // If the incoming value for this edge isn't loop invariant the unswitch</td>
    <td class="lineNumber">262</td>
    <td class="codeline">    // If the incoming value for this edge isn't loop invariant the unswitch</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">263</td>
    <td class="codeline">    // won't be trivial.</td>
    <td class="lineNumber">263</td>
    <td class="codeline">    // won't be trivial.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">264</td>
    <td class="codeline">    if (!L.isLoopInvariant(PN->getIncomingValueForBlock(&ExitingBB)))</td>
    <td class="lineNumber">264</td>
    <td class="codeline">    if (!L.isLoopInvariant(PN->getIncomingValueForBlock(&ExitingBB)))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">265</td>
    <td class="codeline">      return false;</td>
    <td class="lineNumber">265</td>
    <td class="codeline">      return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">266</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">266</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">267</td>
    <td class="codeline">  llvm_unreachable("Basic blocks should never be empty!");</td>
    <td class="lineNumber">267</td>
    <td class="codeline">  llvm_unreachable("Basic blocks should never be empty!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">268</td>
    <td class="codeline">}</td>
    <td class="lineNumber">268</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">269</td>
    <td class="codeline"></td>
    <td class="lineNumber">269</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">270</td>
    <td class="codeline">/// Copy a set of loop invariant values \p ToDuplicate and insert them at the</td>
    <td class="lineNumber">270</td>
    <td class="codeline">/// Copy a set of loop invariant values \p ToDuplicate and insert them at the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">271</td>
    <td class="codeline">/// end of \p BB and conditionally branch on the copied condition. We only</td>
    <td class="lineNumber">271</td>
    <td class="codeline">/// end of \p BB and conditionally branch on the copied condition. We only</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">272</td>
    <td class="codeline">/// branch on a single value.</td>
    <td class="lineNumber">272</td>
    <td class="codeline">/// branch on a single value.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">273</td>
    <td class="codeline">static void buildPartialUnswitchConditionalBranch(</td>
    <td class="lineNumber">273</td>
    <td class="codeline">static void buildPartialUnswitchConditionalBranch(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">274</td>
    <td class="codeline">    BasicBlock &BB, ArrayRef<Value *> Invariants, bool Direction,</td>
    <td class="lineNumber">274</td>
    <td class="codeline">    BasicBlock &BB, ArrayRef<Value *> Invariants, bool Direction,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">275</td>
    <td class="codeline">    BasicBlock &UnswitchedSucc, BasicBlock &NormalSucc, bool InsertFreeze,</td>
    <td class="lineNumber">275</td>
    <td class="codeline">    BasicBlock &UnswitchedSucc, BasicBlock &NormalSucc, bool InsertFreeze,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">276</td>
    <td class="codeline">    const Instruction *I, AssumptionCache *AC, const DominatorTree &DT) {</td>
    <td class="lineNumber">276</td>
    <td class="codeline">    const Instruction *I, AssumptionCache *AC, const DominatorTree &DT) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">277</td>
    <td class="codeline">  IRBuilder<> IRB(&BB);</td>
    <td class="lineNumber">277</td>
    <td class="codeline">  IRBuilder<> IRB(&BB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">278</td>
    <td class="codeline"></td>
    <td class="lineNumber">278</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">279</td>
    <td class="codeline">  SmallVector<Value *> FrozenInvariants;</td>
    <td class="lineNumber">279</td>
    <td class="codeline">  SmallVector<Value *> FrozenInvariants;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">280</td>
    <td class="codeline">  for (Value *Inv : Invariants) {</td>
    <td class="lineNumber">280</td>
    <td class="codeline">  for (Value *Inv : Invariants) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">281</td>
    <td class="codeline">    if (InsertFreeze && !isGuaranteedNotToBeUndefOrPoison(Inv, AC, I, &DT))</td>
    <td class="lineNumber">281</td>
    <td class="codeline">    if (InsertFreeze && !isGuaranteedNotToBeUndefOrPoison(Inv, AC, I, &DT))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">282</td>
    <td class="codeline">      Inv = IRB.CreateFreeze(Inv, Inv->getName() + ".fr");</td>
    <td class="lineNumber">282</td>
    <td class="codeline">      Inv = IRB.CreateFreeze(Inv, Inv->getName() + ".fr");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">283</td>
    <td class="codeline">    FrozenInvariants.push_back(Inv);</td>
    <td class="lineNumber">283</td>
    <td class="codeline">    FrozenInvariants.push_back(Inv);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">284</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">284</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">285</td>
    <td class="codeline"></td>
    <td class="lineNumber">285</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">286</td>
    <td class="codeline">  Value *Cond = Direction ? IRB.CreateOr(FrozenInvariants)</td>
    <td class="lineNumber">286</td>
    <td class="codeline">  Value *Cond = Direction ? IRB.CreateOr(FrozenInvariants)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">287</td>
    <td class="codeline">                          : IRB.CreateAnd(FrozenInvariants);</td>
    <td class="lineNumber">287</td>
    <td class="codeline">                          : IRB.CreateAnd(FrozenInvariants);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">288</td>
    <td class="codeline">  IRB.CreateCondBr(Cond, Direction ? &UnswitchedSucc : &NormalSucc,</td>
    <td class="lineNumber">288</td>
    <td class="codeline">  IRB.CreateCondBr(Cond, Direction ? &UnswitchedSucc : &NormalSucc,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">289</td>
    <td class="codeline">                   Direction ? &NormalSucc : &UnswitchedSucc);</td>
    <td class="lineNumber">289</td>
    <td class="codeline">                   Direction ? &NormalSucc : &UnswitchedSucc);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">290</td>
    <td class="codeline">}</td>
    <td class="lineNumber">290</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">291</td>
    <td class="codeline"></td>
    <td class="lineNumber">291</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">292</td>
    <td class="codeline">/// Copy a set of loop invariant values, and conditionally branch on them.</td>
    <td class="lineNumber">292</td>
    <td class="codeline">/// Copy a set of loop invariant values, and conditionally branch on them.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">293</td>
    <td class="codeline">static void buildPartialInvariantUnswitchConditionalBranch(</td>
    <td class="lineNumber">293</td>
    <td class="codeline">static void buildPartialInvariantUnswitchConditionalBranch(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">294</td>
    <td class="codeline">    BasicBlock &BB, ArrayRef<Value *> ToDuplicate, bool Direction,</td>
    <td class="lineNumber">294</td>
    <td class="codeline">    BasicBlock &BB, ArrayRef<Value *> ToDuplicate, bool Direction,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">295</td>
    <td class="codeline">    BasicBlock &UnswitchedSucc, BasicBlock &NormalSucc, Loop &L,</td>
    <td class="lineNumber">295</td>
    <td class="codeline">    BasicBlock &UnswitchedSucc, BasicBlock &NormalSucc, Loop &L,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">296</td>
    <td class="codeline">    MemorySSAUpdater *MSSAU) {</td>
    <td class="lineNumber">296</td>
    <td class="codeline">    MemorySSAUpdater *MSSAU) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">297</td>
    <td class="codeline">  ValueToValueMapTy VMap;</td>
    <td class="lineNumber">297</td>
    <td class="codeline">  ValueToValueMapTy VMap;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">298</td>
    <td class="codeline">  for (auto *Val : reverse(ToDuplicate)) {</td>
    <td class="lineNumber">298</td>
    <td class="codeline">  for (auto *Val : reverse(ToDuplicate)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">299</td>
    <td class="codeline">    Instruction *Inst = cast<Instruction>(Val);</td>
    <td class="lineNumber">299</td>
    <td class="codeline">    Instruction *Inst = cast<Instruction>(Val);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">300</td>
    <td class="codeline">    Instruction *NewInst = Inst->clone();</td>
    <td class="lineNumber">300</td>
    <td class="codeline">    Instruction *NewInst = Inst->clone();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">301</td>
    <td class="codeline">    NewInst->insertInto(&BB, BB.end());</td>
    <td class="lineNumber">301</td>
    <td class="codeline">    NewInst->insertInto(&BB, BB.end());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">302</td>
    <td class="codeline">    RemapInstruction(NewInst, VMap,</td>
    <td class="lineNumber">302</td>
    <td class="codeline">    RemapInstruction(NewInst, VMap,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">303</td>
    <td class="codeline">                     RF_NoModuleLevelChanges | RF_IgnoreMissingLocals);</td>
    <td class="lineNumber">303</td>
    <td class="codeline">                     RF_NoModuleLevelChanges | RF_IgnoreMissingLocals);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">304</td>
    <td class="codeline">    VMap[Val] = NewInst;</td>
    <td class="lineNumber">304</td>
    <td class="codeline">    VMap[Val] = NewInst;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">305</td>
    <td class="codeline"></td>
    <td class="lineNumber">305</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">306</td>
    <td class="codeline">    if (!MSSAU)</td>
    <td class="lineNumber">306</td>
    <td class="codeline">    if (!MSSAU)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">307</td>
    <td class="codeline">      continue;</td>
    <td class="lineNumber">307</td>
    <td class="codeline">      continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">308</td>
    <td class="codeline"></td>
    <td class="lineNumber">308</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">309</td>
    <td class="codeline">    MemorySSA *MSSA = MSSAU->getMemorySSA();</td>
    <td class="lineNumber">309</td>
    <td class="codeline">    MemorySSA *MSSA = MSSAU->getMemorySSA();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">310</td>
    <td class="codeline">    if (auto *MemUse =</td>
    <td class="lineNumber">310</td>
    <td class="codeline">    if (auto *MemUse =</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">311</td>
    <td class="codeline">            dyn_cast_or_null<MemoryUse>(MSSA->getMemoryAccess(Inst))) {</td>
    <td class="lineNumber">311</td>
    <td class="codeline">            dyn_cast_or_null<MemoryUse>(MSSA->getMemoryAccess(Inst))) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">312</td>
    <td class="codeline">      auto *DefiningAccess = MemUse->getDefiningAccess();</td>
    <td class="lineNumber">312</td>
    <td class="codeline">      auto *DefiningAccess = MemUse->getDefiningAccess();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">313</td>
    <td class="codeline">      // Get the first defining access before the loop.</td>
    <td class="lineNumber">313</td>
    <td class="codeline">      // Get the first defining access before the loop.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">314</td>
    <td class="codeline">      while (L.contains(DefiningAccess->getBlock())) {</td>
    <td class="lineNumber">314</td>
    <td class="codeline">      while (L.contains(DefiningAccess->getBlock())) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">315</td>
    <td class="codeline">        // If the defining access is a MemoryPhi, get the incoming</td>
    <td class="lineNumber">315</td>
    <td class="codeline">        // If the defining access is a MemoryPhi, get the incoming</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">316</td>
    <td class="codeline">        // value for the pre-header as defining access.</td>
    <td class="lineNumber">316</td>
    <td class="codeline">        // value for the pre-header as defining access.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">317</td>
    <td class="codeline">        if (auto *MemPhi = dyn_cast<MemoryPhi>(DefiningAccess))</td>
    <td class="lineNumber">317</td>
    <td class="codeline">        if (auto *MemPhi = dyn_cast<MemoryPhi>(DefiningAccess))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">318</td>
    <td class="codeline">          DefiningAccess =</td>
    <td class="lineNumber">318</td>
    <td class="codeline">          DefiningAccess =</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">319</td>
    <td class="codeline">              MemPhi->getIncomingValueForBlock(L.getLoopPreheader());</td>
    <td class="lineNumber">319</td>
    <td class="codeline">              MemPhi->getIncomingValueForBlock(L.getLoopPreheader());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">320</td>
    <td class="codeline">        else</td>
    <td class="lineNumber">320</td>
    <td class="codeline">        else</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">321</td>
    <td class="codeline">          DefiningAccess = cast<MemoryDef>(DefiningAccess)->getDefiningAccess();</td>
    <td class="lineNumber">321</td>
    <td class="codeline">          DefiningAccess = cast<MemoryDef>(DefiningAccess)->getDefiningAccess();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">322</td>
    <td class="codeline">      }</td>
    <td class="lineNumber">322</td>
    <td class="codeline">      }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">323</td>
    <td class="codeline">      MSSAU->createMemoryAccessInBB(NewInst, DefiningAccess,</td>
    <td class="lineNumber">323</td>
    <td class="codeline">      MSSAU->createMemoryAccessInBB(NewInst, DefiningAccess,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">324</td>
    <td class="codeline">                                    NewInst->getParent(),</td>
    <td class="lineNumber">324</td>
    <td class="codeline">                                    NewInst->getParent(),</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">325</td>
    <td class="codeline">                                    MemorySSA::BeforeTerminator);</td>
    <td class="lineNumber">325</td>
    <td class="codeline">                                    MemorySSA::BeforeTerminator);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">326</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">326</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">327</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">327</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">328</td>
    <td class="codeline"></td>
    <td class="lineNumber">328</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">329</td>
    <td class="codeline">  IRBuilder<> IRB(&BB);</td>
    <td class="lineNumber">329</td>
    <td class="codeline">  IRBuilder<> IRB(&BB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">330</td>
    <td class="codeline">  Value *Cond = VMap[ToDuplicate[0]];</td>
    <td class="lineNumber">330</td>
    <td class="codeline">  Value *Cond = VMap[ToDuplicate[0]];</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">331</td>
    <td class="codeline">  IRB.CreateCondBr(Cond, Direction ? &UnswitchedSucc : &NormalSucc,</td>
    <td class="lineNumber">331</td>
    <td class="codeline">  IRB.CreateCondBr(Cond, Direction ? &UnswitchedSucc : &NormalSucc,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">332</td>
    <td class="codeline">                   Direction ? &NormalSucc : &UnswitchedSucc);</td>
    <td class="lineNumber">332</td>
    <td class="codeline">                   Direction ? &NormalSucc : &UnswitchedSucc);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">333</td>
    <td class="codeline">}</td>
    <td class="lineNumber">333</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">334</td>
    <td class="codeline"></td>
    <td class="lineNumber">334</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">335</td>
    <td class="codeline">/// Rewrite the PHI nodes in an unswitched loop exit basic block.</td>
    <td class="lineNumber">335</td>
    <td class="codeline">/// Rewrite the PHI nodes in an unswitched loop exit basic block.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">336</td>
    <td class="codeline">///</td>
    <td class="lineNumber">336</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">337</td>
    <td class="codeline">/// Requires that the loop exit and unswitched basic block are the same, and</td>
    <td class="lineNumber">337</td>
    <td class="codeline">/// Requires that the loop exit and unswitched basic block are the same, and</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">338</td>
    <td class="codeline">/// that the exiting block was a unique predecessor of that block. Rewrites the</td>
    <td class="lineNumber">338</td>
    <td class="codeline">/// that the exiting block was a unique predecessor of that block. Rewrites the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">339</td>
    <td class="codeline">/// PHI nodes in that block such that what were LCSSA PHI nodes become trivial</td>
    <td class="lineNumber">339</td>
    <td class="codeline">/// PHI nodes in that block such that what were LCSSA PHI nodes become trivial</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">340</td>
    <td class="codeline">/// PHI nodes from the old preheader that now contains the unswitched</td>
    <td class="lineNumber">340</td>
    <td class="codeline">/// PHI nodes from the old preheader that now contains the unswitched</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">341</td>
    <td class="codeline">/// terminator.</td>
    <td class="lineNumber">341</td>
    <td class="codeline">/// terminator.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">342</td>
    <td class="codeline">static void rewritePHINodesForUnswitchedExitBlock(BasicBlock &UnswitchedBB,</td>
    <td class="lineNumber">342</td>
    <td class="codeline">static void rewritePHINodesForUnswitchedExitBlock(BasicBlock &UnswitchedBB,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">343</td>
    <td class="codeline">                                                  BasicBlock &OldExitingBB,</td>
    <td class="lineNumber">343</td>
    <td class="codeline">                                                  BasicBlock &OldExitingBB,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">344</td>
    <td class="codeline">                                                  BasicBlock &OldPH) {</td>
    <td class="lineNumber">344</td>
    <td class="codeline">                                                  BasicBlock &OldPH) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">345</td>
    <td class="codeline">  for (PHINode &PN : UnswitchedBB.phis()) {</td>
    <td class="lineNumber">345</td>
    <td class="codeline">  for (PHINode &PN : UnswitchedBB.phis()) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">346</td>
    <td class="codeline">    // When the loop exit is directly unswitched we just need to update the</td>
    <td class="lineNumber">346</td>
    <td class="codeline">    // When the loop exit is directly unswitched we just need to update the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">347</td>
    <td class="codeline">    // incoming basic block. We loop to handle weird cases with repeated</td>
    <td class="lineNumber">347</td>
    <td class="codeline">    // incoming basic block. We loop to handle weird cases with repeated</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">348</td>
    <td class="codeline">    // incoming blocks, but expect to typically only have one operand here.</td>
    <td class="lineNumber">348</td>
    <td class="codeline">    // incoming blocks, but expect to typically only have one operand here.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">349</td>
    <td class="codeline">    for (auto i : seq<int>(0, PN.getNumOperands())) {</td>
    <td class="lineNumber">349</td>
    <td class="codeline">    for (auto i : seq<int>(0, PN.getNumOperands())) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">350</td>
    <td class="codeline">      assert(PN.getIncomingBlock(i) == &OldExitingBB &&</td>
    <td class="lineNumber">350</td>
    <td class="codeline">      assert(PN.getIncomingBlock(i) == &OldExitingBB &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">351</td>
    <td class="codeline">             "Found incoming block different from unique predecessor!");</td>
    <td class="lineNumber">351</td>
    <td class="codeline">             "Found incoming block different from unique predecessor!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">352</td>
    <td class="codeline">      PN.setIncomingBlock(i, &OldPH);</td>
    <td class="lineNumber">352</td>
    <td class="codeline">      PN.setIncomingBlock(i, &OldPH);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">353</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">353</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">354</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">354</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">355</td>
    <td class="codeline">}</td>
    <td class="lineNumber">355</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">356</td>
    <td class="codeline"></td>
    <td class="lineNumber">356</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">357</td>
    <td class="codeline">/// Rewrite the PHI nodes in the loop exit basic block and the split off</td>
    <td class="lineNumber">357</td>
    <td class="codeline">/// Rewrite the PHI nodes in the loop exit basic block and the split off</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">358</td>
    <td class="codeline">/// unswitched block.</td>
    <td class="lineNumber">358</td>
    <td class="codeline">/// unswitched block.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">359</td>
    <td class="codeline">///</td>
    <td class="lineNumber">359</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">360</td>
    <td class="codeline">/// Because the exit block remains an exit from the loop, this rewrites the</td>
    <td class="lineNumber">360</td>
    <td class="codeline">/// Because the exit block remains an exit from the loop, this rewrites the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">361</td>
    <td class="codeline">/// LCSSA PHI nodes in it to remove the unswitched edge and introduces PHI</td>
    <td class="lineNumber">361</td>
    <td class="codeline">/// LCSSA PHI nodes in it to remove the unswitched edge and introduces PHI</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">362</td>
    <td class="codeline">/// nodes into the unswitched basic block to select between the value in the</td>
    <td class="lineNumber">362</td>
    <td class="codeline">/// nodes into the unswitched basic block to select between the value in the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">363</td>
    <td class="codeline">/// old preheader and the loop exit.</td>
    <td class="lineNumber">363</td>
    <td class="codeline">/// old preheader and the loop exit.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">364</td>
    <td class="codeline">static void rewritePHINodesForExitAndUnswitchedBlocks(BasicBlock &ExitBB,</td>
    <td class="lineNumber">364</td>
    <td class="codeline">static void rewritePHINodesForExitAndUnswitchedBlocks(BasicBlock &ExitBB,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">365</td>
    <td class="codeline">                                                      BasicBlock &UnswitchedBB,</td>
    <td class="lineNumber">365</td>
    <td class="codeline">                                                      BasicBlock &UnswitchedBB,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">366</td>
    <td class="codeline">                                                      BasicBlock &OldExitingBB,</td>
    <td class="lineNumber">366</td>
    <td class="codeline">                                                      BasicBlock &OldExitingBB,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">367</td>
    <td class="codeline">                                                      BasicBlock &OldPH,</td>
    <td class="lineNumber">367</td>
    <td class="codeline">                                                      BasicBlock &OldPH,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">368</td>
    <td class="codeline">                                                      bool FullUnswitch) {</td>
    <td class="lineNumber">368</td>
    <td class="codeline">                                                      bool FullUnswitch) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">369</td>
    <td class="codeline">  assert(&ExitBB != &UnswitchedBB &&</td>
    <td class="lineNumber">369</td>
    <td class="codeline">  assert(&ExitBB != &UnswitchedBB &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">370</td>
    <td class="codeline">         "Must have different loop exit and unswitched blocks!");</td>
    <td class="lineNumber">370</td>
    <td class="codeline">         "Must have different loop exit and unswitched blocks!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">371</td>
    <td class="codeline">  Instruction *InsertPt = &*UnswitchedBB.begin();</td>
    <td class="lineNumber">371</td>
    <td class="codeline">  Instruction *InsertPt = &*UnswitchedBB.begin();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">372</td>
    <td class="codeline">  for (PHINode &PN : ExitBB.phis()) {</td>
    <td class="lineNumber">372</td>
    <td class="codeline">  for (PHINode &PN : ExitBB.phis()) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">373</td>
    <td class="codeline">    auto *NewPN = PHINode::Create(PN.getType(), /*NumReservedValues*/ 2,</td>
    <td class="lineNumber">373</td>
    <td class="codeline">    auto *NewPN = PHINode::Create(PN.getType(), /*NumReservedValues*/ 2,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">374</td>
    <td class="codeline">                                  PN.getName() + ".split", InsertPt);</td>
    <td class="lineNumber">374</td>
    <td class="codeline">                                  PN.getName() + ".split", InsertPt);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">375</td>
    <td class="codeline"></td>
    <td class="lineNumber">375</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">376</td>
    <td class="codeline">    // Walk backwards over the old PHI node's inputs to minimize the cost of</td>
    <td class="lineNumber">376</td>
    <td class="codeline">    // Walk backwards over the old PHI node's inputs to minimize the cost of</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">377</td>
    <td class="codeline">    // removing each one. We have to do this weird loop manually so that we</td>
    <td class="lineNumber">377</td>
    <td class="codeline">    // removing each one. We have to do this weird loop manually so that we</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">378</td>
    <td class="codeline">    // create the same number of new incoming edges in the new PHI as we expect</td>
    <td class="lineNumber">378</td>
    <td class="codeline">    // create the same number of new incoming edges in the new PHI as we expect</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">379</td>
    <td class="codeline">    // each case-based edge to be included in the unswitched switch in some</td>
    <td class="lineNumber">379</td>
    <td class="codeline">    // each case-based edge to be included in the unswitched switch in some</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">380</td>
    <td class="codeline">    // cases.</td>
    <td class="lineNumber">380</td>
    <td class="codeline">    // cases.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">381</td>
    <td class="codeline">    // FIXME: This is really, really gross. It would be much cleaner if LLVM</td>
    <td class="lineNumber">381</td>
    <td class="codeline">    // FIXME: This is really, really gross. It would be much cleaner if LLVM</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">382</td>
    <td class="codeline">    // allowed us to create a single entry for a predecessor block without</td>
    <td class="lineNumber">382</td>
    <td class="codeline">    // allowed us to create a single entry for a predecessor block without</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">383</td>
    <td class="codeline">    // having separate entries for each "edge" even though these edges are</td>
    <td class="lineNumber">383</td>
    <td class="codeline">    // having separate entries for each "edge" even though these edges are</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">384</td>
    <td class="codeline">    // required to produce identical results.</td>
    <td class="lineNumber">384</td>
    <td class="codeline">    // required to produce identical results.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">385</td>
    <td class="codeline">    for (int i = PN.getNumIncomingValues() - 1; i >= 0; --i) {</td>
    <td class="lineNumber">385</td>
    <td class="codeline">    for (int i = PN.getNumIncomingValues() - 1; i >= 0; --i) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">386</td>
    <td class="codeline">      if (PN.getIncomingBlock(i) != &OldExitingBB)</td>
    <td class="lineNumber">386</td>
    <td class="codeline">      if (PN.getIncomingBlock(i) != &OldExitingBB)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">387</td>
    <td class="codeline">        continue;</td>
    <td class="lineNumber">387</td>
    <td class="codeline">        continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">388</td>
    <td class="codeline"></td>
    <td class="lineNumber">388</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">389</td>
    <td class="codeline">      Value *Incoming = PN.getIncomingValue(i);</td>
    <td class="lineNumber">389</td>
    <td class="codeline">      Value *Incoming = PN.getIncomingValue(i);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">390</td>
    <td class="codeline">      if (FullUnswitch)</td>
    <td class="lineNumber">390</td>
    <td class="codeline">      if (FullUnswitch)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">391</td>
    <td class="codeline">        // No more edge from the old exiting block to the exit block.</td>
    <td class="lineNumber">391</td>
    <td class="codeline">        // No more edge from the old exiting block to the exit block.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">392</td>
    <td class="codeline">        PN.removeIncomingValue(i);</td>
    <td class="lineNumber">392</td>
    <td class="codeline">        PN.removeIncomingValue(i);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">393</td>
    <td class="codeline"></td>
    <td class="lineNumber">393</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">394</td>
    <td class="codeline">      NewPN->addIncoming(Incoming, &OldPH);</td>
    <td class="lineNumber">394</td>
    <td class="codeline">      NewPN->addIncoming(Incoming, &OldPH);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">395</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">395</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">396</td>
    <td class="codeline"></td>
    <td class="lineNumber">396</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">397</td>
    <td class="codeline">    // Now replace the old PHI with the new one and wire the old one in as an</td>
    <td class="lineNumber">397</td>
    <td class="codeline">    // Now replace the old PHI with the new one and wire the old one in as an</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">398</td>
    <td class="codeline">    // input to the new one.</td>
    <td class="lineNumber">398</td>
    <td class="codeline">    // input to the new one.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">399</td>
    <td class="codeline">    PN.replaceAllUsesWith(NewPN);</td>
    <td class="lineNumber">399</td>
    <td class="codeline">    PN.replaceAllUsesWith(NewPN);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">400</td>
    <td class="codeline">    NewPN->addIncoming(&PN, &ExitBB);</td>
    <td class="lineNumber">400</td>
    <td class="codeline">    NewPN->addIncoming(&PN, &ExitBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">401</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">401</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">402</td>
    <td class="codeline">}</td>
    <td class="lineNumber">402</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">403</td>
    <td class="codeline"></td>
    <td class="lineNumber">403</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">404</td>
    <td class="codeline">/// Hoist the current loop up to the innermost loop containing a remaining exit.</td>
    <td class="lineNumber">404</td>
    <td class="codeline">/// Hoist the current loop up to the innermost loop containing a remaining exit.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">405</td>
    <td class="codeline">///</td>
    <td class="lineNumber">405</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">406</td>
    <td class="codeline">/// Because we've removed an exit from the loop, we may have changed the set of</td>
    <td class="lineNumber">406</td>
    <td class="codeline">/// Because we've removed an exit from the loop, we may have changed the set of</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">407</td>
    <td class="codeline">/// loops reachable and need to move the current loop up the loop nest or even</td>
    <td class="lineNumber">407</td>
    <td class="codeline">/// loops reachable and need to move the current loop up the loop nest or even</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">408</td>
    <td class="codeline">/// to an entirely separate nest.</td>
    <td class="lineNumber">408</td>
    <td class="codeline">/// to an entirely separate nest.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">409</td>
    <td class="codeline">static void hoistLoopToNewParent(Loop &L, BasicBlock &Preheader,</td>
    <td class="lineNumber">409</td>
    <td class="codeline">static void hoistLoopToNewParent(Loop &L, BasicBlock &Preheader,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">410</td>
    <td class="codeline">                                 DominatorTree &DT, LoopInfo &LI,</td>
    <td class="lineNumber">410</td>
    <td class="codeline">                                 DominatorTree &DT, LoopInfo &LI,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">411</td>
    <td class="codeline">                                 MemorySSAUpdater *MSSAU, ScalarEvolution *SE) {</td>
    <td class="lineNumber">411</td>
    <td class="codeline">                                 MemorySSAUpdater *MSSAU, ScalarEvolution *SE) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">412</td>
    <td class="codeline">  // If the loop is already at the top level, we can't hoist it anywhere.</td>
    <td class="lineNumber">412</td>
    <td class="codeline">  // If the loop is already at the top level, we can't hoist it anywhere.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">413</td>
    <td class="codeline">  Loop *OldParentL = L.getParentLoop();</td>
    <td class="lineNumber">413</td>
    <td class="codeline">  Loop *OldParentL = L.getParentLoop();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">414</td>
    <td class="codeline">  if (!OldParentL)</td>
    <td class="lineNumber">414</td>
    <td class="codeline">  if (!OldParentL)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">415</td>
    <td class="codeline">    return;</td>
    <td class="lineNumber">415</td>
    <td class="codeline">    return;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">416</td>
    <td class="codeline"></td>
    <td class="lineNumber">416</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">417</td>
    <td class="codeline">  SmallVector<BasicBlock *, 4> Exits;</td>
    <td class="lineNumber">417</td>
    <td class="codeline">  SmallVector<BasicBlock *, 4> Exits;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">418</td>
    <td class="codeline">  L.getExitBlocks(Exits);</td>
    <td class="lineNumber">418</td>
    <td class="codeline">  L.getExitBlocks(Exits);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">419</td>
    <td class="codeline">  Loop *NewParentL = nullptr;</td>
    <td class="lineNumber">419</td>
    <td class="codeline">  Loop *NewParentL = nullptr;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">420</td>
    <td class="codeline">  for (auto *ExitBB : Exits)</td>
    <td class="lineNumber">420</td>
    <td class="codeline">  for (auto *ExitBB : Exits)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">421</td>
    <td class="codeline">    if (Loop *ExitL = LI.getLoopFor(ExitBB))</td>
    <td class="lineNumber">421</td>
    <td class="codeline">    if (Loop *ExitL = LI.getLoopFor(ExitBB))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">422</td>
    <td class="codeline">      if (!NewParentL || NewParentL->contains(ExitL))</td>
    <td class="lineNumber">422</td>
    <td class="codeline">      if (!NewParentL || NewParentL->contains(ExitL))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">423</td>
    <td class="codeline">        NewParentL = ExitL;</td>
    <td class="lineNumber">423</td>
    <td class="codeline">        NewParentL = ExitL;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">424</td>
    <td class="codeline"></td>
    <td class="lineNumber">424</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">425</td>
    <td class="codeline">  if (NewParentL == OldParentL)</td>
    <td class="lineNumber">425</td>
    <td class="codeline">  if (NewParentL == OldParentL)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">426</td>
    <td class="codeline">    return;</td>
    <td class="lineNumber">426</td>
    <td class="codeline">    return;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">427</td>
    <td class="codeline"></td>
    <td class="lineNumber">427</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">428</td>
    <td class="codeline">  // The new parent loop (if different) should always contain the old one.</td>
    <td class="lineNumber">428</td>
    <td class="codeline">  // The new parent loop (if different) should always contain the old one.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">429</td>
    <td class="codeline">  if (NewParentL)</td>
    <td class="lineNumber">429</td>
    <td class="codeline">  if (NewParentL)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">430</td>
    <td class="codeline">    assert(NewParentL->contains(OldParentL) &&</td>
    <td class="lineNumber">430</td>
    <td class="codeline">    assert(NewParentL->contains(OldParentL) &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">431</td>
    <td class="codeline">           "Can only hoist this loop up the nest!");</td>
    <td class="lineNumber">431</td>
    <td class="codeline">           "Can only hoist this loop up the nest!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">432</td>
    <td class="codeline"></td>
    <td class="lineNumber">432</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">433</td>
    <td class="codeline">  // The preheader will need to move with the body of this loop. However,</td>
    <td class="lineNumber">433</td>
    <td class="codeline">  // The preheader will need to move with the body of this loop. However,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">434</td>
    <td class="codeline">  // because it isn't in this loop we also need to update the primary loop map.</td>
    <td class="lineNumber">434</td>
    <td class="codeline">  // because it isn't in this loop we also need to update the primary loop map.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">435</td>
    <td class="codeline">  assert(OldParentL == LI.getLoopFor(&Preheader) &&</td>
    <td class="lineNumber">435</td>
    <td class="codeline">  assert(OldParentL == LI.getLoopFor(&Preheader) &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">436</td>
    <td class="codeline">         "Parent loop of this loop should contain this loop's preheader!");</td>
    <td class="lineNumber">436</td>
    <td class="codeline">         "Parent loop of this loop should contain this loop's preheader!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">437</td>
    <td class="codeline">  LI.changeLoopFor(&Preheader, NewParentL);</td>
    <td class="lineNumber">437</td>
    <td class="codeline">  LI.changeLoopFor(&Preheader, NewParentL);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">438</td>
    <td class="codeline"></td>
    <td class="lineNumber">438</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">439</td>
    <td class="codeline">  // Remove this loop from its old parent.</td>
    <td class="lineNumber">439</td>
    <td class="codeline">  // Remove this loop from its old parent.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">440</td>
    <td class="codeline">  OldParentL->removeChildLoop(&L);</td>
    <td class="lineNumber">440</td>
    <td class="codeline">  OldParentL->removeChildLoop(&L);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">441</td>
    <td class="codeline"></td>
    <td class="lineNumber">441</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">442</td>
    <td class="codeline">  // Add the loop either to the new parent or as a top-level loop.</td>
    <td class="lineNumber">442</td>
    <td class="codeline">  // Add the loop either to the new parent or as a top-level loop.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">443</td>
    <td class="codeline">  if (NewParentL)</td>
    <td class="lineNumber">443</td>
    <td class="codeline">  if (NewParentL)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">444</td>
    <td class="codeline">    NewParentL->addChildLoop(&L);</td>
    <td class="lineNumber">444</td>
    <td class="codeline">    NewParentL->addChildLoop(&L);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">445</td>
    <td class="codeline">  else</td>
    <td class="lineNumber">445</td>
    <td class="codeline">  else</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">446</td>
    <td class="codeline">    LI.addTopLevelLoop(&L);</td>
    <td class="lineNumber">446</td>
    <td class="codeline">    LI.addTopLevelLoop(&L);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">447</td>
    <td class="codeline"></td>
    <td class="lineNumber">447</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">448</td>
    <td class="codeline">  // Remove this loops blocks from the old parent and every other loop up the</td>
    <td class="lineNumber">448</td>
    <td class="codeline">  // Remove this loops blocks from the old parent and every other loop up the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">449</td>
    <td class="codeline">  // nest until reaching the new parent. Also update all of these</td>
    <td class="lineNumber">449</td>
    <td class="codeline">  // nest until reaching the new parent. Also update all of these</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">450</td>
    <td class="codeline">  // no-longer-containing loops to reflect the nesting change.</td>
    <td class="lineNumber">450</td>
    <td class="codeline">  // no-longer-containing loops to reflect the nesting change.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">451</td>
    <td class="codeline">  for (Loop *OldContainingL = OldParentL; OldContainingL != NewParentL;</td>
    <td class="lineNumber">451</td>
    <td class="codeline">  for (Loop *OldContainingL = OldParentL; OldContainingL != NewParentL;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">452</td>
    <td class="codeline">       OldContainingL = OldContainingL->getParentLoop()) {</td>
    <td class="lineNumber">452</td>
    <td class="codeline">       OldContainingL = OldContainingL->getParentLoop()) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">453</td>
    <td class="codeline">    llvm::erase_if(OldContainingL->getBlocksVector(),</td>
    <td class="lineNumber">453</td>
    <td class="codeline">    llvm::erase_if(OldContainingL->getBlocksVector(),</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">454</td>
    <td class="codeline">                   [&](const BasicBlock *BB) {</td>
    <td class="lineNumber">454</td>
    <td class="codeline">                   [&](const BasicBlock *BB) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">455</td>
    <td class="codeline">                     return BB == &Preheader || L.contains(BB);</td>
    <td class="lineNumber">455</td>
    <td class="codeline">                     return BB == &Preheader || L.contains(BB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">456</td>
    <td class="codeline">                   });</td>
    <td class="lineNumber">456</td>
    <td class="codeline">                   });</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">457</td>
    <td class="codeline"></td>
    <td class="lineNumber">457</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">458</td>
    <td class="codeline">    OldContainingL->getBlocksSet().erase(&Preheader);</td>
    <td class="lineNumber">458</td>
    <td class="codeline">    OldContainingL->getBlocksSet().erase(&Preheader);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">459</td>
    <td class="codeline">    for (BasicBlock *BB : L.blocks())</td>
    <td class="lineNumber">459</td>
    <td class="codeline">    for (BasicBlock *BB : L.blocks())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">460</td>
    <td class="codeline">      OldContainingL->getBlocksSet().erase(BB);</td>
    <td class="lineNumber">460</td>
    <td class="codeline">      OldContainingL->getBlocksSet().erase(BB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">461</td>
    <td class="codeline"></td>
    <td class="lineNumber">461</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">462</td>
    <td class="codeline">    // Because we just hoisted a loop out of this one, we have essentially</td>
    <td class="lineNumber">462</td>
    <td class="codeline">    // Because we just hoisted a loop out of this one, we have essentially</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">463</td>
    <td class="codeline">    // created new exit paths from it. That means we need to form LCSSA PHI</td>
    <td class="lineNumber">463</td>
    <td class="codeline">    // created new exit paths from it. That means we need to form LCSSA PHI</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">464</td>
    <td class="codeline">    // nodes for values used in the no-longer-nested loop.</td>
    <td class="lineNumber">464</td>
    <td class="codeline">    // nodes for values used in the no-longer-nested loop.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">465</td>
    <td class="codeline">    formLCSSA(*OldContainingL, DT, &LI, SE);</td>
    <td class="lineNumber">465</td>
    <td class="codeline">    formLCSSA(*OldContainingL, DT, &LI, SE);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">466</td>
    <td class="codeline"></td>
    <td class="lineNumber">466</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">467</td>
    <td class="codeline">    // We shouldn't need to form dedicated exits because the exit introduced</td>
    <td class="lineNumber">467</td>
    <td class="codeline">    // We shouldn't need to form dedicated exits because the exit introduced</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">468</td>
    <td class="codeline">    // here is the (just split by unswitching) preheader. However, after trivial</td>
    <td class="lineNumber">468</td>
    <td class="codeline">    // here is the (just split by unswitching) preheader. However, after trivial</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">469</td>
    <td class="codeline">    // unswitching it is possible to get new non-dedicated exits out of parent</td>
    <td class="lineNumber">469</td>
    <td class="codeline">    // unswitching it is possible to get new non-dedicated exits out of parent</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">470</td>
    <td class="codeline">    // loop so let's conservatively form dedicated exit blocks and figure out</td>
    <td class="lineNumber">470</td>
    <td class="codeline">    // loop so let's conservatively form dedicated exit blocks and figure out</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">471</td>
    <td class="codeline">    // if we can optimize later.</td>
    <td class="lineNumber">471</td>
    <td class="codeline">    // if we can optimize later.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">472</td>
    <td class="codeline">    formDedicatedExitBlocks(OldContainingL, &DT, &LI, MSSAU,</td>
    <td class="lineNumber">472</td>
    <td class="codeline">    formDedicatedExitBlocks(OldContainingL, &DT, &LI, MSSAU,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">473</td>
    <td class="codeline">                            /*PreserveLCSSA*/ true);</td>
    <td class="lineNumber">473</td>
    <td class="codeline">                            /*PreserveLCSSA*/ true);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">474</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">474</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">475</td>
    <td class="codeline">}</td>
    <td class="lineNumber">475</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">476</td>
    <td class="codeline"></td>
    <td class="lineNumber">476</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">477</td>
    <td class="codeline">// Return the top-most loop containing ExitBB and having ExitBB as exiting block</td>
    <td class="lineNumber">477</td>
    <td class="codeline">// Return the top-most loop containing ExitBB and having ExitBB as exiting block</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">478</td>
    <td class="codeline">// or the loop containing ExitBB, if there is no parent loop containing ExitBB</td>
    <td class="lineNumber">478</td>
    <td class="codeline">// or the loop containing ExitBB, if there is no parent loop containing ExitBB</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">479</td>
    <td class="codeline">// as exiting block.</td>
    <td class="lineNumber">479</td>
    <td class="codeline">// as exiting block.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">480</td>
    <td class="codeline">static Loop *getTopMostExitingLoop(const BasicBlock *ExitBB,</td>
    <td class="lineNumber">480</td>
    <td class="codeline">static Loop *getTopMostExitingLoop(const BasicBlock *ExitBB,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">481</td>
    <td class="codeline">                                   const LoopInfo &LI) {</td>
    <td class="lineNumber">481</td>
    <td class="codeline">                                   const LoopInfo &LI) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">482</td>
    <td class="codeline">  Loop *TopMost = LI.getLoopFor(ExitBB);</td>
    <td class="lineNumber">482</td>
    <td class="codeline">  Loop *TopMost = LI.getLoopFor(ExitBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">483</td>
    <td class="codeline">  Loop *Current = TopMost;</td>
    <td class="lineNumber">483</td>
    <td class="codeline">  Loop *Current = TopMost;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">484</td>
    <td class="codeline">  while (Current) {</td>
    <td class="lineNumber">484</td>
    <td class="codeline">  while (Current) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">485</td>
    <td class="codeline">    if (Current->isLoopExiting(ExitBB))</td>
    <td class="lineNumber">485</td>
    <td class="codeline">    if (Current->isLoopExiting(ExitBB))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">486</td>
    <td class="codeline">      TopMost = Current;</td>
    <td class="lineNumber">486</td>
    <td class="codeline">      TopMost = Current;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">487</td>
    <td class="codeline">    Current = Current->getParentLoop();</td>
    <td class="lineNumber">487</td>
    <td class="codeline">    Current = Current->getParentLoop();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">488</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">488</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">489</td>
    <td class="codeline">  return TopMost;</td>
    <td class="lineNumber">489</td>
    <td class="codeline">  return TopMost;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">490</td>
    <td class="codeline">}</td>
    <td class="lineNumber">490</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">491</td>
    <td class="codeline"></td>
    <td class="lineNumber">491</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">492</td>
    <td class="codeline">/// Unswitch a trivial branch if the condition is loop invariant.</td>
    <td class="lineNumber">492</td>
    <td class="codeline">/// Unswitch a trivial branch if the condition is loop invariant.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">493</td>
    <td class="codeline">///</td>
    <td class="lineNumber">493</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">494</td>
    <td class="codeline">/// This routine should only be called when loop code leading to the branch has</td>
    <td class="lineNumber">494</td>
    <td class="codeline">/// This routine should only be called when loop code leading to the branch has</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">495</td>
    <td class="codeline">/// been validated as trivial (no side effects). This routine checks if the</td>
    <td class="lineNumber">495</td>
    <td class="codeline">/// been validated as trivial (no side effects). This routine checks if the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">496</td>
    <td class="codeline">/// condition is invariant and one of the successors is a loop exit. This</td>
    <td class="lineNumber">496</td>
    <td class="codeline">/// condition is invariant and one of the successors is a loop exit. This</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">497</td>
    <td class="codeline">/// allows us to unswitch without duplicating the loop, making it trivial.</td>
    <td class="lineNumber">497</td>
    <td class="codeline">/// allows us to unswitch without duplicating the loop, making it trivial.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">498</td>
    <td class="codeline">///</td>
    <td class="lineNumber">498</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">499</td>
    <td class="codeline">/// If this routine fails to unswitch the branch it returns false.</td>
    <td class="lineNumber">499</td>
    <td class="codeline">/// If this routine fails to unswitch the branch it returns false.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">500</td>
    <td class="codeline">///</td>
    <td class="lineNumber">500</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">501</td>
    <td class="codeline">/// If the branch can be unswitched, this routine splits the preheader and</td>
    <td class="lineNumber">501</td>
    <td class="codeline">/// If the branch can be unswitched, this routine splits the preheader and</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">502</td>
    <td class="codeline">/// hoists the branch above that split. Preserves loop simplified form</td>
    <td class="lineNumber">502</td>
    <td class="codeline">/// hoists the branch above that split. Preserves loop simplified form</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">503</td>
    <td class="codeline">/// (splitting the exit block as necessary). It simplifies the branch within</td>
    <td class="lineNumber">503</td>
    <td class="codeline">/// (splitting the exit block as necessary). It simplifies the branch within</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">504</td>
    <td class="codeline">/// the loop to an unconditional branch but doesn't remove it entirely. Further</td>
    <td class="lineNumber">504</td>
    <td class="codeline">/// the loop to an unconditional branch but doesn't remove it entirely. Further</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">505</td>
    <td class="codeline">/// cleanup can be done with some simplifycfg like pass.</td>
    <td class="lineNumber">505</td>
    <td class="codeline">/// cleanup can be done with some simplifycfg like pass.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">506</td>
    <td class="codeline">///</td>
    <td class="lineNumber">506</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">507</td>
    <td class="codeline">/// If `SE` is not null, it will be updated based on the potential loop SCEVs</td>
    <td class="lineNumber">507</td>
    <td class="codeline">/// If `SE` is not null, it will be updated based on the potential loop SCEVs</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">508</td>
    <td class="codeline">/// invalidated by this.</td>
    <td class="lineNumber">508</td>
    <td class="codeline">/// invalidated by this.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">509</td>
    <td class="codeline">static bool unswitchTrivialBranch(Loop &L, BranchInst &BI, DominatorTree &DT,</td>
    <td class="lineNumber">509</td>
    <td class="codeline">static bool unswitchTrivialBranch(Loop &L, BranchInst &BI, DominatorTree &DT,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">510</td>
    <td class="codeline">                                  LoopInfo &LI, ScalarEvolution *SE,</td>
    <td class="lineNumber">510</td>
    <td class="codeline">                                  LoopInfo &LI, ScalarEvolution *SE,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">511</td>
    <td class="codeline">                                  MemorySSAUpdater *MSSAU) {</td>
    <td class="lineNumber">511</td>
    <td class="codeline">                                  MemorySSAUpdater *MSSAU) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">512</td>
    <td class="codeline">  assert(BI.isConditional() && "Can only unswitch a conditional branch!");</td>
    <td class="lineNumber">512</td>
    <td class="codeline">  assert(BI.isConditional() && "Can only unswitch a conditional branch!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">513</td>
    <td class="codeline">  LLVM_DEBUG(dbgs() << "  Trying to unswitch branch: " << BI << "\n");</td>
    <td class="lineNumber">513</td>
    <td class="codeline">  LLVM_DEBUG(dbgs() << "  Trying to unswitch branch: " << BI << "\n");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">514</td>
    <td class="codeline"></td>
    <td class="lineNumber">514</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">515</td>
    <td class="codeline">  // The loop invariant values that we want to unswitch.</td>
    <td class="lineNumber">515</td>
    <td class="codeline">  // The loop invariant values that we want to unswitch.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">516</td>
    <td class="codeline">  TinyPtrVector<Value *> Invariants;</td>
    <td class="lineNumber">516</td>
    <td class="codeline">  TinyPtrVector<Value *> Invariants;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">517</td>
    <td class="codeline"></td>
    <td class="lineNumber">517</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">518</td>
    <td class="codeline">  // When true, we're fully unswitching the branch rather than just unswitching</td>
    <td class="lineNumber">518</td>
    <td class="codeline">  // When true, we're fully unswitching the branch rather than just unswitching</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">519</td>
    <td class="codeline">  // some input conditions to the branch.</td>
    <td class="lineNumber">519</td>
    <td class="codeline">  // some input conditions to the branch.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">520</td>
    <td class="codeline">  bool FullUnswitch = false;</td>
    <td class="lineNumber">520</td>
    <td class="codeline">  bool FullUnswitch = false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">521</td>
    <td class="codeline"></td>
    <td class="lineNumber">521</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">522</td>
    <td class="codeline">  Value *Cond = skipTrivialSelect(BI.getCondition());</td>
    <td class="lineNumber">522</td>
    <td class="codeline">  Value *Cond = skipTrivialSelect(BI.getCondition());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">523</td>
    <td class="codeline">  if (L.isLoopInvariant(Cond)) {</td>
    <td class="lineNumber">523</td>
    <td class="codeline">  if (L.isLoopInvariant(Cond)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">524</td>
    <td class="codeline">    Invariants.push_back(Cond);</td>
    <td class="lineNumber">524</td>
    <td class="codeline">    Invariants.push_back(Cond);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">525</td>
    <td class="codeline">    FullUnswitch = true;</td>
    <td class="lineNumber">525</td>
    <td class="codeline">    FullUnswitch = true;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">526</td>
    <td class="codeline">  } else {</td>
    <td class="lineNumber">526</td>
    <td class="codeline">  } else {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">527</td>
    <td class="codeline">    if (auto *CondInst = dyn_cast<Instruction>(Cond))</td>
    <td class="lineNumber">527</td>
    <td class="codeline">    if (auto *CondInst = dyn_cast<Instruction>(Cond))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">528</td>
    <td class="codeline">      Invariants = collectHomogenousInstGraphLoopInvariants(L, *CondInst, LI);</td>
    <td class="lineNumber">528</td>
    <td class="codeline">      Invariants = collectHomogenousInstGraphLoopInvariants(L, *CondInst, LI);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">529</td>
    <td class="codeline">    if (Invariants.empty()) {</td>
    <td class="lineNumber">529</td>
    <td class="codeline">    if (Invariants.empty()) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">530</td>
    <td class="codeline">      LLVM_DEBUG(dbgs() << "   Couldn't find invariant inputs!\n");</td>
    <td class="lineNumber">530</td>
    <td class="codeline">      LLVM_DEBUG(dbgs() << "   Couldn't find invariant inputs!\n");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">531</td>
    <td class="codeline">      return false;</td>
    <td class="lineNumber">531</td>
    <td class="codeline">      return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">532</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">532</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">533</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">533</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">534</td>
    <td class="codeline"></td>
    <td class="lineNumber">534</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">535</td>
    <td class="codeline">  // Check that one of the branch's successors exits, and which one.</td>
    <td class="lineNumber">535</td>
    <td class="codeline">  // Check that one of the branch's successors exits, and which one.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">536</td>
    <td class="codeline">  bool ExitDirection = true;</td>
    <td class="lineNumber">536</td>
    <td class="codeline">  bool ExitDirection = true;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">537</td>
    <td class="codeline">  int LoopExitSuccIdx = 0;</td>
    <td class="lineNumber">537</td>
    <td class="codeline">  int LoopExitSuccIdx = 0;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">538</td>
    <td class="codeline">  auto *LoopExitBB = BI.getSuccessor(0);</td>
    <td class="lineNumber">538</td>
    <td class="codeline">  auto *LoopExitBB = BI.getSuccessor(0);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">539</td>
    <td class="codeline">  if (L.contains(LoopExitBB)) {</td>
    <td class="lineNumber">539</td>
    <td class="codeline">  if (L.contains(LoopExitBB)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">540</td>
    <td class="codeline">    ExitDirection = false;</td>
    <td class="lineNumber">540</td>
    <td class="codeline">    ExitDirection = false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">541</td>
    <td class="codeline">    LoopExitSuccIdx = 1;</td>
    <td class="lineNumber">541</td>
    <td class="codeline">    LoopExitSuccIdx = 1;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">542</td>
    <td class="codeline">    LoopExitBB = BI.getSuccessor(1);</td>
    <td class="lineNumber">542</td>
    <td class="codeline">    LoopExitBB = BI.getSuccessor(1);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">543</td>
    <td class="codeline">    if (L.contains(LoopExitBB)) {</td>
    <td class="lineNumber">543</td>
    <td class="codeline">    if (L.contains(LoopExitBB)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">544</td>
    <td class="codeline">      LLVM_DEBUG(dbgs() << "   Branch doesn't exit the loop!\n");</td>
    <td class="lineNumber">544</td>
    <td class="codeline">      LLVM_DEBUG(dbgs() << "   Branch doesn't exit the loop!\n");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">545</td>
    <td class="codeline">      return false;</td>
    <td class="lineNumber">545</td>
    <td class="codeline">      return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">546</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">546</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">547</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">547</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">548</td>
    <td class="codeline">  auto *ContinueBB = BI.getSuccessor(1 - LoopExitSuccIdx);</td>
    <td class="lineNumber">548</td>
    <td class="codeline">  auto *ContinueBB = BI.getSuccessor(1 - LoopExitSuccIdx);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">549</td>
    <td class="codeline">  auto *ParentBB = BI.getParent();</td>
    <td class="lineNumber">549</td>
    <td class="codeline">  auto *ParentBB = BI.getParent();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">550</td>
    <td class="codeline">  if (!areLoopExitPHIsLoopInvariant(L, *ParentBB, *LoopExitBB)) {</td>
    <td class="lineNumber">550</td>
    <td class="codeline">  if (!areLoopExitPHIsLoopInvariant(L, *ParentBB, *LoopExitBB)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">551</td>
    <td class="codeline">    LLVM_DEBUG(dbgs() << "   Loop exit PHI's aren't loop-invariant!\n");</td>
    <td class="lineNumber">551</td>
    <td class="codeline">    LLVM_DEBUG(dbgs() << "   Loop exit PHI's aren't loop-invariant!\n");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">552</td>
    <td class="codeline">    return false;</td>
    <td class="lineNumber">552</td>
    <td class="codeline">    return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">553</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">553</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">554</td>
    <td class="codeline"></td>
    <td class="lineNumber">554</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">555</td>
    <td class="codeline">  // When unswitching only part of the branch's condition, we need the exit</td>
    <td class="lineNumber">555</td>
    <td class="codeline">  // When unswitching only part of the branch's condition, we need the exit</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">556</td>
    <td class="codeline">  // block to be reached directly from the partially unswitched input. This can</td>
    <td class="lineNumber">556</td>
    <td class="codeline">  // block to be reached directly from the partially unswitched input. This can</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">557</td>
    <td class="codeline">  // be done when the exit block is along the true edge and the branch condition</td>
    <td class="lineNumber">557</td>
    <td class="codeline">  // be done when the exit block is along the true edge and the branch condition</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">558</td>
    <td class="codeline">  // is a graph of `or` operations, or the exit block is along the false edge</td>
    <td class="lineNumber">558</td>
    <td class="codeline">  // is a graph of `or` operations, or the exit block is along the false edge</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">559</td>
    <td class="codeline">  // and the condition is a graph of `and` operations.</td>
    <td class="lineNumber">559</td>
    <td class="codeline">  // and the condition is a graph of `and` operations.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">560</td>
    <td class="codeline">  if (!FullUnswitch) {</td>
    <td class="lineNumber">560</td>
    <td class="codeline">  if (!FullUnswitch) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">561</td>
    <td class="codeline">    if (ExitDirection ? !match(Cond, m_LogicalOr())</td>
    <td class="lineNumber">561</td>
    <td class="codeline">    if (ExitDirection ? !match(Cond, m_LogicalOr())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">562</td>
    <td class="codeline">                      : !match(Cond, m_LogicalAnd())) {</td>
    <td class="lineNumber">562</td>
    <td class="codeline">                      : !match(Cond, m_LogicalAnd())) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">563</td>
    <td class="codeline">      LLVM_DEBUG(dbgs() << "   Branch condition is in improper form for "</td>
    <td class="lineNumber">563</td>
    <td class="codeline">      LLVM_DEBUG(dbgs() << "   Branch condition is in improper form for "</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">564</td>
    <td class="codeline">                           "non-full unswitch!\n");</td>
    <td class="lineNumber">564</td>
    <td class="codeline">                           "non-full unswitch!\n");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">565</td>
    <td class="codeline">      return false;</td>
    <td class="lineNumber">565</td>
    <td class="codeline">      return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">566</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">566</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">567</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">567</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">568</td>
    <td class="codeline"></td>
    <td class="lineNumber">568</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">569</td>
    <td class="codeline">  LLVM_DEBUG({</td>
    <td class="lineNumber">569</td>
    <td class="codeline">  LLVM_DEBUG({</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">570</td>
    <td class="codeline">    dbgs() << "    unswitching trivial invariant conditions for: " << BI</td>
    <td class="lineNumber">570</td>
    <td class="codeline">    dbgs() << "    unswitching trivial invariant conditions for: " << BI</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">571</td>
    <td class="codeline">           << "\n";</td>
    <td class="lineNumber">571</td>
    <td class="codeline">           << "\n";</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">572</td>
    <td class="codeline">    for (Value *Invariant : Invariants) {</td>
    <td class="lineNumber">572</td>
    <td class="codeline">    for (Value *Invariant : Invariants) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">573</td>
    <td class="codeline">      dbgs() << "      " << *Invariant << " == true";</td>
    <td class="lineNumber">573</td>
    <td class="codeline">      dbgs() << "      " << *Invariant << " == true";</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">574</td>
    <td class="codeline">      if (Invariant != Invariants.back())</td>
    <td class="lineNumber">574</td>
    <td class="codeline">      if (Invariant != Invariants.back())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">575</td>
    <td class="codeline">        dbgs() << " ||";</td>
    <td class="lineNumber">575</td>
    <td class="codeline">        dbgs() << " ||";</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">576</td>
    <td class="codeline">      dbgs() << "\n";</td>
    <td class="lineNumber">576</td>
    <td class="codeline">      dbgs() << "\n";</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">577</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">577</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">578</td>
    <td class="codeline">  });</td>
    <td class="lineNumber">578</td>
    <td class="codeline">  });</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">579</td>
    <td class="codeline"></td>
    <td class="lineNumber">579</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">580</td>
    <td class="codeline">  // If we have scalar evolutions, we need to invalidate them including this</td>
    <td class="lineNumber">580</td>
    <td class="codeline">  // If we have scalar evolutions, we need to invalidate them including this</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">581</td>
    <td class="codeline">  // loop, the loop containing the exit block and the topmost parent loop</td>
    <td class="lineNumber">581</td>
    <td class="codeline">  // loop, the loop containing the exit block and the topmost parent loop</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">582</td>
    <td class="codeline">  // exiting via LoopExitBB.</td>
    <td class="lineNumber">582</td>
    <td class="codeline">  // exiting via LoopExitBB.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">583</td>
    <td class="codeline">  if (SE) {</td>
    <td class="lineNumber">583</td>
    <td class="codeline">  if (SE) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">584</td>
    <td class="codeline">    if (const Loop *ExitL = getTopMostExitingLoop(LoopExitBB, LI))</td>
    <td class="lineNumber">584</td>
    <td class="codeline">    if (const Loop *ExitL = getTopMostExitingLoop(LoopExitBB, LI))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">585</td>
    <td class="codeline">      SE->forgetLoop(ExitL);</td>
    <td class="lineNumber">585</td>
    <td class="codeline">      SE->forgetLoop(ExitL);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">586</td>
    <td class="codeline">    else</td>
    <td class="lineNumber">586</td>
    <td class="codeline">    else</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">587</td>
    <td class="codeline">      // Forget the entire nest as this exits the entire nest.</td>
    <td class="lineNumber">587</td>
    <td class="codeline">      // Forget the entire nest as this exits the entire nest.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">588</td>
    <td class="codeline">      SE->forgetTopmostLoop(&L);</td>
    <td class="lineNumber">588</td>
    <td class="codeline">      SE->forgetTopmostLoop(&L);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">589</td>
    <td class="codeline">    SE->forgetBlockAndLoopDispositions();</td>
    <td class="lineNumber">589</td>
    <td class="codeline">    SE->forgetBlockAndLoopDispositions();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">590</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">590</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">591</td>
    <td class="codeline"></td>
    <td class="lineNumber">591</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">592</td>
    <td class="codeline">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">592</td>
    <td class="codeline">  if (MSSAU && VerifyMemorySSA)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">593</td>
    <td class="codeline">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">593</td>
    <td class="codeline">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">594</td>
    <td class="codeline"></td>
    <td class="lineNumber">594</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">595</td>
    <td class="codeline">  // Split the preheader, so that we know that there is a safe place to insert</td>
    <td class="lineNumber">595</td>
    <td class="codeline">  // Split the preheader, so that we know that there is a safe place to insert</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">596</td>
    <td class="codeline">  // the conditional branch. We will change the preheader to have a conditional</td>
    <td class="lineNumber">596</td>
    <td class="codeline">  // the conditional branch. We will change the preheader to have a conditional</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">597</td>
    <td class="codeline">  // branch on LoopCond.</td>
    <td class="lineNumber">597</td>
    <td class="codeline">  // branch on LoopCond.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">598</td>
    <td class="codeline">  BasicBlock *OldPH = L.getLoopPreheader();</td>
    <td class="lineNumber">598</td>
    <td class="codeline">  BasicBlock *OldPH = L.getLoopPreheader();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">599</td>
    <td class="codeline">  BasicBlock *NewPH = SplitEdge(OldPH, L.getHeader(), &DT, &LI, MSSAU);</td>
    <td class="lineNumber">599</td>
    <td class="codeline">  BasicBlock *NewPH = SplitEdge(OldPH, L.getHeader(), &DT, &LI, MSSAU);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">600</td>
    <td class="codeline"></td>
    <td class="lineNumber">600</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">601</td>
    <td class="codeline">  // Now that we have a place to insert the conditional branch, create a place</td>
    <td class="lineNumber">601</td>
    <td class="codeline">  // Now that we have a place to insert the conditional branch, create a place</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">602</td>
    <td class="codeline">  // to branch to: this is the exit block out of the loop that we are</td>
    <td class="lineNumber">602</td>
    <td class="codeline">  // to branch to: this is the exit block out of the loop that we are</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">603</td>
    <td class="codeline">  // unswitching. We need to split this if there are other loop predecessors.</td>
    <td class="lineNumber">603</td>
    <td class="codeline">  // unswitching. We need to split this if there are other loop predecessors.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">604</td>
    <td class="codeline">  // Because the loop is in simplified form, *any* other predecessor is enough.</td>
    <td class="lineNumber">604</td>
    <td class="codeline">  // Because the loop is in simplified form, *any* other predecessor is enough.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">605</td>
    <td class="codeline">  BasicBlock *UnswitchedBB;</td>
    <td class="lineNumber">605</td>
    <td class="codeline">  BasicBlock *UnswitchedBB;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">606</td>
    <td class="codeline">  if (FullUnswitch && LoopExitBB->getUniquePredecessor()) {</td>
    <td class="lineNumber">606</td>
    <td class="codeline">  if (FullUnswitch && LoopExitBB->getUniquePredecessor()) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">607</td>
    <td class="codeline">    assert(LoopExitBB->getUniquePredecessor() == BI.getParent() &&</td>
    <td class="lineNumber">607</td>
    <td class="codeline">    assert(LoopExitBB->getUniquePredecessor() == BI.getParent() &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">608</td>
    <td class="codeline">           "A branch's parent isn't a predecessor!");</td>
    <td class="lineNumber">608</td>
    <td class="codeline">           "A branch's parent isn't a predecessor!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">609</td>
    <td class="codeline">    UnswitchedBB = LoopExitBB;</td>
    <td class="lineNumber">609</td>
    <td class="codeline">    UnswitchedBB = LoopExitBB;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">610</td>
    <td class="codeline">  } else {</td>
    <td class="lineNumber">610</td>
    <td class="codeline">  } else {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">611</td>
    <td class="codeline">    UnswitchedBB =</td>
    <td class="lineNumber">611</td>
    <td class="codeline">    UnswitchedBB =</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">612</td>
    <td class="codeline">        SplitBlock(LoopExitBB, &LoopExitBB->front(), &DT, &LI, MSSAU);</td>
    <td class="lineNumber">612</td>
    <td class="codeline">        SplitBlock(LoopExitBB, &LoopExitBB->front(), &DT, &LI, MSSAU);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">613</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">613</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">614</td>
    <td class="codeline"></td>
    <td class="lineNumber">614</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">615</td>
    <td class="codeline">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">615</td>
    <td class="codeline">  if (MSSAU && VerifyMemorySSA)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">616</td>
    <td class="codeline">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">616</td>
    <td class="codeline">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">617</td>
    <td class="codeline"></td>
    <td class="lineNumber">617</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">618</td>
    <td class="codeline">  // Actually move the invariant uses into the unswitched position. If possible,</td>
    <td class="lineNumber">618</td>
    <td class="codeline">  // Actually move the invariant uses into the unswitched position. If possible,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">619</td>
    <td class="codeline">  // we do this by moving the instructions, but when doing partial unswitching</td>
    <td class="lineNumber">619</td>
    <td class="codeline">  // we do this by moving the instructions, but when doing partial unswitching</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">620</td>
    <td class="codeline">  // we do it by building a new merge of the values in the unswitched position.</td>
    <td class="lineNumber">620</td>
    <td class="codeline">  // we do it by building a new merge of the values in the unswitched position.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">621</td>
    <td class="codeline">  OldPH->getTerminator()->eraseFromParent();</td>
    <td class="lineNumber">621</td>
    <td class="codeline">  OldPH->getTerminator()->eraseFromParent();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">622</td>
    <td class="codeline">  if (FullUnswitch) {</td>
    <td class="lineNumber">622</td>
    <td class="codeline">  if (FullUnswitch) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">623</td>
    <td class="codeline">    // If fully unswitching, we can use the existing branch instruction.</td>
    <td class="lineNumber">623</td>
    <td class="codeline">    // If fully unswitching, we can use the existing branch instruction.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">624</td>
    <td class="codeline">    // Splice it into the old PH to gate reaching the new preheader and re-point</td>
    <td class="lineNumber">624</td>
    <td class="codeline">    // Splice it into the old PH to gate reaching the new preheader and re-point</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">625</td>
    <td class="codeline">    // its successors.</td>
    <td class="lineNumber">625</td>
    <td class="codeline">    // its successors.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">626</td>
    <td class="codeline">    OldPH->splice(OldPH->end(), BI.getParent(), BI.getIterator());</td>
    <td class="lineNumber">626</td>
    <td class="codeline">    OldPH->splice(OldPH->end(), BI.getParent(), BI.getIterator());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">627</td>
    <td class="codeline">    BI.setCondition(Cond);</td>
    <td class="lineNumber">627</td>
    <td class="codeline">    BI.setCondition(Cond);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">628</td>
    <td class="codeline">    if (MSSAU) {</td>
    <td class="lineNumber">628</td>
    <td class="codeline">    if (MSSAU) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">629</td>
    <td class="codeline">      // Temporarily clone the terminator, to make MSSA update cheaper by</td>
    <td class="lineNumber">629</td>
    <td class="codeline">      // Temporarily clone the terminator, to make MSSA update cheaper by</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">630</td>
    <td class="codeline">      // separating "insert edge" updates from "remove edge" ones.</td>
    <td class="lineNumber">630</td>
    <td class="codeline">      // separating "insert edge" updates from "remove edge" ones.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">631</td>
    <td class="codeline">      BI.clone()->insertInto(ParentBB, ParentBB->end());</td>
    <td class="lineNumber">631</td>
    <td class="codeline">      BI.clone()->insertInto(ParentBB, ParentBB->end());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">632</td>
    <td class="codeline">    } else {</td>
    <td class="lineNumber">632</td>
    <td class="codeline">    } else {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">633</td>
    <td class="codeline">      // Create a new unconditional branch that will continue the loop as a new</td>
    <td class="lineNumber">633</td>
    <td class="codeline">      // Create a new unconditional branch that will continue the loop as a new</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">634</td>
    <td class="codeline">      // terminator.</td>
    <td class="lineNumber">634</td>
    <td class="codeline">      // terminator.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">635</td>
    <td class="codeline">      BranchInst::Create(ContinueBB, ParentBB);</td>
    <td class="lineNumber">635</td>
    <td class="codeline">      BranchInst::Create(ContinueBB, ParentBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">636</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">636</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">637</td>
    <td class="codeline">    BI.setSuccessor(LoopExitSuccIdx, UnswitchedBB);</td>
    <td class="lineNumber">637</td>
    <td class="codeline">    BI.setSuccessor(LoopExitSuccIdx, UnswitchedBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">638</td>
    <td class="codeline">    BI.setSuccessor(1 - LoopExitSuccIdx, NewPH);</td>
    <td class="lineNumber">638</td>
    <td class="codeline">    BI.setSuccessor(1 - LoopExitSuccIdx, NewPH);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">639</td>
    <td class="codeline">  } else {</td>
    <td class="lineNumber">639</td>
    <td class="codeline">  } else {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">640</td>
    <td class="codeline">    // Only unswitching a subset of inputs to the condition, so we will need to</td>
    <td class="lineNumber">640</td>
    <td class="codeline">    // Only unswitching a subset of inputs to the condition, so we will need to</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">641</td>
    <td class="codeline">    // build a new branch that merges the invariant inputs.</td>
    <td class="lineNumber">641</td>
    <td class="codeline">    // build a new branch that merges the invariant inputs.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">642</td>
    <td class="codeline">    if (ExitDirection)</td>
    <td class="lineNumber">642</td>
    <td class="codeline">    if (ExitDirection)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">643</td>
    <td class="codeline">      assert(match(skipTrivialSelect(BI.getCondition()), m_LogicalOr()) &&</td>
    <td class="lineNumber">643</td>
    <td class="codeline">      assert(match(skipTrivialSelect(BI.getCondition()), m_LogicalOr()) &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">644</td>
    <td class="codeline">             "Must have an `or` of `i1`s or `select i1 X, true, Y`s for the "</td>
    <td class="lineNumber">644</td>
    <td class="codeline">             "Must have an `or` of `i1`s or `select i1 X, true, Y`s for the "</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">645</td>
    <td class="codeline">             "condition!");</td>
    <td class="lineNumber">645</td>
    <td class="codeline">             "condition!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">646</td>
    <td class="codeline">    else</td>
    <td class="lineNumber">646</td>
    <td class="codeline">    else</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">647</td>
    <td class="codeline">      assert(match(skipTrivialSelect(BI.getCondition()), m_LogicalAnd()) &&</td>
    <td class="lineNumber">647</td>
    <td class="codeline">      assert(match(skipTrivialSelect(BI.getCondition()), m_LogicalAnd()) &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">648</td>
    <td class="codeline">             "Must have an `and` of `i1`s or `select i1 X, Y, false`s for the"</td>
    <td class="lineNumber">648</td>
    <td class="codeline">             "Must have an `and` of `i1`s or `select i1 X, Y, false`s for the"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">649</td>
    <td class="codeline">             " condition!");</td>
    <td class="lineNumber">649</td>
    <td class="codeline">             " condition!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">650</td>
    <td class="codeline">    buildPartialUnswitchConditionalBranch(</td>
    <td class="lineNumber">650</td>
    <td class="codeline">    buildPartialUnswitchConditionalBranch(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">651</td>
    <td class="codeline">        *OldPH, Invariants, ExitDirection, *UnswitchedBB, *NewPH,</td>
    <td class="lineNumber">651</td>
    <td class="codeline">        *OldPH, Invariants, ExitDirection, *UnswitchedBB, *NewPH,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">652</td>
    <td class="codeline">        FreezeLoopUnswitchCond, OldPH->getTerminator(), nullptr, DT);</td>
    <td class="lineNumber">652</td>
    <td class="codeline">        FreezeLoopUnswitchCond, OldPH->getTerminator(), nullptr, DT);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">653</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">653</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">654</td>
    <td class="codeline"></td>
    <td class="lineNumber">654</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">655</td>
    <td class="codeline">  // Update the dominator tree with the added edge.</td>
    <td class="lineNumber">655</td>
    <td class="codeline">  // Update the dominator tree with the added edge.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">656</td>
    <td class="codeline">  DT.insertEdge(OldPH, UnswitchedBB);</td>
    <td class="lineNumber">656</td>
    <td class="codeline">  DT.insertEdge(OldPH, UnswitchedBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">657</td>
    <td class="codeline"></td>
    <td class="lineNumber">657</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">658</td>
    <td class="codeline">  // After the dominator tree was updated with the added edge, update MemorySSA</td>
    <td class="lineNumber">658</td>
    <td class="codeline">  // After the dominator tree was updated with the added edge, update MemorySSA</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">659</td>
    <td class="codeline">  // if available.</td>
    <td class="lineNumber">659</td>
    <td class="codeline">  // if available.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">660</td>
    <td class="codeline">  if (MSSAU) {</td>
    <td class="lineNumber">660</td>
    <td class="codeline">  if (MSSAU) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">661</td>
    <td class="codeline">    SmallVector<CFGUpdate, 1> Updates;</td>
    <td class="lineNumber">661</td>
    <td class="codeline">    SmallVector<CFGUpdate, 1> Updates;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">662</td>
    <td class="codeline">    Updates.push_back({cfg::UpdateKind::Insert, OldPH, UnswitchedBB});</td>
    <td class="lineNumber">662</td>
    <td class="codeline">    Updates.push_back({cfg::UpdateKind::Insert, OldPH, UnswitchedBB});</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">663</td>
    <td class="codeline">    MSSAU->applyInsertUpdates(Updates, DT);</td>
    <td class="lineNumber">663</td>
    <td class="codeline">    MSSAU->applyInsertUpdates(Updates, DT);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">664</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">664</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">665</td>
    <td class="codeline"></td>
    <td class="lineNumber">665</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">666</td>
    <td class="codeline">  // Finish updating dominator tree and memory ssa for full unswitch.</td>
    <td class="lineNumber">666</td>
    <td class="codeline">  // Finish updating dominator tree and memory ssa for full unswitch.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">667</td>
    <td class="codeline">  if (FullUnswitch) {</td>
    <td class="lineNumber">667</td>
    <td class="codeline">  if (FullUnswitch) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">668</td>
    <td class="codeline">    if (MSSAU) {</td>
    <td class="lineNumber">668</td>
    <td class="codeline">    if (MSSAU) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">669</td>
    <td class="codeline">      // Remove the cloned branch instruction.</td>
    <td class="lineNumber">669</td>
    <td class="codeline">      // Remove the cloned branch instruction.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">670</td>
    <td class="codeline">      ParentBB->getTerminator()->eraseFromParent();</td>
    <td class="lineNumber">670</td>
    <td class="codeline">      ParentBB->getTerminator()->eraseFromParent();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">671</td>
    <td class="codeline">      // Create unconditional branch now.</td>
    <td class="lineNumber">671</td>
    <td class="codeline">      // Create unconditional branch now.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">672</td>
    <td class="codeline">      BranchInst::Create(ContinueBB, ParentBB);</td>
    <td class="lineNumber">672</td>
    <td class="codeline">      BranchInst::Create(ContinueBB, ParentBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">673</td>
    <td class="codeline">      MSSAU->removeEdge(ParentBB, LoopExitBB);</td>
    <td class="lineNumber">673</td>
    <td class="codeline">      MSSAU->removeEdge(ParentBB, LoopExitBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">674</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">674</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">675</td>
    <td class="codeline">    DT.deleteEdge(ParentBB, LoopExitBB);</td>
    <td class="lineNumber">675</td>
    <td class="codeline">    DT.deleteEdge(ParentBB, LoopExitBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">676</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">676</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">677</td>
    <td class="codeline"></td>
    <td class="lineNumber">677</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">678</td>
    <td class="codeline">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">678</td>
    <td class="codeline">  if (MSSAU && VerifyMemorySSA)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">679</td>
    <td class="codeline">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">679</td>
    <td class="codeline">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">680</td>
    <td class="codeline"></td>
    <td class="lineNumber">680</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">681</td>
    <td class="codeline">  // Rewrite the relevant PHI nodes.</td>
    <td class="lineNumber">681</td>
    <td class="codeline">  // Rewrite the relevant PHI nodes.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">682</td>
    <td class="codeline">  if (UnswitchedBB == LoopExitBB)</td>
    <td class="lineNumber">682</td>
    <td class="codeline">  if (UnswitchedBB == LoopExitBB)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">683</td>
    <td class="codeline">    rewritePHINodesForUnswitchedExitBlock(*UnswitchedBB, *ParentBB, *OldPH);</td>
    <td class="lineNumber">683</td>
    <td class="codeline">    rewritePHINodesForUnswitchedExitBlock(*UnswitchedBB, *ParentBB, *OldPH);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">684</td>
    <td class="codeline">  else</td>
    <td class="lineNumber">684</td>
    <td class="codeline">  else</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">685</td>
    <td class="codeline">    rewritePHINodesForExitAndUnswitchedBlocks(*LoopExitBB, *UnswitchedBB,</td>
    <td class="lineNumber">685</td>
    <td class="codeline">    rewritePHINodesForExitAndUnswitchedBlocks(*LoopExitBB, *UnswitchedBB,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">686</td>
    <td class="codeline">                                              *ParentBB, *OldPH, FullUnswitch);</td>
    <td class="lineNumber">686</td>
    <td class="codeline">                                              *ParentBB, *OldPH, FullUnswitch);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">687</td>
    <td class="codeline"></td>
    <td class="lineNumber">687</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">688</td>
    <td class="codeline">  // The constant we can replace all of our invariants with inside the loop</td>
    <td class="lineNumber">688</td>
    <td class="codeline">  // The constant we can replace all of our invariants with inside the loop</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">689</td>
    <td class="codeline">  // body. If any of the invariants have a value other than this the loop won't</td>
    <td class="lineNumber">689</td>
    <td class="codeline">  // body. If any of the invariants have a value other than this the loop won't</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">690</td>
    <td class="codeline">  // be entered.</td>
    <td class="lineNumber">690</td>
    <td class="codeline">  // be entered.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">691</td>
    <td class="codeline">  ConstantInt *Replacement = ExitDirection</td>
    <td class="lineNumber">691</td>
    <td class="codeline">  ConstantInt *Replacement = ExitDirection</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">692</td>
    <td class="codeline">                                 ? ConstantInt::getFalse(BI.getContext())</td>
    <td class="lineNumber">692</td>
    <td class="codeline">                                 ? ConstantInt::getFalse(BI.getContext())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">693</td>
    <td class="codeline">                                 : ConstantInt::getTrue(BI.getContext());</td>
    <td class="lineNumber">693</td>
    <td class="codeline">                                 : ConstantInt::getTrue(BI.getContext());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">694</td>
    <td class="codeline"></td>
    <td class="lineNumber">694</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">695</td>
    <td class="codeline">  // Since this is an i1 condition we can also trivially replace uses of it</td>
    <td class="lineNumber">695</td>
    <td class="codeline">  // Since this is an i1 condition we can also trivially replace uses of it</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">696</td>
    <td class="codeline">  // within the loop with a constant.</td>
    <td class="lineNumber">696</td>
    <td class="codeline">  // within the loop with a constant.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">697</td>
    <td class="codeline">  for (Value *Invariant : Invariants)</td>
    <td class="lineNumber">697</td>
    <td class="codeline">  for (Value *Invariant : Invariants)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">698</td>
    <td class="codeline">    replaceLoopInvariantUses(L, Invariant, *Replacement);</td>
    <td class="lineNumber">698</td>
    <td class="codeline">    replaceLoopInvariantUses(L, Invariant, *Replacement);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">699</td>
    <td class="codeline"></td>
    <td class="lineNumber">699</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">700</td>
    <td class="codeline">  // If this was full unswitching, we may have changed the nesting relationship</td>
    <td class="lineNumber">700</td>
    <td class="codeline">  // If this was full unswitching, we may have changed the nesting relationship</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">701</td>
    <td class="codeline">  // for this loop so hoist it to its correct parent if needed.</td>
    <td class="lineNumber">701</td>
    <td class="codeline">  // for this loop so hoist it to its correct parent if needed.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">702</td>
    <td class="codeline">  if (FullUnswitch)</td>
    <td class="lineNumber">702</td>
    <td class="codeline">  if (FullUnswitch)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">703</td>
    <td class="codeline">    hoistLoopToNewParent(L, *NewPH, DT, LI, MSSAU, SE);</td>
    <td class="lineNumber">703</td>
    <td class="codeline">    hoistLoopToNewParent(L, *NewPH, DT, LI, MSSAU, SE);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">704</td>
    <td class="codeline"></td>
    <td class="lineNumber">704</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">705</td>
    <td class="codeline">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">705</td>
    <td class="codeline">  if (MSSAU && VerifyMemorySSA)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">706</td>
    <td class="codeline">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">706</td>
    <td class="codeline">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">707</td>
    <td class="codeline"></td>
    <td class="lineNumber">707</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">708</td>
    <td class="codeline">  LLVM_DEBUG(dbgs() << "    done: unswitching trivial branch...\n");</td>
    <td class="lineNumber">708</td>
    <td class="codeline">  LLVM_DEBUG(dbgs() << "    done: unswitching trivial branch...\n");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">709</td>
    <td class="codeline">  ++NumTrivial;</td>
    <td class="lineNumber">709</td>
    <td class="codeline">  ++NumTrivial;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">710</td>
    <td class="codeline">  ++NumBranches;</td>
    <td class="lineNumber">710</td>
    <td class="codeline">  ++NumBranches;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">711</td>
    <td class="codeline">  return true;</td>
    <td class="lineNumber">711</td>
    <td class="codeline">  return true;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">712</td>
    <td class="codeline">}</td>
    <td class="lineNumber">712</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">713</td>
    <td class="codeline"></td>
    <td class="lineNumber">713</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">714</td>
    <td class="codeline">/// Unswitch a trivial switch if the condition is loop invariant.</td>
    <td class="lineNumber">714</td>
    <td class="codeline">/// Unswitch a trivial switch if the condition is loop invariant.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">715</td>
    <td class="codeline">///</td>
    <td class="lineNumber">715</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">716</td>
    <td class="codeline">/// This routine should only be called when loop code leading to the switch has</td>
    <td class="lineNumber">716</td>
    <td class="codeline">/// This routine should only be called when loop code leading to the switch has</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">717</td>
    <td class="codeline">/// been validated as trivial (no side effects). This routine checks if the</td>
    <td class="lineNumber">717</td>
    <td class="codeline">/// been validated as trivial (no side effects). This routine checks if the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">718</td>
    <td class="codeline">/// condition is invariant and that at least one of the successors is a loop</td>
    <td class="lineNumber">718</td>
    <td class="codeline">/// condition is invariant and that at least one of the successors is a loop</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">719</td>
    <td class="codeline">/// exit. This allows us to unswitch without duplicating the loop, making it</td>
    <td class="lineNumber">719</td>
    <td class="codeline">/// exit. This allows us to unswitch without duplicating the loop, making it</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">720</td>
    <td class="codeline">/// trivial.</td>
    <td class="lineNumber">720</td>
    <td class="codeline">/// trivial.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">721</td>
    <td class="codeline">///</td>
    <td class="lineNumber">721</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">722</td>
    <td class="codeline">/// If this routine fails to unswitch the switch it returns false.</td>
    <td class="lineNumber">722</td>
    <td class="codeline">/// If this routine fails to unswitch the switch it returns false.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">723</td>
    <td class="codeline">///</td>
    <td class="lineNumber">723</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">724</td>
    <td class="codeline">/// If the switch can be unswitched, this routine splits the preheader and</td>
    <td class="lineNumber">724</td>
    <td class="codeline">/// If the switch can be unswitched, this routine splits the preheader and</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">725</td>
    <td class="codeline">/// copies the switch above that split. If the default case is one of the</td>
    <td class="lineNumber">725</td>
    <td class="codeline">/// copies the switch above that split. If the default case is one of the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">726</td>
    <td class="codeline">/// exiting cases, it copies the non-exiting cases and points them at the new</td>
    <td class="lineNumber">726</td>
    <td class="codeline">/// exiting cases, it copies the non-exiting cases and points them at the new</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">727</td>
    <td class="codeline">/// preheader. If the default case is not exiting, it copies the exiting cases</td>
    <td class="lineNumber">727</td>
    <td class="codeline">/// preheader. If the default case is not exiting, it copies the exiting cases</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">728</td>
    <td class="codeline">/// and points the default at the preheader. It preserves loop simplified form</td>
    <td class="lineNumber">728</td>
    <td class="codeline">/// and points the default at the preheader. It preserves loop simplified form</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">729</td>
    <td class="codeline">/// (splitting the exit blocks as necessary). It simplifies the switch within</td>
    <td class="lineNumber">729</td>
    <td class="codeline">/// (splitting the exit blocks as necessary). It simplifies the switch within</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">730</td>
    <td class="codeline">/// the loop by removing now-dead cases. If the default case is one of those</td>
    <td class="lineNumber">730</td>
    <td class="codeline">/// the loop by removing now-dead cases. If the default case is one of those</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">731</td>
    <td class="codeline">/// unswitched, it replaces its destination with a new basic block containing</td>
    <td class="lineNumber">731</td>
    <td class="codeline">/// unswitched, it replaces its destination with a new basic block containing</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">732</td>
    <td class="codeline">/// only unreachable. Such basic blocks, while technically loop exits, are not</td>
    <td class="lineNumber">732</td>
    <td class="codeline">/// only unreachable. Such basic blocks, while technically loop exits, are not</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">733</td>
    <td class="codeline">/// considered for unswitching so this is a stable transform and the same</td>
    <td class="lineNumber">733</td>
    <td class="codeline">/// considered for unswitching so this is a stable transform and the same</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">734</td>
    <td class="codeline">/// switch will not be revisited. If after unswitching there is only a single</td>
    <td class="lineNumber">734</td>
    <td class="codeline">/// switch will not be revisited. If after unswitching there is only a single</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">735</td>
    <td class="codeline">/// in-loop successor, the switch is further simplified to an unconditional</td>
    <td class="lineNumber">735</td>
    <td class="codeline">/// in-loop successor, the switch is further simplified to an unconditional</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">736</td>
    <td class="codeline">/// branch. Still more cleanup can be done with some simplifycfg like pass.</td>
    <td class="lineNumber">736</td>
    <td class="codeline">/// branch. Still more cleanup can be done with some simplifycfg like pass.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">737</td>
    <td class="codeline">///</td>
    <td class="lineNumber">737</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">738</td>
    <td class="codeline">/// If `SE` is not null, it will be updated based on the potential loop SCEVs</td>
    <td class="lineNumber">738</td>
    <td class="codeline">/// If `SE` is not null, it will be updated based on the potential loop SCEVs</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">739</td>
    <td class="codeline">/// invalidated by this.</td>
    <td class="lineNumber">739</td>
    <td class="codeline">/// invalidated by this.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">740</td>
    <td class="codeline">static bool unswitchTrivialSwitch(Loop &L, SwitchInst &SI, DominatorTree &DT,</td>
    <td class="lineNumber">740</td>
    <td class="codeline">static bool unswitchTrivialSwitch(Loop &L, SwitchInst &SI, DominatorTree &DT,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">741</td>
    <td class="codeline">                                  LoopInfo &LI, ScalarEvolution *SE,</td>
    <td class="lineNumber">741</td>
    <td class="codeline">                                  LoopInfo &LI, ScalarEvolution *SE,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">742</td>
    <td class="codeline">                                  MemorySSAUpdater *MSSAU) {</td>
    <td class="lineNumber">742</td>
    <td class="codeline">                                  MemorySSAUpdater *MSSAU) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">743</td>
    <td class="codeline">  LLVM_DEBUG(dbgs() << "  Trying to unswitch switch: " << SI << "\n");</td>
    <td class="lineNumber">743</td>
    <td class="codeline">  LLVM_DEBUG(dbgs() << "  Trying to unswitch switch: " << SI << "\n");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">744</td>
    <td class="codeline">  Value *LoopCond = SI.getCondition();</td>
    <td class="lineNumber">744</td>
    <td class="codeline">  Value *LoopCond = SI.getCondition();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">745</td>
    <td class="codeline"></td>
    <td class="lineNumber">745</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">746</td>
    <td class="codeline">  // If this isn't switching on an invariant condition, we can't unswitch it.</td>
    <td class="lineNumber">746</td>
    <td class="codeline">  // If this isn't switching on an invariant condition, we can't unswitch it.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">747</td>
    <td class="codeline">  if (!L.isLoopInvariant(LoopCond))</td>
    <td class="lineNumber">747</td>
    <td class="codeline">  if (!L.isLoopInvariant(LoopCond))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">748</td>
    <td class="codeline">    return false;</td>
    <td class="lineNumber">748</td>
    <td class="codeline">    return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">749</td>
    <td class="codeline"></td>
    <td class="lineNumber">749</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">750</td>
    <td class="codeline">  auto *ParentBB = SI.getParent();</td>
    <td class="lineNumber">750</td>
    <td class="codeline">  auto *ParentBB = SI.getParent();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">751</td>
    <td class="codeline"></td>
    <td class="lineNumber">751</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">752</td>
    <td class="codeline">  // The same check must be used both for the default and the exit cases. We</td>
    <td class="lineNumber">752</td>
    <td class="codeline">  // The same check must be used both for the default and the exit cases. We</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">753</td>
    <td class="codeline">  // should never leave edges from the switch instruction to a basic block that</td>
    <td class="lineNumber">753</td>
    <td class="codeline">  // should never leave edges from the switch instruction to a basic block that</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">754</td>
    <td class="codeline">  // we are unswitching, hence the condition used to determine the default case</td>
    <td class="lineNumber">754</td>
    <td class="codeline">  // we are unswitching, hence the condition used to determine the default case</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">755</td>
    <td class="codeline">  // needs to also be used to populate ExitCaseIndices, which is then used to</td>
    <td class="lineNumber">755</td>
    <td class="codeline">  // needs to also be used to populate ExitCaseIndices, which is then used to</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">756</td>
    <td class="codeline">  // remove cases from the switch.</td>
    <td class="lineNumber">756</td>
    <td class="codeline">  // remove cases from the switch.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">757</td>
    <td class="codeline">  auto IsTriviallyUnswitchableExitBlock = [&](BasicBlock &BBToCheck) {</td>
    <td class="lineNumber">757</td>
    <td class="codeline">  auto IsTriviallyUnswitchableExitBlock = [&](BasicBlock &BBToCheck) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">758</td>
    <td class="codeline">    // BBToCheck is not an exit block if it is inside loop L.</td>
    <td class="lineNumber">758</td>
    <td class="codeline">    // BBToCheck is not an exit block if it is inside loop L.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">759</td>
    <td class="codeline">    if (L.contains(&BBToCheck))</td>
    <td class="lineNumber">759</td>
    <td class="codeline">    if (L.contains(&BBToCheck))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">760</td>
    <td class="codeline">      return false;</td>
    <td class="lineNumber">760</td>
    <td class="codeline">      return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">761</td>
    <td class="codeline">    // BBToCheck is not trivial to unswitch if its phis aren't loop invariant.</td>
    <td class="lineNumber">761</td>
    <td class="codeline">    // BBToCheck is not trivial to unswitch if its phis aren't loop invariant.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">762</td>
    <td class="codeline">    if (!areLoopExitPHIsLoopInvariant(L, *ParentBB, BBToCheck))</td>
    <td class="lineNumber">762</td>
    <td class="codeline">    if (!areLoopExitPHIsLoopInvariant(L, *ParentBB, BBToCheck))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">763</td>
    <td class="codeline">      return false;</td>
    <td class="lineNumber">763</td>
    <td class="codeline">      return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">764</td>
    <td class="codeline">    // We do not unswitch a block that only has an unreachable statement, as</td>
    <td class="lineNumber">764</td>
    <td class="codeline">    // We do not unswitch a block that only has an unreachable statement, as</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">765</td>
    <td class="codeline">    // it's possible this is a previously unswitched block. Only unswitch if</td>
    <td class="lineNumber">765</td>
    <td class="codeline">    // it's possible this is a previously unswitched block. Only unswitch if</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">766</td>
    <td class="codeline">    // either the terminator is not unreachable, or, if it is, it's not the only</td>
    <td class="lineNumber">766</td>
    <td class="codeline">    // either the terminator is not unreachable, or, if it is, it's not the only</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">767</td>
    <td class="codeline">    // instruction in the block.</td>
    <td class="lineNumber">767</td>
    <td class="codeline">    // instruction in the block.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">768</td>
    <td class="codeline">    auto *TI = BBToCheck.getTerminator();</td>
    <td class="lineNumber">768</td>
    <td class="codeline">    auto *TI = BBToCheck.getTerminator();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">769</td>
    <td class="codeline">    bool isUnreachable = isa<UnreachableInst>(TI);</td>
    <td class="lineNumber">769</td>
    <td class="codeline">    bool isUnreachable = isa<UnreachableInst>(TI);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">770</td>
    <td class="codeline">    return !isUnreachable ||</td>
    <td class="lineNumber">770</td>
    <td class="codeline">    return !isUnreachable ||</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">771</td>
    <td class="codeline">           (isUnreachable && (BBToCheck.getFirstNonPHIOrDbg() != TI));</td>
    <td class="lineNumber">771</td>
    <td class="codeline">           (isUnreachable && (BBToCheck.getFirstNonPHIOrDbg() != TI));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">772</td>
    <td class="codeline">  };</td>
    <td class="lineNumber">772</td>
    <td class="codeline">  };</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">773</td>
    <td class="codeline"></td>
    <td class="lineNumber">773</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">774</td>
    <td class="codeline">  SmallVector<int, 4> ExitCaseIndices;</td>
    <td class="lineNumber">774</td>
    <td class="codeline">  SmallVector<int, 4> ExitCaseIndices;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">775</td>
    <td class="codeline">  for (auto Case : SI.cases())</td>
    <td class="lineNumber">775</td>
    <td class="codeline">  for (auto Case : SI.cases())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">776</td>
    <td class="codeline">    if (IsTriviallyUnswitchableExitBlock(*Case.getCaseSuccessor()))</td>
    <td class="lineNumber">776</td>
    <td class="codeline">    if (IsTriviallyUnswitchableExitBlock(*Case.getCaseSuccessor()))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">777</td>
    <td class="codeline">      ExitCaseIndices.push_back(Case.getCaseIndex());</td>
    <td class="lineNumber">777</td>
    <td class="codeline">      ExitCaseIndices.push_back(Case.getCaseIndex());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">778</td>
    <td class="codeline">  BasicBlock *DefaultExitBB = nullptr;</td>
    <td class="lineNumber">778</td>
    <td class="codeline">  BasicBlock *DefaultExitBB = nullptr;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">779</td>
    <td class="codeline">  SwitchInstProfUpdateWrapper::CaseWeightOpt DefaultCaseWeight =</td>
    <td class="lineNumber">779</td>
    <td class="codeline">  SwitchInstProfUpdateWrapper::CaseWeightOpt DefaultCaseWeight =</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">780</td>
    <td class="codeline">      SwitchInstProfUpdateWrapper::getSuccessorWeight(SI, 0);</td>
    <td class="lineNumber">780</td>
    <td class="codeline">      SwitchInstProfUpdateWrapper::getSuccessorWeight(SI, 0);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">781</td>
    <td class="codeline">  if (IsTriviallyUnswitchableExitBlock(*SI.getDefaultDest())) {</td>
    <td class="lineNumber">781</td>
    <td class="codeline">  if (IsTriviallyUnswitchableExitBlock(*SI.getDefaultDest())) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">782</td>
    <td class="codeline">    DefaultExitBB = SI.getDefaultDest();</td>
    <td class="lineNumber">782</td>
    <td class="codeline">    DefaultExitBB = SI.getDefaultDest();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">783</td>
    <td class="codeline">  } else if (ExitCaseIndices.empty())</td>
    <td class="lineNumber">783</td>
    <td class="codeline">  } else if (ExitCaseIndices.empty())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">784</td>
    <td class="codeline">    return false;</td>
    <td class="lineNumber">784</td>
    <td class="codeline">    return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">785</td>
    <td class="codeline"></td>
    <td class="lineNumber">785</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">786</td>
    <td class="codeline">  LLVM_DEBUG(dbgs() << "    unswitching trivial switch...\n");</td>
    <td class="lineNumber">786</td>
    <td class="codeline">  LLVM_DEBUG(dbgs() << "    unswitching trivial switch...\n");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">787</td>
    <td class="codeline"></td>
    <td class="lineNumber">787</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">788</td>
    <td class="codeline">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">788</td>
    <td class="codeline">  if (MSSAU && VerifyMemorySSA)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">789</td>
    <td class="codeline">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">789</td>
    <td class="codeline">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">790</td>
    <td class="codeline"></td>
    <td class="lineNumber">790</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">791</td>
    <td class="codeline">  // We may need to invalidate SCEVs for the outermost loop reached by any of</td>
    <td class="lineNumber">791</td>
    <td class="codeline">  // We may need to invalidate SCEVs for the outermost loop reached by any of</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">792</td>
    <td class="codeline">  // the exits.</td>
    <td class="lineNumber">792</td>
    <td class="codeline">  // the exits.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">793</td>
    <td class="codeline">  Loop *OuterL = &L;</td>
    <td class="lineNumber">793</td>
    <td class="codeline">  Loop *OuterL = &L;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">794</td>
    <td class="codeline"></td>
    <td class="lineNumber">794</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">795</td>
    <td class="codeline">  if (DefaultExitBB) {</td>
    <td class="lineNumber">795</td>
    <td class="codeline">  if (DefaultExitBB) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">796</td>
    <td class="codeline">    // Check the loop containing this exit.</td>
    <td class="lineNumber">796</td>
    <td class="codeline">    // Check the loop containing this exit.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">797</td>
    <td class="codeline">    Loop *ExitL = getTopMostExitingLoop(DefaultExitBB, LI);</td>
    <td class="lineNumber">797</td>
    <td class="codeline">    Loop *ExitL = getTopMostExitingLoop(DefaultExitBB, LI);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">798</td>
    <td class="codeline">    if (!ExitL || ExitL->contains(OuterL))</td>
    <td class="lineNumber">798</td>
    <td class="codeline">    if (!ExitL || ExitL->contains(OuterL))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">799</td>
    <td class="codeline">      OuterL = ExitL;</td>
    <td class="lineNumber">799</td>
    <td class="codeline">      OuterL = ExitL;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">800</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">800</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">801</td>
    <td class="codeline">  for (unsigned Index : ExitCaseIndices) {</td>
    <td class="lineNumber">801</td>
    <td class="codeline">  for (unsigned Index : ExitCaseIndices) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">802</td>
    <td class="codeline">    auto CaseI = SI.case_begin() + Index;</td>
    <td class="lineNumber">802</td>
    <td class="codeline">    auto CaseI = SI.case_begin() + Index;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">803</td>
    <td class="codeline">    // Compute the outer loop from this exit.</td>
    <td class="lineNumber">803</td>
    <td class="codeline">    // Compute the outer loop from this exit.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">804</td>
    <td class="codeline">    Loop *ExitL = getTopMostExitingLoop(CaseI->getCaseSuccessor(), LI);</td>
    <td class="lineNumber">804</td>
    <td class="codeline">    Loop *ExitL = getTopMostExitingLoop(CaseI->getCaseSuccessor(), LI);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">805</td>
    <td class="codeline">    if (!ExitL || ExitL->contains(OuterL))</td>
    <td class="lineNumber">805</td>
    <td class="codeline">    if (!ExitL || ExitL->contains(OuterL))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">806</td>
    <td class="codeline">      OuterL = ExitL;</td>
    <td class="lineNumber">806</td>
    <td class="codeline">      OuterL = ExitL;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">807</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">807</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">808</td>
    <td class="codeline"></td>
    <td class="lineNumber">808</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">809</td>
    <td class="codeline">  if (SE) {</td>
    <td class="lineNumber">809</td>
    <td class="codeline">  if (SE) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">810</td>
    <td class="codeline">    if (OuterL)</td>
    <td class="lineNumber">810</td>
    <td class="codeline">    if (OuterL)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">811</td>
    <td class="codeline">      SE->forgetLoop(OuterL);</td>
    <td class="lineNumber">811</td>
    <td class="codeline">      SE->forgetLoop(OuterL);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">812</td>
    <td class="codeline">    else</td>
    <td class="lineNumber">812</td>
    <td class="codeline">    else</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">813</td>
    <td class="codeline">      SE->forgetTopmostLoop(&L);</td>
    <td class="lineNumber">813</td>
    <td class="codeline">      SE->forgetTopmostLoop(&L);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">814</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">814</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">815</td>
    <td class="codeline"></td>
    <td class="lineNumber">815</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">816</td>
    <td class="codeline">  if (DefaultExitBB) {</td>
    <td class="lineNumber">816</td>
    <td class="codeline">  if (DefaultExitBB) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">817</td>
    <td class="codeline">    // Clear out the default destination temporarily to allow accurate</td>
    <td class="lineNumber">817</td>
    <td class="codeline">    // Clear out the default destination temporarily to allow accurate</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">818</td>
    <td class="codeline">    // predecessor lists to be examined below.</td>
    <td class="lineNumber">818</td>
    <td class="codeline">    // predecessor lists to be examined below.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">819</td>
    <td class="codeline">    SI.setDefaultDest(nullptr);</td>
    <td class="lineNumber">819</td>
    <td class="codeline">    SI.setDefaultDest(nullptr);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">820</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">820</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">821</td>
    <td class="codeline"></td>
    <td class="lineNumber">821</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">822</td>
    <td class="codeline">  // Store the exit cases into a separate data structure and remove them from</td>
    <td class="lineNumber">822</td>
    <td class="codeline">  // Store the exit cases into a separate data structure and remove them from</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">823</td>
    <td class="codeline">  // the switch.</td>
    <td class="lineNumber">823</td>
    <td class="codeline">  // the switch.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">824</td>
    <td class="codeline">  SmallVector<std::tuple<ConstantInt *, BasicBlock *,</td>
    <td class="lineNumber">824</td>
    <td class="codeline">  SmallVector<std::tuple<ConstantInt *, BasicBlock *,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">825</td>
    <td class="codeline">                         SwitchInstProfUpdateWrapper::CaseWeightOpt>,</td>
    <td class="lineNumber">825</td>
    <td class="codeline">                         SwitchInstProfUpdateWrapper::CaseWeightOpt>,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">826</td>
    <td class="codeline">              4> ExitCases;</td>
    <td class="lineNumber">826</td>
    <td class="codeline">              4> ExitCases;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">827</td>
    <td class="codeline">  ExitCases.reserve(ExitCaseIndices.size());</td>
    <td class="lineNumber">827</td>
    <td class="codeline">  ExitCases.reserve(ExitCaseIndices.size());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">828</td>
    <td class="codeline">  SwitchInstProfUpdateWrapper SIW(SI);</td>
    <td class="lineNumber">828</td>
    <td class="codeline">  SwitchInstProfUpdateWrapper SIW(SI);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">829</td>
    <td class="codeline">  // We walk the case indices backwards so that we remove the last case first</td>
    <td class="lineNumber">829</td>
    <td class="codeline">  // We walk the case indices backwards so that we remove the last case first</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">830</td>
    <td class="codeline">  // and don't disrupt the earlier indices.</td>
    <td class="lineNumber">830</td>
    <td class="codeline">  // and don't disrupt the earlier indices.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">831</td>
    <td class="codeline">  for (unsigned Index : reverse(ExitCaseIndices)) {</td>
    <td class="lineNumber">831</td>
    <td class="codeline">  for (unsigned Index : reverse(ExitCaseIndices)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">832</td>
    <td class="codeline">    auto CaseI = SI.case_begin() + Index;</td>
    <td class="lineNumber">832</td>
    <td class="codeline">    auto CaseI = SI.case_begin() + Index;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">833</td>
    <td class="codeline">    // Save the value of this case.</td>
    <td class="lineNumber">833</td>
    <td class="codeline">    // Save the value of this case.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">834</td>
    <td class="codeline">    auto W = SIW.getSuccessorWeight(CaseI->getSuccessorIndex());</td>
    <td class="lineNumber">834</td>
    <td class="codeline">    auto W = SIW.getSuccessorWeight(CaseI->getSuccessorIndex());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">835</td>
    <td class="codeline">    ExitCases.emplace_back(CaseI->getCaseValue(), CaseI->getCaseSuccessor(), W);</td>
    <td class="lineNumber">835</td>
    <td class="codeline">    ExitCases.emplace_back(CaseI->getCaseValue(), CaseI->getCaseSuccessor(), W);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">836</td>
    <td class="codeline">    // Delete the unswitched cases.</td>
    <td class="lineNumber">836</td>
    <td class="codeline">    // Delete the unswitched cases.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">837</td>
    <td class="codeline">    SIW.removeCase(CaseI);</td>
    <td class="lineNumber">837</td>
    <td class="codeline">    SIW.removeCase(CaseI);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">838</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">838</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">839</td>
    <td class="codeline"></td>
    <td class="lineNumber">839</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">840</td>
    <td class="codeline">  // Check if after this all of the remaining cases point at the same</td>
    <td class="lineNumber">840</td>
    <td class="codeline">  // Check if after this all of the remaining cases point at the same</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">841</td>
    <td class="codeline">  // successor.</td>
    <td class="lineNumber">841</td>
    <td class="codeline">  // successor.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">842</td>
    <td class="codeline">  BasicBlock *CommonSuccBB = nullptr;</td>
    <td class="lineNumber">842</td>
    <td class="codeline">  BasicBlock *CommonSuccBB = nullptr;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">843</td>
    <td class="codeline">  if (SI.getNumCases() > 0 &&</td>
    <td class="lineNumber">843</td>
    <td class="codeline">  if (SI.getNumCases() > 0 &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">844</td>
    <td class="codeline">      all_of(drop_begin(SI.cases()), [&SI](const SwitchInst::CaseHandle &Case) {</td>
    <td class="lineNumber">844</td>
    <td class="codeline">      all_of(drop_begin(SI.cases()), [&SI](const SwitchInst::CaseHandle &Case) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">845</td>
    <td class="codeline">        return Case.getCaseSuccessor() == SI.case_begin()->getCaseSuccessor();</td>
    <td class="lineNumber">845</td>
    <td class="codeline">        return Case.getCaseSuccessor() == SI.case_begin()->getCaseSuccessor();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">846</td>
    <td class="codeline">      }))</td>
    <td class="lineNumber">846</td>
    <td class="codeline">      }))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">847</td>
    <td class="codeline">    CommonSuccBB = SI.case_begin()->getCaseSuccessor();</td>
    <td class="lineNumber">847</td>
    <td class="codeline">    CommonSuccBB = SI.case_begin()->getCaseSuccessor();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">848</td>
    <td class="codeline">  if (!DefaultExitBB) {</td>
    <td class="lineNumber">848</td>
    <td class="codeline">  if (!DefaultExitBB) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">849</td>
    <td class="codeline">    // If we're not unswitching the default, we need it to match any cases to</td>
    <td class="lineNumber">849</td>
    <td class="codeline">    // If we're not unswitching the default, we need it to match any cases to</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">850</td>
    <td class="codeline">    // have a common successor or if we have no cases it is the common</td>
    <td class="lineNumber">850</td>
    <td class="codeline">    // have a common successor or if we have no cases it is the common</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">851</td>
    <td class="codeline">    // successor.</td>
    <td class="lineNumber">851</td>
    <td class="codeline">    // successor.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">852</td>
    <td class="codeline">    if (SI.getNumCases() == 0)</td>
    <td class="lineNumber">852</td>
    <td class="codeline">    if (SI.getNumCases() == 0)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">853</td>
    <td class="codeline">      CommonSuccBB = SI.getDefaultDest();</td>
    <td class="lineNumber">853</td>
    <td class="codeline">      CommonSuccBB = SI.getDefaultDest();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">854</td>
    <td class="codeline">    else if (SI.getDefaultDest() != CommonSuccBB)</td>
    <td class="lineNumber">854</td>
    <td class="codeline">    else if (SI.getDefaultDest() != CommonSuccBB)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">855</td>
    <td class="codeline">      CommonSuccBB = nullptr;</td>
    <td class="lineNumber">855</td>
    <td class="codeline">      CommonSuccBB = nullptr;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">856</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">856</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">857</td>
    <td class="codeline"></td>
    <td class="lineNumber">857</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">858</td>
    <td class="codeline">  // Split the preheader, so that we know that there is a safe place to insert</td>
    <td class="lineNumber">858</td>
    <td class="codeline">  // Split the preheader, so that we know that there is a safe place to insert</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">859</td>
    <td class="codeline">  // the switch.</td>
    <td class="lineNumber">859</td>
    <td class="codeline">  // the switch.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">860</td>
    <td class="codeline">  BasicBlock *OldPH = L.getLoopPreheader();</td>
    <td class="lineNumber">860</td>
    <td class="codeline">  BasicBlock *OldPH = L.getLoopPreheader();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">861</td>
    <td class="codeline">  BasicBlock *NewPH = SplitEdge(OldPH, L.getHeader(), &DT, &LI, MSSAU);</td>
    <td class="lineNumber">861</td>
    <td class="codeline">  BasicBlock *NewPH = SplitEdge(OldPH, L.getHeader(), &DT, &LI, MSSAU);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">862</td>
    <td class="codeline">  OldPH->getTerminator()->eraseFromParent();</td>
    <td class="lineNumber">862</td>
    <td class="codeline">  OldPH->getTerminator()->eraseFromParent();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">863</td>
    <td class="codeline"></td>
    <td class="lineNumber">863</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">864</td>
    <td class="codeline">  // Now add the unswitched switch.</td>
    <td class="lineNumber">864</td>
    <td class="codeline">  // Now add the unswitched switch.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">865</td>
    <td class="codeline">  auto *NewSI = SwitchInst::Create(LoopCond, NewPH, ExitCases.size(), OldPH);</td>
    <td class="lineNumber">865</td>
    <td class="codeline">  auto *NewSI = SwitchInst::Create(LoopCond, NewPH, ExitCases.size(), OldPH);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">866</td>
    <td class="codeline">  SwitchInstProfUpdateWrapper NewSIW(*NewSI);</td>
    <td class="lineNumber">866</td>
    <td class="codeline">  SwitchInstProfUpdateWrapper NewSIW(*NewSI);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">867</td>
    <td class="codeline"></td>
    <td class="lineNumber">867</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">868</td>
    <td class="codeline">  // Rewrite the IR for the unswitched basic blocks. This requires two steps.</td>
    <td class="lineNumber">868</td>
    <td class="codeline">  // Rewrite the IR for the unswitched basic blocks. This requires two steps.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">869</td>
    <td class="codeline">  // First, we split any exit blocks with remaining in-loop predecessors. Then</td>
    <td class="lineNumber">869</td>
    <td class="codeline">  // First, we split any exit blocks with remaining in-loop predecessors. Then</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">870</td>
    <td class="codeline">  // we update the PHIs in one of two ways depending on if there was a split.</td>
    <td class="lineNumber">870</td>
    <td class="codeline">  // we update the PHIs in one of two ways depending on if there was a split.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">871</td>
    <td class="codeline">  // We walk in reverse so that we split in the same order as the cases</td>
    <td class="lineNumber">871</td>
    <td class="codeline">  // We walk in reverse so that we split in the same order as the cases</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">872</td>
    <td class="codeline">  // appeared. This is purely for convenience of reading the resulting IR, but</td>
    <td class="lineNumber">872</td>
    <td class="codeline">  // appeared. This is purely for convenience of reading the resulting IR, but</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">873</td>
    <td class="codeline">  // it doesn't cost anything really.</td>
    <td class="lineNumber">873</td>
    <td class="codeline">  // it doesn't cost anything really.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">874</td>
    <td class="codeline">  SmallPtrSet<BasicBlock *, 2> UnswitchedExitBBs;</td>
    <td class="lineNumber">874</td>
    <td class="codeline">  SmallPtrSet<BasicBlock *, 2> UnswitchedExitBBs;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">875</td>
    <td class="codeline">  SmallDenseMap<BasicBlock *, BasicBlock *, 2> SplitExitBBMap;</td>
    <td class="lineNumber">875</td>
    <td class="codeline">  SmallDenseMap<BasicBlock *, BasicBlock *, 2> SplitExitBBMap;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">876</td>
    <td class="codeline">  // Handle the default exit if necessary.</td>
    <td class="lineNumber">876</td>
    <td class="codeline">  // Handle the default exit if necessary.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">877</td>
    <td class="codeline">  // FIXME: It'd be great if we could merge this with the loop below but LLVM's</td>
    <td class="lineNumber">877</td>
    <td class="codeline">  // FIXME: It'd be great if we could merge this with the loop below but LLVM's</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">878</td>
    <td class="codeline">  // ranges aren't quite powerful enough yet.</td>
    <td class="lineNumber">878</td>
    <td class="codeline">  // ranges aren't quite powerful enough yet.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">879</td>
    <td class="codeline">  if (DefaultExitBB) {</td>
    <td class="lineNumber">879</td>
    <td class="codeline">  if (DefaultExitBB) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">880</td>
    <td class="codeline">    if (pred_empty(DefaultExitBB)) {</td>
    <td class="lineNumber">880</td>
    <td class="codeline">    if (pred_empty(DefaultExitBB)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">881</td>
    <td class="codeline">      UnswitchedExitBBs.insert(DefaultExitBB);</td>
    <td class="lineNumber">881</td>
    <td class="codeline">      UnswitchedExitBBs.insert(DefaultExitBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">882</td>
    <td class="codeline">      rewritePHINodesForUnswitchedExitBlock(*DefaultExitBB, *ParentBB, *OldPH);</td>
    <td class="lineNumber">882</td>
    <td class="codeline">      rewritePHINodesForUnswitchedExitBlock(*DefaultExitBB, *ParentBB, *OldPH);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">883</td>
    <td class="codeline">    } else {</td>
    <td class="lineNumber">883</td>
    <td class="codeline">    } else {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">884</td>
    <td class="codeline">      auto *SplitBB =</td>
    <td class="lineNumber">884</td>
    <td class="codeline">      auto *SplitBB =</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">885</td>
    <td class="codeline">          SplitBlock(DefaultExitBB, &DefaultExitBB->front(), &DT, &LI, MSSAU);</td>
    <td class="lineNumber">885</td>
    <td class="codeline">          SplitBlock(DefaultExitBB, &DefaultExitBB->front(), &DT, &LI, MSSAU);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">886</td>
    <td class="codeline">      rewritePHINodesForExitAndUnswitchedBlocks(*DefaultExitBB, *SplitBB,</td>
    <td class="lineNumber">886</td>
    <td class="codeline">      rewritePHINodesForExitAndUnswitchedBlocks(*DefaultExitBB, *SplitBB,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">887</td>
    <td class="codeline">                                                *ParentBB, *OldPH,</td>
    <td class="lineNumber">887</td>
    <td class="codeline">                                                *ParentBB, *OldPH,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">888</td>
    <td class="codeline">                                                /*FullUnswitch*/ true);</td>
    <td class="lineNumber">888</td>
    <td class="codeline">                                                /*FullUnswitch*/ true);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">889</td>
    <td class="codeline">      DefaultExitBB = SplitExitBBMap[DefaultExitBB] = SplitBB;</td>
    <td class="lineNumber">889</td>
    <td class="codeline">      DefaultExitBB = SplitExitBBMap[DefaultExitBB] = SplitBB;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">890</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">890</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">891</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">891</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">892</td>
    <td class="codeline">  // Note that we must use a reference in the for loop so that we update the</td>
    <td class="lineNumber">892</td>
    <td class="codeline">  // Note that we must use a reference in the for loop so that we update the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">893</td>
    <td class="codeline">  // container.</td>
    <td class="lineNumber">893</td>
    <td class="codeline">  // container.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">894</td>
    <td class="codeline">  for (auto &ExitCase : reverse(ExitCases)) {</td>
    <td class="lineNumber">894</td>
    <td class="codeline">  for (auto &ExitCase : reverse(ExitCases)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">895</td>
    <td class="codeline">    // Grab a reference to the exit block in the pair so that we can update it.</td>
    <td class="lineNumber">895</td>
    <td class="codeline">    // Grab a reference to the exit block in the pair so that we can update it.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">896</td>
    <td class="codeline">    BasicBlock *ExitBB = std::get<1>(ExitCase);</td>
    <td class="lineNumber">896</td>
    <td class="codeline">    BasicBlock *ExitBB = std::get<1>(ExitCase);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">897</td>
    <td class="codeline"></td>
    <td class="lineNumber">897</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">898</td>
    <td class="codeline">    // If this case is the last edge into the exit block, we can simply reuse it</td>
    <td class="lineNumber">898</td>
    <td class="codeline">    // If this case is the last edge into the exit block, we can simply reuse it</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">899</td>
    <td class="codeline">    // as it will no longer be a loop exit. No mapping necessary.</td>
    <td class="lineNumber">899</td>
    <td class="codeline">    // as it will no longer be a loop exit. No mapping necessary.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">900</td>
    <td class="codeline">    if (pred_empty(ExitBB)) {</td>
    <td class="lineNumber">900</td>
    <td class="codeline">    if (pred_empty(ExitBB)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">901</td>
    <td class="codeline">      // Only rewrite once.</td>
    <td class="lineNumber">901</td>
    <td class="codeline">      // Only rewrite once.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">902</td>
    <td class="codeline">      if (UnswitchedExitBBs.insert(ExitBB).second)</td>
    <td class="lineNumber">902</td>
    <td class="codeline">      if (UnswitchedExitBBs.insert(ExitBB).second)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">903</td>
    <td class="codeline">        rewritePHINodesForUnswitchedExitBlock(*ExitBB, *ParentBB, *OldPH);</td>
    <td class="lineNumber">903</td>
    <td class="codeline">        rewritePHINodesForUnswitchedExitBlock(*ExitBB, *ParentBB, *OldPH);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">904</td>
    <td class="codeline">      continue;</td>
    <td class="lineNumber">904</td>
    <td class="codeline">      continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">905</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">905</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">906</td>
    <td class="codeline"></td>
    <td class="lineNumber">906</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">907</td>
    <td class="codeline">    // Otherwise we need to split the exit block so that we retain an exit</td>
    <td class="lineNumber">907</td>
    <td class="codeline">    // Otherwise we need to split the exit block so that we retain an exit</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">908</td>
    <td class="codeline">    // block from the loop and a target for the unswitched condition.</td>
    <td class="lineNumber">908</td>
    <td class="codeline">    // block from the loop and a target for the unswitched condition.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">909</td>
    <td class="codeline">    BasicBlock *&SplitExitBB = SplitExitBBMap[ExitBB];</td>
    <td class="lineNumber">909</td>
    <td class="codeline">    BasicBlock *&SplitExitBB = SplitExitBBMap[ExitBB];</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">910</td>
    <td class="codeline">    if (!SplitExitBB) {</td>
    <td class="lineNumber">910</td>
    <td class="codeline">    if (!SplitExitBB) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">911</td>
    <td class="codeline">      // If this is the first time we see this, do the split and remember it.</td>
    <td class="lineNumber">911</td>
    <td class="codeline">      // If this is the first time we see this, do the split and remember it.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">912</td>
    <td class="codeline">      SplitExitBB = SplitBlock(ExitBB, &ExitBB->front(), &DT, &LI, MSSAU);</td>
    <td class="lineNumber">912</td>
    <td class="codeline">      SplitExitBB = SplitBlock(ExitBB, &ExitBB->front(), &DT, &LI, MSSAU);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">913</td>
    <td class="codeline">      rewritePHINodesForExitAndUnswitchedBlocks(*ExitBB, *SplitExitBB,</td>
    <td class="lineNumber">913</td>
    <td class="codeline">      rewritePHINodesForExitAndUnswitchedBlocks(*ExitBB, *SplitExitBB,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">914</td>
    <td class="codeline">                                                *ParentBB, *OldPH,</td>
    <td class="lineNumber">914</td>
    <td class="codeline">                                                *ParentBB, *OldPH,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">915</td>
    <td class="codeline">                                                /*FullUnswitch*/ true);</td>
    <td class="lineNumber">915</td>
    <td class="codeline">                                                /*FullUnswitch*/ true);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">916</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">916</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">917</td>
    <td class="codeline">    // Update the case pair to point to the split block.</td>
    <td class="lineNumber">917</td>
    <td class="codeline">    // Update the case pair to point to the split block.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">918</td>
    <td class="codeline">    std::get<1>(ExitCase) = SplitExitBB;</td>
    <td class="lineNumber">918</td>
    <td class="codeline">    std::get<1>(ExitCase) = SplitExitBB;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">919</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">919</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">920</td>
    <td class="codeline"></td>
    <td class="lineNumber">920</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">921</td>
    <td class="codeline">  // Now add the unswitched cases. We do this in reverse order as we built them</td>
    <td class="lineNumber">921</td>
    <td class="codeline">  // Now add the unswitched cases. We do this in reverse order as we built them</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">922</td>
    <td class="codeline">  // in reverse order.</td>
    <td class="lineNumber">922</td>
    <td class="codeline">  // in reverse order.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">923</td>
    <td class="codeline">  for (auto &ExitCase : reverse(ExitCases)) {</td>
    <td class="lineNumber">923</td>
    <td class="codeline">  for (auto &ExitCase : reverse(ExitCases)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">924</td>
    <td class="codeline">    ConstantInt *CaseVal = std::get<0>(ExitCase);</td>
    <td class="lineNumber">924</td>
    <td class="codeline">    ConstantInt *CaseVal = std::get<0>(ExitCase);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">925</td>
    <td class="codeline">    BasicBlock *UnswitchedBB = std::get<1>(ExitCase);</td>
    <td class="lineNumber">925</td>
    <td class="codeline">    BasicBlock *UnswitchedBB = std::get<1>(ExitCase);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">926</td>
    <td class="codeline"></td>
    <td class="lineNumber">926</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">927</td>
    <td class="codeline">    NewSIW.addCase(CaseVal, UnswitchedBB, std::get<2>(ExitCase));</td>
    <td class="lineNumber">927</td>
    <td class="codeline">    NewSIW.addCase(CaseVal, UnswitchedBB, std::get<2>(ExitCase));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">928</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">928</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">929</td>
    <td class="codeline"></td>
    <td class="lineNumber">929</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">930</td>
    <td class="codeline">  // If the default was unswitched, re-point it and add explicit cases for</td>
    <td class="lineNumber">930</td>
    <td class="codeline">  // If the default was unswitched, re-point it and add explicit cases for</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">931</td>
    <td class="codeline">  // entering the loop.</td>
    <td class="lineNumber">931</td>
    <td class="codeline">  // entering the loop.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">932</td>
    <td class="codeline">  if (DefaultExitBB) {</td>
    <td class="lineNumber">932</td>
    <td class="codeline">  if (DefaultExitBB) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">933</td>
    <td class="codeline">    NewSIW->setDefaultDest(DefaultExitBB);</td>
    <td class="lineNumber">933</td>
    <td class="codeline">    NewSIW->setDefaultDest(DefaultExitBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">934</td>
    <td class="codeline">    NewSIW.setSuccessorWeight(0, DefaultCaseWeight);</td>
    <td class="lineNumber">934</td>
    <td class="codeline">    NewSIW.setSuccessorWeight(0, DefaultCaseWeight);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">935</td>
    <td class="codeline"></td>
    <td class="lineNumber">935</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">936</td>
    <td class="codeline">    // We removed all the exit cases, so we just copy the cases to the</td>
    <td class="lineNumber">936</td>
    <td class="codeline">    // We removed all the exit cases, so we just copy the cases to the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">937</td>
    <td class="codeline">    // unswitched switch.</td>
    <td class="lineNumber">937</td>
    <td class="codeline">    // unswitched switch.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">938</td>
    <td class="codeline">    for (const auto &Case : SI.cases())</td>
    <td class="lineNumber">938</td>
    <td class="codeline">    for (const auto &Case : SI.cases())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">939</td>
    <td class="codeline">      NewSIW.addCase(Case.getCaseValue(), NewPH,</td>
    <td class="lineNumber">939</td>
    <td class="codeline">      NewSIW.addCase(Case.getCaseValue(), NewPH,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">940</td>
    <td class="codeline">                     SIW.getSuccessorWeight(Case.getSuccessorIndex()));</td>
    <td class="lineNumber">940</td>
    <td class="codeline">                     SIW.getSuccessorWeight(Case.getSuccessorIndex()));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">941</td>
    <td class="codeline">  } else if (DefaultCaseWeight) {</td>
    <td class="lineNumber">941</td>
    <td class="codeline">  } else if (DefaultCaseWeight) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">942</td>
    <td class="codeline">    // We have to set branch weight of the default case.</td>
    <td class="lineNumber">942</td>
    <td class="codeline">    // We have to set branch weight of the default case.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">943</td>
    <td class="codeline">    uint64_t SW = *DefaultCaseWeight;</td>
    <td class="lineNumber">943</td>
    <td class="codeline">    uint64_t SW = *DefaultCaseWeight;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">944</td>
    <td class="codeline">    for (const auto &Case : SI.cases()) {</td>
    <td class="lineNumber">944</td>
    <td class="codeline">    for (const auto &Case : SI.cases()) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">945</td>
    <td class="codeline">      auto W = SIW.getSuccessorWeight(Case.getSuccessorIndex());</td>
    <td class="lineNumber">945</td>
    <td class="codeline">      auto W = SIW.getSuccessorWeight(Case.getSuccessorIndex());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">946</td>
    <td class="codeline">      assert(W &&</td>
    <td class="lineNumber">946</td>
    <td class="codeline">      assert(W &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">947</td>
    <td class="codeline">             "case weight must be defined as default case weight is defined");</td>
    <td class="lineNumber">947</td>
    <td class="codeline">             "case weight must be defined as default case weight is defined");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">948</td>
    <td class="codeline">      SW += *W;</td>
    <td class="lineNumber">948</td>
    <td class="codeline">      SW += *W;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">949</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">949</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">950</td>
    <td class="codeline">    NewSIW.setSuccessorWeight(0, SW);</td>
    <td class="lineNumber">950</td>
    <td class="codeline">    NewSIW.setSuccessorWeight(0, SW);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">951</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">951</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">952</td>
    <td class="codeline"></td>
    <td class="lineNumber">952</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">953</td>
    <td class="codeline">  // If we ended up with a common successor for every path through the switch</td>
    <td class="lineNumber">953</td>
    <td class="codeline">  // If we ended up with a common successor for every path through the switch</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">954</td>
    <td class="codeline">  // after unswitching, rewrite it to an unconditional branch to make it easy</td>
    <td class="lineNumber">954</td>
    <td class="codeline">  // after unswitching, rewrite it to an unconditional branch to make it easy</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">955</td>
    <td class="codeline">  // to recognize. Otherwise we potentially have to recognize the default case</td>
    <td class="lineNumber">955</td>
    <td class="codeline">  // to recognize. Otherwise we potentially have to recognize the default case</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">956</td>
    <td class="codeline">  // pointing at unreachable and other complexity.</td>
    <td class="lineNumber">956</td>
    <td class="codeline">  // pointing at unreachable and other complexity.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">957</td>
    <td class="codeline">  if (CommonSuccBB) {</td>
    <td class="lineNumber">957</td>
    <td class="codeline">  if (CommonSuccBB) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">958</td>
    <td class="codeline">    BasicBlock *BB = SI.getParent();</td>
    <td class="lineNumber">958</td>
    <td class="codeline">    BasicBlock *BB = SI.getParent();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">959</td>
    <td class="codeline">    // We may have had multiple edges to this common successor block, so remove</td>
    <td class="lineNumber">959</td>
    <td class="codeline">    // We may have had multiple edges to this common successor block, so remove</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">960</td>
    <td class="codeline">    // them as predecessors. We skip the first one, either the default or the</td>
    <td class="lineNumber">960</td>
    <td class="codeline">    // them as predecessors. We skip the first one, either the default or the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">961</td>
    <td class="codeline">    // actual first case.</td>
    <td class="lineNumber">961</td>
    <td class="codeline">    // actual first case.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">962</td>
    <td class="codeline">    bool SkippedFirst = DefaultExitBB == nullptr;</td>
    <td class="lineNumber">962</td>
    <td class="codeline">    bool SkippedFirst = DefaultExitBB == nullptr;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">963</td>
    <td class="codeline">    for (auto Case : SI.cases()) {</td>
    <td class="lineNumber">963</td>
    <td class="codeline">    for (auto Case : SI.cases()) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">964</td>
    <td class="codeline">      assert(Case.getCaseSuccessor() == CommonSuccBB &&</td>
    <td class="lineNumber">964</td>
    <td class="codeline">      assert(Case.getCaseSuccessor() == CommonSuccBB &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">965</td>
    <td class="codeline">             "Non-common successor!");</td>
    <td class="lineNumber">965</td>
    <td class="codeline">             "Non-common successor!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">966</td>
    <td class="codeline">      (void)Case;</td>
    <td class="lineNumber">966</td>
    <td class="codeline">      (void)Case;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">967</td>
    <td class="codeline">      if (!SkippedFirst) {</td>
    <td class="lineNumber">967</td>
    <td class="codeline">      if (!SkippedFirst) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">968</td>
    <td class="codeline">        SkippedFirst = true;</td>
    <td class="lineNumber">968</td>
    <td class="codeline">        SkippedFirst = true;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">969</td>
    <td class="codeline">        continue;</td>
    <td class="lineNumber">969</td>
    <td class="codeline">        continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">970</td>
    <td class="codeline">      }</td>
    <td class="lineNumber">970</td>
    <td class="codeline">      }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">971</td>
    <td class="codeline">      CommonSuccBB->removePredecessor(BB,</td>
    <td class="lineNumber">971</td>
    <td class="codeline">      CommonSuccBB->removePredecessor(BB,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">972</td>
    <td class="codeline">                                      /*KeepOneInputPHIs*/ true);</td>
    <td class="lineNumber">972</td>
    <td class="codeline">                                      /*KeepOneInputPHIs*/ true);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">973</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">973</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">974</td>
    <td class="codeline">    // Now nuke the switch and replace it with a direct branch.</td>
    <td class="lineNumber">974</td>
    <td class="codeline">    // Now nuke the switch and replace it with a direct branch.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">975</td>
    <td class="codeline">    SIW.eraseFromParent();</td>
    <td class="lineNumber">975</td>
    <td class="codeline">    SIW.eraseFromParent();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">976</td>
    <td class="codeline">    BranchInst::Create(CommonSuccBB, BB);</td>
    <td class="lineNumber">976</td>
    <td class="codeline">    BranchInst::Create(CommonSuccBB, BB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">977</td>
    <td class="codeline">  } else if (DefaultExitBB) {</td>
    <td class="lineNumber">977</td>
    <td class="codeline">  } else if (DefaultExitBB) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">978</td>
    <td class="codeline">    assert(SI.getNumCases() > 0 &&</td>
    <td class="lineNumber">978</td>
    <td class="codeline">    assert(SI.getNumCases() > 0 &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">979</td>
    <td class="codeline">           "If we had no cases we'd have a common successor!");</td>
    <td class="lineNumber">979</td>
    <td class="codeline">           "If we had no cases we'd have a common successor!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">980</td>
    <td class="codeline">    // Move the last case to the default successor. This is valid as if the</td>
    <td class="lineNumber">980</td>
    <td class="codeline">    // Move the last case to the default successor. This is valid as if the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">981</td>
    <td class="codeline">    // default got unswitched it cannot be reached. This has the advantage of</td>
    <td class="lineNumber">981</td>
    <td class="codeline">    // default got unswitched it cannot be reached. This has the advantage of</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">982</td>
    <td class="codeline">    // being simple and keeping the number of edges from this switch to</td>
    <td class="lineNumber">982</td>
    <td class="codeline">    // being simple and keeping the number of edges from this switch to</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">983</td>
    <td class="codeline">    // successors the same, and avoiding any PHI update complexity.</td>
    <td class="lineNumber">983</td>
    <td class="codeline">    // successors the same, and avoiding any PHI update complexity.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">984</td>
    <td class="codeline">    auto LastCaseI = std::prev(SI.case_end());</td>
    <td class="lineNumber">984</td>
    <td class="codeline">    auto LastCaseI = std::prev(SI.case_end());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">985</td>
    <td class="codeline"></td>
    <td class="lineNumber">985</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">986</td>
    <td class="codeline">    SI.setDefaultDest(LastCaseI->getCaseSuccessor());</td>
    <td class="lineNumber">986</td>
    <td class="codeline">    SI.setDefaultDest(LastCaseI->getCaseSuccessor());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">987</td>
    <td class="codeline">    SIW.setSuccessorWeight(</td>
    <td class="lineNumber">987</td>
    <td class="codeline">    SIW.setSuccessorWeight(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">988</td>
    <td class="codeline">        0, SIW.getSuccessorWeight(LastCaseI->getSuccessorIndex()));</td>
    <td class="lineNumber">988</td>
    <td class="codeline">        0, SIW.getSuccessorWeight(LastCaseI->getSuccessorIndex()));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">989</td>
    <td class="codeline">    SIW.removeCase(LastCaseI);</td>
    <td class="lineNumber">989</td>
    <td class="codeline">    SIW.removeCase(LastCaseI);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">990</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">990</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">991</td>
    <td class="codeline"></td>
    <td class="lineNumber">991</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">992</td>
    <td class="codeline">  // Walk the unswitched exit blocks and the unswitched split blocks and update</td>
    <td class="lineNumber">992</td>
    <td class="codeline">  // Walk the unswitched exit blocks and the unswitched split blocks and update</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">993</td>
    <td class="codeline">  // the dominator tree based on the CFG edits. While we are walking unordered</td>
    <td class="lineNumber">993</td>
    <td class="codeline">  // the dominator tree based on the CFG edits. While we are walking unordered</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">994</td>
    <td class="codeline">  // containers here, the API for applyUpdates takes an unordered list of</td>
    <td class="lineNumber">994</td>
    <td class="codeline">  // containers here, the API for applyUpdates takes an unordered list of</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">995</td>
    <td class="codeline">  // updates and requires them to not contain duplicates.</td>
    <td class="lineNumber">995</td>
    <td class="codeline">  // updates and requires them to not contain duplicates.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">996</td>
    <td class="codeline">  SmallVector<DominatorTree::UpdateType, 4> DTUpdates;</td>
    <td class="lineNumber">996</td>
    <td class="codeline">  SmallVector<DominatorTree::UpdateType, 4> DTUpdates;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">997</td>
    <td class="codeline">  for (auto *UnswitchedExitBB : UnswitchedExitBBs) {</td>
    <td class="lineNumber">997</td>
    <td class="codeline">  for (auto *UnswitchedExitBB : UnswitchedExitBBs) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">998</td>
    <td class="codeline">    DTUpdates.push_back({DT.Delete, ParentBB, UnswitchedExitBB});</td>
    <td class="lineNumber">998</td>
    <td class="codeline">    DTUpdates.push_back({DT.Delete, ParentBB, UnswitchedExitBB});</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">999</td>
    <td class="codeline">    DTUpdates.push_back({DT.Insert, OldPH, UnswitchedExitBB});</td>
    <td class="lineNumber">999</td>
    <td class="codeline">    DTUpdates.push_back({DT.Insert, OldPH, UnswitchedExitBB});</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1000</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">1000</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1001</td>
    <td class="codeline">  for (auto SplitUnswitchedPair : SplitExitBBMap) {</td>
    <td class="lineNumber">1001</td>
    <td class="codeline">  for (auto SplitUnswitchedPair : SplitExitBBMap) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1002</td>
    <td class="codeline">    DTUpdates.push_back({DT.Delete, ParentBB, SplitUnswitchedPair.first});</td>
    <td class="lineNumber">1002</td>
    <td class="codeline">    DTUpdates.push_back({DT.Delete, ParentBB, SplitUnswitchedPair.first});</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1003</td>
    <td class="codeline">    DTUpdates.push_back({DT.Insert, OldPH, SplitUnswitchedPair.second});</td>
    <td class="lineNumber">1003</td>
    <td class="codeline">    DTUpdates.push_back({DT.Insert, OldPH, SplitUnswitchedPair.second});</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1004</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">1004</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1005</td>
    <td class="codeline"></td>
    <td class="lineNumber">1005</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1006</td>
    <td class="codeline">  if (MSSAU) {</td>
    <td class="lineNumber">1006</td>
    <td class="codeline">  if (MSSAU) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1007</td>
    <td class="codeline">    MSSAU->applyUpdates(DTUpdates, DT, /*UpdateDT=*/true);</td>
    <td class="lineNumber">1007</td>
    <td class="codeline">    MSSAU->applyUpdates(DTUpdates, DT, /*UpdateDT=*/true);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1008</td>
    <td class="codeline">    if (VerifyMemorySSA)</td>
    <td class="lineNumber">1008</td>
    <td class="codeline">    if (VerifyMemorySSA)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1009</td>
    <td class="codeline">      MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">1009</td>
    <td class="codeline">      MSSAU->getMemorySSA()->verifyMemorySSA();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1010</td>
    <td class="codeline">  } else {</td>
    <td class="lineNumber">1010</td>
    <td class="codeline">  } else {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1011</td>
    <td class="codeline">    DT.applyUpdates(DTUpdates);</td>
    <td class="lineNumber">1011</td>
    <td class="codeline">    DT.applyUpdates(DTUpdates);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1012</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">1012</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1013</td>
    <td class="codeline"></td>
    <td class="lineNumber">1013</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1014</td>
    <td class="codeline">  assert(DT.verify(DominatorTree::VerificationLevel::Fast));</td>
    <td class="lineNumber">1014</td>
    <td class="codeline">  assert(DT.verify(DominatorTree::VerificationLevel::Fast));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1015</td>
    <td class="codeline"></td>
    <td class="lineNumber">1015</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1016</td>
    <td class="codeline">  // We may have changed the nesting relationship for this loop so hoist it to</td>
    <td class="lineNumber">1016</td>
    <td class="codeline">  // We may have changed the nesting relationship for this loop so hoist it to</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1017</td>
    <td class="codeline">  // its correct parent if needed.</td>
    <td class="lineNumber">1017</td>
    <td class="codeline">  // its correct parent if needed.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1018</td>
    <td class="codeline">  hoistLoopToNewParent(L, *NewPH, DT, LI, MSSAU, SE);</td>
    <td class="lineNumber">1018</td>
    <td class="codeline">  hoistLoopToNewParent(L, *NewPH, DT, LI, MSSAU, SE);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1019</td>
    <td class="codeline"></td>
    <td class="lineNumber">1019</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1020</td>
    <td class="codeline">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">1020</td>
    <td class="codeline">  if (MSSAU && VerifyMemorySSA)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1021</td>
    <td class="codeline">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">1021</td>
    <td class="codeline">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1022</td>
    <td class="codeline"></td>
    <td class="lineNumber">1022</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1023</td>
    <td class="codeline">  ++NumTrivial;</td>
    <td class="lineNumber">1023</td>
    <td class="codeline">  ++NumTrivial;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1024</td>
    <td class="codeline">  ++NumSwitches;</td>
    <td class="lineNumber">1024</td>
    <td class="codeline">  ++NumSwitches;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1025</td>
    <td class="codeline">  LLVM_DEBUG(dbgs() << "    done: unswitching trivial switch...\n");</td>
    <td class="lineNumber">1025</td>
    <td class="codeline">  LLVM_DEBUG(dbgs() << "    done: unswitching trivial switch...\n");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1026</td>
    <td class="codeline">  return true;</td>
    <td class="lineNumber">1026</td>
    <td class="codeline">  return true;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1027</td>
    <td class="codeline">}</td>
    <td class="lineNumber">1027</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1028</td>
    <td class="codeline"></td>
    <td class="lineNumber">1028</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1029</td>
    <td class="codeline">/// This routine scans the loop to find a branch or switch which occurs before</td>
    <td class="lineNumber">1029</td>
    <td class="codeline">/// This routine scans the loop to find a branch or switch which occurs before</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1030</td>
    <td class="codeline">/// any side effects occur. These can potentially be unswitched without</td>
    <td class="lineNumber">1030</td>
    <td class="codeline">/// any side effects occur. These can potentially be unswitched without</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1031</td>
    <td class="codeline">/// duplicating the loop. If a branch or switch is successfully unswitched the</td>
    <td class="lineNumber">1031</td>
    <td class="codeline">/// duplicating the loop. If a branch or switch is successfully unswitched the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1032</td>
    <td class="codeline">/// scanning continues to see if subsequent branches or switches have become</td>
    <td class="lineNumber">1032</td>
    <td class="codeline">/// scanning continues to see if subsequent branches or switches have become</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1033</td>
    <td class="codeline">/// trivial. Once all trivial candidates have been unswitched, this routine</td>
    <td class="lineNumber">1033</td>
    <td class="codeline">/// trivial. Once all trivial candidates have been unswitched, this routine</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1034</td>
    <td class="codeline">/// returns.</td>
    <td class="lineNumber">1034</td>
    <td class="codeline">/// returns.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1035</td>
    <td class="codeline">///</td>
    <td class="lineNumber">1035</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1036</td>
    <td class="codeline">/// The return value indicates whether anything was unswitched (and therefore</td>
    <td class="lineNumber">1036</td>
    <td class="codeline">/// The return value indicates whether anything was unswitched (and therefore</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1037</td>
    <td class="codeline">/// changed).</td>
    <td class="lineNumber">1037</td>
    <td class="codeline">/// changed).</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1038</td>
    <td class="codeline">///</td>
    <td class="lineNumber">1038</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1039</td>
    <td class="codeline">/// If `SE` is not null, it will be updated based on the potential loop SCEVs</td>
    <td class="lineNumber">1039</td>
    <td class="codeline">/// If `SE` is not null, it will be updated based on the potential loop SCEVs</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1040</td>
    <td class="codeline">/// invalidated by this.</td>
    <td class="lineNumber">1040</td>
    <td class="codeline">/// invalidated by this.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1041</td>
    <td class="codeline">static bool unswitchAllTrivialConditions(Loop &L, DominatorTree &DT,</td>
    <td class="lineNumber">1041</td>
    <td class="codeline">static bool unswitchAllTrivialConditions(Loop &L, DominatorTree &DT,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1042</td>
    <td class="codeline">                                         LoopInfo &LI, ScalarEvolution *SE,</td>
    <td class="lineNumber">1042</td>
    <td class="codeline">                                         LoopInfo &LI, ScalarEvolution *SE,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1043</td>
    <td class="codeline">                                         MemorySSAUpdater *MSSAU) {</td>
    <td class="lineNumber">1043</td>
    <td class="codeline">                                         MemorySSAUpdater *MSSAU) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1044</td>
    <td class="codeline">  bool Changed = false;</td>
    <td class="lineNumber">1044</td>
    <td class="codeline">  bool Changed = false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1045</td>
    <td class="codeline"></td>
    <td class="lineNumber">1045</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1046</td>
    <td class="codeline">  // If loop header has only one reachable successor we should keep looking for</td>
    <td class="lineNumber">1046</td>
    <td class="codeline">  // If loop header has only one reachable successor we should keep looking for</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1047</td>
    <td class="codeline">  // trivial condition candidates in the successor as well. An alternative is</td>
    <td class="lineNumber">1047</td>
    <td class="codeline">  // trivial condition candidates in the successor as well. An alternative is</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1048</td>
    <td class="codeline">  // to constant fold conditions and merge successors into loop header (then we</td>
    <td class="lineNumber">1048</td>
    <td class="codeline">  // to constant fold conditions and merge successors into loop header (then we</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1049</td>
    <td class="codeline">  // only need to check header's terminator). The reason for not doing this in</td>
    <td class="lineNumber">1049</td>
    <td class="codeline">  // only need to check header's terminator). The reason for not doing this in</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1050</td>
    <td class="codeline">  // LoopUnswitch pass is that it could potentially break LoopPassManager's</td>
    <td class="lineNumber">1050</td>
    <td class="codeline">  // LoopUnswitch pass is that it could potentially break LoopPassManager's</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1051</td>
    <td class="codeline">  // invariants. Folding dead branches could either eliminate the current loop</td>
    <td class="lineNumber">1051</td>
    <td class="codeline">  // invariants. Folding dead branches could either eliminate the current loop</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1052</td>
    <td class="codeline">  // or make other loops unreachable. LCSSA form might also not be preserved</td>
    <td class="lineNumber">1052</td>
    <td class="codeline">  // or make other loops unreachable. LCSSA form might also not be preserved</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1053</td>
    <td class="codeline">  // after deleting branches. The following code keeps traversing loop header's</td>
    <td class="lineNumber">1053</td>
    <td class="codeline">  // after deleting branches. The following code keeps traversing loop header's</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1054</td>
    <td class="codeline">  // successors until it finds the trivial condition candidate (condition that</td>
    <td class="lineNumber">1054</td>
    <td class="codeline">  // successors until it finds the trivial condition candidate (condition that</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1055</td>
    <td class="codeline">  // is not a constant). Since unswitching generates branches with constant</td>
    <td class="lineNumber">1055</td>
    <td class="codeline">  // is not a constant). Since unswitching generates branches with constant</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1056</td>
    <td class="codeline">  // conditions, this scenario could be very common in practice.</td>
    <td class="lineNumber">1056</td>
    <td class="codeline">  // conditions, this scenario could be very common in practice.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1057</td>
    <td class="codeline">  BasicBlock *CurrentBB = L.getHeader();</td>
    <td class="lineNumber">1057</td>
    <td class="codeline">  BasicBlock *CurrentBB = L.getHeader();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1058</td>
    <td class="codeline">  SmallPtrSet<BasicBlock *, 8> Visited;</td>
    <td class="lineNumber">1058</td>
    <td class="codeline">  SmallPtrSet<BasicBlock *, 8> Visited;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1059</td>
    <td class="codeline">  Visited.insert(CurrentBB);</td>
    <td class="lineNumber">1059</td>
    <td class="codeline">  Visited.insert(CurrentBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1060</td>
    <td class="codeline">  do {</td>
    <td class="lineNumber">1060</td>
    <td class="codeline">  do {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1061</td>
    <td class="codeline">    // Check if there are any side-effecting instructions (e.g. stores, calls,</td>
    <td class="lineNumber">1061</td>
    <td class="codeline">    // Check if there are any side-effecting instructions (e.g. stores, calls,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1062</td>
    <td class="codeline">    // volatile loads) in the part of the loop that the code *would* execute</td>
    <td class="lineNumber">1062</td>
    <td class="codeline">    // volatile loads) in the part of the loop that the code *would* execute</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1063</td>
    <td class="codeline">    // without unswitching.</td>
    <td class="lineNumber">1063</td>
    <td class="codeline">    // without unswitching.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1064</td>
    <td class="codeline">    if (MSSAU) // Possible early exit with MSSA</td>
    <td class="lineNumber">1064</td>
    <td class="codeline">    if (MSSAU) // Possible early exit with MSSA</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1065</td>
    <td class="codeline">      if (auto *Defs = MSSAU->getMemorySSA()->getBlockDefs(CurrentBB))</td>
    <td class="lineNumber">1065</td>
    <td class="codeline">      if (auto *Defs = MSSAU->getMemorySSA()->getBlockDefs(CurrentBB))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1066</td>
    <td class="codeline">        if (!isa<MemoryPhi>(*Defs->begin()) || (++Defs->begin() != Defs->end()))</td>
    <td class="lineNumber">1066</td>
    <td class="codeline">        if (!isa<MemoryPhi>(*Defs->begin()) || (++Defs->begin() != Defs->end()))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1067</td>
    <td class="codeline">          return Changed;</td>
    <td class="lineNumber">1067</td>
    <td class="codeline">          return Changed;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1068</td>
    <td class="codeline">    if (llvm::any_of(*CurrentBB,</td>
    <td class="lineNumber">1068</td>
    <td class="codeline">    if (llvm::any_of(*CurrentBB,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1069</td>
    <td class="codeline">                     [](Instruction &I) { return I.mayHaveSideEffects(); }))</td>
    <td class="lineNumber">1069</td>
    <td class="codeline">                     [](Instruction &I) { return I.mayHaveSideEffects(); }))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1070</td>
    <td class="codeline">      return Changed;</td>
    <td class="lineNumber">1070</td>
    <td class="codeline">      return Changed;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1071</td>
    <td class="codeline"></td>
    <td class="lineNumber">1071</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1072</td>
    <td class="codeline">    Instruction *CurrentTerm = CurrentBB->getTerminator();</td>
    <td class="lineNumber">1072</td>
    <td class="codeline">    Instruction *CurrentTerm = CurrentBB->getTerminator();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1073</td>
    <td class="codeline"></td>
    <td class="lineNumber">1073</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1074</td>
    <td class="codeline">    if (auto *SI = dyn_cast<SwitchInst>(CurrentTerm)) {</td>
    <td class="lineNumber">1074</td>
    <td class="codeline">    if (auto *SI = dyn_cast<SwitchInst>(CurrentTerm)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1075</td>
    <td class="codeline">      // Don't bother trying to unswitch past a switch with a constant</td>
    <td class="lineNumber">1075</td>
    <td class="codeline">      // Don't bother trying to unswitch past a switch with a constant</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1076</td>
    <td class="codeline">      // condition. This should be removed prior to running this pass by</td>
    <td class="lineNumber">1076</td>
    <td class="codeline">      // condition. This should be removed prior to running this pass by</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1077</td>
    <td class="codeline">      // simplifycfg.</td>
    <td class="lineNumber">1077</td>
    <td class="codeline">      // simplifycfg.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1078</td>
    <td class="codeline">      if (isa<Constant>(SI->getCondition()))</td>
    <td class="lineNumber">1078</td>
    <td class="codeline">      if (isa<Constant>(SI->getCondition()))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1079</td>
    <td class="codeline">        return Changed;</td>
    <td class="lineNumber">1079</td>
    <td class="codeline">        return Changed;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1080</td>
    <td class="codeline"></td>
    <td class="lineNumber">1080</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1081</td>
    <td class="codeline">      if (!unswitchTrivialSwitch(L, *SI, DT, LI, SE, MSSAU))</td>
    <td class="lineNumber">1081</td>
    <td class="codeline">      if (!unswitchTrivialSwitch(L, *SI, DT, LI, SE, MSSAU))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1082</td>
    <td class="codeline">        // Couldn't unswitch this one so we're done.</td>
    <td class="lineNumber">1082</td>
    <td class="codeline">        // Couldn't unswitch this one so we're done.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1083</td>
    <td class="codeline">        return Changed;</td>
    <td class="lineNumber">1083</td>
    <td class="codeline">        return Changed;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1084</td>
    <td class="codeline"></td>
    <td class="lineNumber">1084</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1085</td>
    <td class="codeline">      // Mark that we managed to unswitch something.</td>
    <td class="lineNumber">1085</td>
    <td class="codeline">      // Mark that we managed to unswitch something.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1086</td>
    <td class="codeline">      Changed = true;</td>
    <td class="lineNumber">1086</td>
    <td class="codeline">      Changed = true;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1087</td>
    <td class="codeline"></td>
    <td class="lineNumber">1087</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1088</td>
    <td class="codeline">      // If unswitching turned the terminator into an unconditional branch then</td>
    <td class="lineNumber">1088</td>
    <td class="codeline">      // If unswitching turned the terminator into an unconditional branch then</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1089</td>
    <td class="codeline">      // we can continue. The unswitching logic specifically works to fold any</td>
    <td class="lineNumber">1089</td>
    <td class="codeline">      // we can continue. The unswitching logic specifically works to fold any</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1090</td>
    <td class="codeline">      // cases it can into an unconditional branch to make it easier to</td>
    <td class="lineNumber">1090</td>
    <td class="codeline">      // cases it can into an unconditional branch to make it easier to</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1091</td>
    <td class="codeline">      // recognize here.</td>
    <td class="lineNumber">1091</td>
    <td class="codeline">      // recognize here.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1092</td>
    <td class="codeline">      auto *BI = dyn_cast<BranchInst>(CurrentBB->getTerminator());</td>
    <td class="lineNumber">1092</td>
    <td class="codeline">      auto *BI = dyn_cast<BranchInst>(CurrentBB->getTerminator());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1093</td>
    <td class="codeline">      if (!BI || BI->isConditional())</td>
    <td class="lineNumber">1093</td>
    <td class="codeline">      if (!BI || BI->isConditional())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1094</td>
    <td class="codeline">        return Changed;</td>
    <td class="lineNumber">1094</td>
    <td class="codeline">        return Changed;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1095</td>
    <td class="codeline"></td>
    <td class="lineNumber">1095</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1096</td>
    <td class="codeline">      CurrentBB = BI->getSuccessor(0);</td>
    <td class="lineNumber">1096</td>
    <td class="codeline">      CurrentBB = BI->getSuccessor(0);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1097</td>
    <td class="codeline">      continue;</td>
    <td class="lineNumber">1097</td>
    <td class="codeline">      continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1098</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">1098</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1099</td>
    <td class="codeline"></td>
    <td class="lineNumber">1099</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1100</td>
    <td class="codeline">    auto *BI = dyn_cast<BranchInst>(CurrentTerm);</td>
    <td class="lineNumber">1100</td>
    <td class="codeline">    auto *BI = dyn_cast<BranchInst>(CurrentTerm);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1101</td>
    <td class="codeline">    if (!BI)</td>
    <td class="lineNumber">1101</td>
    <td class="codeline">    if (!BI)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1102</td>
    <td class="codeline">      // We do not understand other terminator instructions.</td>
    <td class="lineNumber">1102</td>
    <td class="codeline">      // We do not understand other terminator instructions.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1103</td>
    <td class="codeline">      return Changed;</td>
    <td class="lineNumber">1103</td>
    <td class="codeline">      return Changed;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1104</td>
    <td class="codeline"></td>
    <td class="lineNumber">1104</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1105</td>
    <td class="codeline">    // Don't bother trying to unswitch past an unconditional branch or a branch</td>
    <td class="lineNumber">1105</td>
    <td class="codeline">    // Don't bother trying to unswitch past an unconditional branch or a branch</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1106</td>
    <td class="codeline">    // with a constant value. These should be removed by simplifycfg prior to</td>
    <td class="lineNumber">1106</td>
    <td class="codeline">    // with a constant value. These should be removed by simplifycfg prior to</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1107</td>
    <td class="codeline">    // running this pass.</td>
    <td class="lineNumber">1107</td>
    <td class="codeline">    // running this pass.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1108</td>
    <td class="codeline">    if (!BI->isConditional() ||</td>
    <td class="lineNumber">1108</td>
    <td class="codeline">    if (!BI->isConditional() ||</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1109</td>
    <td class="codeline">        isa<Constant>(skipTrivialSelect(BI->getCondition())))</td>
    <td class="lineNumber">1109</td>
    <td class="codeline">        isa<Constant>(skipTrivialSelect(BI->getCondition())))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1110</td>
    <td class="codeline">      return Changed;</td>
    <td class="lineNumber">1110</td>
    <td class="codeline">      return Changed;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1111</td>
    <td class="codeline"></td>
    <td class="lineNumber">1111</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1112</td>
    <td class="codeline">    // Found a trivial condition candidate: non-foldable conditional branch. If</td>
    <td class="lineNumber">1112</td>
    <td class="codeline">    // Found a trivial condition candidate: non-foldable conditional branch. If</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1113</td>
    <td class="codeline">    // we fail to unswitch this, we can't do anything else that is trivial.</td>
    <td class="lineNumber">1113</td>
    <td class="codeline">    // we fail to unswitch this, we can't do anything else that is trivial.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1114</td>
    <td class="codeline">    if (!unswitchTrivialBranch(L, *BI, DT, LI, SE, MSSAU))</td>
    <td class="lineNumber">1114</td>
    <td class="codeline">    if (!unswitchTrivialBranch(L, *BI, DT, LI, SE, MSSAU))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1115</td>
    <td class="codeline">      return Changed;</td>
    <td class="lineNumber">1115</td>
    <td class="codeline">      return Changed;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1116</td>
    <td class="codeline"></td>
    <td class="lineNumber">1116</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1117</td>
    <td class="codeline">    // Mark that we managed to unswitch something.</td>
    <td class="lineNumber">1117</td>
    <td class="codeline">    // Mark that we managed to unswitch something.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1118</td>
    <td class="codeline">    Changed = true;</td>
    <td class="lineNumber">1118</td>
    <td class="codeline">    Changed = true;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1119</td>
    <td class="codeline"></td>
    <td class="lineNumber">1119</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1120</td>
    <td class="codeline">    // If we only unswitched some of the conditions feeding the branch, we won't</td>
    <td class="lineNumber">1120</td>
    <td class="codeline">    // If we only unswitched some of the conditions feeding the branch, we won't</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1121</td>
    <td class="codeline">    // have collapsed it to a single successor.</td>
    <td class="lineNumber">1121</td>
    <td class="codeline">    // have collapsed it to a single successor.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1122</td>
    <td class="codeline">    BI = cast<BranchInst>(CurrentBB->getTerminator());</td>
    <td class="lineNumber">1122</td>
    <td class="codeline">    BI = cast<BranchInst>(CurrentBB->getTerminator());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1123</td>
    <td class="codeline">    if (BI->isConditional())</td>
    <td class="lineNumber">1123</td>
    <td class="codeline">    if (BI->isConditional())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1124</td>
    <td class="codeline">      return Changed;</td>
    <td class="lineNumber">1124</td>
    <td class="codeline">      return Changed;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1125</td>
    <td class="codeline"></td>
    <td class="lineNumber">1125</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1126</td>
    <td class="codeline">    // Follow the newly unconditional branch into its successor.</td>
    <td class="lineNumber">1126</td>
    <td class="codeline">    // Follow the newly unconditional branch into its successor.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1127</td>
    <td class="codeline">    CurrentBB = BI->getSuccessor(0);</td>
    <td class="lineNumber">1127</td>
    <td class="codeline">    CurrentBB = BI->getSuccessor(0);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1128</td>
    <td class="codeline"></td>
    <td class="lineNumber">1128</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1129</td>
    <td class="codeline">    // When continuing, if we exit the loop or reach a previous visited block,</td>
    <td class="lineNumber">1129</td>
    <td class="codeline">    // When continuing, if we exit the loop or reach a previous visited block,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1130</td>
    <td class="codeline">    // then we can not reach any trivial condition candidates (unfoldable</td>
    <td class="lineNumber">1130</td>
    <td class="codeline">    // then we can not reach any trivial condition candidates (unfoldable</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1131</td>
    <td class="codeline">    // branch instructions or switch instructions) and no unswitch can happen.</td>
    <td class="lineNumber">1131</td>
    <td class="codeline">    // branch instructions or switch instructions) and no unswitch can happen.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1132</td>
    <td class="codeline">  } while (L.contains(CurrentBB) && Visited.insert(CurrentBB).second);</td>
    <td class="lineNumber">1132</td>
    <td class="codeline">  } while (L.contains(CurrentBB) && Visited.insert(CurrentBB).second);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1133</td>
    <td class="codeline"></td>
    <td class="lineNumber">1133</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1134</td>
    <td class="codeline">  return Changed;</td>
    <td class="lineNumber">1134</td>
    <td class="codeline">  return Changed;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1135</td>
    <td class="codeline">}</td>
    <td class="lineNumber">1135</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1136</td>
    <td class="codeline"></td>
    <td class="lineNumber">1136</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1137</td>
    <td class="codeline">/// Build the cloned blocks for an unswitched copy of the given loop.</td>
    <td class="lineNumber">1137</td>
    <td class="codeline">/// Build the cloned blocks for an unswitched copy of the given loop.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1138</td>
    <td class="codeline">///</td>
    <td class="lineNumber">1138</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1139</td>
    <td class="codeline">/// The cloned blocks are inserted before the loop preheader (`LoopPH`) and</td>
    <td class="lineNumber">1139</td>
    <td class="codeline">/// The cloned blocks are inserted before the loop preheader (`LoopPH`) and</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1140</td>
    <td class="codeline">/// after the split block (`SplitBB`) that will be used to select between the</td>
    <td class="lineNumber">1140</td>
    <td class="codeline">/// after the split block (`SplitBB`) that will be used to select between the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1141</td>
    <td class="codeline">/// cloned and original loop.</td>
    <td class="lineNumber">1141</td>
    <td class="codeline">/// cloned and original loop.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1142</td>
    <td class="codeline">///</td>
    <td class="lineNumber">1142</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1143</td>
    <td class="codeline">/// This routine handles cloning all of the necessary loop blocks and exit</td>
    <td class="lineNumber">1143</td>
    <td class="codeline">/// This routine handles cloning all of the necessary loop blocks and exit</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1144</td>
    <td class="codeline">/// blocks including rewriting their instructions and the relevant PHI nodes.</td>
    <td class="lineNumber">1144</td>
    <td class="codeline">/// blocks including rewriting their instructions and the relevant PHI nodes.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1145</td>
    <td class="codeline">/// Any loop blocks or exit blocks which are dominated by a different successor</td>
    <td class="lineNumber">1145</td>
    <td class="codeline">/// Any loop blocks or exit blocks which are dominated by a different successor</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1146</td>
    <td class="codeline">/// than the one for this clone of the loop blocks can be trivially skipped. We</td>
    <td class="lineNumber">1146</td>
    <td class="codeline">/// than the one for this clone of the loop blocks can be trivially skipped. We</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1147</td>
    <td class="codeline">/// use the `DominatingSucc` map to determine whether a block satisfies that</td>
    <td class="lineNumber">1147</td>
    <td class="codeline">/// use the `DominatingSucc` map to determine whether a block satisfies that</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1148</td>
    <td class="codeline">/// property with a simple map lookup.</td>
    <td class="lineNumber">1148</td>
    <td class="codeline">/// property with a simple map lookup.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1149</td>
    <td class="codeline">///</td>
    <td class="lineNumber">1149</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1150</td>
    <td class="codeline">/// It also correctly creates the unconditional branch in the cloned</td>
    <td class="lineNumber">1150</td>
    <td class="codeline">/// It also correctly creates the unconditional branch in the cloned</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1151</td>
    <td class="codeline">/// unswitched parent block to only point at the unswitched successor.</td>
    <td class="lineNumber">1151</td>
    <td class="codeline">/// unswitched parent block to only point at the unswitched successor.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1152</td>
    <td class="codeline">///</td>
    <td class="lineNumber">1152</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1153</td>
    <td class="codeline">/// This does not handle most of the necessary updates to `LoopInfo`. Only exit</td>
    <td class="lineNumber">1153</td>
    <td class="codeline">/// This does not handle most of the necessary updates to `LoopInfo`. Only exit</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1154</td>
    <td class="codeline">/// block splitting is correctly reflected in `LoopInfo`, essentially all of</td>
    <td class="lineNumber">1154</td>
    <td class="codeline">/// block splitting is correctly reflected in `LoopInfo`, essentially all of</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1155</td>
    <td class="codeline">/// the cloned blocks (and their loops) are left without full `LoopInfo`</td>
    <td class="lineNumber">1155</td>
    <td class="codeline">/// the cloned blocks (and their loops) are left without full `LoopInfo`</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1156</td>
    <td class="codeline">/// updates. This also doesn't fully update `DominatorTree`. It adds the cloned</td>
    <td class="lineNumber">1156</td>
    <td class="codeline">/// updates. This also doesn't fully update `DominatorTree`. It adds the cloned</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1157</td>
    <td class="codeline">/// blocks to them but doesn't create the cloned `DominatorTree` structure and</td>
    <td class="lineNumber">1157</td>
    <td class="codeline">/// blocks to them but doesn't create the cloned `DominatorTree` structure and</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1158</td>
    <td class="codeline">/// instead the caller must recompute an accurate DT. It *does* correctly</td>
    <td class="lineNumber">1158</td>
    <td class="codeline">/// instead the caller must recompute an accurate DT. It *does* correctly</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1159</td>
    <td class="codeline">/// update the `AssumptionCache` provided in `AC`.</td>
    <td class="lineNumber">1159</td>
    <td class="codeline">/// update the `AssumptionCache` provided in `AC`.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1160</td>
    <td class="codeline">static BasicBlock *buildClonedLoopBlocks(</td>
    <td class="lineNumber">1160</td>
    <td class="codeline">static BasicBlock *buildClonedLoopBlocks(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1161</td>
    <td class="codeline">    Loop &L, BasicBlock *LoopPH, BasicBlock *SplitBB,</td>
    <td class="lineNumber">1161</td>
    <td class="codeline">    Loop &L, BasicBlock *LoopPH, BasicBlock *SplitBB,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1162</td>
    <td class="codeline">    ArrayRef<BasicBlock *> ExitBlocks, BasicBlock *ParentBB,</td>
    <td class="lineNumber">1162</td>
    <td class="codeline">    ArrayRef<BasicBlock *> ExitBlocks, BasicBlock *ParentBB,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1163</td>
    <td class="codeline">    BasicBlock *UnswitchedSuccBB, BasicBlock *ContinueSuccBB,</td>
    <td class="lineNumber">1163</td>
    <td class="codeline">    BasicBlock *UnswitchedSuccBB, BasicBlock *ContinueSuccBB,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1164</td>
    <td class="codeline">    const SmallDenseMap<BasicBlock *, BasicBlock *, 16> &DominatingSucc,</td>
    <td class="lineNumber">1164</td>
    <td class="codeline">    const SmallDenseMap<BasicBlock *, BasicBlock *, 16> &DominatingSucc,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1165</td>
    <td class="codeline">    ValueToValueMapTy &VMap,</td>
    <td class="lineNumber">1165</td>
    <td class="codeline">    ValueToValueMapTy &VMap,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1166</td>
    <td class="codeline">    SmallVectorImpl<DominatorTree::UpdateType> &DTUpdates, AssumptionCache &AC,</td>
    <td class="lineNumber">1166</td>
    <td class="codeline">    SmallVectorImpl<DominatorTree::UpdateType> &DTUpdates, AssumptionCache &AC,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1167</td>
    <td class="codeline">    DominatorTree &DT, LoopInfo &LI, MemorySSAUpdater *MSSAU,</td>
    <td class="lineNumber">1167</td>
    <td class="codeline">    DominatorTree &DT, LoopInfo &LI, MemorySSAUpdater *MSSAU,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1168</td>
    <td class="codeline">    ScalarEvolution *SE) {</td>
    <td class="lineNumber">1168</td>
    <td class="codeline">    ScalarEvolution *SE) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1169</td>
    <td class="codeline">  SmallVector<BasicBlock *, 4> NewBlocks;</td>
    <td class="lineNumber">1169</td>
    <td class="codeline">  SmallVector<BasicBlock *, 4> NewBlocks;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1170</td>
    <td class="codeline">  NewBlocks.reserve(L.getNumBlocks() + ExitBlocks.size());</td>
    <td class="lineNumber">1170</td>
    <td class="codeline">  NewBlocks.reserve(L.getNumBlocks() + ExitBlocks.size());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1171</td>
    <td class="codeline"></td>
    <td class="lineNumber">1171</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1172</td>
    <td class="codeline">  // We will need to clone a bunch of blocks, wrap up the clone operation in</td>
    <td class="lineNumber">1172</td>
    <td class="codeline">  // We will need to clone a bunch of blocks, wrap up the clone operation in</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1173</td>
    <td class="codeline">  // a helper.</td>
    <td class="lineNumber">1173</td>
    <td class="codeline">  // a helper.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1174</td>
    <td class="codeline">  auto CloneBlock = [&](BasicBlock *OldBB) {</td>
    <td class="lineNumber">1174</td>
    <td class="codeline">  auto CloneBlock = [&](BasicBlock *OldBB) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1175</td>
    <td class="codeline">    // Clone the basic block and insert it before the new preheader.</td>
    <td class="lineNumber">1175</td>
    <td class="codeline">    // Clone the basic block and insert it before the new preheader.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1176</td>
    <td class="codeline">    BasicBlock *NewBB = CloneBasicBlock(OldBB, VMap, ".us", OldBB->getParent());</td>
    <td class="lineNumber">1176</td>
    <td class="codeline">    BasicBlock *NewBB = CloneBasicBlock(OldBB, VMap, ".us", OldBB->getParent());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1177</td>
    <td class="codeline">    NewBB->moveBefore(LoopPH);</td>
    <td class="lineNumber">1177</td>
    <td class="codeline">    NewBB->moveBefore(LoopPH);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1178</td>
    <td class="codeline"></td>
    <td class="lineNumber">1178</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1179</td>
    <td class="codeline">    // Record this block and the mapping.</td>
    <td class="lineNumber">1179</td>
    <td class="codeline">    // Record this block and the mapping.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1180</td>
    <td class="codeline">    NewBlocks.push_back(NewBB);</td>
    <td class="lineNumber">1180</td>
    <td class="codeline">    NewBlocks.push_back(NewBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1181</td>
    <td class="codeline">    VMap[OldBB] = NewBB;</td>
    <td class="lineNumber">1181</td>
    <td class="codeline">    VMap[OldBB] = NewBB;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1182</td>
    <td class="codeline"></td>
    <td class="lineNumber">1182</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1183</td>
    <td class="codeline">    return NewBB;</td>
    <td class="lineNumber">1183</td>
    <td class="codeline">    return NewBB;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1184</td>
    <td class="codeline">  };</td>
    <td class="lineNumber">1184</td>
    <td class="codeline">  };</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1185</td>
    <td class="codeline"></td>
    <td class="lineNumber">1185</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1186</td>
    <td class="codeline">  // We skip cloning blocks when they have a dominating succ that is not the</td>
    <td class="lineNumber">1186</td>
    <td class="codeline">  // We skip cloning blocks when they have a dominating succ that is not the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1187</td>
    <td class="codeline">  // succ we are cloning for.</td>
    <td class="lineNumber">1187</td>
    <td class="codeline">  // succ we are cloning for.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1188</td>
    <td class="codeline">  auto SkipBlock = [&](BasicBlock *BB) {</td>
    <td class="lineNumber">1188</td>
    <td class="codeline">  auto SkipBlock = [&](BasicBlock *BB) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1189</td>
    <td class="codeline">    auto It = DominatingSucc.find(BB);</td>
    <td class="lineNumber">1189</td>
    <td class="codeline">    auto It = DominatingSucc.find(BB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1190</td>
    <td class="codeline">    return It != DominatingSucc.end() && It->second != UnswitchedSuccBB;</td>
    <td class="lineNumber">1190</td>
    <td class="codeline">    return It != DominatingSucc.end() && It->second != UnswitchedSuccBB;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1191</td>
    <td class="codeline">  };</td>
    <td class="lineNumber">1191</td>
    <td class="codeline">  };</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1192</td>
    <td class="codeline"></td>
    <td class="lineNumber">1192</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1193</td>
    <td class="codeline">  // First, clone the preheader.</td>
    <td class="lineNumber">1193</td>
    <td class="codeline">  // First, clone the preheader.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1194</td>
    <td class="codeline">  auto *ClonedPH = CloneBlock(LoopPH);</td>
    <td class="lineNumber">1194</td>
    <td class="codeline">  auto *ClonedPH = CloneBlock(LoopPH);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1195</td>
    <td class="codeline"></td>
    <td class="lineNumber">1195</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1196</td>
    <td class="codeline">  // Then clone all the loop blocks, skipping the ones that aren't necessary.</td>
    <td class="lineNumber">1196</td>
    <td class="codeline">  // Then clone all the loop blocks, skipping the ones that aren't necessary.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1197</td>
    <td class="codeline">  for (auto *LoopBB : L.blocks())</td>
    <td class="lineNumber">1197</td>
    <td class="codeline">  for (auto *LoopBB : L.blocks())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1198</td>
    <td class="codeline">    if (!SkipBlock(LoopBB))</td>
    <td class="lineNumber">1198</td>
    <td class="codeline">    if (!SkipBlock(LoopBB))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1199</td>
    <td class="codeline">      CloneBlock(LoopBB);</td>
    <td class="lineNumber">1199</td>
    <td class="codeline">      CloneBlock(LoopBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1200</td>
    <td class="codeline"></td>
    <td class="lineNumber">1200</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1201</td>
    <td class="codeline">  // Split all the loop exit edges so that when we clone the exit blocks, if</td>
    <td class="lineNumber">1201</td>
    <td class="codeline">  // Split all the loop exit edges so that when we clone the exit blocks, if</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1202</td>
    <td class="codeline">  // any of the exit blocks are *also* a preheader for some other loop, we</td>
    <td class="lineNumber">1202</td>
    <td class="codeline">  // any of the exit blocks are *also* a preheader for some other loop, we</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1203</td>
    <td class="codeline">  // don't create multiple predecessors entering the loop header.</td>
    <td class="lineNumber">1203</td>
    <td class="codeline">  // don't create multiple predecessors entering the loop header.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1204</td>
    <td class="codeline">  for (auto *ExitBB : ExitBlocks) {</td>
    <td class="lineNumber">1204</td>
    <td class="codeline">  for (auto *ExitBB : ExitBlocks) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1205</td>
    <td class="codeline">    if (SkipBlock(ExitBB))</td>
    <td class="lineNumber">1205</td>
    <td class="codeline">    if (SkipBlock(ExitBB))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1206</td>
    <td class="codeline">      continue;</td>
    <td class="lineNumber">1206</td>
    <td class="codeline">      continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1207</td>
    <td class="codeline"></td>
    <td class="lineNumber">1207</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1208</td>
    <td class="codeline">    // When we are going to clone an exit, we don't need to clone all the</td>
    <td class="lineNumber">1208</td>
    <td class="codeline">    // When we are going to clone an exit, we don't need to clone all the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1209</td>
    <td class="codeline">    // instructions in the exit block and we want to ensure we have an easy</td>
    <td class="lineNumber">1209</td>
    <td class="codeline">    // instructions in the exit block and we want to ensure we have an easy</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1210</td>
    <td class="codeline">    // place to merge the CFG, so split the exit first. This is always safe to</td>
    <td class="lineNumber">1210</td>
    <td class="codeline">    // place to merge the CFG, so split the exit first. This is always safe to</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1211</td>
    <td class="codeline">    // do because there cannot be any non-loop predecessors of a loop exit in</td>
    <td class="lineNumber">1211</td>
    <td class="codeline">    // do because there cannot be any non-loop predecessors of a loop exit in</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1212</td>
    <td class="codeline">    // loop simplified form.</td>
    <td class="lineNumber">1212</td>
    <td class="codeline">    // loop simplified form.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1213</td>
    <td class="codeline">    auto *MergeBB = SplitBlock(ExitBB, &ExitBB->front(), &DT, &LI, MSSAU);</td>
    <td class="lineNumber">1213</td>
    <td class="codeline">    auto *MergeBB = SplitBlock(ExitBB, &ExitBB->front(), &DT, &LI, MSSAU);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1214</td>
    <td class="codeline"></td>
    <td class="lineNumber">1214</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1215</td>
    <td class="codeline">    // Rearrange the names to make it easier to write test cases by having the</td>
    <td class="lineNumber">1215</td>
    <td class="codeline">    // Rearrange the names to make it easier to write test cases by having the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1216</td>
    <td class="codeline">    // exit block carry the suffix rather than the merge block carrying the</td>
    <td class="lineNumber">1216</td>
    <td class="codeline">    // exit block carry the suffix rather than the merge block carrying the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1217</td>
    <td class="codeline">    // suffix.</td>
    <td class="lineNumber">1217</td>
    <td class="codeline">    // suffix.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1218</td>
    <td class="codeline">    MergeBB->takeName(ExitBB);</td>
    <td class="lineNumber">1218</td>
    <td class="codeline">    MergeBB->takeName(ExitBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1219</td>
    <td class="codeline">    ExitBB->setName(Twine(MergeBB->getName()) + ".split");</td>
    <td class="lineNumber">1219</td>
    <td class="codeline">    ExitBB->setName(Twine(MergeBB->getName()) + ".split");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1220</td>
    <td class="codeline"></td>
    <td class="lineNumber">1220</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1221</td>
    <td class="codeline">    // Now clone the original exit block.</td>
    <td class="lineNumber">1221</td>
    <td class="codeline">    // Now clone the original exit block.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1222</td>
    <td class="codeline">    auto *ClonedExitBB = CloneBlock(ExitBB);</td>
    <td class="lineNumber">1222</td>
    <td class="codeline">    auto *ClonedExitBB = CloneBlock(ExitBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1223</td>
    <td class="codeline">    assert(ClonedExitBB->getTerminator()->getNumSuccessors() == 1 &&</td>
    <td class="lineNumber">1223</td>
    <td class="codeline">    assert(ClonedExitBB->getTerminator()->getNumSuccessors() == 1 &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1224</td>
    <td class="codeline">           "Exit block should have been split to have one successor!");</td>
    <td class="lineNumber">1224</td>
    <td class="codeline">           "Exit block should have been split to have one successor!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1225</td>
    <td class="codeline">    assert(ClonedExitBB->getTerminator()->getSuccessor(0) == MergeBB &&</td>
    <td class="lineNumber">1225</td>
    <td class="codeline">    assert(ClonedExitBB->getTerminator()->getSuccessor(0) == MergeBB &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1226</td>
    <td class="codeline">           "Cloned exit block has the wrong successor!");</td>
    <td class="lineNumber">1226</td>
    <td class="codeline">           "Cloned exit block has the wrong successor!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1227</td>
    <td class="codeline"></td>
    <td class="lineNumber">1227</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1228</td>
    <td class="codeline">    // Remap any cloned instructions and create a merge phi node for them.</td>
    <td class="lineNumber">1228</td>
    <td class="codeline">    // Remap any cloned instructions and create a merge phi node for them.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1229</td>
    <td class="codeline">    for (auto ZippedInsts : llvm::zip_first(</td>
    <td class="lineNumber">1229</td>
    <td class="codeline">    for (auto ZippedInsts : llvm::zip_first(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1230</td>
    <td class="codeline">             llvm::make_range(ExitBB->begin(), std::prev(ExitBB->end())),</td>
    <td class="lineNumber">1230</td>
    <td class="codeline">             llvm::make_range(ExitBB->begin(), std::prev(ExitBB->end())),</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1231</td>
    <td class="codeline">             llvm::make_range(ClonedExitBB->begin(),</td>
    <td class="lineNumber">1231</td>
    <td class="codeline">             llvm::make_range(ClonedExitBB->begin(),</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1232</td>
    <td class="codeline">                              std::prev(ClonedExitBB->end())))) {</td>
    <td class="lineNumber">1232</td>
    <td class="codeline">                              std::prev(ClonedExitBB->end())))) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1233</td>
    <td class="codeline">      Instruction &I = std::get<0>(ZippedInsts);</td>
    <td class="lineNumber">1233</td>
    <td class="codeline">      Instruction &I = std::get<0>(ZippedInsts);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1234</td>
    <td class="codeline">      Instruction &ClonedI = std::get<1>(ZippedInsts);</td>
    <td class="lineNumber">1234</td>
    <td class="codeline">      Instruction &ClonedI = std::get<1>(ZippedInsts);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1235</td>
    <td class="codeline"></td>
    <td class="lineNumber">1235</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1236</td>
    <td class="codeline">      // The only instructions in the exit block should be PHI nodes and</td>
    <td class="lineNumber">1236</td>
    <td class="codeline">      // The only instructions in the exit block should be PHI nodes and</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1237</td>
    <td class="codeline">      // potentially a landing pad.</td>
    <td class="lineNumber">1237</td>
    <td class="codeline">      // potentially a landing pad.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1238</td>
    <td class="codeline">      assert(</td>
    <td class="lineNumber">1238</td>
    <td class="codeline">      assert(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1239</td>
    <td class="codeline">          (isa<PHINode>(I) || isa<LandingPadInst>(I) || isa<CatchPadInst>(I)) &&</td>
    <td class="lineNumber">1239</td>
    <td class="codeline">          (isa<PHINode>(I) || isa<LandingPadInst>(I) || isa<CatchPadInst>(I)) &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1240</td>
    <td class="codeline">          "Bad instruction in exit block!");</td>
    <td class="lineNumber">1240</td>
    <td class="codeline">          "Bad instruction in exit block!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1241</td>
    <td class="codeline">      // We should have a value map between the instruction and its clone.</td>
    <td class="lineNumber">1241</td>
    <td class="codeline">      // We should have a value map between the instruction and its clone.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1242</td>
    <td class="codeline">      assert(VMap.lookup(&I) == &ClonedI && "Mismatch in the value map!");</td>
    <td class="lineNumber">1242</td>
    <td class="codeline">      assert(VMap.lookup(&I) == &ClonedI && "Mismatch in the value map!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1243</td>
    <td class="codeline"></td>
    <td class="lineNumber">1243</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1244</td>
    <td class="codeline">      // Forget SCEVs based on exit phis in case SCEV looked through the phi.</td>
    <td class="lineNumber">1244</td>
    <td class="codeline">      // Forget SCEVs based on exit phis in case SCEV looked through the phi.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1245</td>
    <td class="codeline">      if (SE && isa<PHINode>(I))</td>
    <td class="lineNumber">1245</td>
    <td class="codeline">      if (SE && isa<PHINode>(I))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1246</td>
    <td class="codeline">        SE->forgetValue(&I);</td>
    <td class="lineNumber">1246</td>
    <td class="codeline">        SE->forgetValue(&I);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1247</td>
    <td class="codeline"></td>
    <td class="lineNumber">1247</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1248</td>
    <td class="codeline">      auto *MergePN =</td>
    <td class="lineNumber">1248</td>
    <td class="codeline">      auto *MergePN =</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1249</td>
    <td class="codeline">          PHINode::Create(I.getType(), /*NumReservedValues*/ 2, ".us-phi",</td>
    <td class="lineNumber">1249</td>
    <td class="codeline">          PHINode::Create(I.getType(), /*NumReservedValues*/ 2, ".us-phi",</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1250</td>
    <td class="codeline">                          &*MergeBB->getFirstInsertionPt());</td>
    <td class="lineNumber">1250</td>
    <td class="codeline">                          &*MergeBB->getFirstInsertionPt());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1251</td>
    <td class="codeline">      I.replaceAllUsesWith(MergePN);</td>
    <td class="lineNumber">1251</td>
    <td class="codeline">      I.replaceAllUsesWith(MergePN);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1252</td>
    <td class="codeline">      MergePN->addIncoming(&I, ExitBB);</td>
    <td class="lineNumber">1252</td>
    <td class="codeline">      MergePN->addIncoming(&I, ExitBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1253</td>
    <td class="codeline">      MergePN->addIncoming(&ClonedI, ClonedExitBB);</td>
    <td class="lineNumber">1253</td>
    <td class="codeline">      MergePN->addIncoming(&ClonedI, ClonedExitBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1254</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">1254</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1255</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">1255</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1256</td>
    <td class="codeline"></td>
    <td class="lineNumber">1256</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1257</td>
    <td class="codeline">  // Rewrite the instructions in the cloned blocks to refer to the instructions</td>
    <td class="lineNumber">1257</td>
    <td class="codeline">  // Rewrite the instructions in the cloned blocks to refer to the instructions</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1258</td>
    <td class="codeline">  // in the cloned blocks. We have to do this as a second pass so that we have</td>
    <td class="lineNumber">1258</td>
    <td class="codeline">  // in the cloned blocks. We have to do this as a second pass so that we have</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1259</td>
    <td class="codeline">  // everything available. Also, we have inserted new instructions which may</td>
    <td class="lineNumber">1259</td>
    <td class="codeline">  // everything available. Also, we have inserted new instructions which may</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1260</td>
    <td class="codeline">  // include assume intrinsics, so we update the assumption cache while</td>
    <td class="lineNumber">1260</td>
    <td class="codeline">  // include assume intrinsics, so we update the assumption cache while</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1261</td>
    <td class="codeline">  // processing this.</td>
    <td class="lineNumber">1261</td>
    <td class="codeline">  // processing this.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1262</td>
    <td class="codeline">  for (auto *ClonedBB : NewBlocks)</td>
    <td class="lineNumber">1262</td>
    <td class="codeline">  for (auto *ClonedBB : NewBlocks)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1263</td>
    <td class="codeline">    for (Instruction &I : *ClonedBB) {</td>
    <td class="lineNumber">1263</td>
    <td class="codeline">    for (Instruction &I : *ClonedBB) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1264</td>
    <td class="codeline">      RemapInstruction(&I, VMap,</td>
    <td class="lineNumber">1264</td>
    <td class="codeline">      RemapInstruction(&I, VMap,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1265</td>
    <td class="codeline">                       RF_NoModuleLevelChanges | RF_IgnoreMissingLocals);</td>
    <td class="lineNumber">1265</td>
    <td class="codeline">                       RF_NoModuleLevelChanges | RF_IgnoreMissingLocals);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1266</td>
    <td class="codeline">      if (auto *II = dyn_cast<AssumeInst>(&I))</td>
    <td class="lineNumber">1266</td>
    <td class="codeline">      if (auto *II = dyn_cast<AssumeInst>(&I))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1267</td>
    <td class="codeline">        AC.registerAssumption(II);</td>
    <td class="lineNumber">1267</td>
    <td class="codeline">        AC.registerAssumption(II);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1268</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">1268</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1269</td>
    <td class="codeline"></td>
    <td class="lineNumber">1269</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1270</td>
    <td class="codeline">  // Update any PHI nodes in the cloned successors of the skipped blocks to not</td>
    <td class="lineNumber">1270</td>
    <td class="codeline">  // Update any PHI nodes in the cloned successors of the skipped blocks to not</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1271</td>
    <td class="codeline">  // have spurious incoming values.</td>
    <td class="lineNumber">1271</td>
    <td class="codeline">  // have spurious incoming values.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1272</td>
    <td class="codeline">  for (auto *LoopBB : L.blocks())</td>
    <td class="lineNumber">1272</td>
    <td class="codeline">  for (auto *LoopBB : L.blocks())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1273</td>
    <td class="codeline">    if (SkipBlock(LoopBB))</td>
    <td class="lineNumber">1273</td>
    <td class="codeline">    if (SkipBlock(LoopBB))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1274</td>
    <td class="codeline">      for (auto *SuccBB : successors(LoopBB))</td>
    <td class="lineNumber">1274</td>
    <td class="codeline">      for (auto *SuccBB : successors(LoopBB))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1275</td>
    <td class="codeline">        if (auto *ClonedSuccBB = cast_or_null<BasicBlock>(VMap.lookup(SuccBB)))</td>
    <td class="lineNumber">1275</td>
    <td class="codeline">        if (auto *ClonedSuccBB = cast_or_null<BasicBlock>(VMap.lookup(SuccBB)))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1276</td>
    <td class="codeline">          for (PHINode &PN : ClonedSuccBB->phis())</td>
    <td class="lineNumber">1276</td>
    <td class="codeline">          for (PHINode &PN : ClonedSuccBB->phis())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1277</td>
    <td class="codeline">            PN.removeIncomingValue(LoopBB, /*DeletePHIIfEmpty*/ false);</td>
    <td class="lineNumber">1277</td>
    <td class="codeline">            PN.removeIncomingValue(LoopBB, /*DeletePHIIfEmpty*/ false);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1278</td>
    <td class="codeline"></td>
    <td class="lineNumber">1278</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1279</td>
    <td class="codeline">  // Remove the cloned parent as a predecessor of any successor we ended up</td>
    <td class="lineNumber">1279</td>
    <td class="codeline">  // Remove the cloned parent as a predecessor of any successor we ended up</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1280</td>
    <td class="codeline">  // cloning other than the unswitched one.</td>
    <td class="lineNumber">1280</td>
    <td class="codeline">  // cloning other than the unswitched one.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1281</td>
    <td class="codeline">  auto *ClonedParentBB = cast<BasicBlock>(VMap.lookup(ParentBB));</td>
    <td class="lineNumber">1281</td>
    <td class="codeline">  auto *ClonedParentBB = cast<BasicBlock>(VMap.lookup(ParentBB));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1282</td>
    <td class="codeline">  for (auto *SuccBB : successors(ParentBB)) {</td>
    <td class="lineNumber">1282</td>
    <td class="codeline">  for (auto *SuccBB : successors(ParentBB)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1283</td>
    <td class="codeline">    if (SuccBB == UnswitchedSuccBB)</td>
    <td class="lineNumber">1283</td>
    <td class="codeline">    if (SuccBB == UnswitchedSuccBB)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1284</td>
    <td class="codeline">      continue;</td>
    <td class="lineNumber">1284</td>
    <td class="codeline">      continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1285</td>
    <td class="codeline"></td>
    <td class="lineNumber">1285</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1286</td>
    <td class="codeline">    auto *ClonedSuccBB = cast_or_null<BasicBlock>(VMap.lookup(SuccBB));</td>
    <td class="lineNumber">1286</td>
    <td class="codeline">    auto *ClonedSuccBB = cast_or_null<BasicBlock>(VMap.lookup(SuccBB));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1287</td>
    <td class="codeline">    if (!ClonedSuccBB)</td>
    <td class="lineNumber">1287</td>
    <td class="codeline">    if (!ClonedSuccBB)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1288</td>
    <td class="codeline">      continue;</td>
    <td class="lineNumber">1288</td>
    <td class="codeline">      continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1289</td>
    <td class="codeline"></td>
    <td class="lineNumber">1289</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1290</td>
    <td class="codeline">    ClonedSuccBB->removePredecessor(ClonedParentBB,</td>
    <td class="lineNumber">1290</td>
    <td class="codeline">    ClonedSuccBB->removePredecessor(ClonedParentBB,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1291</td>
    <td class="codeline">                                    /*KeepOneInputPHIs*/ true);</td>
    <td class="lineNumber">1291</td>
    <td class="codeline">                                    /*KeepOneInputPHIs*/ true);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1292</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">1292</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1293</td>
    <td class="codeline"></td>
    <td class="lineNumber">1293</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1294</td>
    <td class="codeline">  // Replace the cloned branch with an unconditional branch to the cloned</td>
    <td class="lineNumber">1294</td>
    <td class="codeline">  // Replace the cloned branch with an unconditional branch to the cloned</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1295</td>
    <td class="codeline">  // unswitched successor.</td>
    <td class="lineNumber">1295</td>
    <td class="codeline">  // unswitched successor.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1296</td>
    <td class="codeline">  auto *ClonedSuccBB = cast<BasicBlock>(VMap.lookup(UnswitchedSuccBB));</td>
    <td class="lineNumber">1296</td>
    <td class="codeline">  auto *ClonedSuccBB = cast<BasicBlock>(VMap.lookup(UnswitchedSuccBB));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1297</td>
    <td class="codeline">  Instruction *ClonedTerminator = ClonedParentBB->getTerminator();</td>
    <td class="lineNumber">1297</td>
    <td class="codeline">  Instruction *ClonedTerminator = ClonedParentBB->getTerminator();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1298</td>
    <td class="codeline">  // Trivial Simplification. If Terminator is a conditional branch and</td>
    <td class="lineNumber">1298</td>
    <td class="codeline">  // Trivial Simplification. If Terminator is a conditional branch and</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1299</td>
    <td class="codeline">  // condition becomes dead - erase it.</td>
    <td class="lineNumber">1299</td>
    <td class="codeline">  // condition becomes dead - erase it.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1300</td>
    <td class="codeline">  Value *ClonedConditionToErase = nullptr;</td>
    <td class="lineNumber">1300</td>
    <td class="codeline">  Value *ClonedConditionToErase = nullptr;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1301</td>
    <td class="codeline">  if (auto *BI = dyn_cast<BranchInst>(ClonedTerminator))</td>
    <td class="lineNumber">1301</td>
    <td class="codeline">  if (auto *BI = dyn_cast<BranchInst>(ClonedTerminator))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1302</td>
    <td class="codeline">    ClonedConditionToErase = BI->getCondition();</td>
    <td class="lineNumber">1302</td>
    <td class="codeline">    ClonedConditionToErase = BI->getCondition();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1303</td>
    <td class="codeline">  else if (auto *SI = dyn_cast<SwitchInst>(ClonedTerminator))</td>
    <td class="lineNumber">1303</td>
    <td class="codeline">  else if (auto *SI = dyn_cast<SwitchInst>(ClonedTerminator))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1304</td>
    <td class="codeline">    ClonedConditionToErase = SI->getCondition();</td>
    <td class="lineNumber">1304</td>
    <td class="codeline">    ClonedConditionToErase = SI->getCondition();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1305</td>
    <td class="codeline"></td>
    <td class="lineNumber">1305</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1306</td>
    <td class="codeline">  ClonedTerminator->eraseFromParent();</td>
    <td class="lineNumber">1306</td>
    <td class="codeline">  ClonedTerminator->eraseFromParent();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1307</td>
    <td class="codeline">  BranchInst::Create(ClonedSuccBB, ClonedParentBB);</td>
    <td class="lineNumber">1307</td>
    <td class="codeline">  BranchInst::Create(ClonedSuccBB, ClonedParentBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1308</td>
    <td class="codeline"></td>
    <td class="lineNumber">1308</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1309</td>
    <td class="codeline">  if (ClonedConditionToErase)</td>
    <td class="lineNumber">1309</td>
    <td class="codeline">  if (ClonedConditionToErase)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1310</td>
    <td class="codeline">    RecursivelyDeleteTriviallyDeadInstructions(ClonedConditionToErase, nullptr,</td>
    <td class="lineNumber">1310</td>
    <td class="codeline">    RecursivelyDeleteTriviallyDeadInstructions(ClonedConditionToErase, nullptr,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1311</td>
    <td class="codeline">                                               MSSAU);</td>
    <td class="lineNumber">1311</td>
    <td class="codeline">                                               MSSAU);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1312</td>
    <td class="codeline"></td>
    <td class="lineNumber">1312</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1313</td>
    <td class="codeline">  // If there are duplicate entries in the PHI nodes because of multiple edges</td>
    <td class="lineNumber">1313</td>
    <td class="codeline">  // If there are duplicate entries in the PHI nodes because of multiple edges</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1314</td>
    <td class="codeline">  // to the unswitched successor, we need to nuke all but one as we replaced it</td>
    <td class="lineNumber">1314</td>
    <td class="codeline">  // to the unswitched successor, we need to nuke all but one as we replaced it</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1315</td>
    <td class="codeline">  // with a direct branch.</td>
    <td class="lineNumber">1315</td>
    <td class="codeline">  // with a direct branch.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1316</td>
    <td class="codeline">  for (PHINode &PN : ClonedSuccBB->phis()) {</td>
    <td class="lineNumber">1316</td>
    <td class="codeline">  for (PHINode &PN : ClonedSuccBB->phis()) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1317</td>
    <td class="codeline">    bool Found = false;</td>
    <td class="lineNumber">1317</td>
    <td class="codeline">    bool Found = false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1318</td>
    <td class="codeline">    // Loop over the incoming operands backwards so we can easily delete as we</td>
    <td class="lineNumber">1318</td>
    <td class="codeline">    // Loop over the incoming operands backwards so we can easily delete as we</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1319</td>
    <td class="codeline">    // go without invalidating the index.</td>
    <td class="lineNumber">1319</td>
    <td class="codeline">    // go without invalidating the index.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1320</td>
    <td class="codeline">    for (int i = PN.getNumOperands() - 1; i >= 0; --i) {</td>
    <td class="lineNumber">1320</td>
    <td class="codeline">    for (int i = PN.getNumOperands() - 1; i >= 0; --i) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1321</td>
    <td class="codeline">      if (PN.getIncomingBlock(i) != ClonedParentBB)</td>
    <td class="lineNumber">1321</td>
    <td class="codeline">      if (PN.getIncomingBlock(i) != ClonedParentBB)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1322</td>
    <td class="codeline">        continue;</td>
    <td class="lineNumber">1322</td>
    <td class="codeline">        continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1323</td>
    <td class="codeline">      if (!Found) {</td>
    <td class="lineNumber">1323</td>
    <td class="codeline">      if (!Found) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1324</td>
    <td class="codeline">        Found = true;</td>
    <td class="lineNumber">1324</td>
    <td class="codeline">        Found = true;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1325</td>
    <td class="codeline">        continue;</td>
    <td class="lineNumber">1325</td>
    <td class="codeline">        continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1326</td>
    <td class="codeline">      }</td>
    <td class="lineNumber">1326</td>
    <td class="codeline">      }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1327</td>
    <td class="codeline">      PN.removeIncomingValue(i, /*DeletePHIIfEmpty*/ false);</td>
    <td class="lineNumber">1327</td>
    <td class="codeline">      PN.removeIncomingValue(i, /*DeletePHIIfEmpty*/ false);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1328</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">1328</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1329</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">1329</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1330</td>
    <td class="codeline"></td>
    <td class="lineNumber">1330</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1331</td>
    <td class="codeline">  // Record the domtree updates for the new blocks.</td>
    <td class="lineNumber">1331</td>
    <td class="codeline">  // Record the domtree updates for the new blocks.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1332</td>
    <td class="codeline">  SmallPtrSet<BasicBlock *, 4> SuccSet;</td>
    <td class="lineNumber">1332</td>
    <td class="codeline">  SmallPtrSet<BasicBlock *, 4> SuccSet;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1333</td>
    <td class="codeline">  for (auto *ClonedBB : NewBlocks) {</td>
    <td class="lineNumber">1333</td>
    <td class="codeline">  for (auto *ClonedBB : NewBlocks) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1334</td>
    <td class="codeline">    for (auto *SuccBB : successors(ClonedBB))</td>
    <td class="lineNumber">1334</td>
    <td class="codeline">    for (auto *SuccBB : successors(ClonedBB))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1335</td>
    <td class="codeline">      if (SuccSet.insert(SuccBB).second)</td>
    <td class="lineNumber">1335</td>
    <td class="codeline">      if (SuccSet.insert(SuccBB).second)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1336</td>
    <td class="codeline">        DTUpdates.push_back({DominatorTree::Insert, ClonedBB, SuccBB});</td>
    <td class="lineNumber">1336</td>
    <td class="codeline">        DTUpdates.push_back({DominatorTree::Insert, ClonedBB, SuccBB});</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1337</td>
    <td class="codeline">    SuccSet.clear();</td>
    <td class="lineNumber">1337</td>
    <td class="codeline">    SuccSet.clear();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1338</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">1338</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1339</td>
    <td class="codeline"></td>
    <td class="lineNumber">1339</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1340</td>
    <td class="codeline">  return ClonedPH;</td>
    <td class="lineNumber">1340</td>
    <td class="codeline">  return ClonedPH;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1341</td>
    <td class="codeline">}</td>
    <td class="lineNumber">1341</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1342</td>
    <td class="codeline"></td>
    <td class="lineNumber">1342</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1343</td>
    <td class="codeline">/// Recursively clone the specified loop and all of its children.</td>
    <td class="lineNumber">1343</td>
    <td class="codeline">/// Recursively clone the specified loop and all of its children.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1344</td>
    <td class="codeline">///</td>
    <td class="lineNumber">1344</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1345</td>
    <td class="codeline">/// The target parent loop for the clone should be provided, or can be null if</td>
    <td class="lineNumber">1345</td>
    <td class="codeline">/// The target parent loop for the clone should be provided, or can be null if</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1346</td>
    <td class="codeline">/// the clone is a top-level loop. While cloning, all the blocks are mapped</td>
    <td class="lineNumber">1346</td>
    <td class="codeline">/// the clone is a top-level loop. While cloning, all the blocks are mapped</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1347</td>
    <td class="codeline">/// with the provided value map. The entire original loop must be present in</td>
    <td class="lineNumber">1347</td>
    <td class="codeline">/// with the provided value map. The entire original loop must be present in</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1348</td>
    <td class="codeline">/// the value map. The cloned loop is returned.</td>
    <td class="lineNumber">1348</td>
    <td class="codeline">/// the value map. The cloned loop is returned.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1349</td>
    <td class="codeline">static Loop *cloneLoopNest(Loop &OrigRootL, Loop *RootParentL,</td>
    <td class="lineNumber">1349</td>
    <td class="codeline">static Loop *cloneLoopNest(Loop &OrigRootL, Loop *RootParentL,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1350</td>
    <td class="codeline">                           const ValueToValueMapTy &VMap, LoopInfo &LI) {</td>
    <td class="lineNumber">1350</td>
    <td class="codeline">                           const ValueToValueMapTy &VMap, LoopInfo &LI) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1351</td>
    <td class="codeline">  auto AddClonedBlocksToLoop = [&](Loop &OrigL, Loop &ClonedL) {</td>
    <td class="lineNumber">1351</td>
    <td class="codeline">  auto AddClonedBlocksToLoop = [&](Loop &OrigL, Loop &ClonedL) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1352</td>
    <td class="codeline">    assert(ClonedL.getBlocks().empty() && "Must start with an empty loop!");</td>
    <td class="lineNumber">1352</td>
    <td class="codeline">    assert(ClonedL.getBlocks().empty() && "Must start with an empty loop!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1353</td>
    <td class="codeline">    ClonedL.reserveBlocks(OrigL.getNumBlocks());</td>
    <td class="lineNumber">1353</td>
    <td class="codeline">    ClonedL.reserveBlocks(OrigL.getNumBlocks());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1354</td>
    <td class="codeline">    for (auto *BB : OrigL.blocks()) {</td>
    <td class="lineNumber">1354</td>
    <td class="codeline">    for (auto *BB : OrigL.blocks()) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1355</td>
    <td class="codeline">      auto *ClonedBB = cast<BasicBlock>(VMap.lookup(BB));</td>
    <td class="lineNumber">1355</td>
    <td class="codeline">      auto *ClonedBB = cast<BasicBlock>(VMap.lookup(BB));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1356</td>
    <td class="codeline">      ClonedL.addBlockEntry(ClonedBB);</td>
    <td class="lineNumber">1356</td>
    <td class="codeline">      ClonedL.addBlockEntry(ClonedBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1357</td>
    <td class="codeline">      if (LI.getLoopFor(BB) == &OrigL)</td>
    <td class="lineNumber">1357</td>
    <td class="codeline">      if (LI.getLoopFor(BB) == &OrigL)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1358</td>
    <td class="codeline">        LI.changeLoopFor(ClonedBB, &ClonedL);</td>
    <td class="lineNumber">1358</td>
    <td class="codeline">        LI.changeLoopFor(ClonedBB, &ClonedL);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1359</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">1359</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1360</td>
    <td class="codeline">  };</td>
    <td class="lineNumber">1360</td>
    <td class="codeline">  };</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1361</td>
    <td class="codeline"></td>
    <td class="lineNumber">1361</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1362</td>
    <td class="codeline">  // We specially handle the first loop because it may get cloned into</td>
    <td class="lineNumber">1362</td>
    <td class="codeline">  // We specially handle the first loop because it may get cloned into</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1363</td>
    <td class="codeline">  // a different parent and because we most commonly are cloning leaf loops.</td>
    <td class="lineNumber">1363</td>
    <td class="codeline">  // a different parent and because we most commonly are cloning leaf loops.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1364</td>
    <td class="codeline">  Loop *ClonedRootL = LI.AllocateLoop();</td>
    <td class="lineNumber">1364</td>
    <td class="codeline">  Loop *ClonedRootL = LI.AllocateLoop();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1365</td>
    <td class="codeline">  if (RootParentL)</td>
    <td class="lineNumber">1365</td>
    <td class="codeline">  if (RootParentL)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1366</td>
    <td class="codeline">    RootParentL->addChildLoop(ClonedRootL);</td>
    <td class="lineNumber">1366</td>
    <td class="codeline">    RootParentL->addChildLoop(ClonedRootL);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1367</td>
    <td class="codeline">  else</td>
    <td class="lineNumber">1367</td>
    <td class="codeline">  else</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1368</td>
    <td class="codeline">    LI.addTopLevelLoop(ClonedRootL);</td>
    <td class="lineNumber">1368</td>
    <td class="codeline">    LI.addTopLevelLoop(ClonedRootL);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1369</td>
    <td class="codeline">  AddClonedBlocksToLoop(OrigRootL, *ClonedRootL);</td>
    <td class="lineNumber">1369</td>
    <td class="codeline">  AddClonedBlocksToLoop(OrigRootL, *ClonedRootL);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1370</td>
    <td class="codeline"></td>
    <td class="lineNumber">1370</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1371</td>
    <td class="codeline">  if (OrigRootL.isInnermost())</td>
    <td class="lineNumber">1371</td>
    <td class="codeline">  if (OrigRootL.isInnermost())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1372</td>
    <td class="codeline">    return ClonedRootL;</td>
    <td class="lineNumber">1372</td>
    <td class="codeline">    return ClonedRootL;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1373</td>
    <td class="codeline"></td>
    <td class="lineNumber">1373</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1374</td>
    <td class="codeline">  // If we have a nest, we can quickly clone the entire loop nest using an</td>
    <td class="lineNumber">1374</td>
    <td class="codeline">  // If we have a nest, we can quickly clone the entire loop nest using an</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1375</td>
    <td class="codeline">  // iterative approach because it is a tree. We keep the cloned parent in the</td>
    <td class="lineNumber">1375</td>
    <td class="codeline">  // iterative approach because it is a tree. We keep the cloned parent in the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1376</td>
    <td class="codeline">  // data structure to avoid repeatedly querying through a map to find it.</td>
    <td class="lineNumber">1376</td>
    <td class="codeline">  // data structure to avoid repeatedly querying through a map to find it.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1377</td>
    <td class="codeline">  SmallVector<std::pair<Loop *, Loop *>, 16> LoopsToClone;</td>
    <td class="lineNumber">1377</td>
    <td class="codeline">  SmallVector<std::pair<Loop *, Loop *>, 16> LoopsToClone;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1378</td>
    <td class="codeline">  // Build up the loops to clone in reverse order as we'll clone them from the</td>
    <td class="lineNumber">1378</td>
    <td class="codeline">  // Build up the loops to clone in reverse order as we'll clone them from the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1379</td>
    <td class="codeline">  // back.</td>
    <td class="lineNumber">1379</td>
    <td class="codeline">  // back.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1380</td>
    <td class="codeline">  for (Loop *ChildL : llvm::reverse(OrigRootL))</td>
    <td class="lineNumber">1380</td>
    <td class="codeline">  for (Loop *ChildL : llvm::reverse(OrigRootL))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1381</td>
    <td class="codeline">    LoopsToClone.push_back({ClonedRootL, ChildL});</td>
    <td class="lineNumber">1381</td>
    <td class="codeline">    LoopsToClone.push_back({ClonedRootL, ChildL});</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1382</td>
    <td class="codeline">  do {</td>
    <td class="lineNumber">1382</td>
    <td class="codeline">  do {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1383</td>
    <td class="codeline">    Loop *ClonedParentL, *L;</td>
    <td class="lineNumber">1383</td>
    <td class="codeline">    Loop *ClonedParentL, *L;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1384</td>
    <td class="codeline">    std::tie(ClonedParentL, L) = LoopsToClone.pop_back_val();</td>
    <td class="lineNumber">1384</td>
    <td class="codeline">    std::tie(ClonedParentL, L) = LoopsToClone.pop_back_val();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1385</td>
    <td class="codeline">    Loop *ClonedL = LI.AllocateLoop();</td>
    <td class="lineNumber">1385</td>
    <td class="codeline">    Loop *ClonedL = LI.AllocateLoop();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1386</td>
    <td class="codeline">    ClonedParentL->addChildLoop(ClonedL);</td>
    <td class="lineNumber">1386</td>
    <td class="codeline">    ClonedParentL->addChildLoop(ClonedL);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1387</td>
    <td class="codeline">    AddClonedBlocksToLoop(*L, *ClonedL);</td>
    <td class="lineNumber">1387</td>
    <td class="codeline">    AddClonedBlocksToLoop(*L, *ClonedL);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1388</td>
    <td class="codeline">    for (Loop *ChildL : llvm::reverse(*L))</td>
    <td class="lineNumber">1388</td>
    <td class="codeline">    for (Loop *ChildL : llvm::reverse(*L))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1389</td>
    <td class="codeline">      LoopsToClone.push_back({ClonedL, ChildL});</td>
    <td class="lineNumber">1389</td>
    <td class="codeline">      LoopsToClone.push_back({ClonedL, ChildL});</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1390</td>
    <td class="codeline">  } while (!LoopsToClone.empty());</td>
    <td class="lineNumber">1390</td>
    <td class="codeline">  } while (!LoopsToClone.empty());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1391</td>
    <td class="codeline"></td>
    <td class="lineNumber">1391</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1392</td>
    <td class="codeline">  return ClonedRootL;</td>
    <td class="lineNumber">1392</td>
    <td class="codeline">  return ClonedRootL;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1393</td>
    <td class="codeline">}</td>
    <td class="lineNumber">1393</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1394</td>
    <td class="codeline"></td>
    <td class="lineNumber">1394</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1395</td>
    <td class="codeline">/// Build the cloned loops of an original loop from unswitching.</td>
    <td class="lineNumber">1395</td>
    <td class="codeline">/// Build the cloned loops of an original loop from unswitching.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1396</td>
    <td class="codeline">///</td>
    <td class="lineNumber">1396</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1397</td>
    <td class="codeline">/// Because unswitching simplifies the CFG of the loop, this isn't a trivial</td>
    <td class="lineNumber">1397</td>
    <td class="codeline">/// Because unswitching simplifies the CFG of the loop, this isn't a trivial</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1398</td>
    <td class="codeline">/// operation. We need to re-verify that there even is a loop (as the backedge</td>
    <td class="lineNumber">1398</td>
    <td class="codeline">/// operation. We need to re-verify that there even is a loop (as the backedge</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1399</td>
    <td class="codeline">/// may not have been cloned), and even if there are remaining backedges the</td>
    <td class="lineNumber">1399</td>
    <td class="codeline">/// may not have been cloned), and even if there are remaining backedges the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1400</td>
    <td class="codeline">/// backedge set may be different. However, we know that each child loop is</td>
    <td class="lineNumber">1400</td>
    <td class="codeline">/// backedge set may be different. However, we know that each child loop is</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1401</td>
    <td class="codeline">/// undisturbed, we only need to find where to place each child loop within</td>
    <td class="lineNumber">1401</td>
    <td class="codeline">/// undisturbed, we only need to find where to place each child loop within</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1402</td>
    <td class="codeline">/// either any parent loop or within a cloned version of the original loop.</td>
    <td class="lineNumber">1402</td>
    <td class="codeline">/// either any parent loop or within a cloned version of the original loop.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1403</td>
    <td class="codeline">///</td>
    <td class="lineNumber">1403</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1404</td>
    <td class="codeline">/// Because child loops may end up cloned outside of any cloned version of the</td>
    <td class="lineNumber">1404</td>
    <td class="codeline">/// Because child loops may end up cloned outside of any cloned version of the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1405</td>
    <td class="codeline">/// original loop, multiple cloned sibling loops may be created. All of them</td>
    <td class="lineNumber">1405</td>
    <td class="codeline">/// original loop, multiple cloned sibling loops may be created. All of them</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1406</td>
    <td class="codeline">/// are returned so that the newly introduced loop nest roots can be</td>
    <td class="lineNumber">1406</td>
    <td class="codeline">/// are returned so that the newly introduced loop nest roots can be</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1407</td>
    <td class="codeline">/// identified.</td>
    <td class="lineNumber">1407</td>
    <td class="codeline">/// identified.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1408</td>
    <td class="codeline">static void buildClonedLoops(Loop &OrigL, ArrayRef<BasicBlock *> ExitBlocks,</td>
    <td class="lineNumber">1408</td>
    <td class="codeline">static void buildClonedLoops(Loop &OrigL, ArrayRef<BasicBlock *> ExitBlocks,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1409</td>
    <td class="codeline">                             const ValueToValueMapTy &VMap, LoopInfo &LI,</td>
    <td class="lineNumber">1409</td>
    <td class="codeline">                             const ValueToValueMapTy &VMap, LoopInfo &LI,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1410</td>
    <td class="codeline">                             SmallVectorImpl<Loop *> &NonChildClonedLoops) {</td>
    <td class="lineNumber">1410</td>
    <td class="codeline">                             SmallVectorImpl<Loop *> &NonChildClonedLoops) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1411</td>
    <td class="codeline">  Loop *ClonedL = nullptr;</td>
    <td class="lineNumber">1411</td>
    <td class="codeline">  Loop *ClonedL = nullptr;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1412</td>
    <td class="codeline"></td>
    <td class="lineNumber">1412</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1413</td>
    <td class="codeline">  auto *OrigPH = OrigL.getLoopPreheader();</td>
    <td class="lineNumber">1413</td>
    <td class="codeline">  auto *OrigPH = OrigL.getLoopPreheader();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1414</td>
    <td class="codeline">  auto *OrigHeader = OrigL.getHeader();</td>
    <td class="lineNumber">1414</td>
    <td class="codeline">  auto *OrigHeader = OrigL.getHeader();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1415</td>
    <td class="codeline"></td>
    <td class="lineNumber">1415</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1416</td>
    <td class="codeline">  auto *ClonedPH = cast<BasicBlock>(VMap.lookup(OrigPH));</td>
    <td class="lineNumber">1416</td>
    <td class="codeline">  auto *ClonedPH = cast<BasicBlock>(VMap.lookup(OrigPH));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1417</td>
    <td class="codeline">  auto *ClonedHeader = cast<BasicBlock>(VMap.lookup(OrigHeader));</td>
    <td class="lineNumber">1417</td>
    <td class="codeline">  auto *ClonedHeader = cast<BasicBlock>(VMap.lookup(OrigHeader));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1418</td>
    <td class="codeline"></td>
    <td class="lineNumber">1418</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1419</td>
    <td class="codeline">  // We need to know the loops of the cloned exit blocks to even compute the</td>
    <td class="lineNumber">1419</td>
    <td class="codeline">  // We need to know the loops of the cloned exit blocks to even compute the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1420</td>
    <td class="codeline">  // accurate parent loop. If we only clone exits to some parent of the</td>
    <td class="lineNumber">1420</td>
    <td class="codeline">  // accurate parent loop. If we only clone exits to some parent of the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1421</td>
    <td class="codeline">  // original parent, we want to clone into that outer loop. We also keep track</td>
    <td class="lineNumber">1421</td>
    <td class="codeline">  // original parent, we want to clone into that outer loop. We also keep track</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1422</td>
    <td class="codeline">  // of the loops that our cloned exit blocks participate in.</td>
    <td class="lineNumber">1422</td>
    <td class="codeline">  // of the loops that our cloned exit blocks participate in.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1423</td>
    <td class="codeline">  Loop *ParentL = nullptr;</td>
    <td class="lineNumber">1423</td>
    <td class="codeline">  Loop *ParentL = nullptr;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1424</td>
    <td class="codeline">  SmallVector<BasicBlock *, 4> ClonedExitsInLoops;</td>
    <td class="lineNumber">1424</td>
    <td class="codeline">  SmallVector<BasicBlock *, 4> ClonedExitsInLoops;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1425</td>
    <td class="codeline">  SmallDenseMap<BasicBlock *, Loop *, 16> ExitLoopMap;</td>
    <td class="lineNumber">1425</td>
    <td class="codeline">  SmallDenseMap<BasicBlock *, Loop *, 16> ExitLoopMap;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1426</td>
    <td class="codeline">  ClonedExitsInLoops.reserve(ExitBlocks.size());</td>
    <td class="lineNumber">1426</td>
    <td class="codeline">  ClonedExitsInLoops.reserve(ExitBlocks.size());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1427</td>
    <td class="codeline">  for (auto *ExitBB : ExitBlocks)</td>
    <td class="lineNumber">1427</td>
    <td class="codeline">  for (auto *ExitBB : ExitBlocks)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1428</td>
    <td class="codeline">    if (auto *ClonedExitBB = cast_or_null<BasicBlock>(VMap.lookup(ExitBB)))</td>
    <td class="lineNumber">1428</td>
    <td class="codeline">    if (auto *ClonedExitBB = cast_or_null<BasicBlock>(VMap.lookup(ExitBB)))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1429</td>
    <td class="codeline">      if (Loop *ExitL = LI.getLoopFor(ExitBB)) {</td>
    <td class="lineNumber">1429</td>
    <td class="codeline">      if (Loop *ExitL = LI.getLoopFor(ExitBB)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1430</td>
    <td class="codeline">        ExitLoopMap[ClonedExitBB] = ExitL;</td>
    <td class="lineNumber">1430</td>
    <td class="codeline">        ExitLoopMap[ClonedExitBB] = ExitL;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1431</td>
    <td class="codeline">        ClonedExitsInLoops.push_back(ClonedExitBB);</td>
    <td class="lineNumber">1431</td>
    <td class="codeline">        ClonedExitsInLoops.push_back(ClonedExitBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1432</td>
    <td class="codeline">        if (!ParentL || (ParentL != ExitL && ParentL->contains(ExitL)))</td>
    <td class="lineNumber">1432</td>
    <td class="codeline">        if (!ParentL || (ParentL != ExitL && ParentL->contains(ExitL)))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1433</td>
    <td class="codeline">          ParentL = ExitL;</td>
    <td class="lineNumber">1433</td>
    <td class="codeline">          ParentL = ExitL;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1434</td>
    <td class="codeline">      }</td>
    <td class="lineNumber">1434</td>
    <td class="codeline">      }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1435</td>
    <td class="codeline">  assert((!ParentL || ParentL == OrigL.getParentLoop() ||</td>
    <td class="lineNumber">1435</td>
    <td class="codeline">  assert((!ParentL || ParentL == OrigL.getParentLoop() ||</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1436</td>
    <td class="codeline">          ParentL->contains(OrigL.getParentLoop())) &&</td>
    <td class="lineNumber">1436</td>
    <td class="codeline">          ParentL->contains(OrigL.getParentLoop())) &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1437</td>
    <td class="codeline">         "The computed parent loop should always contain (or be) the parent of "</td>
    <td class="lineNumber">1437</td>
    <td class="codeline">         "The computed parent loop should always contain (or be) the parent of "</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1438</td>
    <td class="codeline">         "the original loop.");</td>
    <td class="lineNumber">1438</td>
    <td class="codeline">         "the original loop.");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1439</td>
    <td class="codeline"></td>
    <td class="lineNumber">1439</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1440</td>
    <td class="codeline">  // We build the set of blocks dominated by the cloned header from the set of</td>
    <td class="lineNumber">1440</td>
    <td class="codeline">  // We build the set of blocks dominated by the cloned header from the set of</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1441</td>
    <td class="codeline">  // cloned blocks out of the original loop. While not all of these will</td>
    <td class="lineNumber">1441</td>
    <td class="codeline">  // cloned blocks out of the original loop. While not all of these will</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1442</td>
    <td class="codeline">  // necessarily be in the cloned loop, it is enough to establish that they</td>
    <td class="lineNumber">1442</td>
    <td class="codeline">  // necessarily be in the cloned loop, it is enough to establish that they</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1443</td>
    <td class="codeline">  // aren't in unreachable cycles, etc.</td>
    <td class="lineNumber">1443</td>
    <td class="codeline">  // aren't in unreachable cycles, etc.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1444</td>
    <td class="codeline">  SmallSetVector<BasicBlock *, 16> ClonedLoopBlocks;</td>
    <td class="lineNumber">1444</td>
    <td class="codeline">  SmallSetVector<BasicBlock *, 16> ClonedLoopBlocks;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1445</td>
    <td class="codeline">  for (auto *BB : OrigL.blocks())</td>
    <td class="lineNumber">1445</td>
    <td class="codeline">  for (auto *BB : OrigL.blocks())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1446</td>
    <td class="codeline">    if (auto *ClonedBB = cast_or_null<BasicBlock>(VMap.lookup(BB)))</td>
    <td class="lineNumber">1446</td>
    <td class="codeline">    if (auto *ClonedBB = cast_or_null<BasicBlock>(VMap.lookup(BB)))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1447</td>
    <td class="codeline">      ClonedLoopBlocks.insert(ClonedBB);</td>
    <td class="lineNumber">1447</td>
    <td class="codeline">      ClonedLoopBlocks.insert(ClonedBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1448</td>
    <td class="codeline"></td>
    <td class="lineNumber">1448</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1449</td>
    <td class="codeline">  // Rebuild the set of blocks that will end up in the cloned loop. We may have</td>
    <td class="lineNumber">1449</td>
    <td class="codeline">  // Rebuild the set of blocks that will end up in the cloned loop. We may have</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1450</td>
    <td class="codeline">  // skipped cloning some region of this loop which can in turn skip some of</td>
    <td class="lineNumber">1450</td>
    <td class="codeline">  // skipped cloning some region of this loop which can in turn skip some of</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1451</td>
    <td class="codeline">  // the backedges so we have to rebuild the blocks in the loop based on the</td>
    <td class="lineNumber">1451</td>
    <td class="codeline">  // the backedges so we have to rebuild the blocks in the loop based on the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1452</td>
    <td class="codeline">  // backedges that remain after cloning.</td>
    <td class="lineNumber">1452</td>
    <td class="codeline">  // backedges that remain after cloning.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1453</td>
    <td class="codeline">  SmallVector<BasicBlock *, 16> Worklist;</td>
    <td class="lineNumber">1453</td>
    <td class="codeline">  SmallVector<BasicBlock *, 16> Worklist;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1454</td>
    <td class="codeline">  SmallPtrSet<BasicBlock *, 16> BlocksInClonedLoop;</td>
    <td class="lineNumber">1454</td>
    <td class="codeline">  SmallPtrSet<BasicBlock *, 16> BlocksInClonedLoop;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1455</td>
    <td class="codeline">  for (auto *Pred : predecessors(ClonedHeader)) {</td>
    <td class="lineNumber">1455</td>
    <td class="codeline">  for (auto *Pred : predecessors(ClonedHeader)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1456</td>
    <td class="codeline">    // The only possible non-loop header predecessor is the preheader because</td>
    <td class="lineNumber">1456</td>
    <td class="codeline">    // The only possible non-loop header predecessor is the preheader because</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1457</td>
    <td class="codeline">    // we know we cloned the loop in simplified form.</td>
    <td class="lineNumber">1457</td>
    <td class="codeline">    // we know we cloned the loop in simplified form.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1458</td>
    <td class="codeline">    if (Pred == ClonedPH)</td>
    <td class="lineNumber">1458</td>
    <td class="codeline">    if (Pred == ClonedPH)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1459</td>
    <td class="codeline">      continue;</td>
    <td class="lineNumber">1459</td>
    <td class="codeline">      continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1460</td>
    <td class="codeline"></td>
    <td class="lineNumber">1460</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1461</td>
    <td class="codeline">    // Because the loop was in simplified form, the only non-loop predecessor</td>
    <td class="lineNumber">1461</td>
    <td class="codeline">    // Because the loop was in simplified form, the only non-loop predecessor</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1462</td>
    <td class="codeline">    // should be the preheader.</td>
    <td class="lineNumber">1462</td>
    <td class="codeline">    // should be the preheader.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1463</td>
    <td class="codeline">    assert(ClonedLoopBlocks.count(Pred) && "Found a predecessor of the loop "</td>
    <td class="lineNumber">1463</td>
    <td class="codeline">    assert(ClonedLoopBlocks.count(Pred) && "Found a predecessor of the loop "</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1464</td>
    <td class="codeline">                                           "header other than the preheader "</td>
    <td class="lineNumber">1464</td>
    <td class="codeline">                                           "header other than the preheader "</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1465</td>
    <td class="codeline">                                           "that is not part of the loop!");</td>
    <td class="lineNumber">1465</td>
    <td class="codeline">                                           "that is not part of the loop!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1466</td>
    <td class="codeline"></td>
    <td class="lineNumber">1466</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1467</td>
    <td class="codeline">    // Insert this block into the loop set and on the first visit (and if it</td>
    <td class="lineNumber">1467</td>
    <td class="codeline">    // Insert this block into the loop set and on the first visit (and if it</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1468</td>
    <td class="codeline">    // isn't the header we're currently walking) put it into the worklist to</td>
    <td class="lineNumber">1468</td>
    <td class="codeline">    // isn't the header we're currently walking) put it into the worklist to</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1469</td>
    <td class="codeline">    // recurse through.</td>
    <td class="lineNumber">1469</td>
    <td class="codeline">    // recurse through.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1470</td>
    <td class="codeline">    if (BlocksInClonedLoop.insert(Pred).second && Pred != ClonedHeader)</td>
    <td class="lineNumber">1470</td>
    <td class="codeline">    if (BlocksInClonedLoop.insert(Pred).second && Pred != ClonedHeader)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1471</td>
    <td class="codeline">      Worklist.push_back(Pred);</td>
    <td class="lineNumber">1471</td>
    <td class="codeline">      Worklist.push_back(Pred);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1472</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">1472</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1473</td>
    <td class="codeline"></td>
    <td class="lineNumber">1473</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1474</td>
    <td class="codeline">  // If we had any backedges then there *is* a cloned loop. Put the header into</td>
    <td class="lineNumber">1474</td>
    <td class="codeline">  // If we had any backedges then there *is* a cloned loop. Put the header into</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1475</td>
    <td class="codeline">  // the loop set and then walk the worklist backwards to find all the blocks</td>
    <td class="lineNumber">1475</td>
    <td class="codeline">  // the loop set and then walk the worklist backwards to find all the blocks</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1476</td>
    <td class="codeline">  // that remain within the loop after cloning.</td>
    <td class="lineNumber">1476</td>
    <td class="codeline">  // that remain within the loop after cloning.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1477</td>
    <td class="codeline">  if (!BlocksInClonedLoop.empty()) {</td>
    <td class="lineNumber">1477</td>
    <td class="codeline">  if (!BlocksInClonedLoop.empty()) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1478</td>
    <td class="codeline">    BlocksInClonedLoop.insert(ClonedHeader);</td>
    <td class="lineNumber">1478</td>
    <td class="codeline">    BlocksInClonedLoop.insert(ClonedHeader);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1479</td>
    <td class="codeline"></td>
    <td class="lineNumber">1479</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1480</td>
    <td class="codeline">    while (!Worklist.empty()) {</td>
    <td class="lineNumber">1480</td>
    <td class="codeline">    while (!Worklist.empty()) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1481</td>
    <td class="codeline">      BasicBlock *BB = Worklist.pop_back_val();</td>
    <td class="lineNumber">1481</td>
    <td class="codeline">      BasicBlock *BB = Worklist.pop_back_val();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1482</td>
    <td class="codeline">      assert(BlocksInClonedLoop.count(BB) &&</td>
    <td class="lineNumber">1482</td>
    <td class="codeline">      assert(BlocksInClonedLoop.count(BB) &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1483</td>
    <td class="codeline">             "Didn't put block into the loop set!");</td>
    <td class="lineNumber">1483</td>
    <td class="codeline">             "Didn't put block into the loop set!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1484</td>
    <td class="codeline"></td>
    <td class="lineNumber">1484</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1485</td>
    <td class="codeline">      // Insert any predecessors that are in the possible set into the cloned</td>
    <td class="lineNumber">1485</td>
    <td class="codeline">      // Insert any predecessors that are in the possible set into the cloned</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1486</td>
    <td class="codeline">      // set, and if the insert is successful, add them to the worklist. Note</td>
    <td class="lineNumber">1486</td>
    <td class="codeline">      // set, and if the insert is successful, add them to the worklist. Note</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1487</td>
    <td class="codeline">      // that we filter on the blocks that are definitely reachable via the</td>
    <td class="lineNumber">1487</td>
    <td class="codeline">      // that we filter on the blocks that are definitely reachable via the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1488</td>
    <td class="codeline">      // backedge to the loop header so we may prune out dead code within the</td>
    <td class="lineNumber">1488</td>
    <td class="codeline">      // backedge to the loop header so we may prune out dead code within the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1489</td>
    <td class="codeline">      // cloned loop.</td>
    <td class="lineNumber">1489</td>
    <td class="codeline">      // cloned loop.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1490</td>
    <td class="codeline">      for (auto *Pred : predecessors(BB))</td>
    <td class="lineNumber">1490</td>
    <td class="codeline">      for (auto *Pred : predecessors(BB))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1491</td>
    <td class="codeline">        if (ClonedLoopBlocks.count(Pred) &&</td>
    <td class="lineNumber">1491</td>
    <td class="codeline">        if (ClonedLoopBlocks.count(Pred) &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1492</td>
    <td class="codeline">            BlocksInClonedLoop.insert(Pred).second)</td>
    <td class="lineNumber">1492</td>
    <td class="codeline">            BlocksInClonedLoop.insert(Pred).second)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1493</td>
    <td class="codeline">          Worklist.push_back(Pred);</td>
    <td class="lineNumber">1493</td>
    <td class="codeline">          Worklist.push_back(Pred);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1494</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">1494</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1495</td>
    <td class="codeline"></td>
    <td class="lineNumber">1495</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1496</td>
    <td class="codeline">    ClonedL = LI.AllocateLoop();</td>
    <td class="lineNumber">1496</td>
    <td class="codeline">    ClonedL = LI.AllocateLoop();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1497</td>
    <td class="codeline">    if (ParentL) {</td>
    <td class="lineNumber">1497</td>
    <td class="codeline">    if (ParentL) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1498</td>
    <td class="codeline">      ParentL->addBasicBlockToLoop(ClonedPH, LI);</td>
    <td class="lineNumber">1498</td>
    <td class="codeline">      ParentL->addBasicBlockToLoop(ClonedPH, LI);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1499</td>
    <td class="codeline">      ParentL->addChildLoop(ClonedL);</td>
    <td class="lineNumber">1499</td>
    <td class="codeline">      ParentL->addChildLoop(ClonedL);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1500</td>
    <td class="codeline">    } else {</td>
    <td class="lineNumber">1500</td>
    <td class="codeline">    } else {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1501</td>
    <td class="codeline">      LI.addTopLevelLoop(ClonedL);</td>
    <td class="lineNumber">1501</td>
    <td class="codeline">      LI.addTopLevelLoop(ClonedL);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1502</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">1502</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1503</td>
    <td class="codeline">    NonChildClonedLoops.push_back(ClonedL);</td>
    <td class="lineNumber">1503</td>
    <td class="codeline">    NonChildClonedLoops.push_back(ClonedL);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1504</td>
    <td class="codeline"></td>
    <td class="lineNumber">1504</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1505</td>
    <td class="codeline">    ClonedL->reserveBlocks(BlocksInClonedLoop.size());</td>
    <td class="lineNumber">1505</td>
    <td class="codeline">    ClonedL->reserveBlocks(BlocksInClonedLoop.size());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1506</td>
    <td class="codeline">    // We don't want to just add the cloned loop blocks based on how we</td>
    <td class="lineNumber">1506</td>
    <td class="codeline">    // We don't want to just add the cloned loop blocks based on how we</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1507</td>
    <td class="codeline">    // discovered them. The original order of blocks was carefully built in</td>
    <td class="lineNumber">1507</td>
    <td class="codeline">    // discovered them. The original order of blocks was carefully built in</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1508</td>
    <td class="codeline">    // a way that doesn't rely on predecessor ordering. Rather than re-invent</td>
    <td class="lineNumber">1508</td>
    <td class="codeline">    // a way that doesn't rely on predecessor ordering. Rather than re-invent</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1509</td>
    <td class="codeline">    // that logic, we just re-walk the original blocks (and those of the child</td>
    <td class="lineNumber">1509</td>
    <td class="codeline">    // that logic, we just re-walk the original blocks (and those of the child</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1510</td>
    <td class="codeline">    // loops) and filter them as we add them into the cloned loop.</td>
    <td class="lineNumber">1510</td>
    <td class="codeline">    // loops) and filter them as we add them into the cloned loop.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1511</td>
    <td class="codeline">    for (auto *BB : OrigL.blocks()) {</td>
    <td class="lineNumber">1511</td>
    <td class="codeline">    for (auto *BB : OrigL.blocks()) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1512</td>
    <td class="codeline">      auto *ClonedBB = cast_or_null<BasicBlock>(VMap.lookup(BB));</td>
    <td class="lineNumber">1512</td>
    <td class="codeline">      auto *ClonedBB = cast_or_null<BasicBlock>(VMap.lookup(BB));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1513</td>
    <td class="codeline">      if (!ClonedBB || !BlocksInClonedLoop.count(ClonedBB))</td>
    <td class="lineNumber">1513</td>
    <td class="codeline">      if (!ClonedBB || !BlocksInClonedLoop.count(ClonedBB))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1514</td>
    <td class="codeline">        continue;</td>
    <td class="lineNumber">1514</td>
    <td class="codeline">        continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1515</td>
    <td class="codeline"></td>
    <td class="lineNumber">1515</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1516</td>
    <td class="codeline">      // Directly add the blocks that are only in this loop.</td>
    <td class="lineNumber">1516</td>
    <td class="codeline">      // Directly add the blocks that are only in this loop.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1517</td>
    <td class="codeline">      if (LI.getLoopFor(BB) == &OrigL) {</td>
    <td class="lineNumber">1517</td>
    <td class="codeline">      if (LI.getLoopFor(BB) == &OrigL) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1518</td>
    <td class="codeline">        ClonedL->addBasicBlockToLoop(ClonedBB, LI);</td>
    <td class="lineNumber">1518</td>
    <td class="codeline">        ClonedL->addBasicBlockToLoop(ClonedBB, LI);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1519</td>
    <td class="codeline">        continue;</td>
    <td class="lineNumber">1519</td>
    <td class="codeline">        continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1520</td>
    <td class="codeline">      }</td>
    <td class="lineNumber">1520</td>
    <td class="codeline">      }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1521</td>
    <td class="codeline"></td>
    <td class="lineNumber">1521</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1522</td>
    <td class="codeline">      // We want to manually add it to this loop and parents.</td>
    <td class="lineNumber">1522</td>
    <td class="codeline">      // We want to manually add it to this loop and parents.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1523</td>
    <td class="codeline">      // Registering it with LoopInfo will happen when we clone the top</td>
    <td class="lineNumber">1523</td>
    <td class="codeline">      // Registering it with LoopInfo will happen when we clone the top</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1524</td>
    <td class="codeline">      // loop for this block.</td>
    <td class="lineNumber">1524</td>
    <td class="codeline">      // loop for this block.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1525</td>
    <td class="codeline">      for (Loop *PL = ClonedL; PL; PL = PL->getParentLoop())</td>
    <td class="lineNumber">1525</td>
    <td class="codeline">      for (Loop *PL = ClonedL; PL; PL = PL->getParentLoop())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1526</td>
    <td class="codeline">        PL->addBlockEntry(ClonedBB);</td>
    <td class="lineNumber">1526</td>
    <td class="codeline">        PL->addBlockEntry(ClonedBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1527</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">1527</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1528</td>
    <td class="codeline"></td>
    <td class="lineNumber">1528</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1529</td>
    <td class="codeline">    // Now add each child loop whose header remains within the cloned loop. All</td>
    <td class="lineNumber">1529</td>
    <td class="codeline">    // Now add each child loop whose header remains within the cloned loop. All</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1530</td>
    <td class="codeline">    // of the blocks within the loop must satisfy the same constraints as the</td>
    <td class="lineNumber">1530</td>
    <td class="codeline">    // of the blocks within the loop must satisfy the same constraints as the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1531</td>
    <td class="codeline">    // header so once we pass the header checks we can just clone the entire</td>
    <td class="lineNumber">1531</td>
    <td class="codeline">    // header so once we pass the header checks we can just clone the entire</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1532</td>
    <td class="codeline">    // child loop nest.</td>
    <td class="lineNumber">1532</td>
    <td class="codeline">    // child loop nest.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1533</td>
    <td class="codeline">    for (Loop *ChildL : OrigL) {</td>
    <td class="lineNumber">1533</td>
    <td class="codeline">    for (Loop *ChildL : OrigL) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1534</td>
    <td class="codeline">      auto *ClonedChildHeader =</td>
    <td class="lineNumber">1534</td>
    <td class="codeline">      auto *ClonedChildHeader =</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1535</td>
    <td class="codeline">          cast_or_null<BasicBlock>(VMap.lookup(ChildL->getHeader()));</td>
    <td class="lineNumber">1535</td>
    <td class="codeline">          cast_or_null<BasicBlock>(VMap.lookup(ChildL->getHeader()));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1536</td>
    <td class="codeline">      if (!ClonedChildHeader || !BlocksInClonedLoop.count(ClonedChildHeader))</td>
    <td class="lineNumber">1536</td>
    <td class="codeline">      if (!ClonedChildHeader || !BlocksInClonedLoop.count(ClonedChildHeader))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1537</td>
    <td class="codeline">        continue;</td>
    <td class="lineNumber">1537</td>
    <td class="codeline">        continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1538</td>
    <td class="codeline"></td>
    <td class="lineNumber">1538</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1539</td>
    <td class="codeline">#ifndef NDEBUG</td>
    <td class="lineNumber">1539</td>
    <td class="codeline">#ifndef NDEBUG</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1540</td>
    <td class="codeline">      // We should never have a cloned child loop header but fail to have</td>
    <td class="lineNumber">1540</td>
    <td class="codeline">      // We should never have a cloned child loop header but fail to have</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1541</td>
    <td class="codeline">      // all of the blocks for that child loop.</td>
    <td class="lineNumber">1541</td>
    <td class="codeline">      // all of the blocks for that child loop.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1542</td>
    <td class="codeline">      for (auto *ChildLoopBB : ChildL->blocks())</td>
    <td class="lineNumber">1542</td>
    <td class="codeline">      for (auto *ChildLoopBB : ChildL->blocks())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1543</td>
    <td class="codeline">        assert(BlocksInClonedLoop.count(</td>
    <td class="lineNumber">1543</td>
    <td class="codeline">        assert(BlocksInClonedLoop.count(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1544</td>
    <td class="codeline">                   cast<BasicBlock>(VMap.lookup(ChildLoopBB))) &&</td>
    <td class="lineNumber">1544</td>
    <td class="codeline">                   cast<BasicBlock>(VMap.lookup(ChildLoopBB))) &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1545</td>
    <td class="codeline">               "Child cloned loop has a header within the cloned outer "</td>
    <td class="lineNumber">1545</td>
    <td class="codeline">               "Child cloned loop has a header within the cloned outer "</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1546</td>
    <td class="codeline">               "loop but not all of its blocks!");</td>
    <td class="lineNumber">1546</td>
    <td class="codeline">               "loop but not all of its blocks!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1547</td>
    <td class="codeline">#endif</td>
    <td class="lineNumber">1547</td>
    <td class="codeline">#endif</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1548</td>
    <td class="codeline"></td>
    <td class="lineNumber">1548</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1549</td>
    <td class="codeline">      cloneLoopNest(*ChildL, ClonedL, VMap, LI);</td>
    <td class="lineNumber">1549</td>
    <td class="codeline">      cloneLoopNest(*ChildL, ClonedL, VMap, LI);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1550</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">1550</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1551</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">1551</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1552</td>
    <td class="codeline"></td>
    <td class="lineNumber">1552</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1553</td>
    <td class="codeline">  // Now that we've handled all the components of the original loop that were</td>
    <td class="lineNumber">1553</td>
    <td class="codeline">  // Now that we've handled all the components of the original loop that were</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1554</td>
    <td class="codeline">  // cloned into a new loop, we still need to handle anything from the original</td>
    <td class="lineNumber">1554</td>
    <td class="codeline">  // cloned into a new loop, we still need to handle anything from the original</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1555</td>
    <td class="codeline">  // loop that wasn't in a cloned loop.</td>
    <td class="lineNumber">1555</td>
    <td class="codeline">  // loop that wasn't in a cloned loop.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1556</td>
    <td class="codeline"></td>
    <td class="lineNumber">1556</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1557</td>
    <td class="codeline">  // Figure out what blocks are left to place within any loop nest containing</td>
    <td class="lineNumber">1557</td>
    <td class="codeline">  // Figure out what blocks are left to place within any loop nest containing</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1558</td>
    <td class="codeline">  // the unswitched loop. If we never formed a loop, the cloned PH is one of</td>
    <td class="lineNumber">1558</td>
    <td class="codeline">  // the unswitched loop. If we never formed a loop, the cloned PH is one of</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1559</td>
    <td class="codeline">  // them.</td>
    <td class="lineNumber">1559</td>
    <td class="codeline">  // them.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1560</td>
    <td class="codeline">  SmallPtrSet<BasicBlock *, 16> UnloopedBlockSet;</td>
    <td class="lineNumber">1560</td>
    <td class="codeline">  SmallPtrSet<BasicBlock *, 16> UnloopedBlockSet;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1561</td>
    <td class="codeline">  if (BlocksInClonedLoop.empty())</td>
    <td class="lineNumber">1561</td>
    <td class="codeline">  if (BlocksInClonedLoop.empty())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1562</td>
    <td class="codeline">    UnloopedBlockSet.insert(ClonedPH);</td>
    <td class="lineNumber">1562</td>
    <td class="codeline">    UnloopedBlockSet.insert(ClonedPH);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1563</td>
    <td class="codeline">  for (auto *ClonedBB : ClonedLoopBlocks)</td>
    <td class="lineNumber">1563</td>
    <td class="codeline">  for (auto *ClonedBB : ClonedLoopBlocks)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1564</td>
    <td class="codeline">    if (!BlocksInClonedLoop.count(ClonedBB))</td>
    <td class="lineNumber">1564</td>
    <td class="codeline">    if (!BlocksInClonedLoop.count(ClonedBB))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1565</td>
    <td class="codeline">      UnloopedBlockSet.insert(ClonedBB);</td>
    <td class="lineNumber">1565</td>
    <td class="codeline">      UnloopedBlockSet.insert(ClonedBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1566</td>
    <td class="codeline"></td>
    <td class="lineNumber">1566</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1567</td>
    <td class="codeline">  // Copy the cloned exits and sort them in ascending loop depth, we'll work</td>
    <td class="lineNumber">1567</td>
    <td class="codeline">  // Copy the cloned exits and sort them in ascending loop depth, we'll work</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1568</td>
    <td class="codeline">  // backwards across these to process them inside out. The order shouldn't</td>
    <td class="lineNumber">1568</td>
    <td class="codeline">  // backwards across these to process them inside out. The order shouldn't</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1569</td>
    <td class="codeline">  // matter as we're just trying to build up the map from inside-out; we use</td>
    <td class="lineNumber">1569</td>
    <td class="codeline">  // matter as we're just trying to build up the map from inside-out; we use</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1570</td>
    <td class="codeline">  // the map in a more stably ordered way below.</td>
    <td class="lineNumber">1570</td>
    <td class="codeline">  // the map in a more stably ordered way below.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1571</td>
    <td class="codeline">  auto OrderedClonedExitsInLoops = ClonedExitsInLoops;</td>
    <td class="lineNumber">1571</td>
    <td class="codeline">  auto OrderedClonedExitsInLoops = ClonedExitsInLoops;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1572</td>
    <td class="codeline">  llvm::sort(OrderedClonedExitsInLoops, [&](BasicBlock *LHS, BasicBlock *RHS) {</td>
    <td class="lineNumber">1572</td>
    <td class="codeline">  llvm::sort(OrderedClonedExitsInLoops, [&](BasicBlock *LHS, BasicBlock *RHS) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1573</td>
    <td class="codeline">    return ExitLoopMap.lookup(LHS)->getLoopDepth() <</td>
    <td class="lineNumber">1573</td>
    <td class="codeline">    return ExitLoopMap.lookup(LHS)->getLoopDepth() <</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1574</td>
    <td class="codeline">           ExitLoopMap.lookup(RHS)->getLoopDepth();</td>
    <td class="lineNumber">1574</td>
    <td class="codeline">           ExitLoopMap.lookup(RHS)->getLoopDepth();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1575</td>
    <td class="codeline">  });</td>
    <td class="lineNumber">1575</td>
    <td class="codeline">  });</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1576</td>
    <td class="codeline"></td>
    <td class="lineNumber">1576</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1577</td>
    <td class="codeline">  // Populate the existing ExitLoopMap with everything reachable from each</td>
    <td class="lineNumber">1577</td>
    <td class="codeline">  // Populate the existing ExitLoopMap with everything reachable from each</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1578</td>
    <td class="codeline">  // exit, starting from the inner most exit.</td>
    <td class="lineNumber">1578</td>
    <td class="codeline">  // exit, starting from the inner most exit.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1579</td>
    <td class="codeline">  while (!UnloopedBlockSet.empty() && !OrderedClonedExitsInLoops.empty()) {</td>
    <td class="lineNumber">1579</td>
    <td class="codeline">  while (!UnloopedBlockSet.empty() && !OrderedClonedExitsInLoops.empty()) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1580</td>
    <td class="codeline">    assert(Worklist.empty() && "Didn't clear worklist!");</td>
    <td class="lineNumber">1580</td>
    <td class="codeline">    assert(Worklist.empty() && "Didn't clear worklist!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1581</td>
    <td class="codeline"></td>
    <td class="lineNumber">1581</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1582</td>
    <td class="codeline">    BasicBlock *ExitBB = OrderedClonedExitsInLoops.pop_back_val();</td>
    <td class="lineNumber">1582</td>
    <td class="codeline">    BasicBlock *ExitBB = OrderedClonedExitsInLoops.pop_back_val();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1583</td>
    <td class="codeline">    Loop *ExitL = ExitLoopMap.lookup(ExitBB);</td>
    <td class="lineNumber">1583</td>
    <td class="codeline">    Loop *ExitL = ExitLoopMap.lookup(ExitBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1584</td>
    <td class="codeline"></td>
    <td class="lineNumber">1584</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1585</td>
    <td class="codeline">    // Walk the CFG back until we hit the cloned PH adding everything reachable</td>
    <td class="lineNumber">1585</td>
    <td class="codeline">    // Walk the CFG back until we hit the cloned PH adding everything reachable</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1586</td>
    <td class="codeline">    // and in the unlooped set to this exit block's loop.</td>
    <td class="lineNumber">1586</td>
    <td class="codeline">    // and in the unlooped set to this exit block's loop.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1587</td>
    <td class="codeline">    Worklist.push_back(ExitBB);</td>
    <td class="lineNumber">1587</td>
    <td class="codeline">    Worklist.push_back(ExitBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1588</td>
    <td class="codeline">    do {</td>
    <td class="lineNumber">1588</td>
    <td class="codeline">    do {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1589</td>
    <td class="codeline">      BasicBlock *BB = Worklist.pop_back_val();</td>
    <td class="lineNumber">1589</td>
    <td class="codeline">      BasicBlock *BB = Worklist.pop_back_val();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1590</td>
    <td class="codeline">      // We can stop recursing at the cloned preheader (if we get there).</td>
    <td class="lineNumber">1590</td>
    <td class="codeline">      // We can stop recursing at the cloned preheader (if we get there).</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1591</td>
    <td class="codeline">      if (BB == ClonedPH)</td>
    <td class="lineNumber">1591</td>
    <td class="codeline">      if (BB == ClonedPH)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1592</td>
    <td class="codeline">        continue;</td>
    <td class="lineNumber">1592</td>
    <td class="codeline">        continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1593</td>
    <td class="codeline"></td>
    <td class="lineNumber">1593</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1594</td>
    <td class="codeline">      for (BasicBlock *PredBB : predecessors(BB)) {</td>
    <td class="lineNumber">1594</td>
    <td class="codeline">      for (BasicBlock *PredBB : predecessors(BB)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1595</td>
    <td class="codeline">        // If this pred has already been moved to our set or is part of some</td>
    <td class="lineNumber">1595</td>
    <td class="codeline">        // If this pred has already been moved to our set or is part of some</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1596</td>
    <td class="codeline">        // (inner) loop, no update needed.</td>
    <td class="lineNumber">1596</td>
    <td class="codeline">        // (inner) loop, no update needed.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1597</td>
    <td class="codeline">        if (!UnloopedBlockSet.erase(PredBB)) {</td>
    <td class="lineNumber">1597</td>
    <td class="codeline">        if (!UnloopedBlockSet.erase(PredBB)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1598</td>
    <td class="codeline">          assert(</td>
    <td class="lineNumber">1598</td>
    <td class="codeline">          assert(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1599</td>
    <td class="codeline">              (BlocksInClonedLoop.count(PredBB) || ExitLoopMap.count(PredBB)) &&</td>
    <td class="lineNumber">1599</td>
    <td class="codeline">              (BlocksInClonedLoop.count(PredBB) || ExitLoopMap.count(PredBB)) &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1600</td>
    <td class="codeline">              "Predecessor not mapped to a loop!");</td>
    <td class="lineNumber">1600</td>
    <td class="codeline">              "Predecessor not mapped to a loop!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1601</td>
    <td class="codeline">          continue;</td>
    <td class="lineNumber">1601</td>
    <td class="codeline">          continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1602</td>
    <td class="codeline">        }</td>
    <td class="lineNumber">1602</td>
    <td class="codeline">        }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1603</td>
    <td class="codeline"></td>
    <td class="lineNumber">1603</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1604</td>
    <td class="codeline">        // We just insert into the loop set here. We'll add these blocks to the</td>
    <td class="lineNumber">1604</td>
    <td class="codeline">        // We just insert into the loop set here. We'll add these blocks to the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1605</td>
    <td class="codeline">        // exit loop after we build up the set in an order that doesn't rely on</td>
    <td class="lineNumber">1605</td>
    <td class="codeline">        // exit loop after we build up the set in an order that doesn't rely on</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1606</td>
    <td class="codeline">        // predecessor order (which in turn relies on use list order).</td>
    <td class="lineNumber">1606</td>
    <td class="codeline">        // predecessor order (which in turn relies on use list order).</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1607</td>
    <td class="codeline">        bool Inserted = ExitLoopMap.insert({PredBB, ExitL}).second;</td>
    <td class="lineNumber">1607</td>
    <td class="codeline">        bool Inserted = ExitLoopMap.insert({PredBB, ExitL}).second;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1608</td>
    <td class="codeline">        (void)Inserted;</td>
    <td class="lineNumber">1608</td>
    <td class="codeline">        (void)Inserted;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1609</td>
    <td class="codeline">        assert(Inserted && "Should only visit an unlooped block once!");</td>
    <td class="lineNumber">1609</td>
    <td class="codeline">        assert(Inserted && "Should only visit an unlooped block once!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1610</td>
    <td class="codeline"></td>
    <td class="lineNumber">1610</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1611</td>
    <td class="codeline">        // And recurse through to its predecessors.</td>
    <td class="lineNumber">1611</td>
    <td class="codeline">        // And recurse through to its predecessors.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1612</td>
    <td class="codeline">        Worklist.push_back(PredBB);</td>
    <td class="lineNumber">1612</td>
    <td class="codeline">        Worklist.push_back(PredBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1613</td>
    <td class="codeline">      }</td>
    <td class="lineNumber">1613</td>
    <td class="codeline">      }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1614</td>
    <td class="codeline">    } while (!Worklist.empty());</td>
    <td class="lineNumber">1614</td>
    <td class="codeline">    } while (!Worklist.empty());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1615</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">1615</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1616</td>
    <td class="codeline"></td>
    <td class="lineNumber">1616</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1617</td>
    <td class="codeline">  // Now that the ExitLoopMap gives as  mapping for all the non-looping cloned</td>
    <td class="lineNumber">1617</td>
    <td class="codeline">  // Now that the ExitLoopMap gives as  mapping for all the non-looping cloned</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1618</td>
    <td class="codeline">  // blocks to their outer loops, walk the cloned blocks and the cloned exits</td>
    <td class="lineNumber">1618</td>
    <td class="codeline">  // blocks to their outer loops, walk the cloned blocks and the cloned exits</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1619</td>
    <td class="codeline">  // in their original order adding them to the correct loop.</td>
    <td class="lineNumber">1619</td>
    <td class="codeline">  // in their original order adding them to the correct loop.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1620</td>
    <td class="codeline"></td>
    <td class="lineNumber">1620</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1621</td>
    <td class="codeline">  // We need a stable insertion order. We use the order of the original loop</td>
    <td class="lineNumber">1621</td>
    <td class="codeline">  // We need a stable insertion order. We use the order of the original loop</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1622</td>
    <td class="codeline">  // order and map into the correct parent loop.</td>
    <td class="lineNumber">1622</td>
    <td class="codeline">  // order and map into the correct parent loop.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1623</td>
    <td class="codeline">  for (auto *BB : llvm::concat<BasicBlock *const>(</td>
    <td class="lineNumber">1623</td>
    <td class="codeline">  for (auto *BB : llvm::concat<BasicBlock *const>(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1624</td>
    <td class="codeline">           ArrayRef(ClonedPH), ClonedLoopBlocks, ClonedExitsInLoops))</td>
    <td class="lineNumber">1624</td>
    <td class="codeline">           ArrayRef(ClonedPH), ClonedLoopBlocks, ClonedExitsInLoops))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1625</td>
    <td class="codeline">    if (Loop *OuterL = ExitLoopMap.lookup(BB))</td>
    <td class="lineNumber">1625</td>
    <td class="codeline">    if (Loop *OuterL = ExitLoopMap.lookup(BB))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1626</td>
    <td class="codeline">      OuterL->addBasicBlockToLoop(BB, LI);</td>
    <td class="lineNumber">1626</td>
    <td class="codeline">      OuterL->addBasicBlockToLoop(BB, LI);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1627</td>
    <td class="codeline"></td>
    <td class="lineNumber">1627</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1628</td>
    <td class="codeline">#ifndef NDEBUG</td>
    <td class="lineNumber">1628</td>
    <td class="codeline">#ifndef NDEBUG</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1629</td>
    <td class="codeline">  for (auto &BBAndL : ExitLoopMap) {</td>
    <td class="lineNumber">1629</td>
    <td class="codeline">  for (auto &BBAndL : ExitLoopMap) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1630</td>
    <td class="codeline">    auto *BB = BBAndL.first;</td>
    <td class="lineNumber">1630</td>
    <td class="codeline">    auto *BB = BBAndL.first;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1631</td>
    <td class="codeline">    auto *OuterL = BBAndL.second;</td>
    <td class="lineNumber">1631</td>
    <td class="codeline">    auto *OuterL = BBAndL.second;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1632</td>
    <td class="codeline">    assert(LI.getLoopFor(BB) == OuterL &&</td>
    <td class="lineNumber">1632</td>
    <td class="codeline">    assert(LI.getLoopFor(BB) == OuterL &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1633</td>
    <td class="codeline">           "Failed to put all blocks into outer loops!");</td>
    <td class="lineNumber">1633</td>
    <td class="codeline">           "Failed to put all blocks into outer loops!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1634</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">1634</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1635</td>
    <td class="codeline">#endif</td>
    <td class="lineNumber">1635</td>
    <td class="codeline">#endif</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1636</td>
    <td class="codeline"></td>
    <td class="lineNumber">1636</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1637</td>
    <td class="codeline">  // Now that all the blocks are placed into the correct containing loop in the</td>
    <td class="lineNumber">1637</td>
    <td class="codeline">  // Now that all the blocks are placed into the correct containing loop in the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1638</td>
    <td class="codeline">  // absence of child loops, find all the potentially cloned child loops and</td>
    <td class="lineNumber">1638</td>
    <td class="codeline">  // absence of child loops, find all the potentially cloned child loops and</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1639</td>
    <td class="codeline">  // clone them into whatever outer loop we placed their header into.</td>
    <td class="lineNumber">1639</td>
    <td class="codeline">  // clone them into whatever outer loop we placed their header into.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1640</td>
    <td class="codeline">  for (Loop *ChildL : OrigL) {</td>
    <td class="lineNumber">1640</td>
    <td class="codeline">  for (Loop *ChildL : OrigL) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1641</td>
    <td class="codeline">    auto *ClonedChildHeader =</td>
    <td class="lineNumber">1641</td>
    <td class="codeline">    auto *ClonedChildHeader =</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1642</td>
    <td class="codeline">        cast_or_null<BasicBlock>(VMap.lookup(ChildL->getHeader()));</td>
    <td class="lineNumber">1642</td>
    <td class="codeline">        cast_or_null<BasicBlock>(VMap.lookup(ChildL->getHeader()));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1643</td>
    <td class="codeline">    if (!ClonedChildHeader || BlocksInClonedLoop.count(ClonedChildHeader))</td>
    <td class="lineNumber">1643</td>
    <td class="codeline">    if (!ClonedChildHeader || BlocksInClonedLoop.count(ClonedChildHeader))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1644</td>
    <td class="codeline">      continue;</td>
    <td class="lineNumber">1644</td>
    <td class="codeline">      continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1645</td>
    <td class="codeline"></td>
    <td class="lineNumber">1645</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1646</td>
    <td class="codeline">#ifndef NDEBUG</td>
    <td class="lineNumber">1646</td>
    <td class="codeline">#ifndef NDEBUG</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1647</td>
    <td class="codeline">    for (auto *ChildLoopBB : ChildL->blocks())</td>
    <td class="lineNumber">1647</td>
    <td class="codeline">    for (auto *ChildLoopBB : ChildL->blocks())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1648</td>
    <td class="codeline">      assert(VMap.count(ChildLoopBB) &&</td>
    <td class="lineNumber">1648</td>
    <td class="codeline">      assert(VMap.count(ChildLoopBB) &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1649</td>
    <td class="codeline">             "Cloned a child loop header but not all of that loops blocks!");</td>
    <td class="lineNumber">1649</td>
    <td class="codeline">             "Cloned a child loop header but not all of that loops blocks!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1650</td>
    <td class="codeline">#endif</td>
    <td class="lineNumber">1650</td>
    <td class="codeline">#endif</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1651</td>
    <td class="codeline"></td>
    <td class="lineNumber">1651</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1652</td>
    <td class="codeline">    NonChildClonedLoops.push_back(cloneLoopNest(</td>
    <td class="lineNumber">1652</td>
    <td class="codeline">    NonChildClonedLoops.push_back(cloneLoopNest(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1653</td>
    <td class="codeline">        *ChildL, ExitLoopMap.lookup(ClonedChildHeader), VMap, LI));</td>
    <td class="lineNumber">1653</td>
    <td class="codeline">        *ChildL, ExitLoopMap.lookup(ClonedChildHeader), VMap, LI));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1654</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">1654</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1655</td>
    <td class="codeline">}</td>
    <td class="lineNumber">1655</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1656</td>
    <td class="codeline"></td>
    <td class="lineNumber">1656</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1657</td>
    <td class="codeline">static void</td>
    <td class="lineNumber">1657</td>
    <td class="codeline">static void</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1658</td>
    <td class="codeline">deleteDeadClonedBlocks(Loop &L, ArrayRef<BasicBlock *> ExitBlocks,</td>
    <td class="lineNumber">1658</td>
    <td class="codeline">deleteDeadClonedBlocks(Loop &L, ArrayRef<BasicBlock *> ExitBlocks,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1659</td>
    <td class="codeline">                       ArrayRef<std::unique_ptr<ValueToValueMapTy>> VMaps,</td>
    <td class="lineNumber">1659</td>
    <td class="codeline">                       ArrayRef<std::unique_ptr<ValueToValueMapTy>> VMaps,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1660</td>
    <td class="codeline">                       DominatorTree &DT, MemorySSAUpdater *MSSAU) {</td>
    <td class="lineNumber">1660</td>
    <td class="codeline">                       DominatorTree &DT, MemorySSAUpdater *MSSAU) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1661</td>
    <td class="codeline">  // Find all the dead clones, and remove them from their successors.</td>
    <td class="lineNumber">1661</td>
    <td class="codeline">  // Find all the dead clones, and remove them from their successors.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1662</td>
    <td class="codeline">  SmallVector<BasicBlock *, 16> DeadBlocks;</td>
    <td class="lineNumber">1662</td>
    <td class="codeline">  SmallVector<BasicBlock *, 16> DeadBlocks;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1663</td>
    <td class="codeline">  for (BasicBlock *BB : llvm::concat<BasicBlock *const>(L.blocks(), ExitBlocks))</td>
    <td class="lineNumber">1663</td>
    <td class="codeline">  for (BasicBlock *BB : llvm::concat<BasicBlock *const>(L.blocks(), ExitBlocks))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1664</td>
    <td class="codeline">    for (const auto &VMap : VMaps)</td>
    <td class="lineNumber">1664</td>
    <td class="codeline">    for (const auto &VMap : VMaps)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1665</td>
    <td class="codeline">      if (BasicBlock *ClonedBB = cast_or_null<BasicBlock>(VMap->lookup(BB)))</td>
    <td class="lineNumber">1665</td>
    <td class="codeline">      if (BasicBlock *ClonedBB = cast_or_null<BasicBlock>(VMap->lookup(BB)))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1666</td>
    <td class="codeline">        if (!DT.isReachableFromEntry(ClonedBB)) {</td>
    <td class="lineNumber">1666</td>
    <td class="codeline">        if (!DT.isReachableFromEntry(ClonedBB)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1667</td>
    <td class="codeline">          for (BasicBlock *SuccBB : successors(ClonedBB))</td>
    <td class="lineNumber">1667</td>
    <td class="codeline">          for (BasicBlock *SuccBB : successors(ClonedBB))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1668</td>
    <td class="codeline">            SuccBB->removePredecessor(ClonedBB);</td>
    <td class="lineNumber">1668</td>
    <td class="codeline">            SuccBB->removePredecessor(ClonedBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1669</td>
    <td class="codeline">          DeadBlocks.push_back(ClonedBB);</td>
    <td class="lineNumber">1669</td>
    <td class="codeline">          DeadBlocks.push_back(ClonedBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1670</td>
    <td class="codeline">        }</td>
    <td class="lineNumber">1670</td>
    <td class="codeline">        }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1671</td>
    <td class="codeline"></td>
    <td class="lineNumber">1671</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1672</td>
    <td class="codeline">  // Remove all MemorySSA in the dead blocks</td>
    <td class="lineNumber">1672</td>
    <td class="codeline">  // Remove all MemorySSA in the dead blocks</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1673</td>
    <td class="codeline">  if (MSSAU) {</td>
    <td class="lineNumber">1673</td>
    <td class="codeline">  if (MSSAU) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1674</td>
    <td class="codeline">    SmallSetVector<BasicBlock *, 8> DeadBlockSet(DeadBlocks.begin(),</td>
    <td class="lineNumber">1674</td>
    <td class="codeline">    SmallSetVector<BasicBlock *, 8> DeadBlockSet(DeadBlocks.begin(),</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1675</td>
    <td class="codeline">                                                 DeadBlocks.end());</td>
    <td class="lineNumber">1675</td>
    <td class="codeline">                                                 DeadBlocks.end());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1676</td>
    <td class="codeline">    MSSAU->removeBlocks(DeadBlockSet);</td>
    <td class="lineNumber">1676</td>
    <td class="codeline">    MSSAU->removeBlocks(DeadBlockSet);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1677</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">1677</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1678</td>
    <td class="codeline"></td>
    <td class="lineNumber">1678</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1679</td>
    <td class="codeline">  // Drop any remaining references to break cycles.</td>
    <td class="lineNumber">1679</td>
    <td class="codeline">  // Drop any remaining references to break cycles.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1680</td>
    <td class="codeline">  for (BasicBlock *BB : DeadBlocks)</td>
    <td class="lineNumber">1680</td>
    <td class="codeline">  for (BasicBlock *BB : DeadBlocks)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1681</td>
    <td class="codeline">    BB->dropAllReferences();</td>
    <td class="lineNumber">1681</td>
    <td class="codeline">    BB->dropAllReferences();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1682</td>
    <td class="codeline">  // Erase them from the IR.</td>
    <td class="lineNumber">1682</td>
    <td class="codeline">  // Erase them from the IR.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1683</td>
    <td class="codeline">  for (BasicBlock *BB : DeadBlocks)</td>
    <td class="lineNumber">1683</td>
    <td class="codeline">  for (BasicBlock *BB : DeadBlocks)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1684</td>
    <td class="codeline">    BB->eraseFromParent();</td>
    <td class="lineNumber">1684</td>
    <td class="codeline">    BB->eraseFromParent();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1685</td>
    <td class="codeline">}</td>
    <td class="lineNumber">1685</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1686</td>
    <td class="codeline"></td>
    <td class="lineNumber">1686</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1687</td>
    <td class="codeline">static void</td>
    <td class="lineNumber">1687</td>
    <td class="codeline">static void</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1688</td>
    <td class="codeline">deleteDeadBlocksFromLoop(Loop &L,</td>
    <td class="lineNumber">1688</td>
    <td class="codeline">deleteDeadBlocksFromLoop(Loop &L,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1689</td>
    <td class="codeline">                         SmallVectorImpl<BasicBlock *> &ExitBlocks,</td>
    <td class="lineNumber">1689</td>
    <td class="codeline">                         SmallVectorImpl<BasicBlock *> &ExitBlocks,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1690</td>
    <td class="codeline">                         DominatorTree &DT, LoopInfo &LI,</td>
    <td class="lineNumber">1690</td>
    <td class="codeline">                         DominatorTree &DT, LoopInfo &LI,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1691</td>
    <td class="codeline">                         MemorySSAUpdater *MSSAU,</td>
    <td class="lineNumber">1691</td>
    <td class="codeline">                         MemorySSAUpdater *MSSAU,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1692</td>
    <td class="codeline">                         ScalarEvolution *SE,</td>
    <td class="lineNumber">1692</td>
    <td class="codeline">                         ScalarEvolution *SE,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1693</td>
    <td class="codeline">                         function_ref<void(Loop &, StringRef)> DestroyLoopCB) {</td>
    <td class="lineNumber">1693</td>
    <td class="codeline">                         function_ref<void(Loop &, StringRef)> DestroyLoopCB) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1694</td>
    <td class="codeline">  // Find all the dead blocks tied to this loop, and remove them from their</td>
    <td class="lineNumber">1694</td>
    <td class="codeline">  // Find all the dead blocks tied to this loop, and remove them from their</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1695</td>
    <td class="codeline">  // successors.</td>
    <td class="lineNumber">1695</td>
    <td class="codeline">  // successors.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1696</td>
    <td class="codeline">  SmallSetVector<BasicBlock *, 8> DeadBlockSet;</td>
    <td class="lineNumber">1696</td>
    <td class="codeline">  SmallSetVector<BasicBlock *, 8> DeadBlockSet;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1697</td>
    <td class="codeline"></td>
    <td class="lineNumber">1697</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1698</td>
    <td class="codeline">  // Start with loop/exit blocks and get a transitive closure of reachable dead</td>
    <td class="lineNumber">1698</td>
    <td class="codeline">  // Start with loop/exit blocks and get a transitive closure of reachable dead</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1699</td>
    <td class="codeline">  // blocks.</td>
    <td class="lineNumber">1699</td>
    <td class="codeline">  // blocks.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1700</td>
    <td class="codeline">  SmallVector<BasicBlock *, 16> DeathCandidates(ExitBlocks.begin(),</td>
    <td class="lineNumber">1700</td>
    <td class="codeline">  SmallVector<BasicBlock *, 16> DeathCandidates(ExitBlocks.begin(),</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1701</td>
    <td class="codeline">                                                ExitBlocks.end());</td>
    <td class="lineNumber">1701</td>
    <td class="codeline">                                                ExitBlocks.end());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1702</td>
    <td class="codeline">  DeathCandidates.append(L.blocks().begin(), L.blocks().end());</td>
    <td class="lineNumber">1702</td>
    <td class="codeline">  DeathCandidates.append(L.blocks().begin(), L.blocks().end());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1703</td>
    <td class="codeline">  while (!DeathCandidates.empty()) {</td>
    <td class="lineNumber">1703</td>
    <td class="codeline">  while (!DeathCandidates.empty()) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1704</td>
    <td class="codeline">    auto *BB = DeathCandidates.pop_back_val();</td>
    <td class="lineNumber">1704</td>
    <td class="codeline">    auto *BB = DeathCandidates.pop_back_val();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1705</td>
    <td class="codeline">    if (!DeadBlockSet.count(BB) && !DT.isReachableFromEntry(BB)) {</td>
    <td class="lineNumber">1705</td>
    <td class="codeline">    if (!DeadBlockSet.count(BB) && !DT.isReachableFromEntry(BB)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1706</td>
    <td class="codeline">      for (BasicBlock *SuccBB : successors(BB)) {</td>
    <td class="lineNumber">1706</td>
    <td class="codeline">      for (BasicBlock *SuccBB : successors(BB)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1707</td>
    <td class="codeline">        SuccBB->removePredecessor(BB);</td>
    <td class="lineNumber">1707</td>
    <td class="codeline">        SuccBB->removePredecessor(BB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1708</td>
    <td class="codeline">        DeathCandidates.push_back(SuccBB);</td>
    <td class="lineNumber">1708</td>
    <td class="codeline">        DeathCandidates.push_back(SuccBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1709</td>
    <td class="codeline">      }</td>
    <td class="lineNumber">1709</td>
    <td class="codeline">      }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1710</td>
    <td class="codeline">      DeadBlockSet.insert(BB);</td>
    <td class="lineNumber">1710</td>
    <td class="codeline">      DeadBlockSet.insert(BB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1711</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">1711</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1712</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">1712</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1713</td>
    <td class="codeline"></td>
    <td class="lineNumber">1713</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1714</td>
    <td class="codeline">  // Remove all MemorySSA in the dead blocks</td>
    <td class="lineNumber">1714</td>
    <td class="codeline">  // Remove all MemorySSA in the dead blocks</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1715</td>
    <td class="codeline">  if (MSSAU)</td>
    <td class="lineNumber">1715</td>
    <td class="codeline">  if (MSSAU)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1716</td>
    <td class="codeline">    MSSAU->removeBlocks(DeadBlockSet);</td>
    <td class="lineNumber">1716</td>
    <td class="codeline">    MSSAU->removeBlocks(DeadBlockSet);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1717</td>
    <td class="codeline"></td>
    <td class="lineNumber">1717</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1718</td>
    <td class="codeline">  // Filter out the dead blocks from the exit blocks list so that it can be</td>
    <td class="lineNumber">1718</td>
    <td class="codeline">  // Filter out the dead blocks from the exit blocks list so that it can be</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1719</td>
    <td class="codeline">  // used in the caller.</td>
    <td class="lineNumber">1719</td>
    <td class="codeline">  // used in the caller.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1720</td>
    <td class="codeline">  llvm::erase_if(ExitBlocks,</td>
    <td class="lineNumber">1720</td>
    <td class="codeline">  llvm::erase_if(ExitBlocks,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1721</td>
    <td class="codeline">                 [&](BasicBlock *BB) { return DeadBlockSet.count(BB); });</td>
    <td class="lineNumber">1721</td>
    <td class="codeline">                 [&](BasicBlock *BB) { return DeadBlockSet.count(BB); });</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1722</td>
    <td class="codeline"></td>
    <td class="lineNumber">1722</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1723</td>
    <td class="codeline">  // Walk from this loop up through its parents removing all of the dead blocks.</td>
    <td class="lineNumber">1723</td>
    <td class="codeline">  // Walk from this loop up through its parents removing all of the dead blocks.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1724</td>
    <td class="codeline">  for (Loop *ParentL = &L; ParentL; ParentL = ParentL->getParentLoop()) {</td>
    <td class="lineNumber">1724</td>
    <td class="codeline">  for (Loop *ParentL = &L; ParentL; ParentL = ParentL->getParentLoop()) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1725</td>
    <td class="codeline">    for (auto *BB : DeadBlockSet)</td>
    <td class="lineNumber">1725</td>
    <td class="codeline">    for (auto *BB : DeadBlockSet)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1726</td>
    <td class="codeline">      ParentL->getBlocksSet().erase(BB);</td>
    <td class="lineNumber">1726</td>
    <td class="codeline">      ParentL->getBlocksSet().erase(BB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1727</td>
    <td class="codeline">    llvm::erase_if(ParentL->getBlocksVector(),</td>
    <td class="lineNumber">1727</td>
    <td class="codeline">    llvm::erase_if(ParentL->getBlocksVector(),</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1728</td>
    <td class="codeline">                   [&](BasicBlock *BB) { return DeadBlockSet.count(BB); });</td>
    <td class="lineNumber">1728</td>
    <td class="codeline">                   [&](BasicBlock *BB) { return DeadBlockSet.count(BB); });</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1729</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">1729</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1730</td>
    <td class="codeline"></td>
    <td class="lineNumber">1730</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1731</td>
    <td class="codeline">  // Now delete the dead child loops. This raw delete will clear them</td>
    <td class="lineNumber">1731</td>
    <td class="codeline">  // Now delete the dead child loops. This raw delete will clear them</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1732</td>
    <td class="codeline">  // recursively.</td>
    <td class="lineNumber">1732</td>
    <td class="codeline">  // recursively.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1733</td>
    <td class="codeline">  llvm::erase_if(L.getSubLoopsVector(), [&](Loop *ChildL) {</td>
    <td class="lineNumber">1733</td>
    <td class="codeline">  llvm::erase_if(L.getSubLoopsVector(), [&](Loop *ChildL) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1734</td>
    <td class="codeline">    if (!DeadBlockSet.count(ChildL->getHeader()))</td>
    <td class="lineNumber">1734</td>
    <td class="codeline">    if (!DeadBlockSet.count(ChildL->getHeader()))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1735</td>
    <td class="codeline">      return false;</td>
    <td class="lineNumber">1735</td>
    <td class="codeline">      return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1736</td>
    <td class="codeline"></td>
    <td class="lineNumber">1736</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1737</td>
    <td class="codeline">    assert(llvm::all_of(ChildL->blocks(),</td>
    <td class="lineNumber">1737</td>
    <td class="codeline">    assert(llvm::all_of(ChildL->blocks(),</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1738</td>
    <td class="codeline">                        [&](BasicBlock *ChildBB) {</td>
    <td class="lineNumber">1738</td>
    <td class="codeline">                        [&](BasicBlock *ChildBB) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1739</td>
    <td class="codeline">                          return DeadBlockSet.count(ChildBB);</td>
    <td class="lineNumber">1739</td>
    <td class="codeline">                          return DeadBlockSet.count(ChildBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1740</td>
    <td class="codeline">                        }) &&</td>
    <td class="lineNumber">1740</td>
    <td class="codeline">                        }) &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1741</td>
    <td class="codeline">           "If the child loop header is dead all blocks in the child loop must "</td>
    <td class="lineNumber">1741</td>
    <td class="codeline">           "If the child loop header is dead all blocks in the child loop must "</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1742</td>
    <td class="codeline">           "be dead as well!");</td>
    <td class="lineNumber">1742</td>
    <td class="codeline">           "be dead as well!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1743</td>
    <td class="codeline">    DestroyLoopCB(*ChildL, ChildL->getName());</td>
    <td class="lineNumber">1743</td>
    <td class="codeline">    DestroyLoopCB(*ChildL, ChildL->getName());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1744</td>
    <td class="codeline">    if (SE)</td>
    <td class="lineNumber">1744</td>
    <td class="codeline">    if (SE)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1745</td>
    <td class="codeline">      SE->forgetBlockAndLoopDispositions();</td>
    <td class="lineNumber">1745</td>
    <td class="codeline">      SE->forgetBlockAndLoopDispositions();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1746</td>
    <td class="codeline">    LI.destroy(ChildL);</td>
    <td class="lineNumber">1746</td>
    <td class="codeline">    LI.destroy(ChildL);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1747</td>
    <td class="codeline">    return true;</td>
    <td class="lineNumber">1747</td>
    <td class="codeline">    return true;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1748</td>
    <td class="codeline">  });</td>
    <td class="lineNumber">1748</td>
    <td class="codeline">  });</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1749</td>
    <td class="codeline"></td>
    <td class="lineNumber">1749</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1750</td>
    <td class="codeline">  // Remove the loop mappings for the dead blocks and drop all the references</td>
    <td class="lineNumber">1750</td>
    <td class="codeline">  // Remove the loop mappings for the dead blocks and drop all the references</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1751</td>
    <td class="codeline">  // from these blocks to others to handle cyclic references as we start</td>
    <td class="lineNumber">1751</td>
    <td class="codeline">  // from these blocks to others to handle cyclic references as we start</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1752</td>
    <td class="codeline">  // deleting the blocks themselves.</td>
    <td class="lineNumber">1752</td>
    <td class="codeline">  // deleting the blocks themselves.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1753</td>
    <td class="codeline">  for (auto *BB : DeadBlockSet) {</td>
    <td class="lineNumber">1753</td>
    <td class="codeline">  for (auto *BB : DeadBlockSet) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1754</td>
    <td class="codeline">    // Check that the dominator tree has already been updated.</td>
    <td class="lineNumber">1754</td>
    <td class="codeline">    // Check that the dominator tree has already been updated.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1755</td>
    <td class="codeline">    assert(!DT.getNode(BB) && "Should already have cleared domtree!");</td>
    <td class="lineNumber">1755</td>
    <td class="codeline">    assert(!DT.getNode(BB) && "Should already have cleared domtree!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1756</td>
    <td class="codeline">    LI.changeLoopFor(BB, nullptr);</td>
    <td class="lineNumber">1756</td>
    <td class="codeline">    LI.changeLoopFor(BB, nullptr);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1757</td>
    <td class="codeline">    // Drop all uses of the instructions to make sure we won't have dangling</td>
    <td class="lineNumber">1757</td>
    <td class="codeline">    // Drop all uses of the instructions to make sure we won't have dangling</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1758</td>
    <td class="codeline">    // uses in other blocks.</td>
    <td class="lineNumber">1758</td>
    <td class="codeline">    // uses in other blocks.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1759</td>
    <td class="codeline">    for (auto &I : *BB)</td>
    <td class="lineNumber">1759</td>
    <td class="codeline">    for (auto &I : *BB)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1760</td>
    <td class="codeline">      if (!I.use_empty())</td>
    <td class="lineNumber">1760</td>
    <td class="codeline">      if (!I.use_empty())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1761</td>
    <td class="codeline">        I.replaceAllUsesWith(PoisonValue::get(I.getType()));</td>
    <td class="lineNumber">1761</td>
    <td class="codeline">        I.replaceAllUsesWith(PoisonValue::get(I.getType()));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1762</td>
    <td class="codeline">    BB->dropAllReferences();</td>
    <td class="lineNumber">1762</td>
    <td class="codeline">    BB->dropAllReferences();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1763</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">1763</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1764</td>
    <td class="codeline"></td>
    <td class="lineNumber">1764</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1765</td>
    <td class="codeline">  // Actually delete the blocks now that they've been fully unhooked from the</td>
    <td class="lineNumber">1765</td>
    <td class="codeline">  // Actually delete the blocks now that they've been fully unhooked from the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1766</td>
    <td class="codeline">  // IR.</td>
    <td class="lineNumber">1766</td>
    <td class="codeline">  // IR.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1767</td>
    <td class="codeline">  for (auto *BB : DeadBlockSet)</td>
    <td class="lineNumber">1767</td>
    <td class="codeline">  for (auto *BB : DeadBlockSet)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1768</td>
    <td class="codeline">    BB->eraseFromParent();</td>
    <td class="lineNumber">1768</td>
    <td class="codeline">    BB->eraseFromParent();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1769</td>
    <td class="codeline">}</td>
    <td class="lineNumber">1769</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1770</td>
    <td class="codeline"></td>
    <td class="lineNumber">1770</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1771</td>
    <td class="codeline">/// Recompute the set of blocks in a loop after unswitching.</td>
    <td class="lineNumber">1771</td>
    <td class="codeline">/// Recompute the set of blocks in a loop after unswitching.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1772</td>
    <td class="codeline">///</td>
    <td class="lineNumber">1772</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1773</td>
    <td class="codeline">/// This walks from the original headers predecessors to rebuild the loop. We</td>
    <td class="lineNumber">1773</td>
    <td class="codeline">/// This walks from the original headers predecessors to rebuild the loop. We</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1774</td>
    <td class="codeline">/// take advantage of the fact that new blocks can't have been added, and so we</td>
    <td class="lineNumber">1774</td>
    <td class="codeline">/// take advantage of the fact that new blocks can't have been added, and so we</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1775</td>
    <td class="codeline">/// filter by the original loop's blocks. This also handles potentially</td>
    <td class="lineNumber">1775</td>
    <td class="codeline">/// filter by the original loop's blocks. This also handles potentially</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1776</td>
    <td class="codeline">/// unreachable code that we don't want to explore but might be found examining</td>
    <td class="lineNumber">1776</td>
    <td class="codeline">/// unreachable code that we don't want to explore but might be found examining</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1777</td>
    <td class="codeline">/// the predecessors of the header.</td>
    <td class="lineNumber">1777</td>
    <td class="codeline">/// the predecessors of the header.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1778</td>
    <td class="codeline">///</td>
    <td class="lineNumber">1778</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1779</td>
    <td class="codeline">/// If the original loop is no longer a loop, this will return an empty set. If</td>
    <td class="lineNumber">1779</td>
    <td class="codeline">/// If the original loop is no longer a loop, this will return an empty set. If</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1780</td>
    <td class="codeline">/// it remains a loop, all the blocks within it will be added to the set</td>
    <td class="lineNumber">1780</td>
    <td class="codeline">/// it remains a loop, all the blocks within it will be added to the set</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1781</td>
    <td class="codeline">/// (including those blocks in inner loops).</td>
    <td class="lineNumber">1781</td>
    <td class="codeline">/// (including those blocks in inner loops).</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1782</td>
    <td class="codeline">static SmallPtrSet<const BasicBlock *, 16> recomputeLoopBlockSet(Loop &L,</td>
    <td class="lineNumber">1782</td>
    <td class="codeline">static SmallPtrSet<const BasicBlock *, 16> recomputeLoopBlockSet(Loop &L,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1783</td>
    <td class="codeline">                                                                 LoopInfo &LI) {</td>
    <td class="lineNumber">1783</td>
    <td class="codeline">                                                                 LoopInfo &LI) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1784</td>
    <td class="codeline">  SmallPtrSet<const BasicBlock *, 16> LoopBlockSet;</td>
    <td class="lineNumber">1784</td>
    <td class="codeline">  SmallPtrSet<const BasicBlock *, 16> LoopBlockSet;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1785</td>
    <td class="codeline"></td>
    <td class="lineNumber">1785</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1786</td>
    <td class="codeline">  auto *PH = L.getLoopPreheader();</td>
    <td class="lineNumber">1786</td>
    <td class="codeline">  auto *PH = L.getLoopPreheader();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1787</td>
    <td class="codeline">  auto *Header = L.getHeader();</td>
    <td class="lineNumber">1787</td>
    <td class="codeline">  auto *Header = L.getHeader();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1788</td>
    <td class="codeline"></td>
    <td class="lineNumber">1788</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1789</td>
    <td class="codeline">  // A worklist to use while walking backwards from the header.</td>
    <td class="lineNumber">1789</td>
    <td class="codeline">  // A worklist to use while walking backwards from the header.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1790</td>
    <td class="codeline">  SmallVector<BasicBlock *, 16> Worklist;</td>
    <td class="lineNumber">1790</td>
    <td class="codeline">  SmallVector<BasicBlock *, 16> Worklist;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1791</td>
    <td class="codeline"></td>
    <td class="lineNumber">1791</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1792</td>
    <td class="codeline">  // First walk the predecessors of the header to find the backedges. This will</td>
    <td class="lineNumber">1792</td>
    <td class="codeline">  // First walk the predecessors of the header to find the backedges. This will</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1793</td>
    <td class="codeline">  // form the basis of our walk.</td>
    <td class="lineNumber">1793</td>
    <td class="codeline">  // form the basis of our walk.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1794</td>
    <td class="codeline">  for (auto *Pred : predecessors(Header)) {</td>
    <td class="lineNumber">1794</td>
    <td class="codeline">  for (auto *Pred : predecessors(Header)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1795</td>
    <td class="codeline">    // Skip the preheader.</td>
    <td class="lineNumber">1795</td>
    <td class="codeline">    // Skip the preheader.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1796</td>
    <td class="codeline">    if (Pred == PH)</td>
    <td class="lineNumber">1796</td>
    <td class="codeline">    if (Pred == PH)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1797</td>
    <td class="codeline">      continue;</td>
    <td class="lineNumber">1797</td>
    <td class="codeline">      continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1798</td>
    <td class="codeline"></td>
    <td class="lineNumber">1798</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1799</td>
    <td class="codeline">    // Because the loop was in simplified form, the only non-loop predecessor</td>
    <td class="lineNumber">1799</td>
    <td class="codeline">    // Because the loop was in simplified form, the only non-loop predecessor</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1800</td>
    <td class="codeline">    // is the preheader.</td>
    <td class="lineNumber">1800</td>
    <td class="codeline">    // is the preheader.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1801</td>
    <td class="codeline">    assert(L.contains(Pred) && "Found a predecessor of the loop header other "</td>
    <td class="lineNumber">1801</td>
    <td class="codeline">    assert(L.contains(Pred) && "Found a predecessor of the loop header other "</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1802</td>
    <td class="codeline">                               "than the preheader that is not part of the "</td>
    <td class="lineNumber">1802</td>
    <td class="codeline">                               "than the preheader that is not part of the "</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1803</td>
    <td class="codeline">                               "loop!");</td>
    <td class="lineNumber">1803</td>
    <td class="codeline">                               "loop!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1804</td>
    <td class="codeline"></td>
    <td class="lineNumber">1804</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1805</td>
    <td class="codeline">    // Insert this block into the loop set and on the first visit and, if it</td>
    <td class="lineNumber">1805</td>
    <td class="codeline">    // Insert this block into the loop set and on the first visit and, if it</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1806</td>
    <td class="codeline">    // isn't the header we're currently walking, put it into the worklist to</td>
    <td class="lineNumber">1806</td>
    <td class="codeline">    // isn't the header we're currently walking, put it into the worklist to</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1807</td>
    <td class="codeline">    // recurse through.</td>
    <td class="lineNumber">1807</td>
    <td class="codeline">    // recurse through.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1808</td>
    <td class="codeline">    if (LoopBlockSet.insert(Pred).second && Pred != Header)</td>
    <td class="lineNumber">1808</td>
    <td class="codeline">    if (LoopBlockSet.insert(Pred).second && Pred != Header)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1809</td>
    <td class="codeline">      Worklist.push_back(Pred);</td>
    <td class="lineNumber">1809</td>
    <td class="codeline">      Worklist.push_back(Pred);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1810</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">1810</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1811</td>
    <td class="codeline"></td>
    <td class="lineNumber">1811</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1812</td>
    <td class="codeline">  // If no backedges were found, we're done.</td>
    <td class="lineNumber">1812</td>
    <td class="codeline">  // If no backedges were found, we're done.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1813</td>
    <td class="codeline">  if (LoopBlockSet.empty())</td>
    <td class="lineNumber">1813</td>
    <td class="codeline">  if (LoopBlockSet.empty())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1814</td>
    <td class="codeline">    return LoopBlockSet;</td>
    <td class="lineNumber">1814</td>
    <td class="codeline">    return LoopBlockSet;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1815</td>
    <td class="codeline"></td>
    <td class="lineNumber">1815</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1816</td>
    <td class="codeline">  // We found backedges, recurse through them to identify the loop blocks.</td>
    <td class="lineNumber">1816</td>
    <td class="codeline">  // We found backedges, recurse through them to identify the loop blocks.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1817</td>
    <td class="codeline">  while (!Worklist.empty()) {</td>
    <td class="lineNumber">1817</td>
    <td class="codeline">  while (!Worklist.empty()) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1818</td>
    <td class="codeline">    BasicBlock *BB = Worklist.pop_back_val();</td>
    <td class="lineNumber">1818</td>
    <td class="codeline">    BasicBlock *BB = Worklist.pop_back_val();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1819</td>
    <td class="codeline">    assert(LoopBlockSet.count(BB) && "Didn't put block into the loop set!");</td>
    <td class="lineNumber">1819</td>
    <td class="codeline">    assert(LoopBlockSet.count(BB) && "Didn't put block into the loop set!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1820</td>
    <td class="codeline"></td>
    <td class="lineNumber">1820</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1821</td>
    <td class="codeline">    // No need to walk past the header.</td>
    <td class="lineNumber">1821</td>
    <td class="codeline">    // No need to walk past the header.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1822</td>
    <td class="codeline">    if (BB == Header)</td>
    <td class="lineNumber">1822</td>
    <td class="codeline">    if (BB == Header)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1823</td>
    <td class="codeline">      continue;</td>
    <td class="lineNumber">1823</td>
    <td class="codeline">      continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1824</td>
    <td class="codeline"></td>
    <td class="lineNumber">1824</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1825</td>
    <td class="codeline">    // Because we know the inner loop structure remains valid we can use the</td>
    <td class="lineNumber">1825</td>
    <td class="codeline">    // Because we know the inner loop structure remains valid we can use the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1826</td>
    <td class="codeline">    // loop structure to jump immediately across the entire nested loop.</td>
    <td class="lineNumber">1826</td>
    <td class="codeline">    // loop structure to jump immediately across the entire nested loop.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1827</td>
    <td class="codeline">    // Further, because it is in loop simplified form, we can directly jump</td>
    <td class="lineNumber">1827</td>
    <td class="codeline">    // Further, because it is in loop simplified form, we can directly jump</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1828</td>
    <td class="codeline">    // to its preheader afterward.</td>
    <td class="lineNumber">1828</td>
    <td class="codeline">    // to its preheader afterward.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1829</td>
    <td class="codeline">    if (Loop *InnerL = LI.getLoopFor(BB))</td>
    <td class="lineNumber">1829</td>
    <td class="codeline">    if (Loop *InnerL = LI.getLoopFor(BB))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1830</td>
    <td class="codeline">      if (InnerL != &L) {</td>
    <td class="lineNumber">1830</td>
    <td class="codeline">      if (InnerL != &L) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1831</td>
    <td class="codeline">        assert(L.contains(InnerL) &&</td>
    <td class="lineNumber">1831</td>
    <td class="codeline">        assert(L.contains(InnerL) &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1832</td>
    <td class="codeline">               "Should not reach a loop *outside* this loop!");</td>
    <td class="lineNumber">1832</td>
    <td class="codeline">               "Should not reach a loop *outside* this loop!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1833</td>
    <td class="codeline">        // The preheader is the only possible predecessor of the loop so</td>
    <td class="lineNumber">1833</td>
    <td class="codeline">        // The preheader is the only possible predecessor of the loop so</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1834</td>
    <td class="codeline">        // insert it into the set and check whether it was already handled.</td>
    <td class="lineNumber">1834</td>
    <td class="codeline">        // insert it into the set and check whether it was already handled.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1835</td>
    <td class="codeline">        auto *InnerPH = InnerL->getLoopPreheader();</td>
    <td class="lineNumber">1835</td>
    <td class="codeline">        auto *InnerPH = InnerL->getLoopPreheader();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1836</td>
    <td class="codeline">        assert(L.contains(InnerPH) && "Cannot contain an inner loop block "</td>
    <td class="lineNumber">1836</td>
    <td class="codeline">        assert(L.contains(InnerPH) && "Cannot contain an inner loop block "</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1837</td>
    <td class="codeline">                                      "but not contain the inner loop "</td>
    <td class="lineNumber">1837</td>
    <td class="codeline">                                      "but not contain the inner loop "</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1838</td>
    <td class="codeline">                                      "preheader!");</td>
    <td class="lineNumber">1838</td>
    <td class="codeline">                                      "preheader!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1839</td>
    <td class="codeline">        if (!LoopBlockSet.insert(InnerPH).second)</td>
    <td class="lineNumber">1839</td>
    <td class="codeline">        if (!LoopBlockSet.insert(InnerPH).second)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1840</td>
    <td class="codeline">          // The only way to reach the preheader is through the loop body</td>
    <td class="lineNumber">1840</td>
    <td class="codeline">          // The only way to reach the preheader is through the loop body</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1841</td>
    <td class="codeline">          // itself so if it has been visited the loop is already handled.</td>
    <td class="lineNumber">1841</td>
    <td class="codeline">          // itself so if it has been visited the loop is already handled.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1842</td>
    <td class="codeline">          continue;</td>
    <td class="lineNumber">1842</td>
    <td class="codeline">          continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1843</td>
    <td class="codeline"></td>
    <td class="lineNumber">1843</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1844</td>
    <td class="codeline">        // Insert all of the blocks (other than those already present) into</td>
    <td class="lineNumber">1844</td>
    <td class="codeline">        // Insert all of the blocks (other than those already present) into</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1845</td>
    <td class="codeline">        // the loop set. We expect at least the block that led us to find the</td>
    <td class="lineNumber">1845</td>
    <td class="codeline">        // the loop set. We expect at least the block that led us to find the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1846</td>
    <td class="codeline">        // inner loop to be in the block set, but we may also have other loop</td>
    <td class="lineNumber">1846</td>
    <td class="codeline">        // inner loop to be in the block set, but we may also have other loop</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1847</td>
    <td class="codeline">        // blocks if they were already enqueued as predecessors of some other</td>
    <td class="lineNumber">1847</td>
    <td class="codeline">        // blocks if they were already enqueued as predecessors of some other</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1848</td>
    <td class="codeline">        // outer loop block.</td>
    <td class="lineNumber">1848</td>
    <td class="codeline">        // outer loop block.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1849</td>
    <td class="codeline">        for (auto *InnerBB : InnerL->blocks()) {</td>
    <td class="lineNumber">1849</td>
    <td class="codeline">        for (auto *InnerBB : InnerL->blocks()) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1850</td>
    <td class="codeline">          if (InnerBB == BB) {</td>
    <td class="lineNumber">1850</td>
    <td class="codeline">          if (InnerBB == BB) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1851</td>
    <td class="codeline">            assert(LoopBlockSet.count(InnerBB) &&</td>
    <td class="lineNumber">1851</td>
    <td class="codeline">            assert(LoopBlockSet.count(InnerBB) &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1852</td>
    <td class="codeline">                   "Block should already be in the set!");</td>
    <td class="lineNumber">1852</td>
    <td class="codeline">                   "Block should already be in the set!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1853</td>
    <td class="codeline">            continue;</td>
    <td class="lineNumber">1853</td>
    <td class="codeline">            continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1854</td>
    <td class="codeline">          }</td>
    <td class="lineNumber">1854</td>
    <td class="codeline">          }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1855</td>
    <td class="codeline"></td>
    <td class="lineNumber">1855</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1856</td>
    <td class="codeline">          LoopBlockSet.insert(InnerBB);</td>
    <td class="lineNumber">1856</td>
    <td class="codeline">          LoopBlockSet.insert(InnerBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1857</td>
    <td class="codeline">        }</td>
    <td class="lineNumber">1857</td>
    <td class="codeline">        }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1858</td>
    <td class="codeline"></td>
    <td class="lineNumber">1858</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1859</td>
    <td class="codeline">        // Add the preheader to the worklist so we will continue past the</td>
    <td class="lineNumber">1859</td>
    <td class="codeline">        // Add the preheader to the worklist so we will continue past the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1860</td>
    <td class="codeline">        // loop body.</td>
    <td class="lineNumber">1860</td>
    <td class="codeline">        // loop body.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1861</td>
    <td class="codeline">        Worklist.push_back(InnerPH);</td>
    <td class="lineNumber">1861</td>
    <td class="codeline">        Worklist.push_back(InnerPH);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1862</td>
    <td class="codeline">        continue;</td>
    <td class="lineNumber">1862</td>
    <td class="codeline">        continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1863</td>
    <td class="codeline">      }</td>
    <td class="lineNumber">1863</td>
    <td class="codeline">      }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1864</td>
    <td class="codeline"></td>
    <td class="lineNumber">1864</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1865</td>
    <td class="codeline">    // Insert any predecessors that were in the original loop into the new</td>
    <td class="lineNumber">1865</td>
    <td class="codeline">    // Insert any predecessors that were in the original loop into the new</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1866</td>
    <td class="codeline">    // set, and if the insert is successful, add them to the worklist.</td>
    <td class="lineNumber">1866</td>
    <td class="codeline">    // set, and if the insert is successful, add them to the worklist.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1867</td>
    <td class="codeline">    for (auto *Pred : predecessors(BB))</td>
    <td class="lineNumber">1867</td>
    <td class="codeline">    for (auto *Pred : predecessors(BB))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1868</td>
    <td class="codeline">      if (L.contains(Pred) && LoopBlockSet.insert(Pred).second)</td>
    <td class="lineNumber">1868</td>
    <td class="codeline">      if (L.contains(Pred) && LoopBlockSet.insert(Pred).second)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1869</td>
    <td class="codeline">        Worklist.push_back(Pred);</td>
    <td class="lineNumber">1869</td>
    <td class="codeline">        Worklist.push_back(Pred);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1870</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">1870</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1871</td>
    <td class="codeline"></td>
    <td class="lineNumber">1871</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1872</td>
    <td class="codeline">  assert(LoopBlockSet.count(Header) && "Cannot fail to add the header!");</td>
    <td class="lineNumber">1872</td>
    <td class="codeline">  assert(LoopBlockSet.count(Header) && "Cannot fail to add the header!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1873</td>
    <td class="codeline"></td>
    <td class="lineNumber">1873</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1874</td>
    <td class="codeline">  // We've found all the blocks participating in the loop, return our completed</td>
    <td class="lineNumber">1874</td>
    <td class="codeline">  // We've found all the blocks participating in the loop, return our completed</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1875</td>
    <td class="codeline">  // set.</td>
    <td class="lineNumber">1875</td>
    <td class="codeline">  // set.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1876</td>
    <td class="codeline">  return LoopBlockSet;</td>
    <td class="lineNumber">1876</td>
    <td class="codeline">  return LoopBlockSet;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1877</td>
    <td class="codeline">}</td>
    <td class="lineNumber">1877</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1878</td>
    <td class="codeline"></td>
    <td class="lineNumber">1878</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1879</td>
    <td class="codeline">/// Rebuild a loop after unswitching removes some subset of blocks and edges.</td>
    <td class="lineNumber">1879</td>
    <td class="codeline">/// Rebuild a loop after unswitching removes some subset of blocks and edges.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1880</td>
    <td class="codeline">///</td>
    <td class="lineNumber">1880</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1881</td>
    <td class="codeline">/// The removal may have removed some child loops entirely but cannot have</td>
    <td class="lineNumber">1881</td>
    <td class="codeline">/// The removal may have removed some child loops entirely but cannot have</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1882</td>
    <td class="codeline">/// disturbed any remaining child loops. However, they may need to be hoisted</td>
    <td class="lineNumber">1882</td>
    <td class="codeline">/// disturbed any remaining child loops. However, they may need to be hoisted</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1883</td>
    <td class="codeline">/// to the parent loop (or to be top-level loops). The original loop may be</td>
    <td class="lineNumber">1883</td>
    <td class="codeline">/// to the parent loop (or to be top-level loops). The original loop may be</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1884</td>
    <td class="codeline">/// completely removed.</td>
    <td class="lineNumber">1884</td>
    <td class="codeline">/// completely removed.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1885</td>
    <td class="codeline">///</td>
    <td class="lineNumber">1885</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1886</td>
    <td class="codeline">/// The sibling loops resulting from this update are returned. If the original</td>
    <td class="lineNumber">1886</td>
    <td class="codeline">/// The sibling loops resulting from this update are returned. If the original</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1887</td>
    <td class="codeline">/// loop remains a valid loop, it will be the first entry in this list with all</td>
    <td class="lineNumber">1887</td>
    <td class="codeline">/// loop remains a valid loop, it will be the first entry in this list with all</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1888</td>
    <td class="codeline">/// of the newly sibling loops following it.</td>
    <td class="lineNumber">1888</td>
    <td class="codeline">/// of the newly sibling loops following it.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1889</td>
    <td class="codeline">///</td>
    <td class="lineNumber">1889</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1890</td>
    <td class="codeline">/// Returns true if the loop remains a loop after unswitching, and false if it</td>
    <td class="lineNumber">1890</td>
    <td class="codeline">/// Returns true if the loop remains a loop after unswitching, and false if it</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1891</td>
    <td class="codeline">/// is no longer a loop after unswitching (and should not continue to be</td>
    <td class="lineNumber">1891</td>
    <td class="codeline">/// is no longer a loop after unswitching (and should not continue to be</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1892</td>
    <td class="codeline">/// referenced).</td>
    <td class="lineNumber">1892</td>
    <td class="codeline">/// referenced).</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1893</td>
    <td class="codeline">static bool rebuildLoopAfterUnswitch(Loop &L, ArrayRef<BasicBlock *> ExitBlocks,</td>
    <td class="lineNumber">1893</td>
    <td class="codeline">static bool rebuildLoopAfterUnswitch(Loop &L, ArrayRef<BasicBlock *> ExitBlocks,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1894</td>
    <td class="codeline">                                     LoopInfo &LI,</td>
    <td class="lineNumber">1894</td>
    <td class="codeline">                                     LoopInfo &LI,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1895</td>
    <td class="codeline">                                     SmallVectorImpl<Loop *> &HoistedLoops,</td>
    <td class="lineNumber">1895</td>
    <td class="codeline">                                     SmallVectorImpl<Loop *> &HoistedLoops,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1896</td>
    <td class="codeline">                                     ScalarEvolution *SE) {</td>
    <td class="lineNumber">1896</td>
    <td class="codeline">                                     ScalarEvolution *SE) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1897</td>
    <td class="codeline">  auto *PH = L.getLoopPreheader();</td>
    <td class="lineNumber">1897</td>
    <td class="codeline">  auto *PH = L.getLoopPreheader();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1898</td>
    <td class="codeline"></td>
    <td class="lineNumber">1898</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1899</td>
    <td class="codeline">  // Compute the actual parent loop from the exit blocks. Because we may have</td>
    <td class="lineNumber">1899</td>
    <td class="codeline">  // Compute the actual parent loop from the exit blocks. Because we may have</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1900</td>
    <td class="codeline">  // pruned some exits the loop may be different from the original parent.</td>
    <td class="lineNumber">1900</td>
    <td class="codeline">  // pruned some exits the loop may be different from the original parent.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1901</td>
    <td class="codeline">  Loop *ParentL = nullptr;</td>
    <td class="lineNumber">1901</td>
    <td class="codeline">  Loop *ParentL = nullptr;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1902</td>
    <td class="codeline">  SmallVector<Loop *, 4> ExitLoops;</td>
    <td class="lineNumber">1902</td>
    <td class="codeline">  SmallVector<Loop *, 4> ExitLoops;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1903</td>
    <td class="codeline">  SmallVector<BasicBlock *, 4> ExitsInLoops;</td>
    <td class="lineNumber">1903</td>
    <td class="codeline">  SmallVector<BasicBlock *, 4> ExitsInLoops;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1904</td>
    <td class="codeline">  ExitsInLoops.reserve(ExitBlocks.size());</td>
    <td class="lineNumber">1904</td>
    <td class="codeline">  ExitsInLoops.reserve(ExitBlocks.size());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1905</td>
    <td class="codeline">  for (auto *ExitBB : ExitBlocks)</td>
    <td class="lineNumber">1905</td>
    <td class="codeline">  for (auto *ExitBB : ExitBlocks)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1906</td>
    <td class="codeline">    if (Loop *ExitL = LI.getLoopFor(ExitBB)) {</td>
    <td class="lineNumber">1906</td>
    <td class="codeline">    if (Loop *ExitL = LI.getLoopFor(ExitBB)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1907</td>
    <td class="codeline">      ExitLoops.push_back(ExitL);</td>
    <td class="lineNumber">1907</td>
    <td class="codeline">      ExitLoops.push_back(ExitL);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1908</td>
    <td class="codeline">      ExitsInLoops.push_back(ExitBB);</td>
    <td class="lineNumber">1908</td>
    <td class="codeline">      ExitsInLoops.push_back(ExitBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1909</td>
    <td class="codeline">      if (!ParentL || (ParentL != ExitL && ParentL->contains(ExitL)))</td>
    <td class="lineNumber">1909</td>
    <td class="codeline">      if (!ParentL || (ParentL != ExitL && ParentL->contains(ExitL)))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1910</td>
    <td class="codeline">        ParentL = ExitL;</td>
    <td class="lineNumber">1910</td>
    <td class="codeline">        ParentL = ExitL;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1911</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">1911</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1912</td>
    <td class="codeline"></td>
    <td class="lineNumber">1912</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1913</td>
    <td class="codeline">  // Recompute the blocks participating in this loop. This may be empty if it</td>
    <td class="lineNumber">1913</td>
    <td class="codeline">  // Recompute the blocks participating in this loop. This may be empty if it</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1914</td>
    <td class="codeline">  // is no longer a loop.</td>
    <td class="lineNumber">1914</td>
    <td class="codeline">  // is no longer a loop.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1915</td>
    <td class="codeline">  auto LoopBlockSet = recomputeLoopBlockSet(L, LI);</td>
    <td class="lineNumber">1915</td>
    <td class="codeline">  auto LoopBlockSet = recomputeLoopBlockSet(L, LI);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1916</td>
    <td class="codeline"></td>
    <td class="lineNumber">1916</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1917</td>
    <td class="codeline">  // If we still have a loop, we need to re-set the loop's parent as the exit</td>
    <td class="lineNumber">1917</td>
    <td class="codeline">  // If we still have a loop, we need to re-set the loop's parent as the exit</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1918</td>
    <td class="codeline">  // block set changing may have moved it within the loop nest. Note that this</td>
    <td class="lineNumber">1918</td>
    <td class="codeline">  // block set changing may have moved it within the loop nest. Note that this</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1919</td>
    <td class="codeline">  // can only happen when this loop has a parent as it can only hoist the loop</td>
    <td class="lineNumber">1919</td>
    <td class="codeline">  // can only happen when this loop has a parent as it can only hoist the loop</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1920</td>
    <td class="codeline">  // *up* the nest.</td>
    <td class="lineNumber">1920</td>
    <td class="codeline">  // *up* the nest.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1921</td>
    <td class="codeline">  if (!LoopBlockSet.empty() && L.getParentLoop() != ParentL) {</td>
    <td class="lineNumber">1921</td>
    <td class="codeline">  if (!LoopBlockSet.empty() && L.getParentLoop() != ParentL) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1922</td>
    <td class="codeline">    // Remove this loop's (original) blocks from all of the intervening loops.</td>
    <td class="lineNumber">1922</td>
    <td class="codeline">    // Remove this loop's (original) blocks from all of the intervening loops.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1923</td>
    <td class="codeline">    for (Loop *IL = L.getParentLoop(); IL != ParentL;</td>
    <td class="lineNumber">1923</td>
    <td class="codeline">    for (Loop *IL = L.getParentLoop(); IL != ParentL;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1924</td>
    <td class="codeline">         IL = IL->getParentLoop()) {</td>
    <td class="lineNumber">1924</td>
    <td class="codeline">         IL = IL->getParentLoop()) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1925</td>
    <td class="codeline">      IL->getBlocksSet().erase(PH);</td>
    <td class="lineNumber">1925</td>
    <td class="codeline">      IL->getBlocksSet().erase(PH);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1926</td>
    <td class="codeline">      for (auto *BB : L.blocks())</td>
    <td class="lineNumber">1926</td>
    <td class="codeline">      for (auto *BB : L.blocks())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1927</td>
    <td class="codeline">        IL->getBlocksSet().erase(BB);</td>
    <td class="lineNumber">1927</td>
    <td class="codeline">        IL->getBlocksSet().erase(BB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1928</td>
    <td class="codeline">      llvm::erase_if(IL->getBlocksVector(), [&](BasicBlock *BB) {</td>
    <td class="lineNumber">1928</td>
    <td class="codeline">      llvm::erase_if(IL->getBlocksVector(), [&](BasicBlock *BB) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1929</td>
    <td class="codeline">        return BB == PH || L.contains(BB);</td>
    <td class="lineNumber">1929</td>
    <td class="codeline">        return BB == PH || L.contains(BB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1930</td>
    <td class="codeline">      });</td>
    <td class="lineNumber">1930</td>
    <td class="codeline">      });</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1931</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">1931</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1932</td>
    <td class="codeline"></td>
    <td class="lineNumber">1932</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1933</td>
    <td class="codeline">    LI.changeLoopFor(PH, ParentL);</td>
    <td class="lineNumber">1933</td>
    <td class="codeline">    LI.changeLoopFor(PH, ParentL);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1934</td>
    <td class="codeline">    L.getParentLoop()->removeChildLoop(&L);</td>
    <td class="lineNumber">1934</td>
    <td class="codeline">    L.getParentLoop()->removeChildLoop(&L);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1935</td>
    <td class="codeline">    if (ParentL)</td>
    <td class="lineNumber">1935</td>
    <td class="codeline">    if (ParentL)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1936</td>
    <td class="codeline">      ParentL->addChildLoop(&L);</td>
    <td class="lineNumber">1936</td>
    <td class="codeline">      ParentL->addChildLoop(&L);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1937</td>
    <td class="codeline">    else</td>
    <td class="lineNumber">1937</td>
    <td class="codeline">    else</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1938</td>
    <td class="codeline">      LI.addTopLevelLoop(&L);</td>
    <td class="lineNumber">1938</td>
    <td class="codeline">      LI.addTopLevelLoop(&L);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1939</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">1939</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1940</td>
    <td class="codeline"></td>
    <td class="lineNumber">1940</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1941</td>
    <td class="codeline">  // Now we update all the blocks which are no longer within the loop.</td>
    <td class="lineNumber">1941</td>
    <td class="codeline">  // Now we update all the blocks which are no longer within the loop.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1942</td>
    <td class="codeline">  auto &Blocks = L.getBlocksVector();</td>
    <td class="lineNumber">1942</td>
    <td class="codeline">  auto &Blocks = L.getBlocksVector();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1943</td>
    <td class="codeline">  auto BlocksSplitI =</td>
    <td class="lineNumber">1943</td>
    <td class="codeline">  auto BlocksSplitI =</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1944</td>
    <td class="codeline">      LoopBlockSet.empty()</td>
    <td class="lineNumber">1944</td>
    <td class="codeline">      LoopBlockSet.empty()</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1945</td>
    <td class="codeline">          ? Blocks.begin()</td>
    <td class="lineNumber">1945</td>
    <td class="codeline">          ? Blocks.begin()</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1946</td>
    <td class="codeline">          : std::stable_partition(</td>
    <td class="lineNumber">1946</td>
    <td class="codeline">          : std::stable_partition(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1947</td>
    <td class="codeline">                Blocks.begin(), Blocks.end(),</td>
    <td class="lineNumber">1947</td>
    <td class="codeline">                Blocks.begin(), Blocks.end(),</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1948</td>
    <td class="codeline">                [&](BasicBlock *BB) { return LoopBlockSet.count(BB); });</td>
    <td class="lineNumber">1948</td>
    <td class="codeline">                [&](BasicBlock *BB) { return LoopBlockSet.count(BB); });</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1949</td>
    <td class="codeline"></td>
    <td class="lineNumber">1949</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1950</td>
    <td class="codeline">  // Before we erase the list of unlooped blocks, build a set of them.</td>
    <td class="lineNumber">1950</td>
    <td class="codeline">  // Before we erase the list of unlooped blocks, build a set of them.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1951</td>
    <td class="codeline">  SmallPtrSet<BasicBlock *, 16> UnloopedBlocks(BlocksSplitI, Blocks.end());</td>
    <td class="lineNumber">1951</td>
    <td class="codeline">  SmallPtrSet<BasicBlock *, 16> UnloopedBlocks(BlocksSplitI, Blocks.end());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1952</td>
    <td class="codeline">  if (LoopBlockSet.empty())</td>
    <td class="lineNumber">1952</td>
    <td class="codeline">  if (LoopBlockSet.empty())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1953</td>
    <td class="codeline">    UnloopedBlocks.insert(PH);</td>
    <td class="lineNumber">1953</td>
    <td class="codeline">    UnloopedBlocks.insert(PH);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1954</td>
    <td class="codeline"></td>
    <td class="lineNumber">1954</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1955</td>
    <td class="codeline">  // Now erase these blocks from the loop.</td>
    <td class="lineNumber">1955</td>
    <td class="codeline">  // Now erase these blocks from the loop.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1956</td>
    <td class="codeline">  for (auto *BB : make_range(BlocksSplitI, Blocks.end()))</td>
    <td class="lineNumber">1956</td>
    <td class="codeline">  for (auto *BB : make_range(BlocksSplitI, Blocks.end()))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1957</td>
    <td class="codeline">    L.getBlocksSet().erase(BB);</td>
    <td class="lineNumber">1957</td>
    <td class="codeline">    L.getBlocksSet().erase(BB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1958</td>
    <td class="codeline">  Blocks.erase(BlocksSplitI, Blocks.end());</td>
    <td class="lineNumber">1958</td>
    <td class="codeline">  Blocks.erase(BlocksSplitI, Blocks.end());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1959</td>
    <td class="codeline"></td>
    <td class="lineNumber">1959</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1960</td>
    <td class="codeline">  // Sort the exits in ascending loop depth, we'll work backwards across these</td>
    <td class="lineNumber">1960</td>
    <td class="codeline">  // Sort the exits in ascending loop depth, we'll work backwards across these</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1961</td>
    <td class="codeline">  // to process them inside out.</td>
    <td class="lineNumber">1961</td>
    <td class="codeline">  // to process them inside out.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1962</td>
    <td class="codeline">  llvm::stable_sort(ExitsInLoops, [&](BasicBlock *LHS, BasicBlock *RHS) {</td>
    <td class="lineNumber">1962</td>
    <td class="codeline">  llvm::stable_sort(ExitsInLoops, [&](BasicBlock *LHS, BasicBlock *RHS) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1963</td>
    <td class="codeline">    return LI.getLoopDepth(LHS) < LI.getLoopDepth(RHS);</td>
    <td class="lineNumber">1963</td>
    <td class="codeline">    return LI.getLoopDepth(LHS) < LI.getLoopDepth(RHS);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1964</td>
    <td class="codeline">  });</td>
    <td class="lineNumber">1964</td>
    <td class="codeline">  });</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1965</td>
    <td class="codeline"></td>
    <td class="lineNumber">1965</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1966</td>
    <td class="codeline">  // We'll build up a set for each exit loop.</td>
    <td class="lineNumber">1966</td>
    <td class="codeline">  // We'll build up a set for each exit loop.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1967</td>
    <td class="codeline">  SmallPtrSet<BasicBlock *, 16> NewExitLoopBlocks;</td>
    <td class="lineNumber">1967</td>
    <td class="codeline">  SmallPtrSet<BasicBlock *, 16> NewExitLoopBlocks;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1968</td>
    <td class="codeline">  Loop *PrevExitL = L.getParentLoop(); // The deepest possible exit loop.</td>
    <td class="lineNumber">1968</td>
    <td class="codeline">  Loop *PrevExitL = L.getParentLoop(); // The deepest possible exit loop.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1969</td>
    <td class="codeline"></td>
    <td class="lineNumber">1969</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1970</td>
    <td class="codeline">  auto RemoveUnloopedBlocksFromLoop =</td>
    <td class="lineNumber">1970</td>
    <td class="codeline">  auto RemoveUnloopedBlocksFromLoop =</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1971</td>
    <td class="codeline">      [](Loop &L, SmallPtrSetImpl<BasicBlock *> &UnloopedBlocks) {</td>
    <td class="lineNumber">1971</td>
    <td class="codeline">      [](Loop &L, SmallPtrSetImpl<BasicBlock *> &UnloopedBlocks) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1972</td>
    <td class="codeline">        for (auto *BB : UnloopedBlocks)</td>
    <td class="lineNumber">1972</td>
    <td class="codeline">        for (auto *BB : UnloopedBlocks)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1973</td>
    <td class="codeline">          L.getBlocksSet().erase(BB);</td>
    <td class="lineNumber">1973</td>
    <td class="codeline">          L.getBlocksSet().erase(BB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1974</td>
    <td class="codeline">        llvm::erase_if(L.getBlocksVector(), [&](BasicBlock *BB) {</td>
    <td class="lineNumber">1974</td>
    <td class="codeline">        llvm::erase_if(L.getBlocksVector(), [&](BasicBlock *BB) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1975</td>
    <td class="codeline">          return UnloopedBlocks.count(BB);</td>
    <td class="lineNumber">1975</td>
    <td class="codeline">          return UnloopedBlocks.count(BB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1976</td>
    <td class="codeline">        });</td>
    <td class="lineNumber">1976</td>
    <td class="codeline">        });</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1977</td>
    <td class="codeline">      };</td>
    <td class="lineNumber">1977</td>
    <td class="codeline">      };</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1978</td>
    <td class="codeline"></td>
    <td class="lineNumber">1978</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1979</td>
    <td class="codeline">  SmallVector<BasicBlock *, 16> Worklist;</td>
    <td class="lineNumber">1979</td>
    <td class="codeline">  SmallVector<BasicBlock *, 16> Worklist;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1980</td>
    <td class="codeline">  while (!UnloopedBlocks.empty() && !ExitsInLoops.empty()) {</td>
    <td class="lineNumber">1980</td>
    <td class="codeline">  while (!UnloopedBlocks.empty() && !ExitsInLoops.empty()) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1981</td>
    <td class="codeline">    assert(Worklist.empty() && "Didn't clear worklist!");</td>
    <td class="lineNumber">1981</td>
    <td class="codeline">    assert(Worklist.empty() && "Didn't clear worklist!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1982</td>
    <td class="codeline">    assert(NewExitLoopBlocks.empty() && "Didn't clear loop set!");</td>
    <td class="lineNumber">1982</td>
    <td class="codeline">    assert(NewExitLoopBlocks.empty() && "Didn't clear loop set!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1983</td>
    <td class="codeline"></td>
    <td class="lineNumber">1983</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1984</td>
    <td class="codeline">    // Grab the next exit block, in decreasing loop depth order.</td>
    <td class="lineNumber">1984</td>
    <td class="codeline">    // Grab the next exit block, in decreasing loop depth order.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1985</td>
    <td class="codeline">    BasicBlock *ExitBB = ExitsInLoops.pop_back_val();</td>
    <td class="lineNumber">1985</td>
    <td class="codeline">    BasicBlock *ExitBB = ExitsInLoops.pop_back_val();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1986</td>
    <td class="codeline">    Loop &ExitL = *LI.getLoopFor(ExitBB);</td>
    <td class="lineNumber">1986</td>
    <td class="codeline">    Loop &ExitL = *LI.getLoopFor(ExitBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1987</td>
    <td class="codeline">    assert(ExitL.contains(&L) && "Exit loop must contain the inner loop!");</td>
    <td class="lineNumber">1987</td>
    <td class="codeline">    assert(ExitL.contains(&L) && "Exit loop must contain the inner loop!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1988</td>
    <td class="codeline"></td>
    <td class="lineNumber">1988</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1989</td>
    <td class="codeline">    // Erase all of the unlooped blocks from the loops between the previous</td>
    <td class="lineNumber">1989</td>
    <td class="codeline">    // Erase all of the unlooped blocks from the loops between the previous</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1990</td>
    <td class="codeline">    // exit loop and this exit loop. This works because the ExitInLoops list is</td>
    <td class="lineNumber">1990</td>
    <td class="codeline">    // exit loop and this exit loop. This works because the ExitInLoops list is</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1991</td>
    <td class="codeline">    // sorted in increasing order of loop depth and thus we visit loops in</td>
    <td class="lineNumber">1991</td>
    <td class="codeline">    // sorted in increasing order of loop depth and thus we visit loops in</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1992</td>
    <td class="codeline">    // decreasing order of loop depth.</td>
    <td class="lineNumber">1992</td>
    <td class="codeline">    // decreasing order of loop depth.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1993</td>
    <td class="codeline">    for (; PrevExitL != &ExitL; PrevExitL = PrevExitL->getParentLoop())</td>
    <td class="lineNumber">1993</td>
    <td class="codeline">    for (; PrevExitL != &ExitL; PrevExitL = PrevExitL->getParentLoop())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1994</td>
    <td class="codeline">      RemoveUnloopedBlocksFromLoop(*PrevExitL, UnloopedBlocks);</td>
    <td class="lineNumber">1994</td>
    <td class="codeline">      RemoveUnloopedBlocksFromLoop(*PrevExitL, UnloopedBlocks);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1995</td>
    <td class="codeline"></td>
    <td class="lineNumber">1995</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1996</td>
    <td class="codeline">    // Walk the CFG back until we hit the cloned PH adding everything reachable</td>
    <td class="lineNumber">1996</td>
    <td class="codeline">    // Walk the CFG back until we hit the cloned PH adding everything reachable</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1997</td>
    <td class="codeline">    // and in the unlooped set to this exit block's loop.</td>
    <td class="lineNumber">1997</td>
    <td class="codeline">    // and in the unlooped set to this exit block's loop.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1998</td>
    <td class="codeline">    Worklist.push_back(ExitBB);</td>
    <td class="lineNumber">1998</td>
    <td class="codeline">    Worklist.push_back(ExitBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1999</td>
    <td class="codeline">    do {</td>
    <td class="lineNumber">1999</td>
    <td class="codeline">    do {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2000</td>
    <td class="codeline">      BasicBlock *BB = Worklist.pop_back_val();</td>
    <td class="lineNumber">2000</td>
    <td class="codeline">      BasicBlock *BB = Worklist.pop_back_val();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2001</td>
    <td class="codeline">      // We can stop recursing at the cloned preheader (if we get there).</td>
    <td class="lineNumber">2001</td>
    <td class="codeline">      // We can stop recursing at the cloned preheader (if we get there).</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2002</td>
    <td class="codeline">      if (BB == PH)</td>
    <td class="lineNumber">2002</td>
    <td class="codeline">      if (BB == PH)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2003</td>
    <td class="codeline">        continue;</td>
    <td class="lineNumber">2003</td>
    <td class="codeline">        continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2004</td>
    <td class="codeline"></td>
    <td class="lineNumber">2004</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2005</td>
    <td class="codeline">      for (BasicBlock *PredBB : predecessors(BB)) {</td>
    <td class="lineNumber">2005</td>
    <td class="codeline">      for (BasicBlock *PredBB : predecessors(BB)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2006</td>
    <td class="codeline">        // If this pred has already been moved to our set or is part of some</td>
    <td class="lineNumber">2006</td>
    <td class="codeline">        // If this pred has already been moved to our set or is part of some</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2007</td>
    <td class="codeline">        // (inner) loop, no update needed.</td>
    <td class="lineNumber">2007</td>
    <td class="codeline">        // (inner) loop, no update needed.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2008</td>
    <td class="codeline">        if (!UnloopedBlocks.erase(PredBB)) {</td>
    <td class="lineNumber">2008</td>
    <td class="codeline">        if (!UnloopedBlocks.erase(PredBB)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2009</td>
    <td class="codeline">          assert((NewExitLoopBlocks.count(PredBB) ||</td>
    <td class="lineNumber">2009</td>
    <td class="codeline">          assert((NewExitLoopBlocks.count(PredBB) ||</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2010</td>
    <td class="codeline">                  ExitL.contains(LI.getLoopFor(PredBB))) &&</td>
    <td class="lineNumber">2010</td>
    <td class="codeline">                  ExitL.contains(LI.getLoopFor(PredBB))) &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2011</td>
    <td class="codeline">                 "Predecessor not in a nested loop (or already visited)!");</td>
    <td class="lineNumber">2011</td>
    <td class="codeline">                 "Predecessor not in a nested loop (or already visited)!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2012</td>
    <td class="codeline">          continue;</td>
    <td class="lineNumber">2012</td>
    <td class="codeline">          continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2013</td>
    <td class="codeline">        }</td>
    <td class="lineNumber">2013</td>
    <td class="codeline">        }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2014</td>
    <td class="codeline"></td>
    <td class="lineNumber">2014</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2015</td>
    <td class="codeline">        // We just insert into the loop set here. We'll add these blocks to the</td>
    <td class="lineNumber">2015</td>
    <td class="codeline">        // We just insert into the loop set here. We'll add these blocks to the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2016</td>
    <td class="codeline">        // exit loop after we build up the set in a deterministic order rather</td>
    <td class="lineNumber">2016</td>
    <td class="codeline">        // exit loop after we build up the set in a deterministic order rather</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2017</td>
    <td class="codeline">        // than the predecessor-influenced visit order.</td>
    <td class="lineNumber">2017</td>
    <td class="codeline">        // than the predecessor-influenced visit order.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2018</td>
    <td class="codeline">        bool Inserted = NewExitLoopBlocks.insert(PredBB).second;</td>
    <td class="lineNumber">2018</td>
    <td class="codeline">        bool Inserted = NewExitLoopBlocks.insert(PredBB).second;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2019</td>
    <td class="codeline">        (void)Inserted;</td>
    <td class="lineNumber">2019</td>
    <td class="codeline">        (void)Inserted;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2020</td>
    <td class="codeline">        assert(Inserted && "Should only visit an unlooped block once!");</td>
    <td class="lineNumber">2020</td>
    <td class="codeline">        assert(Inserted && "Should only visit an unlooped block once!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2021</td>
    <td class="codeline"></td>
    <td class="lineNumber">2021</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2022</td>
    <td class="codeline">        // And recurse through to its predecessors.</td>
    <td class="lineNumber">2022</td>
    <td class="codeline">        // And recurse through to its predecessors.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2023</td>
    <td class="codeline">        Worklist.push_back(PredBB);</td>
    <td class="lineNumber">2023</td>
    <td class="codeline">        Worklist.push_back(PredBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2024</td>
    <td class="codeline">      }</td>
    <td class="lineNumber">2024</td>
    <td class="codeline">      }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2025</td>
    <td class="codeline">    } while (!Worklist.empty());</td>
    <td class="lineNumber">2025</td>
    <td class="codeline">    } while (!Worklist.empty());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2026</td>
    <td class="codeline"></td>
    <td class="lineNumber">2026</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2027</td>
    <td class="codeline">    // If blocks in this exit loop were directly part of the original loop (as</td>
    <td class="lineNumber">2027</td>
    <td class="codeline">    // If blocks in this exit loop were directly part of the original loop (as</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2028</td>
    <td class="codeline">    // opposed to a child loop) update the map to point to this exit loop. This</td>
    <td class="lineNumber">2028</td>
    <td class="codeline">    // opposed to a child loop) update the map to point to this exit loop. This</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2029</td>
    <td class="codeline">    // just updates a map and so the fact that the order is unstable is fine.</td>
    <td class="lineNumber">2029</td>
    <td class="codeline">    // just updates a map and so the fact that the order is unstable is fine.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2030</td>
    <td class="codeline">    for (auto *BB : NewExitLoopBlocks)</td>
    <td class="lineNumber">2030</td>
    <td class="codeline">    for (auto *BB : NewExitLoopBlocks)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2031</td>
    <td class="codeline">      if (Loop *BBL = LI.getLoopFor(BB))</td>
    <td class="lineNumber">2031</td>
    <td class="codeline">      if (Loop *BBL = LI.getLoopFor(BB))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2032</td>
    <td class="codeline">        if (BBL == &L || !L.contains(BBL))</td>
    <td class="lineNumber">2032</td>
    <td class="codeline">        if (BBL == &L || !L.contains(BBL))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2033</td>
    <td class="codeline">          LI.changeLoopFor(BB, &ExitL);</td>
    <td class="lineNumber">2033</td>
    <td class="codeline">          LI.changeLoopFor(BB, &ExitL);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2034</td>
    <td class="codeline"></td>
    <td class="lineNumber">2034</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2035</td>
    <td class="codeline">    // We will remove the remaining unlooped blocks from this loop in the next</td>
    <td class="lineNumber">2035</td>
    <td class="codeline">    // We will remove the remaining unlooped blocks from this loop in the next</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2036</td>
    <td class="codeline">    // iteration or below.</td>
    <td class="lineNumber">2036</td>
    <td class="codeline">    // iteration or below.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2037</td>
    <td class="codeline">    NewExitLoopBlocks.clear();</td>
    <td class="lineNumber">2037</td>
    <td class="codeline">    NewExitLoopBlocks.clear();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2038</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">2038</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2039</td>
    <td class="codeline"></td>
    <td class="lineNumber">2039</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2040</td>
    <td class="codeline">  // Any remaining unlooped blocks are no longer part of any loop unless they</td>
    <td class="lineNumber">2040</td>
    <td class="codeline">  // Any remaining unlooped blocks are no longer part of any loop unless they</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2041</td>
    <td class="codeline">  // are part of some child loop.</td>
    <td class="lineNumber">2041</td>
    <td class="codeline">  // are part of some child loop.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2042</td>
    <td class="codeline">  for (; PrevExitL; PrevExitL = PrevExitL->getParentLoop())</td>
    <td class="lineNumber">2042</td>
    <td class="codeline">  for (; PrevExitL; PrevExitL = PrevExitL->getParentLoop())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2043</td>
    <td class="codeline">    RemoveUnloopedBlocksFromLoop(*PrevExitL, UnloopedBlocks);</td>
    <td class="lineNumber">2043</td>
    <td class="codeline">    RemoveUnloopedBlocksFromLoop(*PrevExitL, UnloopedBlocks);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2044</td>
    <td class="codeline">  for (auto *BB : UnloopedBlocks)</td>
    <td class="lineNumber">2044</td>
    <td class="codeline">  for (auto *BB : UnloopedBlocks)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2045</td>
    <td class="codeline">    if (Loop *BBL = LI.getLoopFor(BB))</td>
    <td class="lineNumber">2045</td>
    <td class="codeline">    if (Loop *BBL = LI.getLoopFor(BB))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2046</td>
    <td class="codeline">      if (BBL == &L || !L.contains(BBL))</td>
    <td class="lineNumber">2046</td>
    <td class="codeline">      if (BBL == &L || !L.contains(BBL))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2047</td>
    <td class="codeline">        LI.changeLoopFor(BB, nullptr);</td>
    <td class="lineNumber">2047</td>
    <td class="codeline">        LI.changeLoopFor(BB, nullptr);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2048</td>
    <td class="codeline"></td>
    <td class="lineNumber">2048</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2049</td>
    <td class="codeline">  // Sink all the child loops whose headers are no longer in the loop set to</td>
    <td class="lineNumber">2049</td>
    <td class="codeline">  // Sink all the child loops whose headers are no longer in the loop set to</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2050</td>
    <td class="codeline">  // the parent (or to be top level loops). We reach into the loop and directly</td>
    <td class="lineNumber">2050</td>
    <td class="codeline">  // the parent (or to be top level loops). We reach into the loop and directly</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2051</td>
    <td class="codeline">  // update its subloop vector to make this batch update efficient.</td>
    <td class="lineNumber">2051</td>
    <td class="codeline">  // update its subloop vector to make this batch update efficient.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2052</td>
    <td class="codeline">  auto &SubLoops = L.getSubLoopsVector();</td>
    <td class="lineNumber">2052</td>
    <td class="codeline">  auto &SubLoops = L.getSubLoopsVector();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2053</td>
    <td class="codeline">  auto SubLoopsSplitI =</td>
    <td class="lineNumber">2053</td>
    <td class="codeline">  auto SubLoopsSplitI =</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2054</td>
    <td class="codeline">      LoopBlockSet.empty()</td>
    <td class="lineNumber">2054</td>
    <td class="codeline">      LoopBlockSet.empty()</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2055</td>
    <td class="codeline">          ? SubLoops.begin()</td>
    <td class="lineNumber">2055</td>
    <td class="codeline">          ? SubLoops.begin()</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2056</td>
    <td class="codeline">          : std::stable_partition(</td>
    <td class="lineNumber">2056</td>
    <td class="codeline">          : std::stable_partition(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2057</td>
    <td class="codeline">                SubLoops.begin(), SubLoops.end(), [&](Loop *SubL) {</td>
    <td class="lineNumber">2057</td>
    <td class="codeline">                SubLoops.begin(), SubLoops.end(), [&](Loop *SubL) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2058</td>
    <td class="codeline">                  return LoopBlockSet.count(SubL->getHeader());</td>
    <td class="lineNumber">2058</td>
    <td class="codeline">                  return LoopBlockSet.count(SubL->getHeader());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2059</td>
    <td class="codeline">                });</td>
    <td class="lineNumber">2059</td>
    <td class="codeline">                });</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2060</td>
    <td class="codeline">  for (auto *HoistedL : make_range(SubLoopsSplitI, SubLoops.end())) {</td>
    <td class="lineNumber">2060</td>
    <td class="codeline">  for (auto *HoistedL : make_range(SubLoopsSplitI, SubLoops.end())) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2061</td>
    <td class="codeline">    HoistedLoops.push_back(HoistedL);</td>
    <td class="lineNumber">2061</td>
    <td class="codeline">    HoistedLoops.push_back(HoistedL);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2062</td>
    <td class="codeline">    HoistedL->setParentLoop(nullptr);</td>
    <td class="lineNumber">2062</td>
    <td class="codeline">    HoistedL->setParentLoop(nullptr);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2063</td>
    <td class="codeline"></td>
    <td class="lineNumber">2063</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2064</td>
    <td class="codeline">    // To compute the new parent of this hoisted loop we look at where we</td>
    <td class="lineNumber">2064</td>
    <td class="codeline">    // To compute the new parent of this hoisted loop we look at where we</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2065</td>
    <td class="codeline">    // placed the preheader above. We can't lookup the header itself because we</td>
    <td class="lineNumber">2065</td>
    <td class="codeline">    // placed the preheader above. We can't lookup the header itself because we</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2066</td>
    <td class="codeline">    // retained the mapping from the header to the hoisted loop. But the</td>
    <td class="lineNumber">2066</td>
    <td class="codeline">    // retained the mapping from the header to the hoisted loop. But the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2067</td>
    <td class="codeline">    // preheader and header should have the exact same new parent computed</td>
    <td class="lineNumber">2067</td>
    <td class="codeline">    // preheader and header should have the exact same new parent computed</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2068</td>
    <td class="codeline">    // based on the set of exit blocks from the original loop as the preheader</td>
    <td class="lineNumber">2068</td>
    <td class="codeline">    // based on the set of exit blocks from the original loop as the preheader</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2069</td>
    <td class="codeline">    // is a predecessor of the header and so reached in the reverse walk. And</td>
    <td class="lineNumber">2069</td>
    <td class="codeline">    // is a predecessor of the header and so reached in the reverse walk. And</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2070</td>
    <td class="codeline">    // because the loops were all in simplified form the preheader of the</td>
    <td class="lineNumber">2070</td>
    <td class="codeline">    // because the loops were all in simplified form the preheader of the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2071</td>
    <td class="codeline">    // hoisted loop can't be part of some *other* loop.</td>
    <td class="lineNumber">2071</td>
    <td class="codeline">    // hoisted loop can't be part of some *other* loop.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2072</td>
    <td class="codeline">    if (auto *NewParentL = LI.getLoopFor(HoistedL->getLoopPreheader()))</td>
    <td class="lineNumber">2072</td>
    <td class="codeline">    if (auto *NewParentL = LI.getLoopFor(HoistedL->getLoopPreheader()))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2073</td>
    <td class="codeline">      NewParentL->addChildLoop(HoistedL);</td>
    <td class="lineNumber">2073</td>
    <td class="codeline">      NewParentL->addChildLoop(HoistedL);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2074</td>
    <td class="codeline">    else</td>
    <td class="lineNumber">2074</td>
    <td class="codeline">    else</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2075</td>
    <td class="codeline">      LI.addTopLevelLoop(HoistedL);</td>
    <td class="lineNumber">2075</td>
    <td class="codeline">      LI.addTopLevelLoop(HoistedL);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2076</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">2076</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2077</td>
    <td class="codeline">  SubLoops.erase(SubLoopsSplitI, SubLoops.end());</td>
    <td class="lineNumber">2077</td>
    <td class="codeline">  SubLoops.erase(SubLoopsSplitI, SubLoops.end());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2078</td>
    <td class="codeline"></td>
    <td class="lineNumber">2078</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2079</td>
    <td class="codeline">  // Actually delete the loop if nothing remained within it.</td>
    <td class="lineNumber">2079</td>
    <td class="codeline">  // Actually delete the loop if nothing remained within it.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2080</td>
    <td class="codeline">  if (Blocks.empty()) {</td>
    <td class="lineNumber">2080</td>
    <td class="codeline">  if (Blocks.empty()) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2081</td>
    <td class="codeline">    assert(SubLoops.empty() &&</td>
    <td class="lineNumber">2081</td>
    <td class="codeline">    assert(SubLoops.empty() &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2082</td>
    <td class="codeline">           "Failed to remove all subloops from the original loop!");</td>
    <td class="lineNumber">2082</td>
    <td class="codeline">           "Failed to remove all subloops from the original loop!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2083</td>
    <td class="codeline">    if (Loop *ParentL = L.getParentLoop())</td>
    <td class="lineNumber">2083</td>
    <td class="codeline">    if (Loop *ParentL = L.getParentLoop())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2084</td>
    <td class="codeline">      ParentL->removeChildLoop(llvm::find(*ParentL, &L));</td>
    <td class="lineNumber">2084</td>
    <td class="codeline">      ParentL->removeChildLoop(llvm::find(*ParentL, &L));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2085</td>
    <td class="codeline">    else</td>
    <td class="lineNumber">2085</td>
    <td class="codeline">    else</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2086</td>
    <td class="codeline">      LI.removeLoop(llvm::find(LI, &L));</td>
    <td class="lineNumber">2086</td>
    <td class="codeline">      LI.removeLoop(llvm::find(LI, &L));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2087</td>
    <td class="codeline">    // markLoopAsDeleted for L should be triggered by the caller (it is typically</td>
    <td class="lineNumber">2087</td>
    <td class="codeline">    // markLoopAsDeleted for L should be triggered by the caller (it is typically</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2088</td>
    <td class="codeline">    // done by using the UnswitchCB callback).</td>
    <td class="lineNumber">2088</td>
    <td class="codeline">    // done by using the UnswitchCB callback).</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2089</td>
    <td class="codeline">    if (SE)</td>
    <td class="lineNumber">2089</td>
    <td class="codeline">    if (SE)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2090</td>
    <td class="codeline">      SE->forgetBlockAndLoopDispositions();</td>
    <td class="lineNumber">2090</td>
    <td class="codeline">      SE->forgetBlockAndLoopDispositions();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2091</td>
    <td class="codeline">    LI.destroy(&L);</td>
    <td class="lineNumber">2091</td>
    <td class="codeline">    LI.destroy(&L);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2092</td>
    <td class="codeline">    return false;</td>
    <td class="lineNumber">2092</td>
    <td class="codeline">    return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2093</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">2093</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2094</td>
    <td class="codeline"></td>
    <td class="lineNumber">2094</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2095</td>
    <td class="codeline">  return true;</td>
    <td class="lineNumber">2095</td>
    <td class="codeline">  return true;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2096</td>
    <td class="codeline">}</td>
    <td class="lineNumber">2096</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2097</td>
    <td class="codeline"></td>
    <td class="lineNumber">2097</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2098</td>
    <td class="codeline">/// Helper to visit a dominator subtree, invoking a callable on each node.</td>
    <td class="lineNumber">2098</td>
    <td class="codeline">/// Helper to visit a dominator subtree, invoking a callable on each node.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2099</td>
    <td class="codeline">///</td>
    <td class="lineNumber">2099</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2100</td>
    <td class="codeline">/// Returning false at any point will stop walking past that node of the tree.</td>
    <td class="lineNumber">2100</td>
    <td class="codeline">/// Returning false at any point will stop walking past that node of the tree.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2101</td>
    <td class="codeline">template <typename CallableT></td>
    <td class="lineNumber">2101</td>
    <td class="codeline">template <typename CallableT></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2102</td>
    <td class="codeline">void visitDomSubTree(DominatorTree &DT, BasicBlock *BB, CallableT Callable) {</td>
    <td class="lineNumber">2102</td>
    <td class="codeline">void visitDomSubTree(DominatorTree &DT, BasicBlock *BB, CallableT Callable) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2103</td>
    <td class="codeline">  SmallVector<DomTreeNode *, 4> DomWorklist;</td>
    <td class="lineNumber">2103</td>
    <td class="codeline">  SmallVector<DomTreeNode *, 4> DomWorklist;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2104</td>
    <td class="codeline">  DomWorklist.push_back(DT[BB]);</td>
    <td class="lineNumber">2104</td>
    <td class="codeline">  DomWorklist.push_back(DT[BB]);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2105</td>
    <td class="codeline">#ifndef NDEBUG</td>
    <td class="lineNumber">2105</td>
    <td class="codeline">#ifndef NDEBUG</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2106</td>
    <td class="codeline">  SmallPtrSet<DomTreeNode *, 4> Visited;</td>
    <td class="lineNumber">2106</td>
    <td class="codeline">  SmallPtrSet<DomTreeNode *, 4> Visited;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2107</td>
    <td class="codeline">  Visited.insert(DT[BB]);</td>
    <td class="lineNumber">2107</td>
    <td class="codeline">  Visited.insert(DT[BB]);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2108</td>
    <td class="codeline">#endif</td>
    <td class="lineNumber">2108</td>
    <td class="codeline">#endif</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2109</td>
    <td class="codeline">  do {</td>
    <td class="lineNumber">2109</td>
    <td class="codeline">  do {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2110</td>
    <td class="codeline">    DomTreeNode *N = DomWorklist.pop_back_val();</td>
    <td class="lineNumber">2110</td>
    <td class="codeline">    DomTreeNode *N = DomWorklist.pop_back_val();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2111</td>
    <td class="codeline"></td>
    <td class="lineNumber">2111</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2112</td>
    <td class="codeline">    // Visit this node.</td>
    <td class="lineNumber">2112</td>
    <td class="codeline">    // Visit this node.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2113</td>
    <td class="codeline">    if (!Callable(N->getBlock()))</td>
    <td class="lineNumber">2113</td>
    <td class="codeline">    if (!Callable(N->getBlock()))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2114</td>
    <td class="codeline">      continue;</td>
    <td class="lineNumber">2114</td>
    <td class="codeline">      continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2115</td>
    <td class="codeline"></td>
    <td class="lineNumber">2115</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2116</td>
    <td class="codeline">    // Accumulate the child nodes.</td>
    <td class="lineNumber">2116</td>
    <td class="codeline">    // Accumulate the child nodes.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2117</td>
    <td class="codeline">    for (DomTreeNode *ChildN : *N) {</td>
    <td class="lineNumber">2117</td>
    <td class="codeline">    for (DomTreeNode *ChildN : *N) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2118</td>
    <td class="codeline">      assert(Visited.insert(ChildN).second &&</td>
    <td class="lineNumber">2118</td>
    <td class="codeline">      assert(Visited.insert(ChildN).second &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2119</td>
    <td class="codeline">             "Cannot visit a node twice when walking a tree!");</td>
    <td class="lineNumber">2119</td>
    <td class="codeline">             "Cannot visit a node twice when walking a tree!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2120</td>
    <td class="codeline">      DomWorklist.push_back(ChildN);</td>
    <td class="lineNumber">2120</td>
    <td class="codeline">      DomWorklist.push_back(ChildN);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2121</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">2121</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2122</td>
    <td class="codeline">  } while (!DomWorklist.empty());</td>
    <td class="lineNumber">2122</td>
    <td class="codeline">  } while (!DomWorklist.empty());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2123</td>
    <td class="codeline">}</td>
    <td class="lineNumber">2123</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2124</td>
    <td class="codeline"></td>
    <td class="lineNumber">2124</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2125</td>
    <td class="codeline">static void unswitchNontrivialInvariants(</td>
    <td class="lineNumber">2125</td>
    <td class="codeline">static void unswitchNontrivialInvariants(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2126</td>
    <td class="codeline">    Loop &L, Instruction &TI, ArrayRef<Value *> Invariants,</td>
    <td class="lineNumber">2126</td>
    <td class="codeline">    Loop &L, Instruction &TI, ArrayRef<Value *> Invariants,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2127</td>
    <td class="codeline">    IVConditionInfo &PartialIVInfo, DominatorTree &DT, LoopInfo &LI,</td>
    <td class="lineNumber">2127</td>
    <td class="codeline">    IVConditionInfo &PartialIVInfo, DominatorTree &DT, LoopInfo &LI,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2128</td>
    <td class="codeline">    AssumptionCache &AC,</td>
    <td class="lineNumber">2128</td>
    <td class="codeline">    AssumptionCache &AC,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2129</td>
    <td class="codeline">    function_ref<void(bool, bool, ArrayRef<Loop *>)> UnswitchCB,</td>
    <td class="lineNumber">2129</td>
    <td class="codeline">    function_ref<void(bool, bool, ArrayRef<Loop *>)> UnswitchCB,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2130</td>
    <td class="codeline">    ScalarEvolution *SE, MemorySSAUpdater *MSSAU,</td>
    <td class="lineNumber">2130</td>
    <td class="codeline">    ScalarEvolution *SE, MemorySSAUpdater *MSSAU,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2131</td>
    <td class="codeline">    function_ref<void(Loop &, StringRef)> DestroyLoopCB, bool InsertFreeze) {</td>
    <td class="lineNumber">2131</td>
    <td class="codeline">    function_ref<void(Loop &, StringRef)> DestroyLoopCB, bool InsertFreeze) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2132</td>
    <td class="codeline">  auto *ParentBB = TI.getParent();</td>
    <td class="lineNumber">2132</td>
    <td class="codeline">  auto *ParentBB = TI.getParent();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2133</td>
    <td class="codeline">  BranchInst *BI = dyn_cast<BranchInst>(&TI);</td>
    <td class="lineNumber">2133</td>
    <td class="codeline">  BranchInst *BI = dyn_cast<BranchInst>(&TI);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2134</td>
    <td class="codeline">  SwitchInst *SI = BI ? nullptr : cast<SwitchInst>(&TI);</td>
    <td class="lineNumber">2134</td>
    <td class="codeline">  SwitchInst *SI = BI ? nullptr : cast<SwitchInst>(&TI);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2135</td>
    <td class="codeline"></td>
    <td class="lineNumber">2135</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2136</td>
    <td class="codeline">  // We can only unswitch switches, conditional branches with an invariant</td>
    <td class="lineNumber">2136</td>
    <td class="codeline">  // We can only unswitch switches, conditional branches with an invariant</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2137</td>
    <td class="codeline">  // condition, or combining invariant conditions with an instruction or</td>
    <td class="lineNumber">2137</td>
    <td class="codeline">  // condition, or combining invariant conditions with an instruction or</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2138</td>
    <td class="codeline">  // partially invariant instructions.</td>
    <td class="lineNumber">2138</td>
    <td class="codeline">  // partially invariant instructions.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2139</td>
    <td class="codeline">  assert((SI || (BI && BI->isConditional())) &&</td>
    <td class="lineNumber">2139</td>
    <td class="codeline">  assert((SI || (BI && BI->isConditional())) &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2140</td>
    <td class="codeline">         "Can only unswitch switches and conditional branch!");</td>
    <td class="lineNumber">2140</td>
    <td class="codeline">         "Can only unswitch switches and conditional branch!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2141</td>
    <td class="codeline">  bool PartiallyInvariant = !PartialIVInfo.InstToDuplicate.empty();</td>
    <td class="lineNumber">2141</td>
    <td class="codeline">  bool PartiallyInvariant = !PartialIVInfo.InstToDuplicate.empty();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2142</td>
    <td class="codeline">  bool FullUnswitch =</td>
    <td class="lineNumber">2142</td>
    <td class="codeline">  bool FullUnswitch =</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2143</td>
    <td class="codeline">      SI || (skipTrivialSelect(BI->getCondition()) == Invariants[0] &&</td>
    <td class="lineNumber">2143</td>
    <td class="codeline">      SI || (skipTrivialSelect(BI->getCondition()) == Invariants[0] &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2144</td>
    <td class="codeline">             !PartiallyInvariant);</td>
    <td class="lineNumber">2144</td>
    <td class="codeline">             !PartiallyInvariant);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2145</td>
    <td class="codeline">  if (FullUnswitch)</td>
    <td class="lineNumber">2145</td>
    <td class="codeline">  if (FullUnswitch)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2146</td>
    <td class="codeline">    assert(Invariants.size() == 1 &&</td>
    <td class="lineNumber">2146</td>
    <td class="codeline">    assert(Invariants.size() == 1 &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2147</td>
    <td class="codeline">           "Cannot have other invariants with full unswitching!");</td>
    <td class="lineNumber">2147</td>
    <td class="codeline">           "Cannot have other invariants with full unswitching!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2148</td>
    <td class="codeline">  else</td>
    <td class="lineNumber">2148</td>
    <td class="codeline">  else</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2149</td>
    <td class="codeline">    assert(isa<Instruction>(skipTrivialSelect(BI->getCondition())) &&</td>
    <td class="lineNumber">2149</td>
    <td class="codeline">    assert(isa<Instruction>(skipTrivialSelect(BI->getCondition())) &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2150</td>
    <td class="codeline">           "Partial unswitching requires an instruction as the condition!");</td>
    <td class="lineNumber">2150</td>
    <td class="codeline">           "Partial unswitching requires an instruction as the condition!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2151</td>
    <td class="codeline"></td>
    <td class="lineNumber">2151</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2152</td>
    <td class="codeline">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">2152</td>
    <td class="codeline">  if (MSSAU && VerifyMemorySSA)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2153</td>
    <td class="codeline">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">2153</td>
    <td class="codeline">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2154</td>
    <td class="codeline"></td>
    <td class="lineNumber">2154</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2155</td>
    <td class="codeline">  // Constant and BBs tracking the cloned and continuing successor. When we are</td>
    <td class="lineNumber">2155</td>
    <td class="codeline">  // Constant and BBs tracking the cloned and continuing successor. When we are</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2156</td>
    <td class="codeline">  // unswitching the entire condition, this can just be trivially chosen to</td>
    <td class="lineNumber">2156</td>
    <td class="codeline">  // unswitching the entire condition, this can just be trivially chosen to</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2157</td>
    <td class="codeline">  // unswitch towards `true`. However, when we are unswitching a set of</td>
    <td class="lineNumber">2157</td>
    <td class="codeline">  // unswitch towards `true`. However, when we are unswitching a set of</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2158</td>
    <td class="codeline">  // invariants combined with `and` or `or` or partially invariant instructions,</td>
    <td class="lineNumber">2158</td>
    <td class="codeline">  // invariants combined with `and` or `or` or partially invariant instructions,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2159</td>
    <td class="codeline">  // the combining operation determines the best direction to unswitch: we want</td>
    <td class="lineNumber">2159</td>
    <td class="codeline">  // the combining operation determines the best direction to unswitch: we want</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2160</td>
    <td class="codeline">  // to unswitch the direction that will collapse the branch.</td>
    <td class="lineNumber">2160</td>
    <td class="codeline">  // to unswitch the direction that will collapse the branch.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2161</td>
    <td class="codeline">  bool Direction = true;</td>
    <td class="lineNumber">2161</td>
    <td class="codeline">  bool Direction = true;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2162</td>
    <td class="codeline">  int ClonedSucc = 0;</td>
    <td class="lineNumber">2162</td>
    <td class="codeline">  int ClonedSucc = 0;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2163</td>
    <td class="codeline">  if (!FullUnswitch) {</td>
    <td class="lineNumber">2163</td>
    <td class="codeline">  if (!FullUnswitch) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2164</td>
    <td class="codeline">    Value *Cond = skipTrivialSelect(BI->getCondition());</td>
    <td class="lineNumber">2164</td>
    <td class="codeline">    Value *Cond = skipTrivialSelect(BI->getCondition());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2165</td>
    <td class="codeline">    (void)Cond;</td>
    <td class="lineNumber">2165</td>
    <td class="codeline">    (void)Cond;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2166</td>
    <td class="codeline">    assert(((match(Cond, m_LogicalAnd()) ^ match(Cond, m_LogicalOr())) ||</td>
    <td class="lineNumber">2166</td>
    <td class="codeline">    assert(((match(Cond, m_LogicalAnd()) ^ match(Cond, m_LogicalOr())) ||</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2167</td>
    <td class="codeline">            PartiallyInvariant) &&</td>
    <td class="lineNumber">2167</td>
    <td class="codeline">            PartiallyInvariant) &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2168</td>
    <td class="codeline">           "Only `or`, `and`, an `select`, partially invariant instructions "</td>
    <td class="lineNumber">2168</td>
    <td class="codeline">           "Only `or`, `and`, an `select`, partially invariant instructions "</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2169</td>
    <td class="codeline">           "can combine invariants being unswitched.");</td>
    <td class="lineNumber">2169</td>
    <td class="codeline">           "can combine invariants being unswitched.");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2170</td>
    <td class="codeline">    if (!match(Cond, m_LogicalOr())) {</td>
    <td class="lineNumber">2170</td>
    <td class="codeline">    if (!match(Cond, m_LogicalOr())) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2171</td>
    <td class="codeline">      if (match(Cond, m_LogicalAnd()) ||</td>
    <td class="lineNumber">2171</td>
    <td class="codeline">      if (match(Cond, m_LogicalAnd()) ||</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2172</td>
    <td class="codeline">          (PartiallyInvariant && !PartialIVInfo.KnownValue->isOneValue())) {</td>
    <td class="lineNumber">2172</td>
    <td class="codeline">          (PartiallyInvariant && !PartialIVInfo.KnownValue->isOneValue())) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2173</td>
    <td class="codeline">        Direction = false;</td>
    <td class="lineNumber">2173</td>
    <td class="codeline">        Direction = false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2174</td>
    <td class="codeline">        ClonedSucc = 1;</td>
    <td class="lineNumber">2174</td>
    <td class="codeline">        ClonedSucc = 1;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2175</td>
    <td class="codeline">      }</td>
    <td class="lineNumber">2175</td>
    <td class="codeline">      }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2176</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">2176</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2177</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">2177</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2178</td>
    <td class="codeline"></td>
    <td class="lineNumber">2178</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2179</td>
    <td class="codeline">  BasicBlock *RetainedSuccBB =</td>
    <td class="lineNumber">2179</td>
    <td class="codeline">  BasicBlock *RetainedSuccBB =</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2180</td>
    <td class="codeline">      BI ? BI->getSuccessor(1 - ClonedSucc) : SI->getDefaultDest();</td>
    <td class="lineNumber">2180</td>
    <td class="codeline">      BI ? BI->getSuccessor(1 - ClonedSucc) : SI->getDefaultDest();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2181</td>
    <td class="codeline">  SmallSetVector<BasicBlock *, 4> UnswitchedSuccBBs;</td>
    <td class="lineNumber">2181</td>
    <td class="codeline">  SmallSetVector<BasicBlock *, 4> UnswitchedSuccBBs;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2182</td>
    <td class="codeline">  if (BI)</td>
    <td class="lineNumber">2182</td>
    <td class="codeline">  if (BI)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2183</td>
    <td class="codeline">    UnswitchedSuccBBs.insert(BI->getSuccessor(ClonedSucc));</td>
    <td class="lineNumber">2183</td>
    <td class="codeline">    UnswitchedSuccBBs.insert(BI->getSuccessor(ClonedSucc));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2184</td>
    <td class="codeline">  else</td>
    <td class="lineNumber">2184</td>
    <td class="codeline">  else</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2185</td>
    <td class="codeline">    for (auto Case : SI->cases())</td>
    <td class="lineNumber">2185</td>
    <td class="codeline">    for (auto Case : SI->cases())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2186</td>
    <td class="codeline">      if (Case.getCaseSuccessor() != RetainedSuccBB)</td>
    <td class="lineNumber">2186</td>
    <td class="codeline">      if (Case.getCaseSuccessor() != RetainedSuccBB)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2187</td>
    <td class="codeline">        UnswitchedSuccBBs.insert(Case.getCaseSuccessor());</td>
    <td class="lineNumber">2187</td>
    <td class="codeline">        UnswitchedSuccBBs.insert(Case.getCaseSuccessor());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2188</td>
    <td class="codeline"></td>
    <td class="lineNumber">2188</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2189</td>
    <td class="codeline">  assert(!UnswitchedSuccBBs.count(RetainedSuccBB) &&</td>
    <td class="lineNumber">2189</td>
    <td class="codeline">  assert(!UnswitchedSuccBBs.count(RetainedSuccBB) &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2190</td>
    <td class="codeline">         "Should not unswitch the same successor we are retaining!");</td>
    <td class="lineNumber">2190</td>
    <td class="codeline">         "Should not unswitch the same successor we are retaining!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2191</td>
    <td class="codeline"></td>
    <td class="lineNumber">2191</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2192</td>
    <td class="codeline">  // The branch should be in this exact loop. Any inner loop's invariant branch</td>
    <td class="lineNumber">2192</td>
    <td class="codeline">  // The branch should be in this exact loop. Any inner loop's invariant branch</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2193</td>
    <td class="codeline">  // should be handled by unswitching that inner loop. The caller of this</td>
    <td class="lineNumber">2193</td>
    <td class="codeline">  // should be handled by unswitching that inner loop. The caller of this</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2194</td>
    <td class="codeline">  // routine should filter out any candidates that remain (but were skipped for</td>
    <td class="lineNumber">2194</td>
    <td class="codeline">  // routine should filter out any candidates that remain (but were skipped for</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2195</td>
    <td class="codeline">  // whatever reason).</td>
    <td class="lineNumber">2195</td>
    <td class="codeline">  // whatever reason).</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2196</td>
    <td class="codeline">  assert(LI.getLoopFor(ParentBB) == &L && "Branch in an inner loop!");</td>
    <td class="lineNumber">2196</td>
    <td class="codeline">  assert(LI.getLoopFor(ParentBB) == &L && "Branch in an inner loop!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2197</td>
    <td class="codeline"></td>
    <td class="lineNumber">2197</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2198</td>
    <td class="codeline">  // Compute the parent loop now before we start hacking on things.</td>
    <td class="lineNumber">2198</td>
    <td class="codeline">  // Compute the parent loop now before we start hacking on things.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2199</td>
    <td class="codeline">  Loop *ParentL = L.getParentLoop();</td>
    <td class="lineNumber">2199</td>
    <td class="codeline">  Loop *ParentL = L.getParentLoop();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2200</td>
    <td class="codeline">  // Get blocks in RPO order for MSSA update, before changing the CFG.</td>
    <td class="lineNumber">2200</td>
    <td class="codeline">  // Get blocks in RPO order for MSSA update, before changing the CFG.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2201</td>
    <td class="codeline">  LoopBlocksRPO LBRPO(&L);</td>
    <td class="lineNumber">2201</td>
    <td class="codeline">  LoopBlocksRPO LBRPO(&L);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2202</td>
    <td class="codeline">  if (MSSAU)</td>
    <td class="lineNumber">2202</td>
    <td class="codeline">  if (MSSAU)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2203</td>
    <td class="codeline">    LBRPO.perform(&LI);</td>
    <td class="lineNumber">2203</td>
    <td class="codeline">    LBRPO.perform(&LI);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2204</td>
    <td class="codeline"></td>
    <td class="lineNumber">2204</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2205</td>
    <td class="codeline">  // Compute the outer-most loop containing one of our exit blocks. This is the</td>
    <td class="lineNumber">2205</td>
    <td class="codeline">  // Compute the outer-most loop containing one of our exit blocks. This is the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2206</td>
    <td class="codeline">  // furthest up our loopnest which can be mutated, which we will use below to</td>
    <td class="lineNumber">2206</td>
    <td class="codeline">  // furthest up our loopnest which can be mutated, which we will use below to</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2207</td>
    <td class="codeline">  // update things.</td>
    <td class="lineNumber">2207</td>
    <td class="codeline">  // update things.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2208</td>
    <td class="codeline">  Loop *OuterExitL = &L;</td>
    <td class="lineNumber">2208</td>
    <td class="codeline">  Loop *OuterExitL = &L;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2209</td>
    <td class="codeline">  SmallVector<BasicBlock *, 4> ExitBlocks;</td>
    <td class="lineNumber">2209</td>
    <td class="codeline">  SmallVector<BasicBlock *, 4> ExitBlocks;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2210</td>
    <td class="codeline">  L.getUniqueExitBlocks(ExitBlocks);</td>
    <td class="lineNumber">2210</td>
    <td class="codeline">  L.getUniqueExitBlocks(ExitBlocks);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2211</td>
    <td class="codeline">  for (auto *ExitBB : ExitBlocks) {</td>
    <td class="lineNumber">2211</td>
    <td class="codeline">  for (auto *ExitBB : ExitBlocks) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2212</td>
    <td class="codeline">    // ExitBB can be an exit block for several levels in the loop nest. Make</td>
    <td class="lineNumber">2212</td>
    <td class="codeline">    // ExitBB can be an exit block for several levels in the loop nest. Make</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2213</td>
    <td class="codeline">    // sure we find the top most.</td>
    <td class="lineNumber">2213</td>
    <td class="codeline">    // sure we find the top most.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2214</td>
    <td class="codeline">    Loop *NewOuterExitL = getTopMostExitingLoop(ExitBB, LI);</td>
    <td class="lineNumber">2214</td>
    <td class="codeline">    Loop *NewOuterExitL = getTopMostExitingLoop(ExitBB, LI);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2215</td>
    <td class="codeline">    if (!NewOuterExitL) {</td>
    <td class="lineNumber">2215</td>
    <td class="codeline">    if (!NewOuterExitL) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2216</td>
    <td class="codeline">      // We exited the entire nest with this block, so we're done.</td>
    <td class="lineNumber">2216</td>
    <td class="codeline">      // We exited the entire nest with this block, so we're done.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2217</td>
    <td class="codeline">      OuterExitL = nullptr;</td>
    <td class="lineNumber">2217</td>
    <td class="codeline">      OuterExitL = nullptr;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2218</td>
    <td class="codeline">      break;</td>
    <td class="lineNumber">2218</td>
    <td class="codeline">      break;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2219</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">2219</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2220</td>
    <td class="codeline">    if (NewOuterExitL != OuterExitL && NewOuterExitL->contains(OuterExitL))</td>
    <td class="lineNumber">2220</td>
    <td class="codeline">    if (NewOuterExitL != OuterExitL && NewOuterExitL->contains(OuterExitL))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2221</td>
    <td class="codeline">      OuterExitL = NewOuterExitL;</td>
    <td class="lineNumber">2221</td>
    <td class="codeline">      OuterExitL = NewOuterExitL;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2222</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">2222</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2223</td>
    <td class="codeline"></td>
    <td class="lineNumber">2223</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2224</td>
    <td class="codeline">  // At this point, we're definitely going to unswitch something so invalidate</td>
    <td class="lineNumber">2224</td>
    <td class="codeline">  // At this point, we're definitely going to unswitch something so invalidate</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2225</td>
    <td class="codeline">  // any cached information in ScalarEvolution for the outer most loop</td>
    <td class="lineNumber">2225</td>
    <td class="codeline">  // any cached information in ScalarEvolution for the outer most loop</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2226</td>
    <td class="codeline">  // containing an exit block and all nested loops.</td>
    <td class="lineNumber">2226</td>
    <td class="codeline">  // containing an exit block and all nested loops.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2227</td>
    <td class="codeline">  if (SE) {</td>
    <td class="lineNumber">2227</td>
    <td class="codeline">  if (SE) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2228</td>
    <td class="codeline">    if (OuterExitL)</td>
    <td class="lineNumber">2228</td>
    <td class="codeline">    if (OuterExitL)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2229</td>
    <td class="codeline">      SE->forgetLoop(OuterExitL);</td>
    <td class="lineNumber">2229</td>
    <td class="codeline">      SE->forgetLoop(OuterExitL);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2230</td>
    <td class="codeline">    else</td>
    <td class="lineNumber">2230</td>
    <td class="codeline">    else</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2231</td>
    <td class="codeline">      SE->forgetTopmostLoop(&L);</td>
    <td class="lineNumber">2231</td>
    <td class="codeline">      SE->forgetTopmostLoop(&L);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2232</td>
    <td class="codeline">    SE->forgetBlockAndLoopDispositions();</td>
    <td class="lineNumber">2232</td>
    <td class="codeline">    SE->forgetBlockAndLoopDispositions();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2233</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">2233</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2234</td>
    <td class="codeline"></td>
    <td class="lineNumber">2234</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2235</td>
    <td class="codeline">  // If the edge from this terminator to a successor dominates that successor,</td>
    <td class="lineNumber">2235</td>
    <td class="codeline">  // If the edge from this terminator to a successor dominates that successor,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2236</td>
    <td class="codeline">  // store a map from each block in its dominator subtree to it. This lets us</td>
    <td class="lineNumber">2236</td>
    <td class="codeline">  // store a map from each block in its dominator subtree to it. This lets us</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2237</td>
    <td class="codeline">  // tell when cloning for a particular successor if a block is dominated by</td>
    <td class="lineNumber">2237</td>
    <td class="codeline">  // tell when cloning for a particular successor if a block is dominated by</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2238</td>
    <td class="codeline">  // some *other* successor with a single data structure. We use this to</td>
    <td class="lineNumber">2238</td>
    <td class="codeline">  // some *other* successor with a single data structure. We use this to</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2239</td>
    <td class="codeline">  // significantly reduce cloning.</td>
    <td class="lineNumber">2239</td>
    <td class="codeline">  // significantly reduce cloning.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2240</td>
    <td class="codeline">  SmallDenseMap<BasicBlock *, BasicBlock *, 16> DominatingSucc;</td>
    <td class="lineNumber">2240</td>
    <td class="codeline">  SmallDenseMap<BasicBlock *, BasicBlock *, 16> DominatingSucc;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2241</td>
    <td class="codeline">  for (auto *SuccBB : llvm::concat<BasicBlock *const>(ArrayRef(RetainedSuccBB),</td>
    <td class="lineNumber">2241</td>
    <td class="codeline">  for (auto *SuccBB : llvm::concat<BasicBlock *const>(ArrayRef(RetainedSuccBB),</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2242</td>
    <td class="codeline">                                                      UnswitchedSuccBBs))</td>
    <td class="lineNumber">2242</td>
    <td class="codeline">                                                      UnswitchedSuccBBs))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2243</td>
    <td class="codeline">    if (SuccBB->getUniquePredecessor() ||</td>
    <td class="lineNumber">2243</td>
    <td class="codeline">    if (SuccBB->getUniquePredecessor() ||</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2244</td>
    <td class="codeline">        llvm::all_of(predecessors(SuccBB), [&](BasicBlock *PredBB) {</td>
    <td class="lineNumber">2244</td>
    <td class="codeline">        llvm::all_of(predecessors(SuccBB), [&](BasicBlock *PredBB) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2245</td>
    <td class="codeline">          return PredBB == ParentBB || DT.dominates(SuccBB, PredBB);</td>
    <td class="lineNumber">2245</td>
    <td class="codeline">          return PredBB == ParentBB || DT.dominates(SuccBB, PredBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2246</td>
    <td class="codeline">        }))</td>
    <td class="lineNumber">2246</td>
    <td class="codeline">        }))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2247</td>
    <td class="codeline">      visitDomSubTree(DT, SuccBB, [&](BasicBlock *BB) {</td>
    <td class="lineNumber">2247</td>
    <td class="codeline">      visitDomSubTree(DT, SuccBB, [&](BasicBlock *BB) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2248</td>
    <td class="codeline">        DominatingSucc[BB] = SuccBB;</td>
    <td class="lineNumber">2248</td>
    <td class="codeline">        DominatingSucc[BB] = SuccBB;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2249</td>
    <td class="codeline">        return true;</td>
    <td class="lineNumber">2249</td>
    <td class="codeline">        return true;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2250</td>
    <td class="codeline">      });</td>
    <td class="lineNumber">2250</td>
    <td class="codeline">      });</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2251</td>
    <td class="codeline"></td>
    <td class="lineNumber">2251</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2252</td>
    <td class="codeline">  // Split the preheader, so that we know that there is a safe place to insert</td>
    <td class="lineNumber">2252</td>
    <td class="codeline">  // Split the preheader, so that we know that there is a safe place to insert</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2253</td>
    <td class="codeline">  // the conditional branch. We will change the preheader to have a conditional</td>
    <td class="lineNumber">2253</td>
    <td class="codeline">  // the conditional branch. We will change the preheader to have a conditional</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2254</td>
    <td class="codeline">  // branch on LoopCond. The original preheader will become the split point</td>
    <td class="lineNumber">2254</td>
    <td class="codeline">  // branch on LoopCond. The original preheader will become the split point</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2255</td>
    <td class="codeline">  // between the unswitched versions, and we will have a new preheader for the</td>
    <td class="lineNumber">2255</td>
    <td class="codeline">  // between the unswitched versions, and we will have a new preheader for the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2256</td>
    <td class="codeline">  // original loop.</td>
    <td class="lineNumber">2256</td>
    <td class="codeline">  // original loop.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2257</td>
    <td class="codeline">  BasicBlock *SplitBB = L.getLoopPreheader();</td>
    <td class="lineNumber">2257</td>
    <td class="codeline">  BasicBlock *SplitBB = L.getLoopPreheader();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2258</td>
    <td class="codeline">  BasicBlock *LoopPH = SplitEdge(SplitBB, L.getHeader(), &DT, &LI, MSSAU);</td>
    <td class="lineNumber">2258</td>
    <td class="codeline">  BasicBlock *LoopPH = SplitEdge(SplitBB, L.getHeader(), &DT, &LI, MSSAU);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2259</td>
    <td class="codeline"></td>
    <td class="lineNumber">2259</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2260</td>
    <td class="codeline">  // Keep track of the dominator tree updates needed.</td>
    <td class="lineNumber">2260</td>
    <td class="codeline">  // Keep track of the dominator tree updates needed.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2261</td>
    <td class="codeline">  SmallVector<DominatorTree::UpdateType, 4> DTUpdates;</td>
    <td class="lineNumber">2261</td>
    <td class="codeline">  SmallVector<DominatorTree::UpdateType, 4> DTUpdates;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2262</td>
    <td class="codeline"></td>
    <td class="lineNumber">2262</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2263</td>
    <td class="codeline">  // Clone the loop for each unswitched successor.</td>
    <td class="lineNumber">2263</td>
    <td class="codeline">  // Clone the loop for each unswitched successor.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2264</td>
    <td class="codeline">  SmallVector<std::unique_ptr<ValueToValueMapTy>, 4> VMaps;</td>
    <td class="lineNumber">2264</td>
    <td class="codeline">  SmallVector<std::unique_ptr<ValueToValueMapTy>, 4> VMaps;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2265</td>
    <td class="codeline">  VMaps.reserve(UnswitchedSuccBBs.size());</td>
    <td class="lineNumber">2265</td>
    <td class="codeline">  VMaps.reserve(UnswitchedSuccBBs.size());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2266</td>
    <td class="codeline">  SmallDenseMap<BasicBlock *, BasicBlock *, 4> ClonedPHs;</td>
    <td class="lineNumber">2266</td>
    <td class="codeline">  SmallDenseMap<BasicBlock *, BasicBlock *, 4> ClonedPHs;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2267</td>
    <td class="codeline">  for (auto *SuccBB : UnswitchedSuccBBs) {</td>
    <td class="lineNumber">2267</td>
    <td class="codeline">  for (auto *SuccBB : UnswitchedSuccBBs) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2268</td>
    <td class="codeline">    VMaps.emplace_back(new ValueToValueMapTy());</td>
    <td class="lineNumber">2268</td>
    <td class="codeline">    VMaps.emplace_back(new ValueToValueMapTy());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2269</td>
    <td class="codeline">    ClonedPHs[SuccBB] = buildClonedLoopBlocks(</td>
    <td class="lineNumber">2269</td>
    <td class="codeline">    ClonedPHs[SuccBB] = buildClonedLoopBlocks(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2270</td>
    <td class="codeline">        L, LoopPH, SplitBB, ExitBlocks, ParentBB, SuccBB, RetainedSuccBB,</td>
    <td class="lineNumber">2270</td>
    <td class="codeline">        L, LoopPH, SplitBB, ExitBlocks, ParentBB, SuccBB, RetainedSuccBB,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2271</td>
    <td class="codeline">        DominatingSucc, *VMaps.back(), DTUpdates, AC, DT, LI, MSSAU, SE);</td>
    <td class="lineNumber">2271</td>
    <td class="codeline">        DominatingSucc, *VMaps.back(), DTUpdates, AC, DT, LI, MSSAU, SE);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2272</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">2272</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2273</td>
    <td class="codeline"></td>
    <td class="lineNumber">2273</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2274</td>
    <td class="codeline">  // Drop metadata if we may break its semantics by moving this instr into the</td>
    <td class="lineNumber">2274</td>
    <td class="codeline">  // Drop metadata if we may break its semantics by moving this instr into the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2275</td>
    <td class="codeline">  // split block.</td>
    <td class="lineNumber">2275</td>
    <td class="codeline">  // split block.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2276</td>
    <td class="codeline">  if (TI.getMetadata(LLVMContext::MD_make_implicit)) {</td>
    <td class="lineNumber">2276</td>
    <td class="codeline">  if (TI.getMetadata(LLVMContext::MD_make_implicit)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2277</td>
    <td class="codeline">    if (DropNonTrivialImplicitNullChecks)</td>
    <td class="lineNumber">2277</td>
    <td class="codeline">    if (DropNonTrivialImplicitNullChecks)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2278</td>
    <td class="codeline">      // Do not spend time trying to understand if we can keep it, just drop it</td>
    <td class="lineNumber">2278</td>
    <td class="codeline">      // Do not spend time trying to understand if we can keep it, just drop it</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2279</td>
    <td class="codeline">      // to save compile time.</td>
    <td class="lineNumber">2279</td>
    <td class="codeline">      // to save compile time.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2280</td>
    <td class="codeline">      TI.setMetadata(LLVMContext::MD_make_implicit, nullptr);</td>
    <td class="lineNumber">2280</td>
    <td class="codeline">      TI.setMetadata(LLVMContext::MD_make_implicit, nullptr);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2281</td>
    <td class="codeline">    else {</td>
    <td class="lineNumber">2281</td>
    <td class="codeline">    else {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2282</td>
    <td class="codeline">      // It is only legal to preserve make.implicit metadata if we are</td>
    <td class="lineNumber">2282</td>
    <td class="codeline">      // It is only legal to preserve make.implicit metadata if we are</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2283</td>
    <td class="codeline">      // guaranteed no reach implicit null check after following this branch.</td>
    <td class="lineNumber">2283</td>
    <td class="codeline">      // guaranteed no reach implicit null check after following this branch.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2284</td>
    <td class="codeline">      ICFLoopSafetyInfo SafetyInfo;</td>
    <td class="lineNumber">2284</td>
    <td class="codeline">      ICFLoopSafetyInfo SafetyInfo;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2285</td>
    <td class="codeline">      SafetyInfo.computeLoopSafetyInfo(&L);</td>
    <td class="lineNumber">2285</td>
    <td class="codeline">      SafetyInfo.computeLoopSafetyInfo(&L);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2286</td>
    <td class="codeline">      if (!SafetyInfo.isGuaranteedToExecute(TI, &DT, &L))</td>
    <td class="lineNumber">2286</td>
    <td class="codeline">      if (!SafetyInfo.isGuaranteedToExecute(TI, &DT, &L))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2287</td>
    <td class="codeline">        TI.setMetadata(LLVMContext::MD_make_implicit, nullptr);</td>
    <td class="lineNumber">2287</td>
    <td class="codeline">        TI.setMetadata(LLVMContext::MD_make_implicit, nullptr);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2288</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">2288</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2289</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">2289</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2290</td>
    <td class="codeline"></td>
    <td class="lineNumber">2290</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2291</td>
    <td class="codeline">  // The stitching of the branched code back together depends on whether we're</td>
    <td class="lineNumber">2291</td>
    <td class="codeline">  // The stitching of the branched code back together depends on whether we're</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2292</td>
    <td class="codeline">  // doing full unswitching or not with the exception that we always want to</td>
    <td class="lineNumber">2292</td>
    <td class="codeline">  // doing full unswitching or not with the exception that we always want to</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2293</td>
    <td class="codeline">  // nuke the initial terminator placed in the split block.</td>
    <td class="lineNumber">2293</td>
    <td class="codeline">  // nuke the initial terminator placed in the split block.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2294</td>
    <td class="codeline">  SplitBB->getTerminator()->eraseFromParent();</td>
    <td class="lineNumber">2294</td>
    <td class="codeline">  SplitBB->getTerminator()->eraseFromParent();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2295</td>
    <td class="codeline">  if (FullUnswitch) {</td>
    <td class="lineNumber">2295</td>
    <td class="codeline">  if (FullUnswitch) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2296</td>
    <td class="codeline">    // Splice the terminator from the original loop and rewrite its</td>
    <td class="lineNumber">2296</td>
    <td class="codeline">    // Splice the terminator from the original loop and rewrite its</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2297</td>
    <td class="codeline">    // successors.</td>
    <td class="lineNumber">2297</td>
    <td class="codeline">    // successors.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2298</td>
    <td class="codeline">    SplitBB->splice(SplitBB->end(), ParentBB, TI.getIterator());</td>
    <td class="lineNumber">2298</td>
    <td class="codeline">    SplitBB->splice(SplitBB->end(), ParentBB, TI.getIterator());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2299</td>
    <td class="codeline"></td>
    <td class="lineNumber">2299</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2300</td>
    <td class="codeline">    // Keep a clone of the terminator for MSSA updates.</td>
    <td class="lineNumber">2300</td>
    <td class="codeline">    // Keep a clone of the terminator for MSSA updates.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2301</td>
    <td class="codeline">    Instruction *NewTI = TI.clone();</td>
    <td class="lineNumber">2301</td>
    <td class="codeline">    Instruction *NewTI = TI.clone();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2302</td>
    <td class="codeline">    NewTI->insertInto(ParentBB, ParentBB->end());</td>
    <td class="lineNumber">2302</td>
    <td class="codeline">    NewTI->insertInto(ParentBB, ParentBB->end());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2303</td>
    <td class="codeline"></td>
    <td class="lineNumber">2303</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2304</td>
    <td class="codeline">    // First wire up the moved terminator to the preheaders.</td>
    <td class="lineNumber">2304</td>
    <td class="codeline">    // First wire up the moved terminator to the preheaders.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2305</td>
    <td class="codeline">    if (BI) {</td>
    <td class="lineNumber">2305</td>
    <td class="codeline">    if (BI) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2306</td>
    <td class="codeline">      BasicBlock *ClonedPH = ClonedPHs.begin()->second;</td>
    <td class="lineNumber">2306</td>
    <td class="codeline">      BasicBlock *ClonedPH = ClonedPHs.begin()->second;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2307</td>
    <td class="codeline">      BI->setSuccessor(ClonedSucc, ClonedPH);</td>
    <td class="lineNumber">2307</td>
    <td class="codeline">      BI->setSuccessor(ClonedSucc, ClonedPH);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2308</td>
    <td class="codeline">      BI->setSuccessor(1 - ClonedSucc, LoopPH);</td>
    <td class="lineNumber">2308</td>
    <td class="codeline">      BI->setSuccessor(1 - ClonedSucc, LoopPH);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2309</td>
    <td class="codeline">      Value *Cond = skipTrivialSelect(BI->getCondition());</td>
    <td class="lineNumber">2309</td>
    <td class="codeline">      Value *Cond = skipTrivialSelect(BI->getCondition());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2310</td>
    <td class="codeline">      if (InsertFreeze)</td>
    <td class="lineNumber">2310</td>
    <td class="codeline">      if (InsertFreeze)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2311</td>
    <td class="codeline">        Cond = new FreezeInst(</td>
    <td class="lineNumber">2311</td>
    <td class="codeline">        Cond = new FreezeInst(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2312</td>
    <td class="codeline">            Cond, Cond->getName() + ".fr", BI);</td>
    <td class="lineNumber">2312</td>
    <td class="codeline">            Cond, Cond->getName() + ".fr", BI);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2313</td>
    <td class="codeline">      BI->setCondition(Cond);</td>
    <td class="lineNumber">2313</td>
    <td class="codeline">      BI->setCondition(Cond);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2314</td>
    <td class="codeline">      DTUpdates.push_back({DominatorTree::Insert, SplitBB, ClonedPH});</td>
    <td class="lineNumber">2314</td>
    <td class="codeline">      DTUpdates.push_back({DominatorTree::Insert, SplitBB, ClonedPH});</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2315</td>
    <td class="codeline">    } else {</td>
    <td class="lineNumber">2315</td>
    <td class="codeline">    } else {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2316</td>
    <td class="codeline">      assert(SI && "Must either be a branch or switch!");</td>
    <td class="lineNumber">2316</td>
    <td class="codeline">      assert(SI && "Must either be a branch or switch!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2317</td>
    <td class="codeline"></td>
    <td class="lineNumber">2317</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2318</td>
    <td class="codeline">      // Walk the cases and directly update their successors.</td>
    <td class="lineNumber">2318</td>
    <td class="codeline">      // Walk the cases and directly update their successors.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2319</td>
    <td class="codeline">      assert(SI->getDefaultDest() == RetainedSuccBB &&</td>
    <td class="lineNumber">2319</td>
    <td class="codeline">      assert(SI->getDefaultDest() == RetainedSuccBB &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2320</td>
    <td class="codeline">             "Not retaining default successor!");</td>
    <td class="lineNumber">2320</td>
    <td class="codeline">             "Not retaining default successor!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2321</td>
    <td class="codeline">      SI->setDefaultDest(LoopPH);</td>
    <td class="lineNumber">2321</td>
    <td class="codeline">      SI->setDefaultDest(LoopPH);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2322</td>
    <td class="codeline">      for (const auto &Case : SI->cases())</td>
    <td class="lineNumber">2322</td>
    <td class="codeline">      for (const auto &Case : SI->cases())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2323</td>
    <td class="codeline">        if (Case.getCaseSuccessor() == RetainedSuccBB)</td>
    <td class="lineNumber">2323</td>
    <td class="codeline">        if (Case.getCaseSuccessor() == RetainedSuccBB)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2324</td>
    <td class="codeline">          Case.setSuccessor(LoopPH);</td>
    <td class="lineNumber">2324</td>
    <td class="codeline">          Case.setSuccessor(LoopPH);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2325</td>
    <td class="codeline">        else</td>
    <td class="lineNumber">2325</td>
    <td class="codeline">        else</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2326</td>
    <td class="codeline">          Case.setSuccessor(ClonedPHs.find(Case.getCaseSuccessor())->second);</td>
    <td class="lineNumber">2326</td>
    <td class="codeline">          Case.setSuccessor(ClonedPHs.find(Case.getCaseSuccessor())->second);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2327</td>
    <td class="codeline"></td>
    <td class="lineNumber">2327</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2328</td>
    <td class="codeline">      if (InsertFreeze)</td>
    <td class="lineNumber">2328</td>
    <td class="codeline">      if (InsertFreeze)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2329</td>
    <td class="codeline">        SI->setCondition(new FreezeInst(</td>
    <td class="lineNumber">2329</td>
    <td class="codeline">        SI->setCondition(new FreezeInst(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2330</td>
    <td class="codeline">            SI->getCondition(), SI->getCondition()->getName() + ".fr", SI));</td>
    <td class="lineNumber">2330</td>
    <td class="codeline">            SI->getCondition(), SI->getCondition()->getName() + ".fr", SI));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2331</td>
    <td class="codeline"></td>
    <td class="lineNumber">2331</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2332</td>
    <td class="codeline">      // We need to use the set to populate domtree updates as even when there</td>
    <td class="lineNumber">2332</td>
    <td class="codeline">      // We need to use the set to populate domtree updates as even when there</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2333</td>
    <td class="codeline">      // are multiple cases pointing at the same successor we only want to</td>
    <td class="lineNumber">2333</td>
    <td class="codeline">      // are multiple cases pointing at the same successor we only want to</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2334</td>
    <td class="codeline">      // remove and insert one edge in the domtree.</td>
    <td class="lineNumber">2334</td>
    <td class="codeline">      // remove and insert one edge in the domtree.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2335</td>
    <td class="codeline">      for (BasicBlock *SuccBB : UnswitchedSuccBBs)</td>
    <td class="lineNumber">2335</td>
    <td class="codeline">      for (BasicBlock *SuccBB : UnswitchedSuccBBs)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2336</td>
    <td class="codeline">        DTUpdates.push_back(</td>
    <td class="lineNumber">2336</td>
    <td class="codeline">        DTUpdates.push_back(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2337</td>
    <td class="codeline">            {DominatorTree::Insert, SplitBB, ClonedPHs.find(SuccBB)->second});</td>
    <td class="lineNumber">2337</td>
    <td class="codeline">            {DominatorTree::Insert, SplitBB, ClonedPHs.find(SuccBB)->second});</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2338</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">2338</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2339</td>
    <td class="codeline"></td>
    <td class="lineNumber">2339</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2340</td>
    <td class="codeline">    if (MSSAU) {</td>
    <td class="lineNumber">2340</td>
    <td class="codeline">    if (MSSAU) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2341</td>
    <td class="codeline">      DT.applyUpdates(DTUpdates);</td>
    <td class="lineNumber">2341</td>
    <td class="codeline">      DT.applyUpdates(DTUpdates);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2342</td>
    <td class="codeline">      DTUpdates.clear();</td>
    <td class="lineNumber">2342</td>
    <td class="codeline">      DTUpdates.clear();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2343</td>
    <td class="codeline"></td>
    <td class="lineNumber">2343</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2344</td>
    <td class="codeline">      // Remove all but one edge to the retained block and all unswitched</td>
    <td class="lineNumber">2344</td>
    <td class="codeline">      // Remove all but one edge to the retained block and all unswitched</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2345</td>
    <td class="codeline">      // blocks. This is to avoid having duplicate entries in the cloned Phis,</td>
    <td class="lineNumber">2345</td>
    <td class="codeline">      // blocks. This is to avoid having duplicate entries in the cloned Phis,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2346</td>
    <td class="codeline">      // when we know we only keep a single edge for each case.</td>
    <td class="lineNumber">2346</td>
    <td class="codeline">      // when we know we only keep a single edge for each case.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2347</td>
    <td class="codeline">      MSSAU->removeDuplicatePhiEdgesBetween(ParentBB, RetainedSuccBB);</td>
    <td class="lineNumber">2347</td>
    <td class="codeline">      MSSAU->removeDuplicatePhiEdgesBetween(ParentBB, RetainedSuccBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2348</td>
    <td class="codeline">      for (BasicBlock *SuccBB : UnswitchedSuccBBs)</td>
    <td class="lineNumber">2348</td>
    <td class="codeline">      for (BasicBlock *SuccBB : UnswitchedSuccBBs)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2349</td>
    <td class="codeline">        MSSAU->removeDuplicatePhiEdgesBetween(ParentBB, SuccBB);</td>
    <td class="lineNumber">2349</td>
    <td class="codeline">        MSSAU->removeDuplicatePhiEdgesBetween(ParentBB, SuccBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2350</td>
    <td class="codeline"></td>
    <td class="lineNumber">2350</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2351</td>
    <td class="codeline">      for (auto &VMap : VMaps)</td>
    <td class="lineNumber">2351</td>
    <td class="codeline">      for (auto &VMap : VMaps)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2352</td>
    <td class="codeline">        MSSAU->updateForClonedLoop(LBRPO, ExitBlocks, *VMap,</td>
    <td class="lineNumber">2352</td>
    <td class="codeline">        MSSAU->updateForClonedLoop(LBRPO, ExitBlocks, *VMap,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2353</td>
    <td class="codeline">                                   /*IgnoreIncomingWithNoClones=*/true);</td>
    <td class="lineNumber">2353</td>
    <td class="codeline">                                   /*IgnoreIncomingWithNoClones=*/true);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2354</td>
    <td class="codeline">      MSSAU->updateExitBlocksForClonedLoop(ExitBlocks, VMaps, DT);</td>
    <td class="lineNumber">2354</td>
    <td class="codeline">      MSSAU->updateExitBlocksForClonedLoop(ExitBlocks, VMaps, DT);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2355</td>
    <td class="codeline"></td>
    <td class="lineNumber">2355</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2356</td>
    <td class="codeline">      // Remove all edges to unswitched blocks.</td>
    <td class="lineNumber">2356</td>
    <td class="codeline">      // Remove all edges to unswitched blocks.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2357</td>
    <td class="codeline">      for (BasicBlock *SuccBB : UnswitchedSuccBBs)</td>
    <td class="lineNumber">2357</td>
    <td class="codeline">      for (BasicBlock *SuccBB : UnswitchedSuccBBs)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2358</td>
    <td class="codeline">        MSSAU->removeEdge(ParentBB, SuccBB);</td>
    <td class="lineNumber">2358</td>
    <td class="codeline">        MSSAU->removeEdge(ParentBB, SuccBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2359</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">2359</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2360</td>
    <td class="codeline"></td>
    <td class="lineNumber">2360</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2361</td>
    <td class="codeline">    // Now unhook the successor relationship as we'll be replacing</td>
    <td class="lineNumber">2361</td>
    <td class="codeline">    // Now unhook the successor relationship as we'll be replacing</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2362</td>
    <td class="codeline">    // the terminator with a direct branch. This is much simpler for branches</td>
    <td class="lineNumber">2362</td>
    <td class="codeline">    // the terminator with a direct branch. This is much simpler for branches</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2363</td>
    <td class="codeline">    // than switches so we handle those first.</td>
    <td class="lineNumber">2363</td>
    <td class="codeline">    // than switches so we handle those first.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2364</td>
    <td class="codeline">    if (BI) {</td>
    <td class="lineNumber">2364</td>
    <td class="codeline">    if (BI) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2365</td>
    <td class="codeline">      // Remove the parent as a predecessor of the unswitched successor.</td>
    <td class="lineNumber">2365</td>
    <td class="codeline">      // Remove the parent as a predecessor of the unswitched successor.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2366</td>
    <td class="codeline">      assert(UnswitchedSuccBBs.size() == 1 &&</td>
    <td class="lineNumber">2366</td>
    <td class="codeline">      assert(UnswitchedSuccBBs.size() == 1 &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2367</td>
    <td class="codeline">             "Only one possible unswitched block for a branch!");</td>
    <td class="lineNumber">2367</td>
    <td class="codeline">             "Only one possible unswitched block for a branch!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2368</td>
    <td class="codeline">      BasicBlock *UnswitchedSuccBB = *UnswitchedSuccBBs.begin();</td>
    <td class="lineNumber">2368</td>
    <td class="codeline">      BasicBlock *UnswitchedSuccBB = *UnswitchedSuccBBs.begin();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2369</td>
    <td class="codeline">      UnswitchedSuccBB->removePredecessor(ParentBB,</td>
    <td class="lineNumber">2369</td>
    <td class="codeline">      UnswitchedSuccBB->removePredecessor(ParentBB,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2370</td>
    <td class="codeline">                                          /*KeepOneInputPHIs*/ true);</td>
    <td class="lineNumber">2370</td>
    <td class="codeline">                                          /*KeepOneInputPHIs*/ true);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2371</td>
    <td class="codeline">      DTUpdates.push_back({DominatorTree::Delete, ParentBB, UnswitchedSuccBB});</td>
    <td class="lineNumber">2371</td>
    <td class="codeline">      DTUpdates.push_back({DominatorTree::Delete, ParentBB, UnswitchedSuccBB});</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2372</td>
    <td class="codeline">    } else {</td>
    <td class="lineNumber">2372</td>
    <td class="codeline">    } else {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2373</td>
    <td class="codeline">      // Note that we actually want to remove the parent block as a predecessor</td>
    <td class="lineNumber">2373</td>
    <td class="codeline">      // Note that we actually want to remove the parent block as a predecessor</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2374</td>
    <td class="codeline">      // of *every* case successor. The case successor is either unswitched,</td>
    <td class="lineNumber">2374</td>
    <td class="codeline">      // of *every* case successor. The case successor is either unswitched,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2375</td>
    <td class="codeline">      // completely eliminating an edge from the parent to that successor, or it</td>
    <td class="lineNumber">2375</td>
    <td class="codeline">      // completely eliminating an edge from the parent to that successor, or it</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2376</td>
    <td class="codeline">      // is a duplicate edge to the retained successor as the retained successor</td>
    <td class="lineNumber">2376</td>
    <td class="codeline">      // is a duplicate edge to the retained successor as the retained successor</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2377</td>
    <td class="codeline">      // is always the default successor and as we'll replace this with a direct</td>
    <td class="lineNumber">2377</td>
    <td class="codeline">      // is always the default successor and as we'll replace this with a direct</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2378</td>
    <td class="codeline">      // branch we no longer need the duplicate entries in the PHI nodes.</td>
    <td class="lineNumber">2378</td>
    <td class="codeline">      // branch we no longer need the duplicate entries in the PHI nodes.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2379</td>
    <td class="codeline">      SwitchInst *NewSI = cast<SwitchInst>(NewTI);</td>
    <td class="lineNumber">2379</td>
    <td class="codeline">      SwitchInst *NewSI = cast<SwitchInst>(NewTI);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2380</td>
    <td class="codeline">      assert(NewSI->getDefaultDest() == RetainedSuccBB &&</td>
    <td class="lineNumber">2380</td>
    <td class="codeline">      assert(NewSI->getDefaultDest() == RetainedSuccBB &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2381</td>
    <td class="codeline">             "Not retaining default successor!");</td>
    <td class="lineNumber">2381</td>
    <td class="codeline">             "Not retaining default successor!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2382</td>
    <td class="codeline">      for (const auto &Case : NewSI->cases())</td>
    <td class="lineNumber">2382</td>
    <td class="codeline">      for (const auto &Case : NewSI->cases())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2383</td>
    <td class="codeline">        Case.getCaseSuccessor()->removePredecessor(</td>
    <td class="lineNumber">2383</td>
    <td class="codeline">        Case.getCaseSuccessor()->removePredecessor(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2384</td>
    <td class="codeline">            ParentBB,</td>
    <td class="lineNumber">2384</td>
    <td class="codeline">            ParentBB,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2385</td>
    <td class="codeline">            /*KeepOneInputPHIs*/ true);</td>
    <td class="lineNumber">2385</td>
    <td class="codeline">            /*KeepOneInputPHIs*/ true);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2386</td>
    <td class="codeline"></td>
    <td class="lineNumber">2386</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2387</td>
    <td class="codeline">      // We need to use the set to populate domtree updates as even when there</td>
    <td class="lineNumber">2387</td>
    <td class="codeline">      // We need to use the set to populate domtree updates as even when there</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2388</td>
    <td class="codeline">      // are multiple cases pointing at the same successor we only want to</td>
    <td class="lineNumber">2388</td>
    <td class="codeline">      // are multiple cases pointing at the same successor we only want to</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2389</td>
    <td class="codeline">      // remove and insert one edge in the domtree.</td>
    <td class="lineNumber">2389</td>
    <td class="codeline">      // remove and insert one edge in the domtree.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2390</td>
    <td class="codeline">      for (BasicBlock *SuccBB : UnswitchedSuccBBs)</td>
    <td class="lineNumber">2390</td>
    <td class="codeline">      for (BasicBlock *SuccBB : UnswitchedSuccBBs)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2391</td>
    <td class="codeline">        DTUpdates.push_back({DominatorTree::Delete, ParentBB, SuccBB});</td>
    <td class="lineNumber">2391</td>
    <td class="codeline">        DTUpdates.push_back({DominatorTree::Delete, ParentBB, SuccBB});</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2392</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">2392</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2393</td>
    <td class="codeline"></td>
    <td class="lineNumber">2393</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2394</td>
    <td class="codeline">    // After MSSAU update, remove the cloned terminator instruction NewTI.</td>
    <td class="lineNumber">2394</td>
    <td class="codeline">    // After MSSAU update, remove the cloned terminator instruction NewTI.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2395</td>
    <td class="codeline">    ParentBB->getTerminator()->eraseFromParent();</td>
    <td class="lineNumber">2395</td>
    <td class="codeline">    ParentBB->getTerminator()->eraseFromParent();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2396</td>
    <td class="codeline"></td>
    <td class="lineNumber">2396</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2397</td>
    <td class="codeline">    // Create a new unconditional branch to the continuing block (as opposed to</td>
    <td class="lineNumber">2397</td>
    <td class="codeline">    // Create a new unconditional branch to the continuing block (as opposed to</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2398</td>
    <td class="codeline">    // the one cloned).</td>
    <td class="lineNumber">2398</td>
    <td class="codeline">    // the one cloned).</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2399</td>
    <td class="codeline">    BranchInst::Create(RetainedSuccBB, ParentBB);</td>
    <td class="lineNumber">2399</td>
    <td class="codeline">    BranchInst::Create(RetainedSuccBB, ParentBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2400</td>
    <td class="codeline">  } else {</td>
    <td class="lineNumber">2400</td>
    <td class="codeline">  } else {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2401</td>
    <td class="codeline">    assert(BI && "Only branches have partial unswitching.");</td>
    <td class="lineNumber">2401</td>
    <td class="codeline">    assert(BI && "Only branches have partial unswitching.");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2402</td>
    <td class="codeline">    assert(UnswitchedSuccBBs.size() == 1 &&</td>
    <td class="lineNumber">2402</td>
    <td class="codeline">    assert(UnswitchedSuccBBs.size() == 1 &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2403</td>
    <td class="codeline">           "Only one possible unswitched block for a branch!");</td>
    <td class="lineNumber">2403</td>
    <td class="codeline">           "Only one possible unswitched block for a branch!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2404</td>
    <td class="codeline">    BasicBlock *ClonedPH = ClonedPHs.begin()->second;</td>
    <td class="lineNumber">2404</td>
    <td class="codeline">    BasicBlock *ClonedPH = ClonedPHs.begin()->second;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2405</td>
    <td class="codeline">    // When doing a partial unswitch, we have to do a bit more work to build up</td>
    <td class="lineNumber">2405</td>
    <td class="codeline">    // When doing a partial unswitch, we have to do a bit more work to build up</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2406</td>
    <td class="codeline">    // the branch in the split block.</td>
    <td class="lineNumber">2406</td>
    <td class="codeline">    // the branch in the split block.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2407</td>
    <td class="codeline">    if (PartiallyInvariant)</td>
    <td class="lineNumber">2407</td>
    <td class="codeline">    if (PartiallyInvariant)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2408</td>
    <td class="codeline">      buildPartialInvariantUnswitchConditionalBranch(</td>
    <td class="lineNumber">2408</td>
    <td class="codeline">      buildPartialInvariantUnswitchConditionalBranch(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2409</td>
    <td class="codeline">          *SplitBB, Invariants, Direction, *ClonedPH, *LoopPH, L, MSSAU);</td>
    <td class="lineNumber">2409</td>
    <td class="codeline">          *SplitBB, Invariants, Direction, *ClonedPH, *LoopPH, L, MSSAU);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2410</td>
    <td class="codeline">    else {</td>
    <td class="lineNumber">2410</td>
    <td class="codeline">    else {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2411</td>
    <td class="codeline">      buildPartialUnswitchConditionalBranch(</td>
    <td class="lineNumber">2411</td>
    <td class="codeline">      buildPartialUnswitchConditionalBranch(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2412</td>
    <td class="codeline">          *SplitBB, Invariants, Direction, *ClonedPH, *LoopPH,</td>
    <td class="lineNumber">2412</td>
    <td class="codeline">          *SplitBB, Invariants, Direction, *ClonedPH, *LoopPH,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2413</td>
    <td class="codeline">          FreezeLoopUnswitchCond, BI, &AC, DT);</td>
    <td class="lineNumber">2413</td>
    <td class="codeline">          FreezeLoopUnswitchCond, BI, &AC, DT);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2414</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">2414</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2415</td>
    <td class="codeline">    DTUpdates.push_back({DominatorTree::Insert, SplitBB, ClonedPH});</td>
    <td class="lineNumber">2415</td>
    <td class="codeline">    DTUpdates.push_back({DominatorTree::Insert, SplitBB, ClonedPH});</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2416</td>
    <td class="codeline"></td>
    <td class="lineNumber">2416</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2417</td>
    <td class="codeline">    if (MSSAU) {</td>
    <td class="lineNumber">2417</td>
    <td class="codeline">    if (MSSAU) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2418</td>
    <td class="codeline">      DT.applyUpdates(DTUpdates);</td>
    <td class="lineNumber">2418</td>
    <td class="codeline">      DT.applyUpdates(DTUpdates);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2419</td>
    <td class="codeline">      DTUpdates.clear();</td>
    <td class="lineNumber">2419</td>
    <td class="codeline">      DTUpdates.clear();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2420</td>
    <td class="codeline"></td>
    <td class="lineNumber">2420</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2421</td>
    <td class="codeline">      // Perform MSSA cloning updates.</td>
    <td class="lineNumber">2421</td>
    <td class="codeline">      // Perform MSSA cloning updates.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2422</td>
    <td class="codeline">      for (auto &VMap : VMaps)</td>
    <td class="lineNumber">2422</td>
    <td class="codeline">      for (auto &VMap : VMaps)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2423</td>
    <td class="codeline">        MSSAU->updateForClonedLoop(LBRPO, ExitBlocks, *VMap,</td>
    <td class="lineNumber">2423</td>
    <td class="codeline">        MSSAU->updateForClonedLoop(LBRPO, ExitBlocks, *VMap,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2424</td>
    <td class="codeline">                                   /*IgnoreIncomingWithNoClones=*/true);</td>
    <td class="lineNumber">2424</td>
    <td class="codeline">                                   /*IgnoreIncomingWithNoClones=*/true);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2425</td>
    <td class="codeline">      MSSAU->updateExitBlocksForClonedLoop(ExitBlocks, VMaps, DT);</td>
    <td class="lineNumber">2425</td>
    <td class="codeline">      MSSAU->updateExitBlocksForClonedLoop(ExitBlocks, VMaps, DT);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2426</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">2426</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2427</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">2427</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2428</td>
    <td class="codeline"></td>
    <td class="lineNumber">2428</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2429</td>
    <td class="codeline">  // Apply the updates accumulated above to get an up-to-date dominator tree.</td>
    <td class="lineNumber">2429</td>
    <td class="codeline">  // Apply the updates accumulated above to get an up-to-date dominator tree.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2430</td>
    <td class="codeline">  DT.applyUpdates(DTUpdates);</td>
    <td class="lineNumber">2430</td>
    <td class="codeline">  DT.applyUpdates(DTUpdates);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2431</td>
    <td class="codeline"></td>
    <td class="lineNumber">2431</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2432</td>
    <td class="codeline">  // Now that we have an accurate dominator tree, first delete the dead cloned</td>
    <td class="lineNumber">2432</td>
    <td class="codeline">  // Now that we have an accurate dominator tree, first delete the dead cloned</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2433</td>
    <td class="codeline">  // blocks so that we can accurately build any cloned loops. It is important to</td>
    <td class="lineNumber">2433</td>
    <td class="codeline">  // blocks so that we can accurately build any cloned loops. It is important to</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2434</td>
    <td class="codeline">  // not delete the blocks from the original loop yet because we still want to</td>
    <td class="lineNumber">2434</td>
    <td class="codeline">  // not delete the blocks from the original loop yet because we still want to</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2435</td>
    <td class="codeline">  // reference the original loop to understand the cloned loop's structure.</td>
    <td class="lineNumber">2435</td>
    <td class="codeline">  // reference the original loop to understand the cloned loop's structure.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2436</td>
    <td class="codeline">  deleteDeadClonedBlocks(L, ExitBlocks, VMaps, DT, MSSAU);</td>
    <td class="lineNumber">2436</td>
    <td class="codeline">  deleteDeadClonedBlocks(L, ExitBlocks, VMaps, DT, MSSAU);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2437</td>
    <td class="codeline"></td>
    <td class="lineNumber">2437</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2438</td>
    <td class="codeline">  // Build the cloned loop structure itself. This may be substantially</td>
    <td class="lineNumber">2438</td>
    <td class="codeline">  // Build the cloned loop structure itself. This may be substantially</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2439</td>
    <td class="codeline">  // different from the original structure due to the simplified CFG. This also</td>
    <td class="lineNumber">2439</td>
    <td class="codeline">  // different from the original structure due to the simplified CFG. This also</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2440</td>
    <td class="codeline">  // handles inserting all the cloned blocks into the correct loops.</td>
    <td class="lineNumber">2440</td>
    <td class="codeline">  // handles inserting all the cloned blocks into the correct loops.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2441</td>
    <td class="codeline">  SmallVector<Loop *, 4> NonChildClonedLoops;</td>
    <td class="lineNumber">2441</td>
    <td class="codeline">  SmallVector<Loop *, 4> NonChildClonedLoops;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2442</td>
    <td class="codeline">  for (std::unique_ptr<ValueToValueMapTy> &VMap : VMaps)</td>
    <td class="lineNumber">2442</td>
    <td class="codeline">  for (std::unique_ptr<ValueToValueMapTy> &VMap : VMaps)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2443</td>
    <td class="codeline">    buildClonedLoops(L, ExitBlocks, *VMap, LI, NonChildClonedLoops);</td>
    <td class="lineNumber">2443</td>
    <td class="codeline">    buildClonedLoops(L, ExitBlocks, *VMap, LI, NonChildClonedLoops);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2444</td>
    <td class="codeline"></td>
    <td class="lineNumber">2444</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2445</td>
    <td class="codeline">  // Now that our cloned loops have been built, we can update the original loop.</td>
    <td class="lineNumber">2445</td>
    <td class="codeline">  // Now that our cloned loops have been built, we can update the original loop.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2446</td>
    <td class="codeline">  // First we delete the dead blocks from it and then we rebuild the loop</td>
    <td class="lineNumber">2446</td>
    <td class="codeline">  // First we delete the dead blocks from it and then we rebuild the loop</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2447</td>
    <td class="codeline">  // structure taking these deletions into account.</td>
    <td class="lineNumber">2447</td>
    <td class="codeline">  // structure taking these deletions into account.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2448</td>
    <td class="codeline">  deleteDeadBlocksFromLoop(L, ExitBlocks, DT, LI, MSSAU, SE,DestroyLoopCB);</td>
    <td class="lineNumber">2448</td>
    <td class="codeline">  deleteDeadBlocksFromLoop(L, ExitBlocks, DT, LI, MSSAU, SE,DestroyLoopCB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2449</td>
    <td class="codeline"></td>
    <td class="lineNumber">2449</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2450</td>
    <td class="codeline">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">2450</td>
    <td class="codeline">  if (MSSAU && VerifyMemorySSA)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2451</td>
    <td class="codeline">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">2451</td>
    <td class="codeline">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2452</td>
    <td class="codeline"></td>
    <td class="lineNumber">2452</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2453</td>
    <td class="codeline">  SmallVector<Loop *, 4> HoistedLoops;</td>
    <td class="lineNumber">2453</td>
    <td class="codeline">  SmallVector<Loop *, 4> HoistedLoops;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2454</td>
    <td class="codeline">  bool IsStillLoop =</td>
    <td class="lineNumber">2454</td>
    <td class="codeline">  bool IsStillLoop =</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2455</td>
    <td class="codeline">      rebuildLoopAfterUnswitch(L, ExitBlocks, LI, HoistedLoops, SE);</td>
    <td class="lineNumber">2455</td>
    <td class="codeline">      rebuildLoopAfterUnswitch(L, ExitBlocks, LI, HoistedLoops, SE);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2456</td>
    <td class="codeline"></td>
    <td class="lineNumber">2456</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2457</td>
    <td class="codeline">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">2457</td>
    <td class="codeline">  if (MSSAU && VerifyMemorySSA)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2458</td>
    <td class="codeline">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">2458</td>
    <td class="codeline">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2459</td>
    <td class="codeline"></td>
    <td class="lineNumber">2459</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2460</td>
    <td class="codeline">  // This transformation has a high risk of corrupting the dominator tree, and</td>
    <td class="lineNumber">2460</td>
    <td class="codeline">  // This transformation has a high risk of corrupting the dominator tree, and</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2461</td>
    <td class="codeline">  // the below steps to rebuild loop structures will result in hard to debug</td>
    <td class="lineNumber">2461</td>
    <td class="codeline">  // the below steps to rebuild loop structures will result in hard to debug</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2462</td>
    <td class="codeline">  // errors in that case so verify that the dominator tree is sane first.</td>
    <td class="lineNumber">2462</td>
    <td class="codeline">  // errors in that case so verify that the dominator tree is sane first.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2463</td>
    <td class="codeline">  // FIXME: Remove this when the bugs stop showing up and rely on existing</td>
    <td class="lineNumber">2463</td>
    <td class="codeline">  // FIXME: Remove this when the bugs stop showing up and rely on existing</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2464</td>
    <td class="codeline">  // verification steps.</td>
    <td class="lineNumber">2464</td>
    <td class="codeline">  // verification steps.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2465</td>
    <td class="codeline">  assert(DT.verify(DominatorTree::VerificationLevel::Fast));</td>
    <td class="lineNumber">2465</td>
    <td class="codeline">  assert(DT.verify(DominatorTree::VerificationLevel::Fast));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2466</td>
    <td class="codeline"></td>
    <td class="lineNumber">2466</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2467</td>
    <td class="codeline">  if (BI && !PartiallyInvariant) {</td>
    <td class="lineNumber">2467</td>
    <td class="codeline">  if (BI && !PartiallyInvariant) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2468</td>
    <td class="codeline">    // If we unswitched a branch which collapses the condition to a known</td>
    <td class="lineNumber">2468</td>
    <td class="codeline">    // If we unswitched a branch which collapses the condition to a known</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2469</td>
    <td class="codeline">    // constant we want to replace all the uses of the invariants within both</td>
    <td class="lineNumber">2469</td>
    <td class="codeline">    // constant we want to replace all the uses of the invariants within both</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2470</td>
    <td class="codeline">    // the original and cloned blocks. We do this here so that we can use the</td>
    <td class="lineNumber">2470</td>
    <td class="codeline">    // the original and cloned blocks. We do this here so that we can use the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2471</td>
    <td class="codeline">    // now updated dominator tree to identify which side the users are on.</td>
    <td class="lineNumber">2471</td>
    <td class="codeline">    // now updated dominator tree to identify which side the users are on.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2472</td>
    <td class="codeline">    assert(UnswitchedSuccBBs.size() == 1 &&</td>
    <td class="lineNumber">2472</td>
    <td class="codeline">    assert(UnswitchedSuccBBs.size() == 1 &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2473</td>
    <td class="codeline">           "Only one possible unswitched block for a branch!");</td>
    <td class="lineNumber">2473</td>
    <td class="codeline">           "Only one possible unswitched block for a branch!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2474</td>
    <td class="codeline">    BasicBlock *ClonedPH = ClonedPHs.begin()->second;</td>
    <td class="lineNumber">2474</td>
    <td class="codeline">    BasicBlock *ClonedPH = ClonedPHs.begin()->second;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2475</td>
    <td class="codeline"></td>
    <td class="lineNumber">2475</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2476</td>
    <td class="codeline">    // When considering multiple partially-unswitched invariants</td>
    <td class="lineNumber">2476</td>
    <td class="codeline">    // When considering multiple partially-unswitched invariants</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2477</td>
    <td class="codeline">    // we cant just go replace them with constants in both branches.</td>
    <td class="lineNumber">2477</td>
    <td class="codeline">    // we cant just go replace them with constants in both branches.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2478</td>
    <td class="codeline">    //</td>
    <td class="lineNumber">2478</td>
    <td class="codeline">    //</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2479</td>
    <td class="codeline">    // For 'AND' we infer that true branch ("continue") means true</td>
    <td class="lineNumber">2479</td>
    <td class="codeline">    // For 'AND' we infer that true branch ("continue") means true</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2480</td>
    <td class="codeline">    // for each invariant operand.</td>
    <td class="lineNumber">2480</td>
    <td class="codeline">    // for each invariant operand.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2481</td>
    <td class="codeline">    // For 'OR' we can infer that false branch ("continue") means false</td>
    <td class="lineNumber">2481</td>
    <td class="codeline">    // For 'OR' we can infer that false branch ("continue") means false</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2482</td>
    <td class="codeline">    // for each invariant operand.</td>
    <td class="lineNumber">2482</td>
    <td class="codeline">    // for each invariant operand.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2483</td>
    <td class="codeline">    // So it happens that for multiple-partial case we dont replace</td>
    <td class="lineNumber">2483</td>
    <td class="codeline">    // So it happens that for multiple-partial case we dont replace</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2484</td>
    <td class="codeline">    // in the unswitched branch.</td>
    <td class="lineNumber">2484</td>
    <td class="codeline">    // in the unswitched branch.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2485</td>
    <td class="codeline">    bool ReplaceUnswitched =</td>
    <td class="lineNumber">2485</td>
    <td class="codeline">    bool ReplaceUnswitched =</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2486</td>
    <td class="codeline">        FullUnswitch || (Invariants.size() == 1) || PartiallyInvariant;</td>
    <td class="lineNumber">2486</td>
    <td class="codeline">        FullUnswitch || (Invariants.size() == 1) || PartiallyInvariant;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2487</td>
    <td class="codeline"></td>
    <td class="lineNumber">2487</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2488</td>
    <td class="codeline">    ConstantInt *UnswitchedReplacement =</td>
    <td class="lineNumber">2488</td>
    <td class="codeline">    ConstantInt *UnswitchedReplacement =</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2489</td>
    <td class="codeline">        Direction ? ConstantInt::getTrue(BI->getContext())</td>
    <td class="lineNumber">2489</td>
    <td class="codeline">        Direction ? ConstantInt::getTrue(BI->getContext())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2490</td>
    <td class="codeline">                  : ConstantInt::getFalse(BI->getContext());</td>
    <td class="lineNumber">2490</td>
    <td class="codeline">                  : ConstantInt::getFalse(BI->getContext());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2491</td>
    <td class="codeline">    ConstantInt *ContinueReplacement =</td>
    <td class="lineNumber">2491</td>
    <td class="codeline">    ConstantInt *ContinueReplacement =</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2492</td>
    <td class="codeline">        Direction ? ConstantInt::getFalse(BI->getContext())</td>
    <td class="lineNumber">2492</td>
    <td class="codeline">        Direction ? ConstantInt::getFalse(BI->getContext())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2493</td>
    <td class="codeline">                  : ConstantInt::getTrue(BI->getContext());</td>
    <td class="lineNumber">2493</td>
    <td class="codeline">                  : ConstantInt::getTrue(BI->getContext());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2494</td>
    <td class="codeline">    for (Value *Invariant : Invariants) {</td>
    <td class="lineNumber">2494</td>
    <td class="codeline">    for (Value *Invariant : Invariants) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2495</td>
    <td class="codeline">      assert(!isa<Constant>(Invariant) &&</td>
    <td class="lineNumber">2495</td>
    <td class="codeline">      assert(!isa<Constant>(Invariant) &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2496</td>
    <td class="codeline">             "Should not be replacing constant values!");</td>
    <td class="lineNumber">2496</td>
    <td class="codeline">             "Should not be replacing constant values!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2497</td>
    <td class="codeline">      // Use make_early_inc_range here as set invalidates the iterator.</td>
    <td class="lineNumber">2497</td>
    <td class="codeline">      // Use make_early_inc_range here as set invalidates the iterator.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2498</td>
    <td class="codeline">      for (Use &U : llvm::make_early_inc_range(Invariant->uses())) {</td>
    <td class="lineNumber">2498</td>
    <td class="codeline">      for (Use &U : llvm::make_early_inc_range(Invariant->uses())) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2499</td>
    <td class="codeline">        Instruction *UserI = dyn_cast<Instruction>(U.getUser());</td>
    <td class="lineNumber">2499</td>
    <td class="codeline">        Instruction *UserI = dyn_cast<Instruction>(U.getUser());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2500</td>
    <td class="codeline">        if (!UserI)</td>
    <td class="lineNumber">2500</td>
    <td class="codeline">        if (!UserI)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2501</td>
    <td class="codeline">          continue;</td>
    <td class="lineNumber">2501</td>
    <td class="codeline">          continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2502</td>
    <td class="codeline"></td>
    <td class="lineNumber">2502</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2503</td>
    <td class="codeline">        // Replace it with the 'continue' side if in the main loop body, and the</td>
    <td class="lineNumber">2503</td>
    <td class="codeline">        // Replace it with the 'continue' side if in the main loop body, and the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2504</td>
    <td class="codeline">        // unswitched if in the cloned blocks.</td>
    <td class="lineNumber">2504</td>
    <td class="codeline">        // unswitched if in the cloned blocks.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2505</td>
    <td class="codeline">        if (DT.dominates(LoopPH, UserI->getParent()))</td>
    <td class="lineNumber">2505</td>
    <td class="codeline">        if (DT.dominates(LoopPH, UserI->getParent()))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2506</td>
    <td class="codeline">          U.set(ContinueReplacement);</td>
    <td class="lineNumber">2506</td>
    <td class="codeline">          U.set(ContinueReplacement);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2507</td>
    <td class="codeline">        else if (ReplaceUnswitched &&</td>
    <td class="lineNumber">2507</td>
    <td class="codeline">        else if (ReplaceUnswitched &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2508</td>
    <td class="codeline">                 DT.dominates(ClonedPH, UserI->getParent()))</td>
    <td class="lineNumber">2508</td>
    <td class="codeline">                 DT.dominates(ClonedPH, UserI->getParent()))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2509</td>
    <td class="codeline">          U.set(UnswitchedReplacement);</td>
    <td class="lineNumber">2509</td>
    <td class="codeline">          U.set(UnswitchedReplacement);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2510</td>
    <td class="codeline">      }</td>
    <td class="lineNumber">2510</td>
    <td class="codeline">      }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2511</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">2511</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2512</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">2512</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2513</td>
    <td class="codeline"></td>
    <td class="lineNumber">2513</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2514</td>
    <td class="codeline">  // We can change which blocks are exit blocks of all the cloned sibling</td>
    <td class="lineNumber">2514</td>
    <td class="codeline">  // We can change which blocks are exit blocks of all the cloned sibling</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2515</td>
    <td class="codeline">  // loops, the current loop, and any parent loops which shared exit blocks</td>
    <td class="lineNumber">2515</td>
    <td class="codeline">  // loops, the current loop, and any parent loops which shared exit blocks</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2516</td>
    <td class="codeline">  // with the current loop. As a consequence, we need to re-form LCSSA for</td>
    <td class="lineNumber">2516</td>
    <td class="codeline">  // with the current loop. As a consequence, we need to re-form LCSSA for</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2517</td>
    <td class="codeline">  // them. But we shouldn't need to re-form LCSSA for any child loops.</td>
    <td class="lineNumber">2517</td>
    <td class="codeline">  // them. But we shouldn't need to re-form LCSSA for any child loops.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2518</td>
    <td class="codeline">  // FIXME: This could be made more efficient by tracking which exit blocks are</td>
    <td class="lineNumber">2518</td>
    <td class="codeline">  // FIXME: This could be made more efficient by tracking which exit blocks are</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2519</td>
    <td class="codeline">  // new, and focusing on them, but that isn't likely to be necessary.</td>
    <td class="lineNumber">2519</td>
    <td class="codeline">  // new, and focusing on them, but that isn't likely to be necessary.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2520</td>
    <td class="codeline">  //</td>
    <td class="lineNumber">2520</td>
    <td class="codeline">  //</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2521</td>
    <td class="codeline">  // In order to reasonably rebuild LCSSA we need to walk inside-out across the</td>
    <td class="lineNumber">2521</td>
    <td class="codeline">  // In order to reasonably rebuild LCSSA we need to walk inside-out across the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2522</td>
    <td class="codeline">  // loop nest and update every loop that could have had its exits changed. We</td>
    <td class="lineNumber">2522</td>
    <td class="codeline">  // loop nest and update every loop that could have had its exits changed. We</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2523</td>
    <td class="codeline">  // also need to cover any intervening loops. We add all of these loops to</td>
    <td class="lineNumber">2523</td>
    <td class="codeline">  // also need to cover any intervening loops. We add all of these loops to</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2524</td>
    <td class="codeline">  // a list and sort them by loop depth to achieve this without updating</td>
    <td class="lineNumber">2524</td>
    <td class="codeline">  // a list and sort them by loop depth to achieve this without updating</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2525</td>
    <td class="codeline">  // unnecessary loops.</td>
    <td class="lineNumber">2525</td>
    <td class="codeline">  // unnecessary loops.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2526</td>
    <td class="codeline">  auto UpdateLoop = [&](Loop &UpdateL) {</td>
    <td class="lineNumber">2526</td>
    <td class="codeline">  auto UpdateLoop = [&](Loop &UpdateL) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2527</td>
    <td class="codeline">#ifndef NDEBUG</td>
    <td class="lineNumber">2527</td>
    <td class="codeline">#ifndef NDEBUG</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2528</td>
    <td class="codeline">    UpdateL.verifyLoop();</td>
    <td class="lineNumber">2528</td>
    <td class="codeline">    UpdateL.verifyLoop();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2529</td>
    <td class="codeline">    for (Loop *ChildL : UpdateL) {</td>
    <td class="lineNumber">2529</td>
    <td class="codeline">    for (Loop *ChildL : UpdateL) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2530</td>
    <td class="codeline">      ChildL->verifyLoop();</td>
    <td class="lineNumber">2530</td>
    <td class="codeline">      ChildL->verifyLoop();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2531</td>
    <td class="codeline">      assert(ChildL->isRecursivelyLCSSAForm(DT, LI) &&</td>
    <td class="lineNumber">2531</td>
    <td class="codeline">      assert(ChildL->isRecursivelyLCSSAForm(DT, LI) &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2532</td>
    <td class="codeline">             "Perturbed a child loop's LCSSA form!");</td>
    <td class="lineNumber">2532</td>
    <td class="codeline">             "Perturbed a child loop's LCSSA form!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2533</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">2533</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2534</td>
    <td class="codeline">#endif</td>
    <td class="lineNumber">2534</td>
    <td class="codeline">#endif</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2535</td>
    <td class="codeline">    // First build LCSSA for this loop so that we can preserve it when</td>
    <td class="lineNumber">2535</td>
    <td class="codeline">    // First build LCSSA for this loop so that we can preserve it when</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2536</td>
    <td class="codeline">    // forming dedicated exits. We don't want to perturb some other loop's</td>
    <td class="lineNumber">2536</td>
    <td class="codeline">    // forming dedicated exits. We don't want to perturb some other loop's</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2537</td>
    <td class="codeline">    // LCSSA while doing that CFG edit.</td>
    <td class="lineNumber">2537</td>
    <td class="codeline">    // LCSSA while doing that CFG edit.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2538</td>
    <td class="codeline">    formLCSSA(UpdateL, DT, &LI, SE);</td>
    <td class="lineNumber">2538</td>
    <td class="codeline">    formLCSSA(UpdateL, DT, &LI, SE);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2539</td>
    <td class="codeline"></td>
    <td class="lineNumber">2539</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2540</td>
    <td class="codeline">    // For loops reached by this loop's original exit blocks we may</td>
    <td class="lineNumber">2540</td>
    <td class="codeline">    // For loops reached by this loop's original exit blocks we may</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2541</td>
    <td class="codeline">    // introduced new, non-dedicated exits. At least try to re-form dedicated</td>
    <td class="lineNumber">2541</td>
    <td class="codeline">    // introduced new, non-dedicated exits. At least try to re-form dedicated</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2542</td>
    <td class="codeline">    // exits for these loops. This may fail if they couldn't have dedicated</td>
    <td class="lineNumber">2542</td>
    <td class="codeline">    // exits for these loops. This may fail if they couldn't have dedicated</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2543</td>
    <td class="codeline">    // exits to start with.</td>
    <td class="lineNumber">2543</td>
    <td class="codeline">    // exits to start with.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2544</td>
    <td class="codeline">    formDedicatedExitBlocks(&UpdateL, &DT, &LI, MSSAU, /*PreserveLCSSA*/ true);</td>
    <td class="lineNumber">2544</td>
    <td class="codeline">    formDedicatedExitBlocks(&UpdateL, &DT, &LI, MSSAU, /*PreserveLCSSA*/ true);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2545</td>
    <td class="codeline">  };</td>
    <td class="lineNumber">2545</td>
    <td class="codeline">  };</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2546</td>
    <td class="codeline"></td>
    <td class="lineNumber">2546</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2547</td>
    <td class="codeline">  // For non-child cloned loops and hoisted loops, we just need to update LCSSA</td>
    <td class="lineNumber">2547</td>
    <td class="codeline">  // For non-child cloned loops and hoisted loops, we just need to update LCSSA</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2548</td>
    <td class="codeline">  // and we can do it in any order as they don't nest relative to each other.</td>
    <td class="lineNumber">2548</td>
    <td class="codeline">  // and we can do it in any order as they don't nest relative to each other.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2549</td>
    <td class="codeline">  //</td>
    <td class="lineNumber">2549</td>
    <td class="codeline">  //</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2550</td>
    <td class="codeline">  // Also check if any of the loops we have updated have become top-level loops</td>
    <td class="lineNumber">2550</td>
    <td class="codeline">  // Also check if any of the loops we have updated have become top-level loops</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2551</td>
    <td class="codeline">  // as that will necessitate widening the outer loop scope.</td>
    <td class="lineNumber">2551</td>
    <td class="codeline">  // as that will necessitate widening the outer loop scope.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2552</td>
    <td class="codeline">  for (Loop *UpdatedL :</td>
    <td class="lineNumber">2552</td>
    <td class="codeline">  for (Loop *UpdatedL :</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2553</td>
    <td class="codeline">       llvm::concat<Loop *>(NonChildClonedLoops, HoistedLoops)) {</td>
    <td class="lineNumber">2553</td>
    <td class="codeline">       llvm::concat<Loop *>(NonChildClonedLoops, HoistedLoops)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2554</td>
    <td class="codeline">    UpdateLoop(*UpdatedL);</td>
    <td class="lineNumber">2554</td>
    <td class="codeline">    UpdateLoop(*UpdatedL);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2555</td>
    <td class="codeline">    if (UpdatedL->isOutermost())</td>
    <td class="lineNumber">2555</td>
    <td class="codeline">    if (UpdatedL->isOutermost())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2556</td>
    <td class="codeline">      OuterExitL = nullptr;</td>
    <td class="lineNumber">2556</td>
    <td class="codeline">      OuterExitL = nullptr;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2557</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">2557</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2558</td>
    <td class="codeline">  if (IsStillLoop) {</td>
    <td class="lineNumber">2558</td>
    <td class="codeline">  if (IsStillLoop) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2559</td>
    <td class="codeline">    UpdateLoop(L);</td>
    <td class="lineNumber">2559</td>
    <td class="codeline">    UpdateLoop(L);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2560</td>
    <td class="codeline">    if (L.isOutermost())</td>
    <td class="lineNumber">2560</td>
    <td class="codeline">    if (L.isOutermost())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2561</td>
    <td class="codeline">      OuterExitL = nullptr;</td>
    <td class="lineNumber">2561</td>
    <td class="codeline">      OuterExitL = nullptr;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2562</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">2562</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2563</td>
    <td class="codeline"></td>
    <td class="lineNumber">2563</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2564</td>
    <td class="codeline">  // If the original loop had exit blocks, walk up through the outer most loop</td>
    <td class="lineNumber">2564</td>
    <td class="codeline">  // If the original loop had exit blocks, walk up through the outer most loop</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2565</td>
    <td class="codeline">  // of those exit blocks to update LCSSA and form updated dedicated exits.</td>
    <td class="lineNumber">2565</td>
    <td class="codeline">  // of those exit blocks to update LCSSA and form updated dedicated exits.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2566</td>
    <td class="codeline">  if (OuterExitL != &L)</td>
    <td class="lineNumber">2566</td>
    <td class="codeline">  if (OuterExitL != &L)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2567</td>
    <td class="codeline">    for (Loop *OuterL = ParentL; OuterL != OuterExitL;</td>
    <td class="lineNumber">2567</td>
    <td class="codeline">    for (Loop *OuterL = ParentL; OuterL != OuterExitL;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2568</td>
    <td class="codeline">         OuterL = OuterL->getParentLoop())</td>
    <td class="lineNumber">2568</td>
    <td class="codeline">         OuterL = OuterL->getParentLoop())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2569</td>
    <td class="codeline">      UpdateLoop(*OuterL);</td>
    <td class="lineNumber">2569</td>
    <td class="codeline">      UpdateLoop(*OuterL);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2570</td>
    <td class="codeline"></td>
    <td class="lineNumber">2570</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2571</td>
    <td class="codeline">#ifndef NDEBUG</td>
    <td class="lineNumber">2571</td>
    <td class="codeline">#ifndef NDEBUG</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2572</td>
    <td class="codeline">  // Verify the entire loop structure to catch any incorrect updates before we</td>
    <td class="lineNumber">2572</td>
    <td class="codeline">  // Verify the entire loop structure to catch any incorrect updates before we</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2573</td>
    <td class="codeline">  // progress in the pass pipeline.</td>
    <td class="lineNumber">2573</td>
    <td class="codeline">  // progress in the pass pipeline.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2574</td>
    <td class="codeline">  LI.verify(DT);</td>
    <td class="lineNumber">2574</td>
    <td class="codeline">  LI.verify(DT);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2575</td>
    <td class="codeline">#endif</td>
    <td class="lineNumber">2575</td>
    <td class="codeline">#endif</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2576</td>
    <td class="codeline"></td>
    <td class="lineNumber">2576</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2577</td>
    <td class="codeline">  // Now that we've unswitched something, make callbacks to report the changes.</td>
    <td class="lineNumber">2577</td>
    <td class="codeline">  // Now that we've unswitched something, make callbacks to report the changes.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2578</td>
    <td class="codeline">  // For that we need to merge together the updated loops and the cloned loops</td>
    <td class="lineNumber">2578</td>
    <td class="codeline">  // For that we need to merge together the updated loops and the cloned loops</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2579</td>
    <td class="codeline">  // and check whether the original loop survived.</td>
    <td class="lineNumber">2579</td>
    <td class="codeline">  // and check whether the original loop survived.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2580</td>
    <td class="codeline">  SmallVector<Loop *, 4> SibLoops;</td>
    <td class="lineNumber">2580</td>
    <td class="codeline">  SmallVector<Loop *, 4> SibLoops;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2581</td>
    <td class="codeline">  for (Loop *UpdatedL : llvm::concat<Loop *>(NonChildClonedLoops, HoistedLoops))</td>
    <td class="lineNumber">2581</td>
    <td class="codeline">  for (Loop *UpdatedL : llvm::concat<Loop *>(NonChildClonedLoops, HoistedLoops))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2582</td>
    <td class="codeline">    if (UpdatedL->getParentLoop() == ParentL)</td>
    <td class="lineNumber">2582</td>
    <td class="codeline">    if (UpdatedL->getParentLoop() == ParentL)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2583</td>
    <td class="codeline">      SibLoops.push_back(UpdatedL);</td>
    <td class="lineNumber">2583</td>
    <td class="codeline">      SibLoops.push_back(UpdatedL);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2584</td>
    <td class="codeline">  UnswitchCB(IsStillLoop, PartiallyInvariant, SibLoops);</td>
    <td class="lineNumber">2584</td>
    <td class="codeline">  UnswitchCB(IsStillLoop, PartiallyInvariant, SibLoops);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2585</td>
    <td class="codeline"></td>
    <td class="lineNumber">2585</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2586</td>
    <td class="codeline">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">2586</td>
    <td class="codeline">  if (MSSAU && VerifyMemorySSA)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2587</td>
    <td class="codeline">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">2587</td>
    <td class="codeline">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2588</td>
    <td class="codeline"></td>
    <td class="lineNumber">2588</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2589</td>
    <td class="codeline">  if (BI)</td>
    <td class="lineNumber">2589</td>
    <td class="codeline">  if (BI)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2590</td>
    <td class="codeline">    ++NumBranches;</td>
    <td class="lineNumber">2590</td>
    <td class="codeline">    ++NumBranches;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2591</td>
    <td class="codeline">  else</td>
    <td class="lineNumber">2591</td>
    <td class="codeline">  else</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2592</td>
    <td class="codeline">    ++NumSwitches;</td>
    <td class="lineNumber">2592</td>
    <td class="codeline">    ++NumSwitches;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2593</td>
    <td class="codeline">}</td>
    <td class="lineNumber">2593</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2594</td>
    <td class="codeline"></td>
    <td class="lineNumber">2594</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2595</td>
    <td class="codeline">/// Recursively compute the cost of a dominator subtree based on the per-block</td>
    <td class="lineNumber">2595</td>
    <td class="codeline">/// Recursively compute the cost of a dominator subtree based on the per-block</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2596</td>
    <td class="codeline">/// cost map provided.</td>
    <td class="lineNumber">2596</td>
    <td class="codeline">/// cost map provided.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2597</td>
    <td class="codeline">///</td>
    <td class="lineNumber">2597</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2598</td>
    <td class="codeline">/// The recursive computation is memozied into the provided DT-indexed cost map</td>
    <td class="lineNumber">2598</td>
    <td class="codeline">/// The recursive computation is memozied into the provided DT-indexed cost map</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2599</td>
    <td class="codeline">/// to allow querying it for most nodes in the domtree without it becoming</td>
    <td class="lineNumber">2599</td>
    <td class="codeline">/// to allow querying it for most nodes in the domtree without it becoming</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2600</td>
    <td class="codeline">/// quadratic.</td>
    <td class="lineNumber">2600</td>
    <td class="codeline">/// quadratic.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2601</td>
    <td class="codeline">static InstructionCost computeDomSubtreeCost(</td>
    <td class="lineNumber">2601</td>
    <td class="codeline">static InstructionCost computeDomSubtreeCost(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2602</td>
    <td class="codeline">    DomTreeNode &N,</td>
    <td class="lineNumber">2602</td>
    <td class="codeline">    DomTreeNode &N,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2603</td>
    <td class="codeline">    const SmallDenseMap<BasicBlock *, InstructionCost, 4> &BBCostMap,</td>
    <td class="lineNumber">2603</td>
    <td class="codeline">    const SmallDenseMap<BasicBlock *, InstructionCost, 4> &BBCostMap,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2604</td>
    <td class="codeline">    SmallDenseMap<DomTreeNode *, InstructionCost, 4> &DTCostMap) {</td>
    <td class="lineNumber">2604</td>
    <td class="codeline">    SmallDenseMap<DomTreeNode *, InstructionCost, 4> &DTCostMap) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2605</td>
    <td class="codeline">  // Don't accumulate cost (or recurse through) blocks not in our block cost</td>
    <td class="lineNumber">2605</td>
    <td class="codeline">  // Don't accumulate cost (or recurse through) blocks not in our block cost</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2606</td>
    <td class="codeline">  // map and thus not part of the duplication cost being considered.</td>
    <td class="lineNumber">2606</td>
    <td class="codeline">  // map and thus not part of the duplication cost being considered.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2607</td>
    <td class="codeline">  auto BBCostIt = BBCostMap.find(N.getBlock());</td>
    <td class="lineNumber">2607</td>
    <td class="codeline">  auto BBCostIt = BBCostMap.find(N.getBlock());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2608</td>
    <td class="codeline">  if (BBCostIt == BBCostMap.end())</td>
    <td class="lineNumber">2608</td>
    <td class="codeline">  if (BBCostIt == BBCostMap.end())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2609</td>
    <td class="codeline">    return 0;</td>
    <td class="lineNumber">2609</td>
    <td class="codeline">    return 0;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2610</td>
    <td class="codeline"></td>
    <td class="lineNumber">2610</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2611</td>
    <td class="codeline">  // Lookup this node to see if we already computed its cost.</td>
    <td class="lineNumber">2611</td>
    <td class="codeline">  // Lookup this node to see if we already computed its cost.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2612</td>
    <td class="codeline">  auto DTCostIt = DTCostMap.find(&N);</td>
    <td class="lineNumber">2612</td>
    <td class="codeline">  auto DTCostIt = DTCostMap.find(&N);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2613</td>
    <td class="codeline">  if (DTCostIt != DTCostMap.end())</td>
    <td class="lineNumber">2613</td>
    <td class="codeline">  if (DTCostIt != DTCostMap.end())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2614</td>
    <td class="codeline">    return DTCostIt->second;</td>
    <td class="lineNumber">2614</td>
    <td class="codeline">    return DTCostIt->second;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2615</td>
    <td class="codeline"></td>
    <td class="lineNumber">2615</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2616</td>
    <td class="codeline">  // If not, we have to compute it. We can't use insert above and update</td>
    <td class="lineNumber">2616</td>
    <td class="codeline">  // If not, we have to compute it. We can't use insert above and update</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2617</td>
    <td class="codeline">  // because computing the cost may insert more things into the map.</td>
    <td class="lineNumber">2617</td>
    <td class="codeline">  // because computing the cost may insert more things into the map.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2618</td>
    <td class="codeline">  InstructionCost Cost = std::accumulate(</td>
    <td class="lineNumber">2618</td>
    <td class="codeline">  InstructionCost Cost = std::accumulate(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2619</td>
    <td class="codeline">      N.begin(), N.end(), BBCostIt->second,</td>
    <td class="lineNumber">2619</td>
    <td class="codeline">      N.begin(), N.end(), BBCostIt->second,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2620</td>
    <td class="codeline">      [&](InstructionCost Sum, DomTreeNode *ChildN) -> InstructionCost {</td>
    <td class="lineNumber">2620</td>
    <td class="codeline">      [&](InstructionCost Sum, DomTreeNode *ChildN) -> InstructionCost {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2621</td>
    <td class="codeline">        return Sum + computeDomSubtreeCost(*ChildN, BBCostMap, DTCostMap);</td>
    <td class="lineNumber">2621</td>
    <td class="codeline">        return Sum + computeDomSubtreeCost(*ChildN, BBCostMap, DTCostMap);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2622</td>
    <td class="codeline">      });</td>
    <td class="lineNumber">2622</td>
    <td class="codeline">      });</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2623</td>
    <td class="codeline">  bool Inserted = DTCostMap.insert({&N, Cost}).second;</td>
    <td class="lineNumber">2623</td>
    <td class="codeline">  bool Inserted = DTCostMap.insert({&N, Cost}).second;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2624</td>
    <td class="codeline">  (void)Inserted;</td>
    <td class="lineNumber">2624</td>
    <td class="codeline">  (void)Inserted;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2625</td>
    <td class="codeline">  assert(Inserted && "Should not insert a node while visiting children!");</td>
    <td class="lineNumber">2625</td>
    <td class="codeline">  assert(Inserted && "Should not insert a node while visiting children!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2626</td>
    <td class="codeline">  return Cost;</td>
    <td class="lineNumber">2626</td>
    <td class="codeline">  return Cost;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2627</td>
    <td class="codeline">}</td>
    <td class="lineNumber">2627</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2628</td>
    <td class="codeline"></td>
    <td class="lineNumber">2628</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2629</td>
    <td class="codeline">/// Turns a select instruction into implicit control flow branch,</td>
    <td class="lineNumber">2629</td>
    <td class="codeline">/// Turns a select instruction into implicit control flow branch,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2630</td>
    <td class="codeline">/// making the following replacement:</td>
    <td class="lineNumber">2630</td>
    <td class="codeline">/// making the following replacement:</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2631</td>
    <td class="codeline">///</td>
    <td class="lineNumber">2631</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2632</td>
    <td class="codeline">/// head:</td>
    <td class="lineNumber">2632</td>
    <td class="codeline">/// head:</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2633</td>
    <td class="codeline">///   --code before select--</td>
    <td class="lineNumber">2633</td>
    <td class="codeline">///   --code before select--</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2634</td>
    <td class="codeline">///   select %cond, %trueval, %falseval</td>
    <td class="lineNumber">2634</td>
    <td class="codeline">///   select %cond, %trueval, %falseval</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2635</td>
    <td class="codeline">///   --code after select--</td>
    <td class="lineNumber">2635</td>
    <td class="codeline">///   --code after select--</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2636</td>
    <td class="codeline">///</td>
    <td class="lineNumber">2636</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2637</td>
    <td class="codeline">/// into</td>
    <td class="lineNumber">2637</td>
    <td class="codeline">/// into</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2638</td>
    <td class="codeline">///</td>
    <td class="lineNumber">2638</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2639</td>
    <td class="codeline">/// head:</td>
    <td class="lineNumber">2639</td>
    <td class="codeline">/// head:</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2640</td>
    <td class="codeline">///   --code before select--</td>
    <td class="lineNumber">2640</td>
    <td class="codeline">///   --code before select--</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2641</td>
    <td class="codeline">///   br i1 %cond, label %then, label %tail</td>
    <td class="lineNumber">2641</td>
    <td class="codeline">///   br i1 %cond, label %then, label %tail</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2642</td>
    <td class="codeline">///</td>
    <td class="lineNumber">2642</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2643</td>
    <td class="codeline">/// then:</td>
    <td class="lineNumber">2643</td>
    <td class="codeline">/// then:</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2644</td>
    <td class="codeline">///   br %tail</td>
    <td class="lineNumber">2644</td>
    <td class="codeline">///   br %tail</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2645</td>
    <td class="codeline">///</td>
    <td class="lineNumber">2645</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2646</td>
    <td class="codeline">/// tail:</td>
    <td class="lineNumber">2646</td>
    <td class="codeline">/// tail:</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2647</td>
    <td class="codeline">///   phi [ %trueval, %then ], [ %falseval, %head]</td>
    <td class="lineNumber">2647</td>
    <td class="codeline">///   phi [ %trueval, %then ], [ %falseval, %head]</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2648</td>
    <td class="codeline">///   unreachable</td>
    <td class="lineNumber">2648</td>
    <td class="codeline">///   unreachable</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2649</td>
    <td class="codeline">///</td>
    <td class="lineNumber">2649</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2650</td>
    <td class="codeline">/// It also makes all relevant DT and LI updates, so that all structures are in</td>
    <td class="lineNumber">2650</td>
    <td class="codeline">/// It also makes all relevant DT and LI updates, so that all structures are in</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2651</td>
    <td class="codeline">/// valid state after this transform.</td>
    <td class="lineNumber">2651</td>
    <td class="codeline">/// valid state after this transform.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2652</td>
    <td class="codeline">static BranchInst *turnSelectIntoBranch(SelectInst *SI, DominatorTree &DT,</td>
    <td class="lineNumber">2652</td>
    <td class="codeline">static BranchInst *turnSelectIntoBranch(SelectInst *SI, DominatorTree &DT,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2653</td>
    <td class="codeline">                                        LoopInfo &LI, MemorySSAUpdater *MSSAU,</td>
    <td class="lineNumber">2653</td>
    <td class="codeline">                                        LoopInfo &LI, MemorySSAUpdater *MSSAU,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2654</td>
    <td class="codeline">                                        AssumptionCache *AC) {</td>
    <td class="lineNumber">2654</td>
    <td class="codeline">                                        AssumptionCache *AC) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2655</td>
    <td class="codeline">  LLVM_DEBUG(dbgs() << "Turning " << *SI << " into a branch.\n");</td>
    <td class="lineNumber">2655</td>
    <td class="codeline">  LLVM_DEBUG(dbgs() << "Turning " << *SI << " into a branch.\n");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2656</td>
    <td class="codeline">  BasicBlock *HeadBB = SI->getParent();</td>
    <td class="lineNumber">2656</td>
    <td class="codeline">  BasicBlock *HeadBB = SI->getParent();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2657</td>
    <td class="codeline"></td>
    <td class="lineNumber">2657</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2658</td>
    <td class="codeline">  DomTreeUpdater DTU(DT, DomTreeUpdater::UpdateStrategy::Eager);</td>
    <td class="lineNumber">2658</td>
    <td class="codeline">  DomTreeUpdater DTU(DT, DomTreeUpdater::UpdateStrategy::Eager);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2659</td>
    <td class="codeline">  SplitBlockAndInsertIfThen(SI->getCondition(), SI, false,</td>
    <td class="lineNumber">2659</td>
    <td class="codeline">  SplitBlockAndInsertIfThen(SI->getCondition(), SI, false,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2660</td>
    <td class="codeline">                            SI->getMetadata(LLVMContext::MD_prof), &DTU, &LI);</td>
    <td class="lineNumber">2660</td>
    <td class="codeline">                            SI->getMetadata(LLVMContext::MD_prof), &DTU, &LI);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2661</td>
    <td class="codeline">  auto *CondBr = cast<BranchInst>(HeadBB->getTerminator());</td>
    <td class="lineNumber">2661</td>
    <td class="codeline">  auto *CondBr = cast<BranchInst>(HeadBB->getTerminator());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2662</td>
    <td class="codeline">  BasicBlock *ThenBB = CondBr->getSuccessor(0),</td>
    <td class="lineNumber">2662</td>
    <td class="codeline">  BasicBlock *ThenBB = CondBr->getSuccessor(0),</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2663</td>
    <td class="codeline">             *TailBB = CondBr->getSuccessor(1);</td>
    <td class="lineNumber">2663</td>
    <td class="codeline">             *TailBB = CondBr->getSuccessor(1);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2664</td>
    <td class="codeline">  if (MSSAU)</td>
    <td class="lineNumber">2664</td>
    <td class="codeline">  if (MSSAU)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2665</td>
    <td class="codeline">    MSSAU->moveAllAfterSpliceBlocks(HeadBB, TailBB, SI);</td>
    <td class="lineNumber">2665</td>
    <td class="codeline">    MSSAU->moveAllAfterSpliceBlocks(HeadBB, TailBB, SI);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2666</td>
    <td class="codeline"></td>
    <td class="lineNumber">2666</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2667</td>
    <td class="codeline">  PHINode *Phi = PHINode::Create(SI->getType(), 2, "unswitched.select", SI);</td>
    <td class="lineNumber">2667</td>
    <td class="codeline">  PHINode *Phi = PHINode::Create(SI->getType(), 2, "unswitched.select", SI);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2668</td>
    <td class="codeline">  Phi->addIncoming(SI->getTrueValue(), ThenBB);</td>
    <td class="lineNumber">2668</td>
    <td class="codeline">  Phi->addIncoming(SI->getTrueValue(), ThenBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2669</td>
    <td class="codeline">  Phi->addIncoming(SI->getFalseValue(), HeadBB);</td>
    <td class="lineNumber">2669</td>
    <td class="codeline">  Phi->addIncoming(SI->getFalseValue(), HeadBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2670</td>
    <td class="codeline">  SI->replaceAllUsesWith(Phi);</td>
    <td class="lineNumber">2670</td>
    <td class="codeline">  SI->replaceAllUsesWith(Phi);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2671</td>
    <td class="codeline">  SI->eraseFromParent();</td>
    <td class="lineNumber">2671</td>
    <td class="codeline">  SI->eraseFromParent();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2672</td>
    <td class="codeline"></td>
    <td class="lineNumber">2672</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2673</td>
    <td class="codeline">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">2673</td>
    <td class="codeline">  if (MSSAU && VerifyMemorySSA)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2674</td>
    <td class="codeline">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">2674</td>
    <td class="codeline">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2675</td>
    <td class="codeline"></td>
    <td class="lineNumber">2675</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2676</td>
    <td class="codeline">  ++NumSelects;</td>
    <td class="lineNumber">2676</td>
    <td class="codeline">  ++NumSelects;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2677</td>
    <td class="codeline">  return CondBr;</td>
    <td class="lineNumber">2677</td>
    <td class="codeline">  return CondBr;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2678</td>
    <td class="codeline">}</td>
    <td class="lineNumber">2678</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2679</td>
    <td class="codeline"></td>
    <td class="lineNumber">2679</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2680</td>
    <td class="codeline">/// Turns a llvm.experimental.guard intrinsic into implicit control flow branch,</td>
    <td class="lineNumber">2680</td>
    <td class="codeline">/// Turns a llvm.experimental.guard intrinsic into implicit control flow branch,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2681</td>
    <td class="codeline">/// making the following replacement:</td>
    <td class="lineNumber">2681</td>
    <td class="codeline">/// making the following replacement:</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2682</td>
    <td class="codeline">///</td>
    <td class="lineNumber">2682</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2683</td>
    <td class="codeline">///   --code before guard--</td>
    <td class="lineNumber">2683</td>
    <td class="codeline">///   --code before guard--</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2684</td>
    <td class="codeline">///   call void (i1, ...) @llvm.experimental.guard(i1 %cond) [ "deopt"() ]</td>
    <td class="lineNumber">2684</td>
    <td class="codeline">///   call void (i1, ...) @llvm.experimental.guard(i1 %cond) [ "deopt"() ]</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2685</td>
    <td class="codeline">///   --code after guard--</td>
    <td class="lineNumber">2685</td>
    <td class="codeline">///   --code after guard--</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2686</td>
    <td class="codeline">///</td>
    <td class="lineNumber">2686</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2687</td>
    <td class="codeline">/// into</td>
    <td class="lineNumber">2687</td>
    <td class="codeline">/// into</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2688</td>
    <td class="codeline">///</td>
    <td class="lineNumber">2688</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2689</td>
    <td class="codeline">///   --code before guard--</td>
    <td class="lineNumber">2689</td>
    <td class="codeline">///   --code before guard--</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2690</td>
    <td class="codeline">///   br i1 %cond, label %guarded, label %deopt</td>
    <td class="lineNumber">2690</td>
    <td class="codeline">///   br i1 %cond, label %guarded, label %deopt</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2691</td>
    <td class="codeline">///</td>
    <td class="lineNumber">2691</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2692</td>
    <td class="codeline">/// guarded:</td>
    <td class="lineNumber">2692</td>
    <td class="codeline">/// guarded:</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2693</td>
    <td class="codeline">///   --code after guard--</td>
    <td class="lineNumber">2693</td>
    <td class="codeline">///   --code after guard--</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2694</td>
    <td class="codeline">///</td>
    <td class="lineNumber">2694</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2695</td>
    <td class="codeline">/// deopt:</td>
    <td class="lineNumber">2695</td>
    <td class="codeline">/// deopt:</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2696</td>
    <td class="codeline">///   call void (i1, ...) @llvm.experimental.guard(i1 false) [ "deopt"() ]</td>
    <td class="lineNumber">2696</td>
    <td class="codeline">///   call void (i1, ...) @llvm.experimental.guard(i1 false) [ "deopt"() ]</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2697</td>
    <td class="codeline">///   unreachable</td>
    <td class="lineNumber">2697</td>
    <td class="codeline">///   unreachable</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2698</td>
    <td class="codeline">///</td>
    <td class="lineNumber">2698</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2699</td>
    <td class="codeline">/// It also makes all relevant DT and LI updates, so that all structures are in</td>
    <td class="lineNumber">2699</td>
    <td class="codeline">/// It also makes all relevant DT and LI updates, so that all structures are in</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2700</td>
    <td class="codeline">/// valid state after this transform.</td>
    <td class="lineNumber">2700</td>
    <td class="codeline">/// valid state after this transform.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2701</td>
    <td class="codeline">static BranchInst *turnGuardIntoBranch(IntrinsicInst *GI, Loop &L,</td>
    <td class="lineNumber">2701</td>
    <td class="codeline">static BranchInst *turnGuardIntoBranch(IntrinsicInst *GI, Loop &L,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2702</td>
    <td class="codeline">                                       DominatorTree &DT, LoopInfo &LI,</td>
    <td class="lineNumber">2702</td>
    <td class="codeline">                                       DominatorTree &DT, LoopInfo &LI,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2703</td>
    <td class="codeline">                                       MemorySSAUpdater *MSSAU) {</td>
    <td class="lineNumber">2703</td>
    <td class="codeline">                                       MemorySSAUpdater *MSSAU) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2704</td>
    <td class="codeline">  SmallVector<DominatorTree::UpdateType, 4> DTUpdates;</td>
    <td class="lineNumber">2704</td>
    <td class="codeline">  SmallVector<DominatorTree::UpdateType, 4> DTUpdates;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2705</td>
    <td class="codeline">  LLVM_DEBUG(dbgs() << "Turning " << *GI << " into a branch.\n");</td>
    <td class="lineNumber">2705</td>
    <td class="codeline">  LLVM_DEBUG(dbgs() << "Turning " << *GI << " into a branch.\n");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2706</td>
    <td class="codeline">  BasicBlock *CheckBB = GI->getParent();</td>
    <td class="lineNumber">2706</td>
    <td class="codeline">  BasicBlock *CheckBB = GI->getParent();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2707</td>
    <td class="codeline"></td>
    <td class="lineNumber">2707</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2708</td>
    <td class="codeline">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">2708</td>
    <td class="codeline">  if (MSSAU && VerifyMemorySSA)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2709</td>
    <td class="codeline">     MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">2709</td>
    <td class="codeline">     MSSAU->getMemorySSA()->verifyMemorySSA();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2710</td>
    <td class="codeline"></td>
    <td class="lineNumber">2710</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2711</td>
    <td class="codeline">  DomTreeUpdater DTU(DT, DomTreeUpdater::UpdateStrategy::Eager);</td>
    <td class="lineNumber">2711</td>
    <td class="codeline">  DomTreeUpdater DTU(DT, DomTreeUpdater::UpdateStrategy::Eager);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2712</td>
    <td class="codeline">  Instruction *DeoptBlockTerm =</td>
    <td class="lineNumber">2712</td>
    <td class="codeline">  Instruction *DeoptBlockTerm =</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2713</td>
    <td class="codeline">      SplitBlockAndInsertIfThen(GI->getArgOperand(0), GI, true,</td>
    <td class="lineNumber">2713</td>
    <td class="codeline">      SplitBlockAndInsertIfThen(GI->getArgOperand(0), GI, true,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2714</td>
    <td class="codeline">                                GI->getMetadata(LLVMContext::MD_prof), &DTU, &LI);</td>
    <td class="lineNumber">2714</td>
    <td class="codeline">                                GI->getMetadata(LLVMContext::MD_prof), &DTU, &LI);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2715</td>
    <td class="codeline">  BranchInst *CheckBI = cast<BranchInst>(CheckBB->getTerminator());</td>
    <td class="lineNumber">2715</td>
    <td class="codeline">  BranchInst *CheckBI = cast<BranchInst>(CheckBB->getTerminator());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2716</td>
    <td class="codeline">  // SplitBlockAndInsertIfThen inserts control flow that branches to</td>
    <td class="lineNumber">2716</td>
    <td class="codeline">  // SplitBlockAndInsertIfThen inserts control flow that branches to</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2717</td>
    <td class="codeline">  // DeoptBlockTerm if the condition is true.  We want the opposite.</td>
    <td class="lineNumber">2717</td>
    <td class="codeline">  // DeoptBlockTerm if the condition is true.  We want the opposite.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2718</td>
    <td class="codeline">  CheckBI->swapSuccessors();</td>
    <td class="lineNumber">2718</td>
    <td class="codeline">  CheckBI->swapSuccessors();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2719</td>
    <td class="codeline"></td>
    <td class="lineNumber">2719</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2720</td>
    <td class="codeline">  BasicBlock *GuardedBlock = CheckBI->getSuccessor(0);</td>
    <td class="lineNumber">2720</td>
    <td class="codeline">  BasicBlock *GuardedBlock = CheckBI->getSuccessor(0);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2721</td>
    <td class="codeline">  GuardedBlock->setName("guarded");</td>
    <td class="lineNumber">2721</td>
    <td class="codeline">  GuardedBlock->setName("guarded");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2722</td>
    <td class="codeline">  CheckBI->getSuccessor(1)->setName("deopt");</td>
    <td class="lineNumber">2722</td>
    <td class="codeline">  CheckBI->getSuccessor(1)->setName("deopt");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2723</td>
    <td class="codeline">  BasicBlock *DeoptBlock = CheckBI->getSuccessor(1);</td>
    <td class="lineNumber">2723</td>
    <td class="codeline">  BasicBlock *DeoptBlock = CheckBI->getSuccessor(1);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2724</td>
    <td class="codeline"></td>
    <td class="lineNumber">2724</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2725</td>
    <td class="codeline">  if (MSSAU)</td>
    <td class="lineNumber">2725</td>
    <td class="codeline">  if (MSSAU)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2726</td>
    <td class="codeline">    MSSAU->moveAllAfterSpliceBlocks(CheckBB, GuardedBlock, GI);</td>
    <td class="lineNumber">2726</td>
    <td class="codeline">    MSSAU->moveAllAfterSpliceBlocks(CheckBB, GuardedBlock, GI);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2727</td>
    <td class="codeline"></td>
    <td class="lineNumber">2727</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2728</td>
    <td class="codeline">  GI->moveBefore(DeoptBlockTerm);</td>
    <td class="lineNumber">2728</td>
    <td class="codeline">  GI->moveBefore(DeoptBlockTerm);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2729</td>
    <td class="codeline">  GI->setArgOperand(0, ConstantInt::getFalse(GI->getContext()));</td>
    <td class="lineNumber">2729</td>
    <td class="codeline">  GI->setArgOperand(0, ConstantInt::getFalse(GI->getContext()));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2730</td>
    <td class="codeline"></td>
    <td class="lineNumber">2730</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2731</td>
    <td class="codeline">  if (MSSAU) {</td>
    <td class="lineNumber">2731</td>
    <td class="codeline">  if (MSSAU) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2732</td>
    <td class="codeline">    MemoryDef *MD = cast<MemoryDef>(MSSAU->getMemorySSA()->getMemoryAccess(GI));</td>
    <td class="lineNumber">2732</td>
    <td class="codeline">    MemoryDef *MD = cast<MemoryDef>(MSSAU->getMemorySSA()->getMemoryAccess(GI));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2733</td>
    <td class="codeline">    MSSAU->moveToPlace(MD, DeoptBlock, MemorySSA::BeforeTerminator);</td>
    <td class="lineNumber">2733</td>
    <td class="codeline">    MSSAU->moveToPlace(MD, DeoptBlock, MemorySSA::BeforeTerminator);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2734</td>
    <td class="codeline">    if (VerifyMemorySSA)</td>
    <td class="lineNumber">2734</td>
    <td class="codeline">    if (VerifyMemorySSA)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2735</td>
    <td class="codeline">      MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">2735</td>
    <td class="codeline">      MSSAU->getMemorySSA()->verifyMemorySSA();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2736</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">2736</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2737</td>
    <td class="codeline"></td>
    <td class="lineNumber">2737</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2738</td>
    <td class="codeline">  if (VerifyLoopInfo)</td>
    <td class="lineNumber">2738</td>
    <td class="codeline">  if (VerifyLoopInfo)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2739</td>
    <td class="codeline">    LI.verify(DT);</td>
    <td class="lineNumber">2739</td>
    <td class="codeline">    LI.verify(DT);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2740</td>
    <td class="codeline">  ++NumGuards;</td>
    <td class="lineNumber">2740</td>
    <td class="codeline">  ++NumGuards;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2741</td>
    <td class="codeline">  return CheckBI;</td>
    <td class="lineNumber">2741</td>
    <td class="codeline">  return CheckBI;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2742</td>
    <td class="codeline">}</td>
    <td class="lineNumber">2742</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2743</td>
    <td class="codeline"></td>
    <td class="lineNumber">2743</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2744</td>
    <td class="codeline">/// Cost multiplier is a way to limit potentially exponential behavior</td>
    <td class="lineNumber">2744</td>
    <td class="codeline">/// Cost multiplier is a way to limit potentially exponential behavior</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2745</td>
    <td class="codeline">/// of loop-unswitch. Cost is multipied in proportion of 2^number of unswitch</td>
    <td class="lineNumber">2745</td>
    <td class="codeline">/// of loop-unswitch. Cost is multipied in proportion of 2^number of unswitch</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2746</td>
    <td class="codeline">/// candidates available. Also accounting for the number of "sibling" loops with</td>
    <td class="lineNumber">2746</td>
    <td class="codeline">/// candidates available. Also accounting for the number of "sibling" loops with</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2747</td>
    <td class="codeline">/// the idea to account for previous unswitches that already happened on this</td>
    <td class="lineNumber">2747</td>
    <td class="codeline">/// the idea to account for previous unswitches that already happened on this</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2748</td>
    <td class="codeline">/// cluster of loops. There was an attempt to keep this formula simple,</td>
    <td class="lineNumber">2748</td>
    <td class="codeline">/// cluster of loops. There was an attempt to keep this formula simple,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2749</td>
    <td class="codeline">/// just enough to limit the worst case behavior. Even if it is not that simple</td>
    <td class="lineNumber">2749</td>
    <td class="codeline">/// just enough to limit the worst case behavior. Even if it is not that simple</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2750</td>
    <td class="codeline">/// now it is still not an attempt to provide a detailed heuristic size</td>
    <td class="lineNumber">2750</td>
    <td class="codeline">/// now it is still not an attempt to provide a detailed heuristic size</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2751</td>
    <td class="codeline">/// prediction.</td>
    <td class="lineNumber">2751</td>
    <td class="codeline">/// prediction.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2752</td>
    <td class="codeline">///</td>
    <td class="lineNumber">2752</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2753</td>
    <td class="codeline">/// TODO: Make a proper accounting of "explosion" effect for all kinds of</td>
    <td class="lineNumber">2753</td>
    <td class="codeline">/// TODO: Make a proper accounting of "explosion" effect for all kinds of</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2754</td>
    <td class="codeline">/// unswitch candidates, making adequate predictions instead of wild guesses.</td>
    <td class="lineNumber">2754</td>
    <td class="codeline">/// unswitch candidates, making adequate predictions instead of wild guesses.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2755</td>
    <td class="codeline">/// That requires knowing not just the number of "remaining" candidates but</td>
    <td class="lineNumber">2755</td>
    <td class="codeline">/// That requires knowing not just the number of "remaining" candidates but</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2756</td>
    <td class="codeline">/// also costs of unswitching for each of these candidates.</td>
    <td class="lineNumber">2756</td>
    <td class="codeline">/// also costs of unswitching for each of these candidates.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2757</td>
    <td class="codeline">static int CalculateUnswitchCostMultiplier(</td>
    <td class="lineNumber">2757</td>
    <td class="codeline">static int CalculateUnswitchCostMultiplier(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2758</td>
    <td class="codeline">    const Instruction &TI, const Loop &L, const LoopInfo &LI,</td>
    <td class="lineNumber">2758</td>
    <td class="codeline">    const Instruction &TI, const Loop &L, const LoopInfo &LI,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2759</td>
    <td class="codeline">    const DominatorTree &DT,</td>
    <td class="lineNumber">2759</td>
    <td class="codeline">    const DominatorTree &DT,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2760</td>
    <td class="codeline">    ArrayRef<NonTrivialUnswitchCandidate> UnswitchCandidates) {</td>
    <td class="lineNumber">2760</td>
    <td class="codeline">    ArrayRef<NonTrivialUnswitchCandidate> UnswitchCandidates) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2761</td>
    <td class="codeline"></td>
    <td class="lineNumber">2761</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2762</td>
    <td class="codeline">  // Guards and other exiting conditions do not contribute to exponential</td>
    <td class="lineNumber">2762</td>
    <td class="codeline">  // Guards and other exiting conditions do not contribute to exponential</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2763</td>
    <td class="codeline">  // explosion as soon as they dominate the latch (otherwise there might be</td>
    <td class="lineNumber">2763</td>
    <td class="codeline">  // explosion as soon as they dominate the latch (otherwise there might be</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2764</td>
    <td class="codeline">  // another path to the latch remaining that does not allow to eliminate the</td>
    <td class="lineNumber">2764</td>
    <td class="codeline">  // another path to the latch remaining that does not allow to eliminate the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2765</td>
    <td class="codeline">  // loop copy on unswitch).</td>
    <td class="lineNumber">2765</td>
    <td class="codeline">  // loop copy on unswitch).</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2766</td>
    <td class="codeline">  const BasicBlock *Latch = L.getLoopLatch();</td>
    <td class="lineNumber">2766</td>
    <td class="codeline">  const BasicBlock *Latch = L.getLoopLatch();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2767</td>
    <td class="codeline">  const BasicBlock *CondBlock = TI.getParent();</td>
    <td class="lineNumber">2767</td>
    <td class="codeline">  const BasicBlock *CondBlock = TI.getParent();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2768</td>
    <td class="codeline">  if (DT.dominates(CondBlock, Latch) &&</td>
    <td class="lineNumber">2768</td>
    <td class="codeline">  if (DT.dominates(CondBlock, Latch) &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2769</td>
    <td class="codeline">      (isGuard(&TI) ||</td>
    <td class="lineNumber">2769</td>
    <td class="codeline">      (isGuard(&TI) ||</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2770</td>
    <td class="codeline">       (TI.isTerminator() &&</td>
    <td class="lineNumber">2770</td>
    <td class="codeline">       (TI.isTerminator() &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2771</td>
    <td class="codeline">        llvm::count_if(successors(&TI), [&L](const BasicBlock *SuccBB) {</td>
    <td class="lineNumber">2771</td>
    <td class="codeline">        llvm::count_if(successors(&TI), [&L](const BasicBlock *SuccBB) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2772</td>
    <td class="codeline">          return L.contains(SuccBB);</td>
    <td class="lineNumber">2772</td>
    <td class="codeline">          return L.contains(SuccBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2773</td>
    <td class="codeline">        }) <= 1))) {</td>
    <td class="lineNumber">2773</td>
    <td class="codeline">        }) <= 1))) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2774</td>
    <td class="codeline">    NumCostMultiplierSkipped++;</td>
    <td class="lineNumber">2774</td>
    <td class="codeline">    NumCostMultiplierSkipped++;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2775</td>
    <td class="codeline">    return 1;</td>
    <td class="lineNumber">2775</td>
    <td class="codeline">    return 1;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2776</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">2776</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2777</td>
    <td class="codeline"></td>
    <td class="lineNumber">2777</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2778</td>
    <td class="codeline">  auto *ParentL = L.getParentLoop();</td>
    <td class="lineNumber">2778</td>
    <td class="codeline">  auto *ParentL = L.getParentLoop();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2779</td>
    <td class="codeline">  int SiblingsCount = (ParentL ? ParentL->getSubLoopsVector().size()</td>
    <td class="lineNumber">2779</td>
    <td class="codeline">  int SiblingsCount = (ParentL ? ParentL->getSubLoopsVector().size()</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2780</td>
    <td class="codeline">                               : std::distance(LI.begin(), LI.end()));</td>
    <td class="lineNumber">2780</td>
    <td class="codeline">                               : std::distance(LI.begin(), LI.end()));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2781</td>
    <td class="codeline">  // Count amount of clones that all the candidates might cause during</td>
    <td class="lineNumber">2781</td>
    <td class="codeline">  // Count amount of clones that all the candidates might cause during</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2782</td>
    <td class="codeline">  // unswitching. Branch/guard/select counts as 1, switch counts as log2 of its</td>
    <td class="lineNumber">2782</td>
    <td class="codeline">  // unswitching. Branch/guard/select counts as 1, switch counts as log2 of its</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2783</td>
    <td class="codeline">  // cases.</td>
    <td class="lineNumber">2783</td>
    <td class="codeline">  // cases.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2784</td>
    <td class="codeline">  int UnswitchedClones = 0;</td>
    <td class="lineNumber">2784</td>
    <td class="codeline">  int UnswitchedClones = 0;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2785</td>
    <td class="codeline">  for (const auto &Candidate : UnswitchCandidates) {</td>
    <td class="lineNumber">2785</td>
    <td class="codeline">  for (const auto &Candidate : UnswitchCandidates) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2786</td>
    <td class="codeline">    const Instruction *CI = Candidate.TI;</td>
    <td class="lineNumber">2786</td>
    <td class="codeline">    const Instruction *CI = Candidate.TI;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2787</td>
    <td class="codeline">    const BasicBlock *CondBlock = CI->getParent();</td>
    <td class="lineNumber">2787</td>
    <td class="codeline">    const BasicBlock *CondBlock = CI->getParent();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2788</td>
    <td class="codeline">    bool SkipExitingSuccessors = DT.dominates(CondBlock, Latch);</td>
    <td class="lineNumber">2788</td>
    <td class="codeline">    bool SkipExitingSuccessors = DT.dominates(CondBlock, Latch);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2789</td>
    <td class="codeline">    if (isa<SelectInst>(CI)) {</td>
    <td class="lineNumber">2789</td>
    <td class="codeline">    if (isa<SelectInst>(CI)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2790</td>
    <td class="codeline">      UnswitchedClones++;</td>
    <td class="lineNumber">2790</td>
    <td class="codeline">      UnswitchedClones++;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2791</td>
    <td class="codeline">      continue;</td>
    <td class="lineNumber">2791</td>
    <td class="codeline">      continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2792</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">2792</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2793</td>
    <td class="codeline">    if (isGuard(CI)) {</td>
    <td class="lineNumber">2793</td>
    <td class="codeline">    if (isGuard(CI)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2794</td>
    <td class="codeline">      if (!SkipExitingSuccessors)</td>
    <td class="lineNumber">2794</td>
    <td class="codeline">      if (!SkipExitingSuccessors)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2795</td>
    <td class="codeline">        UnswitchedClones++;</td>
    <td class="lineNumber">2795</td>
    <td class="codeline">        UnswitchedClones++;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2796</td>
    <td class="codeline">      continue;</td>
    <td class="lineNumber">2796</td>
    <td class="codeline">      continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2797</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">2797</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2798</td>
    <td class="codeline">    int NonExitingSuccessors =</td>
    <td class="lineNumber">2798</td>
    <td class="codeline">    int NonExitingSuccessors =</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2799</td>
    <td class="codeline">        llvm::count_if(successors(CondBlock),</td>
    <td class="lineNumber">2799</td>
    <td class="codeline">        llvm::count_if(successors(CondBlock),</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2800</td>
    <td class="codeline">                       [SkipExitingSuccessors, &L](const BasicBlock *SuccBB) {</td>
    <td class="lineNumber">2800</td>
    <td class="codeline">                       [SkipExitingSuccessors, &L](const BasicBlock *SuccBB) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2801</td>
    <td class="codeline">          return !SkipExitingSuccessors || L.contains(SuccBB);</td>
    <td class="lineNumber">2801</td>
    <td class="codeline">          return !SkipExitingSuccessors || L.contains(SuccBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2802</td>
    <td class="codeline">        });</td>
    <td class="lineNumber">2802</td>
    <td class="codeline">        });</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2803</td>
    <td class="codeline">    UnswitchedClones += Log2_32(NonExitingSuccessors);</td>
    <td class="lineNumber">2803</td>
    <td class="codeline">    UnswitchedClones += Log2_32(NonExitingSuccessors);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2804</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">2804</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2805</td>
    <td class="codeline"></td>
    <td class="lineNumber">2805</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2806</td>
    <td class="codeline">  // Ignore up to the "unscaled candidates" number of unswitch candidates</td>
    <td class="lineNumber">2806</td>
    <td class="codeline">  // Ignore up to the "unscaled candidates" number of unswitch candidates</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2807</td>
    <td class="codeline">  // when calculating the power-of-two scaling of the cost. The main idea</td>
    <td class="lineNumber">2807</td>
    <td class="codeline">  // when calculating the power-of-two scaling of the cost. The main idea</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2808</td>
    <td class="codeline">  // with this control is to allow a small number of unswitches to happen</td>
    <td class="lineNumber">2808</td>
    <td class="codeline">  // with this control is to allow a small number of unswitches to happen</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2809</td>
    <td class="codeline">  // and rely more on siblings multiplier (see below) when the number</td>
    <td class="lineNumber">2809</td>
    <td class="codeline">  // and rely more on siblings multiplier (see below) when the number</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2810</td>
    <td class="codeline">  // of candidates is small.</td>
    <td class="lineNumber">2810</td>
    <td class="codeline">  // of candidates is small.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2811</td>
    <td class="codeline">  unsigned ClonesPower =</td>
    <td class="lineNumber">2811</td>
    <td class="codeline">  unsigned ClonesPower =</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2812</td>
    <td class="codeline">      std::max(UnswitchedClones - (int)UnswitchNumInitialUnscaledCandidates, 0);</td>
    <td class="lineNumber">2812</td>
    <td class="codeline">      std::max(UnswitchedClones - (int)UnswitchNumInitialUnscaledCandidates, 0);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2813</td>
    <td class="codeline"></td>
    <td class="lineNumber">2813</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2814</td>
    <td class="codeline">  // Allowing top-level loops to spread a bit more than nested ones.</td>
    <td class="lineNumber">2814</td>
    <td class="codeline">  // Allowing top-level loops to spread a bit more than nested ones.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2815</td>
    <td class="codeline">  int SiblingsMultiplier =</td>
    <td class="lineNumber">2815</td>
    <td class="codeline">  int SiblingsMultiplier =</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2816</td>
    <td class="codeline">      std::max((ParentL ? SiblingsCount</td>
    <td class="lineNumber">2816</td>
    <td class="codeline">      std::max((ParentL ? SiblingsCount</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2817</td>
    <td class="codeline">                        : SiblingsCount / (int)UnswitchSiblingsToplevelDiv),</td>
    <td class="lineNumber">2817</td>
    <td class="codeline">                        : SiblingsCount / (int)UnswitchSiblingsToplevelDiv),</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2818</td>
    <td class="codeline">               1);</td>
    <td class="lineNumber">2818</td>
    <td class="codeline">               1);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2819</td>
    <td class="codeline">  // Compute the cost multiplier in a way that won't overflow by saturating</td>
    <td class="lineNumber">2819</td>
    <td class="codeline">  // Compute the cost multiplier in a way that won't overflow by saturating</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2820</td>
    <td class="codeline">  // at an upper bound.</td>
    <td class="lineNumber">2820</td>
    <td class="codeline">  // at an upper bound.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2821</td>
    <td class="codeline">  int CostMultiplier;</td>
    <td class="lineNumber">2821</td>
    <td class="codeline">  int CostMultiplier;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2822</td>
    <td class="codeline">  if (ClonesPower > Log2_32(UnswitchThreshold) ||</td>
    <td class="lineNumber">2822</td>
    <td class="codeline">  if (ClonesPower > Log2_32(UnswitchThreshold) ||</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2823</td>
    <td class="codeline">      SiblingsMultiplier > UnswitchThreshold)</td>
    <td class="lineNumber">2823</td>
    <td class="codeline">      SiblingsMultiplier > UnswitchThreshold)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2824</td>
    <td class="codeline">    CostMultiplier = UnswitchThreshold;</td>
    <td class="lineNumber">2824</td>
    <td class="codeline">    CostMultiplier = UnswitchThreshold;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2825</td>
    <td class="codeline">  else</td>
    <td class="lineNumber">2825</td>
    <td class="codeline">  else</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2826</td>
    <td class="codeline">    CostMultiplier = std::min(SiblingsMultiplier * (1 << ClonesPower),</td>
    <td class="lineNumber">2826</td>
    <td class="codeline">    CostMultiplier = std::min(SiblingsMultiplier * (1 << ClonesPower),</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2827</td>
    <td class="codeline">                              (int)UnswitchThreshold);</td>
    <td class="lineNumber">2827</td>
    <td class="codeline">                              (int)UnswitchThreshold);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2828</td>
    <td class="codeline"></td>
    <td class="lineNumber">2828</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2829</td>
    <td class="codeline">  LLVM_DEBUG(dbgs() << "  Computed multiplier  " << CostMultiplier</td>
    <td class="lineNumber">2829</td>
    <td class="codeline">  LLVM_DEBUG(dbgs() << "  Computed multiplier  " << CostMultiplier</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2830</td>
    <td class="codeline">                    << " (siblings " << SiblingsMultiplier << " * clones "</td>
    <td class="lineNumber">2830</td>
    <td class="codeline">                    << " (siblings " << SiblingsMultiplier << " * clones "</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2831</td>
    <td class="codeline">                    << (1 << ClonesPower) << ")"</td>
    <td class="lineNumber">2831</td>
    <td class="codeline">                    << (1 << ClonesPower) << ")"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2832</td>
    <td class="codeline">                    << " for unswitch candidate: " << TI << "\n");</td>
    <td class="lineNumber">2832</td>
    <td class="codeline">                    << " for unswitch candidate: " << TI << "\n");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2833</td>
    <td class="codeline">  return CostMultiplier;</td>
    <td class="lineNumber">2833</td>
    <td class="codeline">  return CostMultiplier;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2834</td>
    <td class="codeline">}</td>
    <td class="lineNumber">2834</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2835</td>
    <td class="codeline"></td>
    <td class="lineNumber">2835</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2836</td>
    <td class="codeline">static bool collectUnswitchCandidates(</td>
    <td class="lineNumber">2836</td>
    <td class="codeline">static bool collectUnswitchCandidates(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2837</td>
    <td class="codeline">    SmallVectorImpl<NonTrivialUnswitchCandidate> &UnswitchCandidates,</td>
    <td class="lineNumber">2837</td>
    <td class="codeline">    SmallVectorImpl<NonTrivialUnswitchCandidate> &UnswitchCandidates,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2838</td>
    <td class="codeline">    IVConditionInfo &PartialIVInfo, Instruction *&PartialIVCondBranch,</td>
    <td class="lineNumber">2838</td>
    <td class="codeline">    IVConditionInfo &PartialIVInfo, Instruction *&PartialIVCondBranch,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2839</td>
    <td class="codeline">    const Loop &L, const LoopInfo &LI, AAResults &AA,</td>
    <td class="lineNumber">2839</td>
    <td class="codeline">    const Loop &L, const LoopInfo &LI, AAResults &AA,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2840</td>
    <td class="codeline">    const MemorySSAUpdater *MSSAU) {</td>
    <td class="lineNumber">2840</td>
    <td class="codeline">    const MemorySSAUpdater *MSSAU) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2841</td>
    <td class="codeline">  assert(UnswitchCandidates.empty() && "Should be!");</td>
    <td class="lineNumber">2841</td>
    <td class="codeline">  assert(UnswitchCandidates.empty() && "Should be!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2842</td>
    <td class="codeline"></td>
    <td class="lineNumber">2842</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2843</td>
    <td class="codeline">  auto AddUnswitchCandidatesForInst = [&](Instruction *I, Value *Cond) {</td>
    <td class="lineNumber">2843</td>
    <td class="codeline">  auto AddUnswitchCandidatesForInst = [&](Instruction *I, Value *Cond) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2844</td>
    <td class="codeline">    Cond = skipTrivialSelect(Cond);</td>
    <td class="lineNumber">2844</td>
    <td class="codeline">    Cond = skipTrivialSelect(Cond);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2845</td>
    <td class="codeline">    if (isa<Constant>(Cond))</td>
    <td class="lineNumber">2845</td>
    <td class="codeline">    if (isa<Constant>(Cond))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2846</td>
    <td class="codeline">      return;</td>
    <td class="lineNumber">2846</td>
    <td class="codeline">      return;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2847</td>
    <td class="codeline">    if (L.isLoopInvariant(Cond)) {</td>
    <td class="lineNumber">2847</td>
    <td class="codeline">    if (L.isLoopInvariant(Cond)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2848</td>
    <td class="codeline">      UnswitchCandidates.push_back({I, {Cond}});</td>
    <td class="lineNumber">2848</td>
    <td class="codeline">      UnswitchCandidates.push_back({I, {Cond}});</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2849</td>
    <td class="codeline">      return;</td>
    <td class="lineNumber">2849</td>
    <td class="codeline">      return;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2850</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">2850</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2851</td>
    <td class="codeline">    if (match(Cond, m_CombineOr(m_LogicalAnd(), m_LogicalOr()))) {</td>
    <td class="lineNumber">2851</td>
    <td class="codeline">    if (match(Cond, m_CombineOr(m_LogicalAnd(), m_LogicalOr()))) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2852</td>
    <td class="codeline">      TinyPtrVector<Value *> Invariants =</td>
    <td class="lineNumber">2852</td>
    <td class="codeline">      TinyPtrVector<Value *> Invariants =</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2853</td>
    <td class="codeline">          collectHomogenousInstGraphLoopInvariants(</td>
    <td class="lineNumber">2853</td>
    <td class="codeline">          collectHomogenousInstGraphLoopInvariants(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2854</td>
    <td class="codeline">              L, *static_cast<Instruction *>(Cond), LI);</td>
    <td class="lineNumber">2854</td>
    <td class="codeline">              L, *static_cast<Instruction *>(Cond), LI);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2855</td>
    <td class="codeline">      if (!Invariants.empty())</td>
    <td class="lineNumber">2855</td>
    <td class="codeline">      if (!Invariants.empty())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2856</td>
    <td class="codeline">        UnswitchCandidates.push_back({I, std::move(Invariants)});</td>
    <td class="lineNumber">2856</td>
    <td class="codeline">        UnswitchCandidates.push_back({I, std::move(Invariants)});</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2857</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">2857</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2858</td>
    <td class="codeline">  };</td>
    <td class="lineNumber">2858</td>
    <td class="codeline">  };</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2859</td>
    <td class="codeline"></td>
    <td class="lineNumber">2859</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2860</td>
    <td class="codeline">  // Whether or not we should also collect guards in the loop.</td>
    <td class="lineNumber">2860</td>
    <td class="codeline">  // Whether or not we should also collect guards in the loop.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2861</td>
    <td class="codeline">  bool CollectGuards = false;</td>
    <td class="lineNumber">2861</td>
    <td class="codeline">  bool CollectGuards = false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2862</td>
    <td class="codeline">  if (UnswitchGuards) {</td>
    <td class="lineNumber">2862</td>
    <td class="codeline">  if (UnswitchGuards) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2863</td>
    <td class="codeline">    auto *GuardDecl = L.getHeader()->getParent()->getParent()->getFunction(</td>
    <td class="lineNumber">2863</td>
    <td class="codeline">    auto *GuardDecl = L.getHeader()->getParent()->getParent()->getFunction(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2864</td>
    <td class="codeline">        Intrinsic::getName(Intrinsic::experimental_guard));</td>
    <td class="lineNumber">2864</td>
    <td class="codeline">        Intrinsic::getName(Intrinsic::experimental_guard));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2865</td>
    <td class="codeline">    if (GuardDecl && !GuardDecl->use_empty())</td>
    <td class="lineNumber">2865</td>
    <td class="codeline">    if (GuardDecl && !GuardDecl->use_empty())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2866</td>
    <td class="codeline">      CollectGuards = true;</td>
    <td class="lineNumber">2866</td>
    <td class="codeline">      CollectGuards = true;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2867</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">2867</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2868</td>
    <td class="codeline"></td>
    <td class="lineNumber">2868</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2869</td>
    <td class="codeline">  for (auto *BB : L.blocks()) {</td>
    <td class="lineNumber">2869</td>
    <td class="codeline">  for (auto *BB : L.blocks()) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2870</td>
    <td class="codeline">    if (LI.getLoopFor(BB) != &L)</td>
    <td class="lineNumber">2870</td>
    <td class="codeline">    if (LI.getLoopFor(BB) != &L)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2871</td>
    <td class="codeline">      continue;</td>
    <td class="lineNumber">2871</td>
    <td class="codeline">      continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2872</td>
    <td class="codeline"></td>
    <td class="lineNumber">2872</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2873</td>
    <td class="codeline">    for (auto &I : *BB) {</td>
    <td class="lineNumber">2873</td>
    <td class="codeline">    for (auto &I : *BB) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2874</td>
    <td class="codeline">      if (auto *SI = dyn_cast<SelectInst>(&I)) {</td>
    <td class="lineNumber">2874</td>
    <td class="codeline">      if (auto *SI = dyn_cast<SelectInst>(&I)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2875</td>
    <td class="codeline">        auto *Cond = SI->getCondition();</td>
    <td class="lineNumber">2875</td>
    <td class="codeline">        auto *Cond = SI->getCondition();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2876</td>
    <td class="codeline">        // Do not unswitch vector selects and logical and/or selects</td>
    <td class="lineNumber">2876</td>
    <td class="codeline">        // Do not unswitch vector selects and logical and/or selects</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2877</td>
    <td class="codeline">        if (Cond->getType()->isIntegerTy(1) && !SI->getType()->isIntegerTy(1))</td>
    <td class="lineNumber">2877</td>
    <td class="codeline">        if (Cond->getType()->isIntegerTy(1) && !SI->getType()->isIntegerTy(1))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2878</td>
    <td class="codeline">          AddUnswitchCandidatesForInst(SI, Cond);</td>
    <td class="lineNumber">2878</td>
    <td class="codeline">          AddUnswitchCandidatesForInst(SI, Cond);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2879</td>
    <td class="codeline">      } else if (CollectGuards && isGuard(&I)) {</td>
    <td class="lineNumber">2879</td>
    <td class="codeline">      } else if (CollectGuards && isGuard(&I)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2880</td>
    <td class="codeline">        auto *Cond =</td>
    <td class="lineNumber">2880</td>
    <td class="codeline">        auto *Cond =</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2881</td>
    <td class="codeline">            skipTrivialSelect(cast<IntrinsicInst>(&I)->getArgOperand(0));</td>
    <td class="lineNumber">2881</td>
    <td class="codeline">            skipTrivialSelect(cast<IntrinsicInst>(&I)->getArgOperand(0));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2882</td>
    <td class="codeline">        // TODO: Support AND, OR conditions and partial unswitching.</td>
    <td class="lineNumber">2882</td>
    <td class="codeline">        // TODO: Support AND, OR conditions and partial unswitching.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2883</td>
    <td class="codeline">        if (!isa<Constant>(Cond) && L.isLoopInvariant(Cond))</td>
    <td class="lineNumber">2883</td>
    <td class="codeline">        if (!isa<Constant>(Cond) && L.isLoopInvariant(Cond))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2884</td>
    <td class="codeline">          UnswitchCandidates.push_back({&I, {Cond}});</td>
    <td class="lineNumber">2884</td>
    <td class="codeline">          UnswitchCandidates.push_back({&I, {Cond}});</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2885</td>
    <td class="codeline">      }</td>
    <td class="lineNumber">2885</td>
    <td class="codeline">      }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2886</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">2886</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2887</td>
    <td class="codeline"></td>
    <td class="lineNumber">2887</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2888</td>
    <td class="codeline">    if (auto *SI = dyn_cast<SwitchInst>(BB->getTerminator())) {</td>
    <td class="lineNumber">2888</td>
    <td class="codeline">    if (auto *SI = dyn_cast<SwitchInst>(BB->getTerminator())) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2889</td>
    <td class="codeline">      // We can only consider fully loop-invariant switch conditions as we need</td>
    <td class="lineNumber">2889</td>
    <td class="codeline">      // We can only consider fully loop-invariant switch conditions as we need</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2890</td>
    <td class="codeline">      // to completely eliminate the switch after unswitching.</td>
    <td class="lineNumber">2890</td>
    <td class="codeline">      // to completely eliminate the switch after unswitching.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2891</td>
    <td class="codeline">      if (!isa<Constant>(SI->getCondition()) &&</td>
    <td class="lineNumber">2891</td>
    <td class="codeline">      if (!isa<Constant>(SI->getCondition()) &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2892</td>
    <td class="codeline">          L.isLoopInvariant(SI->getCondition()) && !BB->getUniqueSuccessor())</td>
    <td class="lineNumber">2892</td>
    <td class="codeline">          L.isLoopInvariant(SI->getCondition()) && !BB->getUniqueSuccessor())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2893</td>
    <td class="codeline">        UnswitchCandidates.push_back({SI, {SI->getCondition()}});</td>
    <td class="lineNumber">2893</td>
    <td class="codeline">        UnswitchCandidates.push_back({SI, {SI->getCondition()}});</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2894</td>
    <td class="codeline">      continue;</td>
    <td class="lineNumber">2894</td>
    <td class="codeline">      continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2895</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">2895</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2896</td>
    <td class="codeline"></td>
    <td class="lineNumber">2896</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2897</td>
    <td class="codeline">    auto *BI = dyn_cast<BranchInst>(BB->getTerminator());</td>
    <td class="lineNumber">2897</td>
    <td class="codeline">    auto *BI = dyn_cast<BranchInst>(BB->getTerminator());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2898</td>
    <td class="codeline">    if (!BI || !BI->isConditional() ||</td>
    <td class="lineNumber">2898</td>
    <td class="codeline">    if (!BI || !BI->isConditional() ||</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2899</td>
    <td class="codeline">        BI->getSuccessor(0) == BI->getSuccessor(1))</td>
    <td class="lineNumber">2899</td>
    <td class="codeline">        BI->getSuccessor(0) == BI->getSuccessor(1))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2900</td>
    <td class="codeline">      continue;</td>
    <td class="lineNumber">2900</td>
    <td class="codeline">      continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2901</td>
    <td class="codeline"></td>
    <td class="lineNumber">2901</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2902</td>
    <td class="codeline">    AddUnswitchCandidatesForInst(BI, BI->getCondition());</td>
    <td class="lineNumber">2902</td>
    <td class="codeline">    AddUnswitchCandidatesForInst(BI, BI->getCondition());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2903</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">2903</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2904</td>
    <td class="codeline"></td>
    <td class="lineNumber">2904</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2905</td>
    <td class="codeline">  if (MSSAU && !findOptionMDForLoop(&L, "llvm.loop.unswitch.partial.disable") &&</td>
    <td class="lineNumber">2905</td>
    <td class="codeline">  if (MSSAU && !findOptionMDForLoop(&L, "llvm.loop.unswitch.partial.disable") &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2906</td>
    <td class="codeline">      !any_of(UnswitchCandidates, [&L](auto &TerminatorAndInvariants) {</td>
    <td class="lineNumber">2906</td>
    <td class="codeline">      !any_of(UnswitchCandidates, [&L](auto &TerminatorAndInvariants) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2907</td>
    <td class="codeline">         return TerminatorAndInvariants.TI == L.getHeader()->getTerminator();</td>
    <td class="lineNumber">2907</td>
    <td class="codeline">         return TerminatorAndInvariants.TI == L.getHeader()->getTerminator();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2908</td>
    <td class="codeline">       })) {</td>
    <td class="lineNumber">2908</td>
    <td class="codeline">       })) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2909</td>
    <td class="codeline">    MemorySSA *MSSA = MSSAU->getMemorySSA();</td>
    <td class="lineNumber">2909</td>
    <td class="codeline">    MemorySSA *MSSA = MSSAU->getMemorySSA();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2910</td>
    <td class="codeline">    if (auto Info = hasPartialIVCondition(L, MSSAThreshold, *MSSA, AA)) {</td>
    <td class="lineNumber">2910</td>
    <td class="codeline">    if (auto Info = hasPartialIVCondition(L, MSSAThreshold, *MSSA, AA)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2911</td>
    <td class="codeline">      LLVM_DEBUG(</td>
    <td class="lineNumber">2911</td>
    <td class="codeline">      LLVM_DEBUG(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2912</td>
    <td class="codeline">          dbgs() << "simple-loop-unswitch: Found partially invariant condition "</td>
    <td class="lineNumber">2912</td>
    <td class="codeline">          dbgs() << "simple-loop-unswitch: Found partially invariant condition "</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2913</td>
    <td class="codeline">                 << *Info->InstToDuplicate[0] << "\n");</td>
    <td class="lineNumber">2913</td>
    <td class="codeline">                 << *Info->InstToDuplicate[0] << "\n");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2914</td>
    <td class="codeline">      PartialIVInfo = *Info;</td>
    <td class="lineNumber">2914</td>
    <td class="codeline">      PartialIVInfo = *Info;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2915</td>
    <td class="codeline">      PartialIVCondBranch = L.getHeader()->getTerminator();</td>
    <td class="lineNumber">2915</td>
    <td class="codeline">      PartialIVCondBranch = L.getHeader()->getTerminator();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2916</td>
    <td class="codeline">      TinyPtrVector<Value *> ValsToDuplicate;</td>
    <td class="lineNumber">2916</td>
    <td class="codeline">      TinyPtrVector<Value *> ValsToDuplicate;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2917</td>
    <td class="codeline">      llvm::append_range(ValsToDuplicate, Info->InstToDuplicate);</td>
    <td class="lineNumber">2917</td>
    <td class="codeline">      llvm::append_range(ValsToDuplicate, Info->InstToDuplicate);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2918</td>
    <td class="codeline">      UnswitchCandidates.push_back(</td>
    <td class="lineNumber">2918</td>
    <td class="codeline">      UnswitchCandidates.push_back(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2919</td>
    <td class="codeline">          {L.getHeader()->getTerminator(), std::move(ValsToDuplicate)});</td>
    <td class="lineNumber">2919</td>
    <td class="codeline">          {L.getHeader()->getTerminator(), std::move(ValsToDuplicate)});</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2920</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">2920</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2921</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">2921</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2922</td>
    <td class="codeline">  return !UnswitchCandidates.empty();</td>
    <td class="lineNumber">2922</td>
    <td class="codeline">  return !UnswitchCandidates.empty();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2923</td>
    <td class="codeline">}</td>
    <td class="lineNumber">2923</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2924</td>
    <td class="codeline"></td>
    <td class="lineNumber">2924</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2925</td>
    <td class="codeline">/// Tries to canonicalize condition described by:</td>
    <td class="lineNumber">2925</td>
    <td class="codeline">/// Tries to canonicalize condition described by:</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2926</td>
    <td class="codeline">///</td>
    <td class="lineNumber">2926</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2927</td>
    <td class="codeline">///   br (LHS pred RHS), label IfTrue, label IfFalse</td>
    <td class="lineNumber">2927</td>
    <td class="codeline">///   br (LHS pred RHS), label IfTrue, label IfFalse</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2928</td>
    <td class="codeline">///</td>
    <td class="lineNumber">2928</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2929</td>
    <td class="codeline">/// into its equivalent where `Pred` is something that we support for injected</td>
    <td class="lineNumber">2929</td>
    <td class="codeline">/// into its equivalent where `Pred` is something that we support for injected</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2930</td>
    <td class="codeline">/// invariants (so far it is limited to ult), LHS in canonicalized form is</td>
    <td class="lineNumber">2930</td>
    <td class="codeline">/// invariants (so far it is limited to ult), LHS in canonicalized form is</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2931</td>
    <td class="codeline">/// non-invariant and RHS is an invariant.</td>
    <td class="lineNumber">2931</td>
    <td class="codeline">/// non-invariant and RHS is an invariant.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2932</td>
    <td class="codeline">static void canonicalizeForInvariantConditionInjection(</td>
    <td class="lineNumber">2932</td>
    <td class="codeline">static void canonicalizeForInvariantConditionInjection(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2933</td>
    <td class="codeline">    ICmpInst::Predicate &Pred, Value *&LHS, Value *&RHS, BasicBlock *&IfTrue,</td>
    <td class="lineNumber">2933</td>
    <td class="codeline">    ICmpInst::Predicate &Pred, Value *&LHS, Value *&RHS, BasicBlock *&IfTrue,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2934</td>
    <td class="codeline">    BasicBlock *&IfFalse, const Loop &L) {</td>
    <td class="lineNumber">2934</td>
    <td class="codeline">    BasicBlock *&IfFalse, const Loop &L) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2935</td>
    <td class="codeline">  if (!L.contains(IfTrue)) {</td>
    <td class="lineNumber">2935</td>
    <td class="codeline">  if (!L.contains(IfTrue)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2936</td>
    <td class="codeline">    Pred = ICmpInst::getInversePredicate(Pred);</td>
    <td class="lineNumber">2936</td>
    <td class="codeline">    Pred = ICmpInst::getInversePredicate(Pred);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2937</td>
    <td class="codeline">    std::swap(IfTrue, IfFalse);</td>
    <td class="lineNumber">2937</td>
    <td class="codeline">    std::swap(IfTrue, IfFalse);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2938</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">2938</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2939</td>
    <td class="codeline"></td>
    <td class="lineNumber">2939</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2940</td>
    <td class="codeline">  // Move loop-invariant argument to RHS position.</td>
    <td class="lineNumber">2940</td>
    <td class="codeline">  // Move loop-invariant argument to RHS position.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2941</td>
    <td class="codeline">  if (L.isLoopInvariant(LHS)) {</td>
    <td class="lineNumber">2941</td>
    <td class="codeline">  if (L.isLoopInvariant(LHS)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2942</td>
    <td class="codeline">    Pred = ICmpInst::getSwappedPredicate(Pred);</td>
    <td class="lineNumber">2942</td>
    <td class="codeline">    Pred = ICmpInst::getSwappedPredicate(Pred);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2943</td>
    <td class="codeline">    std::swap(LHS, RHS);</td>
    <td class="lineNumber">2943</td>
    <td class="codeline">    std::swap(LHS, RHS);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2944</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">2944</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2945</td>
    <td class="codeline"></td>
    <td class="lineNumber">2945</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2946</td>
    <td class="codeline">  if (Pred == ICmpInst::ICMP_SGE && match(RHS, m_Zero())) {</td>
    <td class="lineNumber">2946</td>
    <td class="codeline">  if (Pred == ICmpInst::ICMP_SGE && match(RHS, m_Zero())) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2947</td>
    <td class="codeline">    // Turn "x >=s 0" into "x <u UMIN_INT"</td>
    <td class="lineNumber">2947</td>
    <td class="codeline">    // Turn "x >=s 0" into "x <u UMIN_INT"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2948</td>
    <td class="codeline">    Pred = ICmpInst::ICMP_ULT;</td>
    <td class="lineNumber">2948</td>
    <td class="codeline">    Pred = ICmpInst::ICMP_ULT;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2949</td>
    <td class="codeline">    RHS = ConstantInt::get(</td>
    <td class="lineNumber">2949</td>
    <td class="codeline">    RHS = ConstantInt::get(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2950</td>
    <td class="codeline">        RHS->getContext(),</td>
    <td class="lineNumber">2950</td>
    <td class="codeline">        RHS->getContext(),</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2951</td>
    <td class="codeline">        APInt::getSignedMinValue(RHS->getType()->getIntegerBitWidth()));</td>
    <td class="lineNumber">2951</td>
    <td class="codeline">        APInt::getSignedMinValue(RHS->getType()->getIntegerBitWidth()));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2952</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">2952</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2953</td>
    <td class="codeline">}</td>
    <td class="lineNumber">2953</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2954</td>
    <td class="codeline"></td>
    <td class="lineNumber">2954</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2955</td>
    <td class="codeline">/// Returns true, if predicate described by ( \p Pred, \p LHS, \p RHS )</td>
    <td class="lineNumber">2955</td>
    <td class="codeline">/// Returns true, if predicate described by ( \p Pred, \p LHS, \p RHS )</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2956</td>
    <td class="codeline">/// succeeding into blocks ( \p IfTrue, \p IfFalse) can be optimized by</td>
    <td class="lineNumber">2956</td>
    <td class="codeline">/// succeeding into blocks ( \p IfTrue, \p IfFalse) can be optimized by</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2957</td>
    <td class="codeline">/// injecting a loop-invariant condition.</td>
    <td class="lineNumber">2957</td>
    <td class="codeline">/// injecting a loop-invariant condition.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2958</td>
    <td class="codeline">static bool shouldTryInjectInvariantCondition(</td>
    <td class="lineNumber">2958</td>
    <td class="codeline">static bool shouldTryInjectInvariantCondition(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2959</td>
    <td class="codeline">    const ICmpInst::Predicate Pred, const Value *LHS, const Value *RHS,</td>
    <td class="lineNumber">2959</td>
    <td class="codeline">    const ICmpInst::Predicate Pred, const Value *LHS, const Value *RHS,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2960</td>
    <td class="codeline">    const BasicBlock *IfTrue, const BasicBlock *IfFalse, const Loop &L) {</td>
    <td class="lineNumber">2960</td>
    <td class="codeline">    const BasicBlock *IfTrue, const BasicBlock *IfFalse, const Loop &L) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2961</td>
    <td class="codeline">  if (L.isLoopInvariant(LHS) || !L.isLoopInvariant(RHS))</td>
    <td class="lineNumber">2961</td>
    <td class="codeline">  if (L.isLoopInvariant(LHS) || !L.isLoopInvariant(RHS))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2962</td>
    <td class="codeline">    return false;</td>
    <td class="lineNumber">2962</td>
    <td class="codeline">    return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2963</td>
    <td class="codeline">  // TODO: Support other predicates.</td>
    <td class="lineNumber">2963</td>
    <td class="codeline">  // TODO: Support other predicates.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2964</td>
    <td class="codeline">  if (Pred != ICmpInst::ICMP_ULT)</td>
    <td class="lineNumber">2964</td>
    <td class="codeline">  if (Pred != ICmpInst::ICMP_ULT)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2965</td>
    <td class="codeline">    return false;</td>
    <td class="lineNumber">2965</td>
    <td class="codeline">    return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2966</td>
    <td class="codeline">  // TODO: Support non-loop-exiting branches?</td>
    <td class="lineNumber">2966</td>
    <td class="codeline">  // TODO: Support non-loop-exiting branches?</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2967</td>
    <td class="codeline">  if (!L.contains(IfTrue) || L.contains(IfFalse))</td>
    <td class="lineNumber">2967</td>
    <td class="codeline">  if (!L.contains(IfTrue) || L.contains(IfFalse))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2968</td>
    <td class="codeline">    return false;</td>
    <td class="lineNumber">2968</td>
    <td class="codeline">    return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2969</td>
    <td class="codeline">  // FIXME: For some reason this causes problems with MSSA updates, need to</td>
    <td class="lineNumber">2969</td>
    <td class="codeline">  // FIXME: For some reason this causes problems with MSSA updates, need to</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2970</td>
    <td class="codeline">  // investigate why. So far, just don't unswitch latch.</td>
    <td class="lineNumber">2970</td>
    <td class="codeline">  // investigate why. So far, just don't unswitch latch.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2971</td>
    <td class="codeline">  if (L.getHeader() == IfTrue)</td>
    <td class="lineNumber">2971</td>
    <td class="codeline">  if (L.getHeader() == IfTrue)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2972</td>
    <td class="codeline">    return false;</td>
    <td class="lineNumber">2972</td>
    <td class="codeline">    return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2973</td>
    <td class="codeline">  return true;</td>
    <td class="lineNumber">2973</td>
    <td class="codeline">  return true;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2974</td>
    <td class="codeline">}</td>
    <td class="lineNumber">2974</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2975</td>
    <td class="codeline"></td>
    <td class="lineNumber">2975</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2976</td>
    <td class="codeline">/// Returns true, if metadata on \p BI allows us to optimize branching into \p</td>
    <td class="lineNumber">2976</td>
    <td class="codeline">/// Returns true, if metadata on \p BI allows us to optimize branching into \p</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2977</td>
    <td class="codeline">/// TakenSucc via injection of invariant conditions. The branch should be not</td>
    <td class="lineNumber">2977</td>
    <td class="codeline">/// TakenSucc via injection of invariant conditions. The branch should be not</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2978</td>
    <td class="codeline">/// enough and not previously unswitched, the information about this comes from</td>
    <td class="lineNumber">2978</td>
    <td class="codeline">/// enough and not previously unswitched, the information about this comes from</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2979</td>
    <td class="codeline">/// the metadata.</td>
    <td class="lineNumber">2979</td>
    <td class="codeline">/// the metadata.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2980</td>
    <td class="codeline">bool shouldTryInjectBasingOnMetadata(const BranchInst *BI,</td>
    <td class="lineNumber">2980</td>
    <td class="codeline">bool shouldTryInjectBasingOnMetadata(const BranchInst *BI,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2981</td>
    <td class="codeline">                                     const BasicBlock *TakenSucc) {</td>
    <td class="lineNumber">2981</td>
    <td class="codeline">                                     const BasicBlock *TakenSucc) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2982</td>
    <td class="codeline">  // Skip branches that have already been unswithed this way. After successful</td>
    <td class="lineNumber">2982</td>
    <td class="codeline">  // Skip branches that have already been unswithed this way. After successful</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2983</td>
    <td class="codeline">  // unswitching of injected condition, we will still have a copy of this loop</td>
    <td class="lineNumber">2983</td>
    <td class="codeline">  // unswitching of injected condition, we will still have a copy of this loop</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2984</td>
    <td class="codeline">  // which looks exactly the same as original one. To prevent the 2nd attempt</td>
    <td class="lineNumber">2984</td>
    <td class="codeline">  // which looks exactly the same as original one. To prevent the 2nd attempt</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2985</td>
    <td class="codeline">  // of unswitching it in the same pass, mark this branch as "nothing to do</td>
    <td class="lineNumber">2985</td>
    <td class="codeline">  // of unswitching it in the same pass, mark this branch as "nothing to do</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2986</td>
    <td class="codeline">  // here".</td>
    <td class="lineNumber">2986</td>
    <td class="codeline">  // here".</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2987</td>
    <td class="codeline">  if (BI->hasMetadata("llvm.invariant.condition.injection.disabled"))</td>
    <td class="lineNumber">2987</td>
    <td class="codeline">  if (BI->hasMetadata("llvm.invariant.condition.injection.disabled"))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2988</td>
    <td class="codeline">    return false;</td>
    <td class="lineNumber">2988</td>
    <td class="codeline">    return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2989</td>
    <td class="codeline">  SmallVector<uint32_t> Weights;</td>
    <td class="lineNumber">2989</td>
    <td class="codeline">  SmallVector<uint32_t> Weights;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2990</td>
    <td class="codeline">  if (!extractBranchWeights(*BI, Weights))</td>
    <td class="lineNumber">2990</td>
    <td class="codeline">  if (!extractBranchWeights(*BI, Weights))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2991</td>
    <td class="codeline">    return false;</td>
    <td class="lineNumber">2991</td>
    <td class="codeline">    return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2992</td>
    <td class="codeline">  unsigned T = InjectInvariantConditionHotnesThreshold;</td>
    <td class="lineNumber">2992</td>
    <td class="codeline">  unsigned T = InjectInvariantConditionHotnesThreshold;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2993</td>
    <td class="codeline">  BranchProbability LikelyTaken(T - 1, T);</td>
    <td class="lineNumber">2993</td>
    <td class="codeline">  BranchProbability LikelyTaken(T - 1, T);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2994</td>
    <td class="codeline"></td>
    <td class="lineNumber">2994</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2995</td>
    <td class="codeline">  assert(Weights.size() == 2 && "Unexpected profile data!");</td>
    <td class="lineNumber">2995</td>
    <td class="codeline">  assert(Weights.size() == 2 && "Unexpected profile data!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2996</td>
    <td class="codeline">  size_t Idx = BI->getSuccessor(0) == TakenSucc ? 0 : 1;</td>
    <td class="lineNumber">2996</td>
    <td class="codeline">  size_t Idx = BI->getSuccessor(0) == TakenSucc ? 0 : 1;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2997</td>
    <td class="codeline">  auto Num = Weights[Idx];</td>
    <td class="lineNumber">2997</td>
    <td class="codeline">  auto Num = Weights[Idx];</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2998</td>
    <td class="codeline">  auto Denom = Weights[0] + Weights[1];</td>
    <td class="lineNumber">2998</td>
    <td class="codeline">  auto Denom = Weights[0] + Weights[1];</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2999</td>
    <td class="codeline">  // Degenerate or overflowed metadata.</td>
    <td class="lineNumber">2999</td>
    <td class="codeline">  // Degenerate or overflowed metadata.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3000</td>
    <td class="codeline">  if (Denom == 0 || Num > Denom)</td>
    <td class="lineNumber">3000</td>
    <td class="codeline">  if (Denom == 0 || Num > Denom)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3001</td>
    <td class="codeline">    return false;</td>
    <td class="lineNumber">3001</td>
    <td class="codeline">    return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3002</td>
    <td class="codeline">  BranchProbability ActualTaken(Num, Denom);</td>
    <td class="lineNumber">3002</td>
    <td class="codeline">  BranchProbability ActualTaken(Num, Denom);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3003</td>
    <td class="codeline">  if (LikelyTaken > ActualTaken)</td>
    <td class="lineNumber">3003</td>
    <td class="codeline">  if (LikelyTaken > ActualTaken)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3004</td>
    <td class="codeline">    return false;</td>
    <td class="lineNumber">3004</td>
    <td class="codeline">    return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3005</td>
    <td class="codeline">  return true;</td>
    <td class="lineNumber">3005</td>
    <td class="codeline">  return true;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3006</td>
    <td class="codeline">}</td>
    <td class="lineNumber">3006</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3007</td>
    <td class="codeline"></td>
    <td class="lineNumber">3007</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3008</td>
    <td class="codeline">/// Materialize pending invariant condition of the given candidate into IR. The</td>
    <td class="lineNumber">3008</td>
    <td class="codeline">/// Materialize pending invariant condition of the given candidate into IR. The</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3009</td>
    <td class="codeline">/// injected loop-invariant condition implies the original loop-variant branch</td>
    <td class="lineNumber">3009</td>
    <td class="codeline">/// injected loop-invariant condition implies the original loop-variant branch</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3010</td>
    <td class="codeline">/// condition, so the materialization turns</td>
    <td class="lineNumber">3010</td>
    <td class="codeline">/// condition, so the materialization turns</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3011</td>
    <td class="codeline">///</td>
    <td class="lineNumber">3011</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3012</td>
    <td class="codeline">/// loop_block:</td>
    <td class="lineNumber">3012</td>
    <td class="codeline">/// loop_block:</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3013</td>
    <td class="codeline">///   ...</td>
    <td class="lineNumber">3013</td>
    <td class="codeline">///   ...</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3014</td>
    <td class="codeline">///   br i1 %variant_cond, label InLoopSucc, label OutOfLoopSucc</td>
    <td class="lineNumber">3014</td>
    <td class="codeline">///   br i1 %variant_cond, label InLoopSucc, label OutOfLoopSucc</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3015</td>
    <td class="codeline">///</td>
    <td class="lineNumber">3015</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3016</td>
    <td class="codeline">/// into</td>
    <td class="lineNumber">3016</td>
    <td class="codeline">/// into</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3017</td>
    <td class="codeline">///</td>
    <td class="lineNumber">3017</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3018</td>
    <td class="codeline">/// preheader:</td>
    <td class="lineNumber">3018</td>
    <td class="codeline">/// preheader:</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3019</td>
    <td class="codeline">///   %invariant_cond = LHS pred RHS</td>
    <td class="lineNumber">3019</td>
    <td class="codeline">///   %invariant_cond = LHS pred RHS</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3020</td>
    <td class="codeline">/// ...</td>
    <td class="lineNumber">3020</td>
    <td class="codeline">/// ...</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3021</td>
    <td class="codeline">/// loop_block:</td>
    <td class="lineNumber">3021</td>
    <td class="codeline">/// loop_block:</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3022</td>
    <td class="codeline">///   br i1 %invariant_cond, label InLoopSucc, label OriginalCheck</td>
    <td class="lineNumber">3022</td>
    <td class="codeline">///   br i1 %invariant_cond, label InLoopSucc, label OriginalCheck</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3023</td>
    <td class="codeline">/// OriginalCheck:</td>
    <td class="lineNumber">3023</td>
    <td class="codeline">/// OriginalCheck:</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3024</td>
    <td class="codeline">///   br i1 %variant_cond, label InLoopSucc, label OutOfLoopSucc</td>
    <td class="lineNumber">3024</td>
    <td class="codeline">///   br i1 %variant_cond, label InLoopSucc, label OutOfLoopSucc</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3025</td>
    <td class="codeline">/// ...</td>
    <td class="lineNumber">3025</td>
    <td class="codeline">/// ...</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3026</td>
    <td class="codeline">static NonTrivialUnswitchCandidate</td>
    <td class="lineNumber">3026</td>
    <td class="codeline">static NonTrivialUnswitchCandidate</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3027</td>
    <td class="codeline">injectPendingInvariantConditions(NonTrivialUnswitchCandidate Candidate, Loop &L,</td>
    <td class="lineNumber">3027</td>
    <td class="codeline">injectPendingInvariantConditions(NonTrivialUnswitchCandidate Candidate, Loop &L,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3028</td>
    <td class="codeline">                                 DominatorTree &DT, LoopInfo &LI,</td>
    <td class="lineNumber">3028</td>
    <td class="codeline">                                 DominatorTree &DT, LoopInfo &LI,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3029</td>
    <td class="codeline">                                 AssumptionCache &AC, MemorySSAUpdater *MSSAU) {</td>
    <td class="lineNumber">3029</td>
    <td class="codeline">                                 AssumptionCache &AC, MemorySSAUpdater *MSSAU) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3030</td>
    <td class="codeline">  assert(Candidate.hasPendingInjection() && "Nothing to inject!");</td>
    <td class="lineNumber">3030</td>
    <td class="codeline">  assert(Candidate.hasPendingInjection() && "Nothing to inject!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3031</td>
    <td class="codeline">  BasicBlock *Preheader = L.getLoopPreheader();</td>
    <td class="lineNumber">3031</td>
    <td class="codeline">  BasicBlock *Preheader = L.getLoopPreheader();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3032</td>
    <td class="codeline">  assert(Preheader && "Loop is not in simplified form?");</td>
    <td class="lineNumber">3032</td>
    <td class="codeline">  assert(Preheader && "Loop is not in simplified form?");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3033</td>
    <td class="codeline">  assert(LI.getLoopFor(Candidate.TI->getParent()) == &L &&</td>
    <td class="lineNumber">3033</td>
    <td class="codeline">  assert(LI.getLoopFor(Candidate.TI->getParent()) == &L &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3034</td>
    <td class="codeline">         "Unswitching branch of inner loop!");</td>
    <td class="lineNumber">3034</td>
    <td class="codeline">         "Unswitching branch of inner loop!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3035</td>
    <td class="codeline"></td>
    <td class="lineNumber">3035</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3036</td>
    <td class="codeline">  auto Pred = Candidate.PendingInjection->Pred;</td>
    <td class="lineNumber">3036</td>
    <td class="codeline">  auto Pred = Candidate.PendingInjection->Pred;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3037</td>
    <td class="codeline">  auto *LHS = Candidate.PendingInjection->LHS;</td>
    <td class="lineNumber">3037</td>
    <td class="codeline">  auto *LHS = Candidate.PendingInjection->LHS;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3038</td>
    <td class="codeline">  auto *RHS = Candidate.PendingInjection->RHS;</td>
    <td class="lineNumber">3038</td>
    <td class="codeline">  auto *RHS = Candidate.PendingInjection->RHS;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3039</td>
    <td class="codeline">  auto *InLoopSucc = Candidate.PendingInjection->InLoopSucc;</td>
    <td class="lineNumber">3039</td>
    <td class="codeline">  auto *InLoopSucc = Candidate.PendingInjection->InLoopSucc;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3040</td>
    <td class="codeline">  auto *TI = cast<BranchInst>(Candidate.TI);</td>
    <td class="lineNumber">3040</td>
    <td class="codeline">  auto *TI = cast<BranchInst>(Candidate.TI);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3041</td>
    <td class="codeline">  auto *BB = Candidate.TI->getParent();</td>
    <td class="lineNumber">3041</td>
    <td class="codeline">  auto *BB = Candidate.TI->getParent();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3042</td>
    <td class="codeline">  auto *OutOfLoopSucc = InLoopSucc == TI->getSuccessor(0) ? TI->getSuccessor(1)</td>
    <td class="lineNumber">3042</td>
    <td class="codeline">  auto *OutOfLoopSucc = InLoopSucc == TI->getSuccessor(0) ? TI->getSuccessor(1)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3043</td>
    <td class="codeline">                                                          : TI->getSuccessor(0);</td>
    <td class="lineNumber">3043</td>
    <td class="codeline">                                                          : TI->getSuccessor(0);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3044</td>
    <td class="codeline">  // FIXME: Remove this once limitation on successors is lifted.</td>
    <td class="lineNumber">3044</td>
    <td class="codeline">  // FIXME: Remove this once limitation on successors is lifted.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3045</td>
    <td class="codeline">  assert(L.contains(InLoopSucc) && "Not supported yet!");</td>
    <td class="lineNumber">3045</td>
    <td class="codeline">  assert(L.contains(InLoopSucc) && "Not supported yet!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3046</td>
    <td class="codeline">  assert(!L.contains(OutOfLoopSucc) && "Not supported yet!");</td>
    <td class="lineNumber">3046</td>
    <td class="codeline">  assert(!L.contains(OutOfLoopSucc) && "Not supported yet!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3047</td>
    <td class="codeline">  auto &Ctx = BB->getContext();</td>
    <td class="lineNumber">3047</td>
    <td class="codeline">  auto &Ctx = BB->getContext();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3048</td>
    <td class="codeline"></td>
    <td class="lineNumber">3048</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3049</td>
    <td class="codeline">  IRBuilder<> Builder(Preheader->getTerminator());</td>
    <td class="lineNumber">3049</td>
    <td class="codeline">  IRBuilder<> Builder(Preheader->getTerminator());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3050</td>
    <td class="codeline">  assert(ICmpInst::isUnsigned(Pred) && "Not supported yet!");</td>
    <td class="lineNumber">3050</td>
    <td class="codeline">  assert(ICmpInst::isUnsigned(Pred) && "Not supported yet!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3051</td>
    <td class="codeline">  if (LHS->getType() != RHS->getType()) {</td>
    <td class="lineNumber">3051</td>
    <td class="codeline">  if (LHS->getType() != RHS->getType()) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3052</td>
    <td class="codeline">    if (LHS->getType()->getIntegerBitWidth() <</td>
    <td class="lineNumber">3052</td>
    <td class="codeline">    if (LHS->getType()->getIntegerBitWidth() <</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3053</td>
    <td class="codeline">        RHS->getType()->getIntegerBitWidth())</td>
    <td class="lineNumber">3053</td>
    <td class="codeline">        RHS->getType()->getIntegerBitWidth())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3054</td>
    <td class="codeline">      LHS = Builder.CreateZExt(LHS, RHS->getType(), LHS->getName() + ".wide");</td>
    <td class="lineNumber">3054</td>
    <td class="codeline">      LHS = Builder.CreateZExt(LHS, RHS->getType(), LHS->getName() + ".wide");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3055</td>
    <td class="codeline">    else</td>
    <td class="lineNumber">3055</td>
    <td class="codeline">    else</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3056</td>
    <td class="codeline">      RHS = Builder.CreateZExt(RHS, LHS->getType(), RHS->getName() + ".wide");</td>
    <td class="lineNumber">3056</td>
    <td class="codeline">      RHS = Builder.CreateZExt(RHS, LHS->getType(), RHS->getName() + ".wide");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3057</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">3057</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3058</td>
    <td class="codeline">  // Do not use builder here: CreateICmp may simplify this into a constant and</td>
    <td class="lineNumber">3058</td>
    <td class="codeline">  // Do not use builder here: CreateICmp may simplify this into a constant and</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3059</td>
    <td class="codeline">  // unswitching will break. Better optimize it away later.</td>
    <td class="lineNumber">3059</td>
    <td class="codeline">  // unswitching will break. Better optimize it away later.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3060</td>
    <td class="codeline">  auto *InjectedCond =</td>
    <td class="lineNumber">3060</td>
    <td class="codeline">  auto *InjectedCond =</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3061</td>
    <td class="codeline">      ICmpInst::Create(Instruction::ICmp, Pred, LHS, RHS, "injected.cond",</td>
    <td class="lineNumber">3061</td>
    <td class="codeline">      ICmpInst::Create(Instruction::ICmp, Pred, LHS, RHS, "injected.cond",</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3062</td>
    <td class="codeline">                       Preheader->getTerminator());</td>
    <td class="lineNumber">3062</td>
    <td class="codeline">                       Preheader->getTerminator());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3063</td>
    <td class="codeline">  auto *OldCond = TI->getCondition();</td>
    <td class="lineNumber">3063</td>
    <td class="codeline">  auto *OldCond = TI->getCondition();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3064</td>
    <td class="codeline"></td>
    <td class="lineNumber">3064</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3065</td>
    <td class="codeline">  BasicBlock *CheckBlock = BasicBlock::Create(Ctx, BB->getName() + ".check",</td>
    <td class="lineNumber">3065</td>
    <td class="codeline">  BasicBlock *CheckBlock = BasicBlock::Create(Ctx, BB->getName() + ".check",</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3066</td>
    <td class="codeline">                                              BB->getParent(), InLoopSucc);</td>
    <td class="lineNumber">3066</td>
    <td class="codeline">                                              BB->getParent(), InLoopSucc);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3067</td>
    <td class="codeline">  Builder.SetInsertPoint(TI);</td>
    <td class="lineNumber">3067</td>
    <td class="codeline">  Builder.SetInsertPoint(TI);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3068</td>
    <td class="codeline">  auto *InvariantBr =</td>
    <td class="lineNumber">3068</td>
    <td class="codeline">  auto *InvariantBr =</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3069</td>
    <td class="codeline">      Builder.CreateCondBr(InjectedCond, InLoopSucc, CheckBlock);</td>
    <td class="lineNumber">3069</td>
    <td class="codeline">      Builder.CreateCondBr(InjectedCond, InLoopSucc, CheckBlock);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3070</td>
    <td class="codeline"></td>
    <td class="lineNumber">3070</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3071</td>
    <td class="codeline">  Builder.SetInsertPoint(CheckBlock);</td>
    <td class="lineNumber">3071</td>
    <td class="codeline">  Builder.SetInsertPoint(CheckBlock);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3072</td>
    <td class="codeline">  auto *NewTerm = Builder.CreateCondBr(OldCond, InLoopSucc, OutOfLoopSucc);</td>
    <td class="lineNumber">3072</td>
    <td class="codeline">  auto *NewTerm = Builder.CreateCondBr(OldCond, InLoopSucc, OutOfLoopSucc);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3073</td>
    <td class="codeline"></td>
    <td class="lineNumber">3073</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3074</td>
    <td class="codeline">  TI->eraseFromParent();</td>
    <td class="lineNumber">3074</td>
    <td class="codeline">  TI->eraseFromParent();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3075</td>
    <td class="codeline">  // Prevent infinite unswitching.</td>
    <td class="lineNumber">3075</td>
    <td class="codeline">  // Prevent infinite unswitching.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3076</td>
    <td class="codeline">  NewTerm->setMetadata("llvm.invariant.condition.injection.disabled",</td>
    <td class="lineNumber">3076</td>
    <td class="codeline">  NewTerm->setMetadata("llvm.invariant.condition.injection.disabled",</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3077</td>
    <td class="codeline">                       MDNode::get(BB->getContext(), {}));</td>
    <td class="lineNumber">3077</td>
    <td class="codeline">                       MDNode::get(BB->getContext(), {}));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3078</td>
    <td class="codeline"></td>
    <td class="lineNumber">3078</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3079</td>
    <td class="codeline">  // Fixup phis.</td>
    <td class="lineNumber">3079</td>
    <td class="codeline">  // Fixup phis.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3080</td>
    <td class="codeline">  for (auto &I : *InLoopSucc) {</td>
    <td class="lineNumber">3080</td>
    <td class="codeline">  for (auto &I : *InLoopSucc) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3081</td>
    <td class="codeline">    auto *PN = dyn_cast<PHINode>(&I);</td>
    <td class="lineNumber">3081</td>
    <td class="codeline">    auto *PN = dyn_cast<PHINode>(&I);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3082</td>
    <td class="codeline">    if (!PN)</td>
    <td class="lineNumber">3082</td>
    <td class="codeline">    if (!PN)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3083</td>
    <td class="codeline">      break;</td>
    <td class="lineNumber">3083</td>
    <td class="codeline">      break;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3084</td>
    <td class="codeline">    auto *Inc = PN->getIncomingValueForBlock(BB);</td>
    <td class="lineNumber">3084</td>
    <td class="codeline">    auto *Inc = PN->getIncomingValueForBlock(BB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3085</td>
    <td class="codeline">    PN->addIncoming(Inc, CheckBlock);</td>
    <td class="lineNumber">3085</td>
    <td class="codeline">    PN->addIncoming(Inc, CheckBlock);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3086</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">3086</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3087</td>
    <td class="codeline">  OutOfLoopSucc->replacePhiUsesWith(BB, CheckBlock);</td>
    <td class="lineNumber">3087</td>
    <td class="codeline">  OutOfLoopSucc->replacePhiUsesWith(BB, CheckBlock);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3088</td>
    <td class="codeline"></td>
    <td class="lineNumber">3088</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3089</td>
    <td class="codeline">  SmallVector<DominatorTree::UpdateType, 4> DTUpdates = {</td>
    <td class="lineNumber">3089</td>
    <td class="codeline">  SmallVector<DominatorTree::UpdateType, 4> DTUpdates = {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3090</td>
    <td class="codeline">    { DominatorTree::Insert, BB, CheckBlock },</td>
    <td class="lineNumber">3090</td>
    <td class="codeline">    { DominatorTree::Insert, BB, CheckBlock },</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3091</td>
    <td class="codeline">    { DominatorTree::Insert, CheckBlock, InLoopSucc },</td>
    <td class="lineNumber">3091</td>
    <td class="codeline">    { DominatorTree::Insert, CheckBlock, InLoopSucc },</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3092</td>
    <td class="codeline">    { DominatorTree::Insert, CheckBlock, OutOfLoopSucc },</td>
    <td class="lineNumber">3092</td>
    <td class="codeline">    { DominatorTree::Insert, CheckBlock, OutOfLoopSucc },</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3093</td>
    <td class="codeline">    { DominatorTree::Delete, BB, OutOfLoopSucc }</td>
    <td class="lineNumber">3093</td>
    <td class="codeline">    { DominatorTree::Delete, BB, OutOfLoopSucc }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3094</td>
    <td class="codeline">  };</td>
    <td class="lineNumber">3094</td>
    <td class="codeline">  };</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3095</td>
    <td class="codeline"></td>
    <td class="lineNumber">3095</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3096</td>
    <td class="codeline">  DT.applyUpdates(DTUpdates);</td>
    <td class="lineNumber">3096</td>
    <td class="codeline">  DT.applyUpdates(DTUpdates);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3097</td>
    <td class="codeline">  if (MSSAU)</td>
    <td class="lineNumber">3097</td>
    <td class="codeline">  if (MSSAU)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3098</td>
    <td class="codeline">    MSSAU->applyUpdates(DTUpdates, DT);</td>
    <td class="lineNumber">3098</td>
    <td class="codeline">    MSSAU->applyUpdates(DTUpdates, DT);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3099</td>
    <td class="codeline">  L.addBasicBlockToLoop(CheckBlock, LI);</td>
    <td class="lineNumber">3099</td>
    <td class="codeline">  L.addBasicBlockToLoop(CheckBlock, LI);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3100</td>
    <td class="codeline"></td>
    <td class="lineNumber">3100</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3101</td>
    <td class="codeline">#ifndef NDEBUG</td>
    <td class="lineNumber">3101</td>
    <td class="codeline">#ifndef NDEBUG</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3102</td>
    <td class="codeline">  DT.verify();</td>
    <td class="lineNumber">3102</td>
    <td class="codeline">  DT.verify();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3103</td>
    <td class="codeline">  LI.verify(DT);</td>
    <td class="lineNumber">3103</td>
    <td class="codeline">  LI.verify(DT);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3104</td>
    <td class="codeline">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">3104</td>
    <td class="codeline">  if (MSSAU && VerifyMemorySSA)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3105</td>
    <td class="codeline">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">3105</td>
    <td class="codeline">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3106</td>
    <td class="codeline">#endif</td>
    <td class="lineNumber">3106</td>
    <td class="codeline">#endif</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3107</td>
    <td class="codeline"></td>
    <td class="lineNumber">3107</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3108</td>
    <td class="codeline">  // TODO: In fact, cost of unswitching a new invariant candidate is *slightly*</td>
    <td class="lineNumber">3108</td>
    <td class="codeline">  // TODO: In fact, cost of unswitching a new invariant candidate is *slightly*</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3109</td>
    <td class="codeline">  // higher because we have just inserted a new block. Need to think how to</td>
    <td class="lineNumber">3109</td>
    <td class="codeline">  // higher because we have just inserted a new block. Need to think how to</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3110</td>
    <td class="codeline">  // adjust the cost of injected candidates when it was first computed.</td>
    <td class="lineNumber">3110</td>
    <td class="codeline">  // adjust the cost of injected candidates when it was first computed.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3111</td>
    <td class="codeline">  LLVM_DEBUG(dbgs() << "Injected a new loop-invariant branch " << *InvariantBr</td>
    <td class="lineNumber">3111</td>
    <td class="codeline">  LLVM_DEBUG(dbgs() << "Injected a new loop-invariant branch " << *InvariantBr</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3112</td>
    <td class="codeline">                    << " and considering it for unswitching.");</td>
    <td class="lineNumber">3112</td>
    <td class="codeline">                    << " and considering it for unswitching.");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3113</td>
    <td class="codeline">  ++NumInvariantConditionsInjected;</td>
    <td class="lineNumber">3113</td>
    <td class="codeline">  ++NumInvariantConditionsInjected;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3114</td>
    <td class="codeline">  return NonTrivialUnswitchCandidate(InvariantBr, { InjectedCond },</td>
    <td class="lineNumber">3114</td>
    <td class="codeline">  return NonTrivialUnswitchCandidate(InvariantBr, { InjectedCond },</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3115</td>
    <td class="codeline">                                     Candidate.Cost);</td>
    <td class="lineNumber">3115</td>
    <td class="codeline">                                     Candidate.Cost);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3116</td>
    <td class="codeline">}</td>
    <td class="lineNumber">3116</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3117</td>
    <td class="codeline"></td>
    <td class="lineNumber">3117</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3118</td>
    <td class="codeline">/// Given chain of loop branch conditions looking like:</td>
    <td class="lineNumber">3118</td>
    <td class="codeline">/// Given chain of loop branch conditions looking like:</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3119</td>
    <td class="codeline">///   br (Variant < Invariant1)</td>
    <td class="lineNumber">3119</td>
    <td class="codeline">///   br (Variant < Invariant1)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3120</td>
    <td class="codeline">///   br (Variant < Invariant2)</td>
    <td class="lineNumber">3120</td>
    <td class="codeline">///   br (Variant < Invariant2)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3121</td>
    <td class="codeline">///   br (Variant < Invariant3)</td>
    <td class="lineNumber">3121</td>
    <td class="codeline">///   br (Variant < Invariant3)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3122</td>
    <td class="codeline">///   ...</td>
    <td class="lineNumber">3122</td>
    <td class="codeline">///   ...</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3123</td>
    <td class="codeline">/// collect set of invariant conditions on which we want to unswitch, which</td>
    <td class="lineNumber">3123</td>
    <td class="codeline">/// collect set of invariant conditions on which we want to unswitch, which</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3124</td>
    <td class="codeline">/// look like:</td>
    <td class="lineNumber">3124</td>
    <td class="codeline">/// look like:</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3125</td>
    <td class="codeline">///   Invariant1 <= Invariant2</td>
    <td class="lineNumber">3125</td>
    <td class="codeline">///   Invariant1 <= Invariant2</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3126</td>
    <td class="codeline">///   Invariant2 <= Invariant3</td>
    <td class="lineNumber">3126</td>
    <td class="codeline">///   Invariant2 <= Invariant3</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3127</td>
    <td class="codeline">///   ...</td>
    <td class="lineNumber">3127</td>
    <td class="codeline">///   ...</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3128</td>
    <td class="codeline">/// Though they might not immediately exist in the IR, we can still inject them.</td>
    <td class="lineNumber">3128</td>
    <td class="codeline">/// Though they might not immediately exist in the IR, we can still inject them.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3129</td>
    <td class="codeline">static bool insertCandidatesWithPendingInjections(</td>
    <td class="lineNumber">3129</td>
    <td class="codeline">static bool insertCandidatesWithPendingInjections(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3130</td>
    <td class="codeline">    SmallVectorImpl<NonTrivialUnswitchCandidate> &UnswitchCandidates, Loop &L,</td>
    <td class="lineNumber">3130</td>
    <td class="codeline">    SmallVectorImpl<NonTrivialUnswitchCandidate> &UnswitchCandidates, Loop &L,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3131</td>
    <td class="codeline">    ICmpInst::Predicate Pred, ArrayRef<CompareDesc> Compares,</td>
    <td class="lineNumber">3131</td>
    <td class="codeline">    ICmpInst::Predicate Pred, ArrayRef<CompareDesc> Compares,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3132</td>
    <td class="codeline">    const DominatorTree &DT) {</td>
    <td class="lineNumber">3132</td>
    <td class="codeline">    const DominatorTree &DT) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3133</td>
    <td class="codeline"></td>
    <td class="lineNumber">3133</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3134</td>
    <td class="codeline">  assert(ICmpInst::isRelational(Pred));</td>
    <td class="lineNumber">3134</td>
    <td class="codeline">  assert(ICmpInst::isRelational(Pred));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3135</td>
    <td class="codeline">  assert(ICmpInst::isStrictPredicate(Pred));</td>
    <td class="lineNumber">3135</td>
    <td class="codeline">  assert(ICmpInst::isStrictPredicate(Pred));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3136</td>
    <td class="codeline">  if (Compares.size() < 2)</td>
    <td class="lineNumber">3136</td>
    <td class="codeline">  if (Compares.size() < 2)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3137</td>
    <td class="codeline">    return false;</td>
    <td class="lineNumber">3137</td>
    <td class="codeline">    return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3138</td>
    <td class="codeline">  ICmpInst::Predicate NonStrictPred = ICmpInst::getNonStrictPredicate(Pred);</td>
    <td class="lineNumber">3138</td>
    <td class="codeline">  ICmpInst::Predicate NonStrictPred = ICmpInst::getNonStrictPredicate(Pred);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3139</td>
    <td class="codeline">  for (auto Prev = Compares.begin(), Next = Compares.begin() + 1;</td>
    <td class="lineNumber">3139</td>
    <td class="codeline">  for (auto Prev = Compares.begin(), Next = Compares.begin() + 1;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3140</td>
    <td class="codeline">       Next != Compares.end(); ++Prev, ++Next) {</td>
    <td class="lineNumber">3140</td>
    <td class="codeline">       Next != Compares.end(); ++Prev, ++Next) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3141</td>
    <td class="codeline">    Value *LHS = Next->Invariant;</td>
    <td class="lineNumber">3141</td>
    <td class="codeline">    Value *LHS = Next->Invariant;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3142</td>
    <td class="codeline">    Value *RHS = Prev->Invariant;</td>
    <td class="lineNumber">3142</td>
    <td class="codeline">    Value *RHS = Prev->Invariant;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3143</td>
    <td class="codeline">    BasicBlock *InLoopSucc = Prev->InLoopSucc;</td>
    <td class="lineNumber">3143</td>
    <td class="codeline">    BasicBlock *InLoopSucc = Prev->InLoopSucc;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3144</td>
    <td class="codeline">    InjectedInvariant ToInject(NonStrictPred, LHS, RHS, InLoopSucc);</td>
    <td class="lineNumber">3144</td>
    <td class="codeline">    InjectedInvariant ToInject(NonStrictPred, LHS, RHS, InLoopSucc);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3145</td>
    <td class="codeline">    NonTrivialUnswitchCandidate Candidate(Prev->Term, { LHS, RHS },</td>
    <td class="lineNumber">3145</td>
    <td class="codeline">    NonTrivialUnswitchCandidate Candidate(Prev->Term, { LHS, RHS },</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3146</td>
    <td class="codeline">                                          std::nullopt, std::move(ToInject));</td>
    <td class="lineNumber">3146</td>
    <td class="codeline">                                          std::nullopt, std::move(ToInject));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3147</td>
    <td class="codeline">    UnswitchCandidates.push_back(std::move(Candidate));</td>
    <td class="lineNumber">3147</td>
    <td class="codeline">    UnswitchCandidates.push_back(std::move(Candidate));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3148</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">3148</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3149</td>
    <td class="codeline">  return true;</td>
    <td class="lineNumber">3149</td>
    <td class="codeline">  return true;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3150</td>
    <td class="codeline">}</td>
    <td class="lineNumber">3150</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3151</td>
    <td class="codeline"></td>
    <td class="lineNumber">3151</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3152</td>
    <td class="codeline">/// Collect unswitch candidates by invariant conditions that are not immediately</td>
    <td class="lineNumber">3152</td>
    <td class="codeline">/// Collect unswitch candidates by invariant conditions that are not immediately</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3153</td>
    <td class="codeline">/// present in the loop. However, they can be injected into the code if we</td>
    <td class="lineNumber">3153</td>
    <td class="codeline">/// present in the loop. However, they can be injected into the code if we</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3154</td>
    <td class="codeline">/// decide it's profitable.</td>
    <td class="lineNumber">3154</td>
    <td class="codeline">/// decide it's profitable.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3155</td>
    <td class="codeline">/// An example of such conditions is following:</td>
    <td class="lineNumber">3155</td>
    <td class="codeline">/// An example of such conditions is following:</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3156</td>
    <td class="codeline">///</td>
    <td class="lineNumber">3156</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3157</td>
    <td class="codeline">///   for (...) {</td>
    <td class="lineNumber">3157</td>
    <td class="codeline">///   for (...) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3158</td>
    <td class="codeline">///     x = load ...</td>
    <td class="lineNumber">3158</td>
    <td class="codeline">///     x = load ...</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3159</td>
    <td class="codeline">///     if (! x <u C1) break;</td>
    <td class="lineNumber">3159</td>
    <td class="codeline">///     if (! x <u C1) break;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3160</td>
    <td class="codeline">///     if (! x <u C2) break;</td>
    <td class="lineNumber">3160</td>
    <td class="codeline">///     if (! x <u C2) break;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3161</td>
    <td class="codeline">///     <do something></td>
    <td class="lineNumber">3161</td>
    <td class="codeline">///     <do something></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3162</td>
    <td class="codeline">///   }</td>
    <td class="lineNumber">3162</td>
    <td class="codeline">///   }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3163</td>
    <td class="codeline">///</td>
    <td class="lineNumber">3163</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3164</td>
    <td class="codeline">/// We can unswitch by condition "C1 <=u C2". If that is true, then "x <u C1 <=</td>
    <td class="lineNumber">3164</td>
    <td class="codeline">/// We can unswitch by condition "C1 <=u C2". If that is true, then "x <u C1 <=</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3165</td>
    <td class="codeline">/// C2" automatically implies "x <u C2", so we can get rid of one of</td>
    <td class="lineNumber">3165</td>
    <td class="codeline">/// C2" automatically implies "x <u C2", so we can get rid of one of</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3166</td>
    <td class="codeline">/// loop-variant checks in unswitched loop version.</td>
    <td class="lineNumber">3166</td>
    <td class="codeline">/// loop-variant checks in unswitched loop version.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3167</td>
    <td class="codeline">static bool collectUnswitchCandidatesWithInjections(</td>
    <td class="lineNumber">3167</td>
    <td class="codeline">static bool collectUnswitchCandidatesWithInjections(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3168</td>
    <td class="codeline">    SmallVectorImpl<NonTrivialUnswitchCandidate> &UnswitchCandidates,</td>
    <td class="lineNumber">3168</td>
    <td class="codeline">    SmallVectorImpl<NonTrivialUnswitchCandidate> &UnswitchCandidates,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3169</td>
    <td class="codeline">    IVConditionInfo &PartialIVInfo, Instruction *&PartialIVCondBranch, Loop &L,</td>
    <td class="lineNumber">3169</td>
    <td class="codeline">    IVConditionInfo &PartialIVInfo, Instruction *&PartialIVCondBranch, Loop &L,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3170</td>
    <td class="codeline">    const DominatorTree &DT, const LoopInfo &LI, AAResults &AA,</td>
    <td class="lineNumber">3170</td>
    <td class="codeline">    const DominatorTree &DT, const LoopInfo &LI, AAResults &AA,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3171</td>
    <td class="codeline">    const MemorySSAUpdater *MSSAU) {</td>
    <td class="lineNumber">3171</td>
    <td class="codeline">    const MemorySSAUpdater *MSSAU) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3172</td>
    <td class="codeline">  if (!InjectInvariantConditions)</td>
    <td class="lineNumber">3172</td>
    <td class="codeline">  if (!InjectInvariantConditions)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3173</td>
    <td class="codeline">    return false;</td>
    <td class="lineNumber">3173</td>
    <td class="codeline">    return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3174</td>
    <td class="codeline"></td>
    <td class="lineNumber">3174</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3175</td>
    <td class="codeline">  if (!DT.isReachableFromEntry(L.getHeader()))</td>
    <td class="lineNumber">3175</td>
    <td class="codeline">  if (!DT.isReachableFromEntry(L.getHeader()))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3176</td>
    <td class="codeline">    return false;</td>
    <td class="lineNumber">3176</td>
    <td class="codeline">    return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3177</td>
    <td class="codeline">  auto *Latch = L.getLoopLatch();</td>
    <td class="lineNumber">3177</td>
    <td class="codeline">  auto *Latch = L.getLoopLatch();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3178</td>
    <td class="codeline">  // Need to have a single latch and a preheader.</td>
    <td class="lineNumber">3178</td>
    <td class="codeline">  // Need to have a single latch and a preheader.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3179</td>
    <td class="codeline">  if (!Latch)</td>
    <td class="lineNumber">3179</td>
    <td class="codeline">  if (!Latch)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3180</td>
    <td class="codeline">    return false;</td>
    <td class="lineNumber">3180</td>
    <td class="codeline">    return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3181</td>
    <td class="codeline">  assert(L.getLoopPreheader() && "Must have a preheader!");</td>
    <td class="lineNumber">3181</td>
    <td class="codeline">  assert(L.getLoopPreheader() && "Must have a preheader!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3182</td>
    <td class="codeline"></td>
    <td class="lineNumber">3182</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3183</td>
    <td class="codeline">  DenseMap<Value *, SmallVector<CompareDesc, 4> > CandidatesULT;</td>
    <td class="lineNumber">3183</td>
    <td class="codeline">  DenseMap<Value *, SmallVector<CompareDesc, 4> > CandidatesULT;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3184</td>
    <td class="codeline">  // Traverse the conditions that dominate latch (and therefore dominate each</td>
    <td class="lineNumber">3184</td>
    <td class="codeline">  // Traverse the conditions that dominate latch (and therefore dominate each</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3185</td>
    <td class="codeline">  // other).</td>
    <td class="lineNumber">3185</td>
    <td class="codeline">  // other).</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3186</td>
    <td class="codeline">  for (auto *DTN = DT.getNode(Latch); L.contains(DTN->getBlock());</td>
    <td class="lineNumber">3186</td>
    <td class="codeline">  for (auto *DTN = DT.getNode(Latch); L.contains(DTN->getBlock());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3187</td>
    <td class="codeline">       DTN = DTN->getIDom()) {</td>
    <td class="lineNumber">3187</td>
    <td class="codeline">       DTN = DTN->getIDom()) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3188</td>
    <td class="codeline">    ICmpInst::Predicate Pred;</td>
    <td class="lineNumber">3188</td>
    <td class="codeline">    ICmpInst::Predicate Pred;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3189</td>
    <td class="codeline">    Value *LHS = nullptr, *RHS = nullptr;</td>
    <td class="lineNumber">3189</td>
    <td class="codeline">    Value *LHS = nullptr, *RHS = nullptr;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3190</td>
    <td class="codeline">    BasicBlock *IfTrue = nullptr, *IfFalse = nullptr;</td>
    <td class="lineNumber">3190</td>
    <td class="codeline">    BasicBlock *IfTrue = nullptr, *IfFalse = nullptr;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3191</td>
    <td class="codeline">    auto *BB = DTN->getBlock();</td>
    <td class="lineNumber">3191</td>
    <td class="codeline">    auto *BB = DTN->getBlock();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3192</td>
    <td class="codeline">    // Ignore inner loops.</td>
    <td class="lineNumber">3192</td>
    <td class="codeline">    // Ignore inner loops.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3193</td>
    <td class="codeline">    if (LI.getLoopFor(BB) != &L)</td>
    <td class="lineNumber">3193</td>
    <td class="codeline">    if (LI.getLoopFor(BB) != &L)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3194</td>
    <td class="codeline">      continue;</td>
    <td class="lineNumber">3194</td>
    <td class="codeline">      continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3195</td>
    <td class="codeline">    auto *Term = BB->getTerminator();</td>
    <td class="lineNumber">3195</td>
    <td class="codeline">    auto *Term = BB->getTerminator();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3196</td>
    <td class="codeline">    if (!match(Term, m_Br(m_ICmp(Pred, m_Value(LHS), m_Value(RHS)),</td>
    <td class="lineNumber">3196</td>
    <td class="codeline">    if (!match(Term, m_Br(m_ICmp(Pred, m_Value(LHS), m_Value(RHS)),</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3197</td>
    <td class="codeline">                          m_BasicBlock(IfTrue), m_BasicBlock(IfFalse))))</td>
    <td class="lineNumber">3197</td>
    <td class="codeline">                          m_BasicBlock(IfTrue), m_BasicBlock(IfFalse))))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3198</td>
    <td class="codeline">      continue;</td>
    <td class="lineNumber">3198</td>
    <td class="codeline">      continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3199</td>
    <td class="codeline">    if (!LHS->getType()->isIntegerTy())</td>
    <td class="lineNumber">3199</td>
    <td class="codeline">    if (!LHS->getType()->isIntegerTy())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3200</td>
    <td class="codeline">      continue;</td>
    <td class="lineNumber">3200</td>
    <td class="codeline">      continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3201</td>
    <td class="codeline">    canonicalizeForInvariantConditionInjection(Pred, LHS, RHS, IfTrue, IfFalse,</td>
    <td class="lineNumber">3201</td>
    <td class="codeline">    canonicalizeForInvariantConditionInjection(Pred, LHS, RHS, IfTrue, IfFalse,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3202</td>
    <td class="codeline">                                               L);</td>
    <td class="lineNumber">3202</td>
    <td class="codeline">                                               L);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3203</td>
    <td class="codeline">    if (!shouldTryInjectInvariantCondition(Pred, LHS, RHS, IfTrue, IfFalse, L))</td>
    <td class="lineNumber">3203</td>
    <td class="codeline">    if (!shouldTryInjectInvariantCondition(Pred, LHS, RHS, IfTrue, IfFalse, L))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3204</td>
    <td class="codeline">      continue;</td>
    <td class="lineNumber">3204</td>
    <td class="codeline">      continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3205</td>
    <td class="codeline">    if (!shouldTryInjectBasingOnMetadata(cast<BranchInst>(Term), IfTrue))</td>
    <td class="lineNumber">3205</td>
    <td class="codeline">    if (!shouldTryInjectBasingOnMetadata(cast<BranchInst>(Term), IfTrue))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3206</td>
    <td class="codeline">      continue;</td>
    <td class="lineNumber">3206</td>
    <td class="codeline">      continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3207</td>
    <td class="codeline">    // Strip ZEXT for unsigned predicate.</td>
    <td class="lineNumber">3207</td>
    <td class="codeline">    // Strip ZEXT for unsigned predicate.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3208</td>
    <td class="codeline">    // TODO: once signed predicates are supported, also strip SEXT.</td>
    <td class="lineNumber">3208</td>
    <td class="codeline">    // TODO: once signed predicates are supported, also strip SEXT.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3209</td>
    <td class="codeline">    CompareDesc Desc(cast<BranchInst>(Term), RHS, IfTrue);</td>
    <td class="lineNumber">3209</td>
    <td class="codeline">    CompareDesc Desc(cast<BranchInst>(Term), RHS, IfTrue);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3210</td>
    <td class="codeline">    while (auto *Zext = dyn_cast<ZExtInst>(LHS))</td>
    <td class="lineNumber">3210</td>
    <td class="codeline">    while (auto *Zext = dyn_cast<ZExtInst>(LHS))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3211</td>
    <td class="codeline">      LHS = Zext->getOperand(0);</td>
    <td class="lineNumber">3211</td>
    <td class="codeline">      LHS = Zext->getOperand(0);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3212</td>
    <td class="codeline">    CandidatesULT[LHS].push_back(Desc);</td>
    <td class="lineNumber">3212</td>
    <td class="codeline">    CandidatesULT[LHS].push_back(Desc);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3213</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">3213</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3214</td>
    <td class="codeline"></td>
    <td class="lineNumber">3214</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3215</td>
    <td class="codeline">  bool Found = false;</td>
    <td class="lineNumber">3215</td>
    <td class="codeline">  bool Found = false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3216</td>
    <td class="codeline">  for (auto &It : CandidatesULT)</td>
    <td class="lineNumber">3216</td>
    <td class="codeline">  for (auto &It : CandidatesULT)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3217</td>
    <td class="codeline">    Found |= insertCandidatesWithPendingInjections(</td>
    <td class="lineNumber">3217</td>
    <td class="codeline">    Found |= insertCandidatesWithPendingInjections(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3218</td>
    <td class="codeline">        UnswitchCandidates, L, ICmpInst::ICMP_ULT, It.second, DT);</td>
    <td class="lineNumber">3218</td>
    <td class="codeline">        UnswitchCandidates, L, ICmpInst::ICMP_ULT, It.second, DT);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3219</td>
    <td class="codeline">  return Found;</td>
    <td class="lineNumber">3219</td>
    <td class="codeline">  return Found;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3220</td>
    <td class="codeline">}</td>
    <td class="lineNumber">3220</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3221</td>
    <td class="codeline"></td>
    <td class="lineNumber">3221</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3222</td>
    <td class="codeline">static bool isSafeForNoNTrivialUnswitching(Loop &L, LoopInfo &LI) {</td>
    <td class="lineNumber">3222</td>
    <td class="codeline">static bool isSafeForNoNTrivialUnswitching(Loop &L, LoopInfo &LI) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3223</td>
    <td class="codeline">  if (!L.isSafeToClone())</td>
    <td class="lineNumber">3223</td>
    <td class="codeline">  if (!L.isSafeToClone())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3224</td>
    <td class="codeline">    return false;</td>
    <td class="lineNumber">3224</td>
    <td class="codeline">    return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3225</td>
    <td class="codeline">  for (auto *BB : L.blocks())</td>
    <td class="lineNumber">3225</td>
    <td class="codeline">  for (auto *BB : L.blocks())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3226</td>
    <td class="codeline">    for (auto &I : *BB) {</td>
    <td class="lineNumber">3226</td>
    <td class="codeline">    for (auto &I : *BB) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3227</td>
    <td class="codeline">      if (I.getType()->isTokenTy() && I.isUsedOutsideOfBlock(BB))</td>
    <td class="lineNumber">3227</td>
    <td class="codeline">      if (I.getType()->isTokenTy() && I.isUsedOutsideOfBlock(BB))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3228</td>
    <td class="codeline">        return false;</td>
    <td class="lineNumber">3228</td>
    <td class="codeline">        return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3229</td>
    <td class="codeline">      if (auto *CB = dyn_cast<CallBase>(&I)) {</td>
    <td class="lineNumber">3229</td>
    <td class="codeline">      if (auto *CB = dyn_cast<CallBase>(&I)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3230</td>
    <td class="codeline">        assert(!CB->cannotDuplicate() && "Checked by L.isSafeToClone().");</td>
    <td class="lineNumber">3230</td>
    <td class="codeline">        assert(!CB->cannotDuplicate() && "Checked by L.isSafeToClone().");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3231</td>
    <td class="codeline">        if (CB->isConvergent())</td>
    <td class="lineNumber">3231</td>
    <td class="codeline">        if (CB->isConvergent())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3232</td>
    <td class="codeline">          return false;</td>
    <td class="lineNumber">3232</td>
    <td class="codeline">          return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3233</td>
    <td class="codeline">      }</td>
    <td class="lineNumber">3233</td>
    <td class="codeline">      }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3234</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">3234</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3235</td>
    <td class="codeline"></td>
    <td class="lineNumber">3235</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3236</td>
    <td class="codeline">  // Check if there are irreducible CFG cycles in this loop. If so, we cannot</td>
    <td class="lineNumber">3236</td>
    <td class="codeline">  // Check if there are irreducible CFG cycles in this loop. If so, we cannot</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3237</td>
    <td class="codeline">  // easily unswitch non-trivial edges out of the loop. Doing so might turn the</td>
    <td class="lineNumber">3237</td>
    <td class="codeline">  // easily unswitch non-trivial edges out of the loop. Doing so might turn the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3238</td>
    <td class="codeline">  // irreducible control flow into reducible control flow and introduce new</td>
    <td class="lineNumber">3238</td>
    <td class="codeline">  // irreducible control flow into reducible control flow and introduce new</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3239</td>
    <td class="codeline">  // loops "out of thin air". If we ever discover important use cases for doing</td>
    <td class="lineNumber">3239</td>
    <td class="codeline">  // loops "out of thin air". If we ever discover important use cases for doing</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3240</td>
    <td class="codeline">  // this, we can add support to loop unswitch, but it is a lot of complexity</td>
    <td class="lineNumber">3240</td>
    <td class="codeline">  // this, we can add support to loop unswitch, but it is a lot of complexity</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3241</td>
    <td class="codeline">  // for what seems little or no real world benefit.</td>
    <td class="lineNumber">3241</td>
    <td class="codeline">  // for what seems little or no real world benefit.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3242</td>
    <td class="codeline">  LoopBlocksRPO RPOT(&L);</td>
    <td class="lineNumber">3242</td>
    <td class="codeline">  LoopBlocksRPO RPOT(&L);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3243</td>
    <td class="codeline">  RPOT.perform(&LI);</td>
    <td class="lineNumber">3243</td>
    <td class="codeline">  RPOT.perform(&LI);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3244</td>
    <td class="codeline">  if (containsIrreducibleCFG<const BasicBlock *>(RPOT, LI))</td>
    <td class="lineNumber">3244</td>
    <td class="codeline">  if (containsIrreducibleCFG<const BasicBlock *>(RPOT, LI))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3245</td>
    <td class="codeline">    return false;</td>
    <td class="lineNumber">3245</td>
    <td class="codeline">    return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3246</td>
    <td class="codeline"></td>
    <td class="lineNumber">3246</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3247</td>
    <td class="codeline">  SmallVector<BasicBlock *, 4> ExitBlocks;</td>
    <td class="lineNumber">3247</td>
    <td class="codeline">  SmallVector<BasicBlock *, 4> ExitBlocks;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3248</td>
    <td class="codeline">  L.getUniqueExitBlocks(ExitBlocks);</td>
    <td class="lineNumber">3248</td>
    <td class="codeline">  L.getUniqueExitBlocks(ExitBlocks);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3249</td>
    <td class="codeline">  // We cannot unswitch if exit blocks contain a cleanuppad/catchswitch</td>
    <td class="lineNumber">3249</td>
    <td class="codeline">  // We cannot unswitch if exit blocks contain a cleanuppad/catchswitch</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3250</td>
    <td class="codeline">  // instruction as we don't know how to split those exit blocks.</td>
    <td class="lineNumber">3250</td>
    <td class="codeline">  // instruction as we don't know how to split those exit blocks.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3251</td>
    <td class="codeline">  // FIXME: We should teach SplitBlock to handle this and remove this</td>
    <td class="lineNumber">3251</td>
    <td class="codeline">  // FIXME: We should teach SplitBlock to handle this and remove this</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3252</td>
    <td class="codeline">  // restriction.</td>
    <td class="lineNumber">3252</td>
    <td class="codeline">  // restriction.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3253</td>
    <td class="codeline">  for (auto *ExitBB : ExitBlocks) {</td>
    <td class="lineNumber">3253</td>
    <td class="codeline">  for (auto *ExitBB : ExitBlocks) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3254</td>
    <td class="codeline">    auto *I = ExitBB->getFirstNonPHI();</td>
    <td class="lineNumber">3254</td>
    <td class="codeline">    auto *I = ExitBB->getFirstNonPHI();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3255</td>
    <td class="codeline">    if (isa<CleanupPadInst>(I) || isa<CatchSwitchInst>(I)) {</td>
    <td class="lineNumber">3255</td>
    <td class="codeline">    if (isa<CleanupPadInst>(I) || isa<CatchSwitchInst>(I)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3256</td>
    <td class="codeline">      LLVM_DEBUG(dbgs() << "Cannot unswitch because of cleanuppad/catchswitch "</td>
    <td class="lineNumber">3256</td>
    <td class="codeline">      LLVM_DEBUG(dbgs() << "Cannot unswitch because of cleanuppad/catchswitch "</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3257</td>
    <td class="codeline">                           "in exit block\n");</td>
    <td class="lineNumber">3257</td>
    <td class="codeline">                           "in exit block\n");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3258</td>
    <td class="codeline">      return false;</td>
    <td class="lineNumber">3258</td>
    <td class="codeline">      return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3259</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">3259</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3260</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">3260</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3261</td>
    <td class="codeline"></td>
    <td class="lineNumber">3261</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3262</td>
    <td class="codeline">  return true;</td>
    <td class="lineNumber">3262</td>
    <td class="codeline">  return true;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3263</td>
    <td class="codeline">}</td>
    <td class="lineNumber">3263</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3264</td>
    <td class="codeline"></td>
    <td class="lineNumber">3264</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3265</td>
    <td class="codeline">static NonTrivialUnswitchCandidate findBestNonTrivialUnswitchCandidate(</td>
    <td class="lineNumber">3265</td>
    <td class="codeline">static NonTrivialUnswitchCandidate findBestNonTrivialUnswitchCandidate(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3266</td>
    <td class="codeline">    ArrayRef<NonTrivialUnswitchCandidate> UnswitchCandidates, const Loop &L,</td>
    <td class="lineNumber">3266</td>
    <td class="codeline">    ArrayRef<NonTrivialUnswitchCandidate> UnswitchCandidates, const Loop &L,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3267</td>
    <td class="codeline">    const DominatorTree &DT, const LoopInfo &LI, AssumptionCache &AC,</td>
    <td class="lineNumber">3267</td>
    <td class="codeline">    const DominatorTree &DT, const LoopInfo &LI, AssumptionCache &AC,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3268</td>
    <td class="codeline">    const TargetTransformInfo &TTI, const IVConditionInfo &PartialIVInfo) {</td>
    <td class="lineNumber">3268</td>
    <td class="codeline">    const TargetTransformInfo &TTI, const IVConditionInfo &PartialIVInfo) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3269</td>
    <td class="codeline">  // Given that unswitching these terminators will require duplicating parts of</td>
    <td class="lineNumber">3269</td>
    <td class="codeline">  // Given that unswitching these terminators will require duplicating parts of</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3270</td>
    <td class="codeline">  // the loop, so we need to be able to model that cost. Compute the ephemeral</td>
    <td class="lineNumber">3270</td>
    <td class="codeline">  // the loop, so we need to be able to model that cost. Compute the ephemeral</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3271</td>
    <td class="codeline">  // values and set up a data structure to hold per-BB costs. We cache each</td>
    <td class="lineNumber">3271</td>
    <td class="codeline">  // values and set up a data structure to hold per-BB costs. We cache each</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3272</td>
    <td class="codeline">  // block's cost so that we don't recompute this when considering different</td>
    <td class="lineNumber">3272</td>
    <td class="codeline">  // block's cost so that we don't recompute this when considering different</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3273</td>
    <td class="codeline">  // subsets of the loop for duplication during unswitching.</td>
    <td class="lineNumber">3273</td>
    <td class="codeline">  // subsets of the loop for duplication during unswitching.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3274</td>
    <td class="codeline">  SmallPtrSet<const Value *, 4> EphValues;</td>
    <td class="lineNumber">3274</td>
    <td class="codeline">  SmallPtrSet<const Value *, 4> EphValues;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3275</td>
    <td class="codeline">  CodeMetrics::collectEphemeralValues(&L, &AC, EphValues);</td>
    <td class="lineNumber">3275</td>
    <td class="codeline">  CodeMetrics::collectEphemeralValues(&L, &AC, EphValues);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3276</td>
    <td class="codeline">  SmallDenseMap<BasicBlock *, InstructionCost, 4> BBCostMap;</td>
    <td class="lineNumber">3276</td>
    <td class="codeline">  SmallDenseMap<BasicBlock *, InstructionCost, 4> BBCostMap;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3277</td>
    <td class="codeline"></td>
    <td class="lineNumber">3277</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3278</td>
    <td class="codeline">  // Compute the cost of each block, as well as the total loop cost. Also, bail</td>
    <td class="lineNumber">3278</td>
    <td class="codeline">  // Compute the cost of each block, as well as the total loop cost. Also, bail</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3279</td>
    <td class="codeline">  // out if we see instructions which are incompatible with loop unswitching</td>
    <td class="lineNumber">3279</td>
    <td class="codeline">  // out if we see instructions which are incompatible with loop unswitching</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3280</td>
    <td class="codeline">  // (convergent, noduplicate, or cross-basic-block tokens).</td>
    <td class="lineNumber">3280</td>
    <td class="codeline">  // (convergent, noduplicate, or cross-basic-block tokens).</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3281</td>
    <td class="codeline">  // FIXME: We might be able to safely handle some of these in non-duplicated</td>
    <td class="lineNumber">3281</td>
    <td class="codeline">  // FIXME: We might be able to safely handle some of these in non-duplicated</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3282</td>
    <td class="codeline">  // regions.</td>
    <td class="lineNumber">3282</td>
    <td class="codeline">  // regions.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3283</td>
    <td class="codeline">  TargetTransformInfo::TargetCostKind CostKind =</td>
    <td class="lineNumber">3283</td>
    <td class="codeline">  TargetTransformInfo::TargetCostKind CostKind =</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3284</td>
    <td class="codeline">      L.getHeader()->getParent()->hasMinSize()</td>
    <td class="lineNumber">3284</td>
    <td class="codeline">      L.getHeader()->getParent()->hasMinSize()</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3285</td>
    <td class="codeline">      ? TargetTransformInfo::TCK_CodeSize</td>
    <td class="lineNumber">3285</td>
    <td class="codeline">      ? TargetTransformInfo::TCK_CodeSize</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3286</td>
    <td class="codeline">      : TargetTransformInfo::TCK_SizeAndLatency;</td>
    <td class="lineNumber">3286</td>
    <td class="codeline">      : TargetTransformInfo::TCK_SizeAndLatency;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3287</td>
    <td class="codeline">  InstructionCost LoopCost = 0;</td>
    <td class="lineNumber">3287</td>
    <td class="codeline">  InstructionCost LoopCost = 0;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3288</td>
    <td class="codeline">  for (auto *BB : L.blocks()) {</td>
    <td class="lineNumber">3288</td>
    <td class="codeline">  for (auto *BB : L.blocks()) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3289</td>
    <td class="codeline">    InstructionCost Cost = 0;</td>
    <td class="lineNumber">3289</td>
    <td class="codeline">    InstructionCost Cost = 0;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3290</td>
    <td class="codeline">    for (auto &I : *BB) {</td>
    <td class="lineNumber">3290</td>
    <td class="codeline">    for (auto &I : *BB) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3291</td>
    <td class="codeline">      if (EphValues.count(&I))</td>
    <td class="lineNumber">3291</td>
    <td class="codeline">      if (EphValues.count(&I))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3292</td>
    <td class="codeline">        continue;</td>
    <td class="lineNumber">3292</td>
    <td class="codeline">        continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3293</td>
    <td class="codeline">      Cost += TTI.getInstructionCost(&I, CostKind);</td>
    <td class="lineNumber">3293</td>
    <td class="codeline">      Cost += TTI.getInstructionCost(&I, CostKind);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3294</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">3294</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3295</td>
    <td class="codeline">    assert(Cost >= 0 && "Must not have negative costs!");</td>
    <td class="lineNumber">3295</td>
    <td class="codeline">    assert(Cost >= 0 && "Must not have negative costs!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3296</td>
    <td class="codeline">    LoopCost += Cost;</td>
    <td class="lineNumber">3296</td>
    <td class="codeline">    LoopCost += Cost;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3297</td>
    <td class="codeline">    assert(LoopCost >= 0 && "Must not have negative loop costs!");</td>
    <td class="lineNumber">3297</td>
    <td class="codeline">    assert(LoopCost >= 0 && "Must not have negative loop costs!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3298</td>
    <td class="codeline">    BBCostMap[BB] = Cost;</td>
    <td class="lineNumber">3298</td>
    <td class="codeline">    BBCostMap[BB] = Cost;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3299</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">3299</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3300</td>
    <td class="codeline">  LLVM_DEBUG(dbgs() << "  Total loop cost: " << LoopCost << "\n");</td>
    <td class="lineNumber">3300</td>
    <td class="codeline">  LLVM_DEBUG(dbgs() << "  Total loop cost: " << LoopCost << "\n");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3301</td>
    <td class="codeline"></td>
    <td class="lineNumber">3301</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3302</td>
    <td class="codeline">  // Now we find the best candidate by searching for the one with the following</td>
    <td class="lineNumber">3302</td>
    <td class="codeline">  // Now we find the best candidate by searching for the one with the following</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3303</td>
    <td class="codeline">  // properties in order:</td>
    <td class="lineNumber">3303</td>
    <td class="codeline">  // properties in order:</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3304</td>
    <td class="codeline">  //</td>
    <td class="lineNumber">3304</td>
    <td class="codeline">  //</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3305</td>
    <td class="codeline">  // 1) An unswitching cost below the threshold</td>
    <td class="lineNumber">3305</td>
    <td class="codeline">  // 1) An unswitching cost below the threshold</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3306</td>
    <td class="codeline">  // 2) The smallest number of duplicated unswitch candidates (to avoid</td>
    <td class="lineNumber">3306</td>
    <td class="codeline">  // 2) The smallest number of duplicated unswitch candidates (to avoid</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3307</td>
    <td class="codeline">  //    creating redundant subsequent unswitching)</td>
    <td class="lineNumber">3307</td>
    <td class="codeline">  //    creating redundant subsequent unswitching)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3308</td>
    <td class="codeline">  // 3) The smallest cost after unswitching.</td>
    <td class="lineNumber">3308</td>
    <td class="codeline">  // 3) The smallest cost after unswitching.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3309</td>
    <td class="codeline">  //</td>
    <td class="lineNumber">3309</td>
    <td class="codeline">  //</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3310</td>
    <td class="codeline">  // We prioritize reducing fanout of unswitch candidates provided the cost</td>
    <td class="lineNumber">3310</td>
    <td class="codeline">  // We prioritize reducing fanout of unswitch candidates provided the cost</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3311</td>
    <td class="codeline">  // remains below the threshold because this has a multiplicative effect.</td>
    <td class="lineNumber">3311</td>
    <td class="codeline">  // remains below the threshold because this has a multiplicative effect.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3312</td>
    <td class="codeline">  //</td>
    <td class="lineNumber">3312</td>
    <td class="codeline">  //</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3313</td>
    <td class="codeline">  // This requires memoizing each dominator subtree to avoid redundant work.</td>
    <td class="lineNumber">3313</td>
    <td class="codeline">  // This requires memoizing each dominator subtree to avoid redundant work.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3314</td>
    <td class="codeline">  //</td>
    <td class="lineNumber">3314</td>
    <td class="codeline">  //</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3315</td>
    <td class="codeline">  // FIXME: Need to actually do the number of candidates part above.</td>
    <td class="lineNumber">3315</td>
    <td class="codeline">  // FIXME: Need to actually do the number of candidates part above.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3316</td>
    <td class="codeline">  SmallDenseMap<DomTreeNode *, InstructionCost, 4> DTCostMap;</td>
    <td class="lineNumber">3316</td>
    <td class="codeline">  SmallDenseMap<DomTreeNode *, InstructionCost, 4> DTCostMap;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3317</td>
    <td class="codeline">  // Given a terminator which might be unswitched, computes the non-duplicated</td>
    <td class="lineNumber">3317</td>
    <td class="codeline">  // Given a terminator which might be unswitched, computes the non-duplicated</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3318</td>
    <td class="codeline">  // cost for that terminator.</td>
    <td class="lineNumber">3318</td>
    <td class="codeline">  // cost for that terminator.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3319</td>
    <td class="codeline">  auto ComputeUnswitchedCost = [&](Instruction &TI,</td>
    <td class="lineNumber">3319</td>
    <td class="codeline">  auto ComputeUnswitchedCost = [&](Instruction &TI,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3320</td>
    <td class="codeline">                                   bool FullUnswitch) -> InstructionCost {</td>
    <td class="lineNumber">3320</td>
    <td class="codeline">                                   bool FullUnswitch) -> InstructionCost {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3321</td>
    <td class="codeline">    // Unswitching selects unswitches the entire loop.</td>
    <td class="lineNumber">3321</td>
    <td class="codeline">    // Unswitching selects unswitches the entire loop.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3322</td>
    <td class="codeline">    if (isa<SelectInst>(TI))</td>
    <td class="lineNumber">3322</td>
    <td class="codeline">    if (isa<SelectInst>(TI))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3323</td>
    <td class="codeline">      return LoopCost;</td>
    <td class="lineNumber">3323</td>
    <td class="codeline">      return LoopCost;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3324</td>
    <td class="codeline"></td>
    <td class="lineNumber">3324</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3325</td>
    <td class="codeline">    BasicBlock &BB = *TI.getParent();</td>
    <td class="lineNumber">3325</td>
    <td class="codeline">    BasicBlock &BB = *TI.getParent();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3326</td>
    <td class="codeline">    SmallPtrSet<BasicBlock *, 4> Visited;</td>
    <td class="lineNumber">3326</td>
    <td class="codeline">    SmallPtrSet<BasicBlock *, 4> Visited;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3327</td>
    <td class="codeline"></td>
    <td class="lineNumber">3327</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3328</td>
    <td class="codeline">    InstructionCost Cost = 0;</td>
    <td class="lineNumber">3328</td>
    <td class="codeline">    InstructionCost Cost = 0;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3329</td>
    <td class="codeline">    for (BasicBlock *SuccBB : successors(&BB)) {</td>
    <td class="lineNumber">3329</td>
    <td class="codeline">    for (BasicBlock *SuccBB : successors(&BB)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3330</td>
    <td class="codeline">      // Don't count successors more than once.</td>
    <td class="lineNumber">3330</td>
    <td class="codeline">      // Don't count successors more than once.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3331</td>
    <td class="codeline">      if (!Visited.insert(SuccBB).second)</td>
    <td class="lineNumber">3331</td>
    <td class="codeline">      if (!Visited.insert(SuccBB).second)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3332</td>
    <td class="codeline">        continue;</td>
    <td class="lineNumber">3332</td>
    <td class="codeline">        continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3333</td>
    <td class="codeline"></td>
    <td class="lineNumber">3333</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3334</td>
    <td class="codeline">      // If this is a partial unswitch candidate, then it must be a conditional</td>
    <td class="lineNumber">3334</td>
    <td class="codeline">      // If this is a partial unswitch candidate, then it must be a conditional</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3335</td>
    <td class="codeline">      // branch with a condition of either `or`, `and`, their corresponding</td>
    <td class="lineNumber">3335</td>
    <td class="codeline">      // branch with a condition of either `or`, `and`, their corresponding</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3336</td>
    <td class="codeline">      // select forms or partially invariant instructions. In that case, one of</td>
    <td class="lineNumber">3336</td>
    <td class="codeline">      // select forms or partially invariant instructions. In that case, one of</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3337</td>
    <td class="codeline">      // the successors is necessarily duplicated, so don't even try to remove</td>
    <td class="lineNumber">3337</td>
    <td class="codeline">      // the successors is necessarily duplicated, so don't even try to remove</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3338</td>
    <td class="codeline">      // its cost.</td>
    <td class="lineNumber">3338</td>
    <td class="codeline">      // its cost.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3339</td>
    <td class="codeline">      if (!FullUnswitch) {</td>
    <td class="lineNumber">3339</td>
    <td class="codeline">      if (!FullUnswitch) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3340</td>
    <td class="codeline">        auto &BI = cast<BranchInst>(TI);</td>
    <td class="lineNumber">3340</td>
    <td class="codeline">        auto &BI = cast<BranchInst>(TI);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3341</td>
    <td class="codeline">        Value *Cond = skipTrivialSelect(BI.getCondition());</td>
    <td class="lineNumber">3341</td>
    <td class="codeline">        Value *Cond = skipTrivialSelect(BI.getCondition());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3342</td>
    <td class="codeline">        if (match(Cond, m_LogicalAnd())) {</td>
    <td class="lineNumber">3342</td>
    <td class="codeline">        if (match(Cond, m_LogicalAnd())) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3343</td>
    <td class="codeline">          if (SuccBB == BI.getSuccessor(1))</td>
    <td class="lineNumber">3343</td>
    <td class="codeline">          if (SuccBB == BI.getSuccessor(1))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3344</td>
    <td class="codeline">            continue;</td>
    <td class="lineNumber">3344</td>
    <td class="codeline">            continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3345</td>
    <td class="codeline">        } else if (match(Cond, m_LogicalOr())) {</td>
    <td class="lineNumber">3345</td>
    <td class="codeline">        } else if (match(Cond, m_LogicalOr())) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3346</td>
    <td class="codeline">          if (SuccBB == BI.getSuccessor(0))</td>
    <td class="lineNumber">3346</td>
    <td class="codeline">          if (SuccBB == BI.getSuccessor(0))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3347</td>
    <td class="codeline">            continue;</td>
    <td class="lineNumber">3347</td>
    <td class="codeline">            continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3348</td>
    <td class="codeline">        } else if ((PartialIVInfo.KnownValue->isOneValue() &&</td>
    <td class="lineNumber">3348</td>
    <td class="codeline">        } else if ((PartialIVInfo.KnownValue->isOneValue() &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3349</td>
    <td class="codeline">                    SuccBB == BI.getSuccessor(0)) ||</td>
    <td class="lineNumber">3349</td>
    <td class="codeline">                    SuccBB == BI.getSuccessor(0)) ||</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3350</td>
    <td class="codeline">                   (!PartialIVInfo.KnownValue->isOneValue() &&</td>
    <td class="lineNumber">3350</td>
    <td class="codeline">                   (!PartialIVInfo.KnownValue->isOneValue() &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3351</td>
    <td class="codeline">                    SuccBB == BI.getSuccessor(1)))</td>
    <td class="lineNumber">3351</td>
    <td class="codeline">                    SuccBB == BI.getSuccessor(1)))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3352</td>
    <td class="codeline">          continue;</td>
    <td class="lineNumber">3352</td>
    <td class="codeline">          continue;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3353</td>
    <td class="codeline">      }</td>
    <td class="lineNumber">3353</td>
    <td class="codeline">      }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3354</td>
    <td class="codeline"></td>
    <td class="lineNumber">3354</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3355</td>
    <td class="codeline">      // This successor's domtree will not need to be duplicated after</td>
    <td class="lineNumber">3355</td>
    <td class="codeline">      // This successor's domtree will not need to be duplicated after</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3356</td>
    <td class="codeline">      // unswitching if the edge to the successor dominates it (and thus the</td>
    <td class="lineNumber">3356</td>
    <td class="codeline">      // unswitching if the edge to the successor dominates it (and thus the</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3357</td>
    <td class="codeline">      // entire tree). This essentially means there is no other path into this</td>
    <td class="lineNumber">3357</td>
    <td class="codeline">      // entire tree). This essentially means there is no other path into this</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3358</td>
    <td class="codeline">      // subtree and so it will end up live in only one clone of the loop.</td>
    <td class="lineNumber">3358</td>
    <td class="codeline">      // subtree and so it will end up live in only one clone of the loop.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3359</td>
    <td class="codeline">      if (SuccBB->getUniquePredecessor() ||</td>
    <td class="lineNumber">3359</td>
    <td class="codeline">      if (SuccBB->getUniquePredecessor() ||</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3360</td>
    <td class="codeline">          llvm::all_of(predecessors(SuccBB), [&](BasicBlock *PredBB) {</td>
    <td class="lineNumber">3360</td>
    <td class="codeline">          llvm::all_of(predecessors(SuccBB), [&](BasicBlock *PredBB) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3361</td>
    <td class="codeline">            return PredBB == &BB || DT.dominates(SuccBB, PredBB);</td>
    <td class="lineNumber">3361</td>
    <td class="codeline">            return PredBB == &BB || DT.dominates(SuccBB, PredBB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3362</td>
    <td class="codeline">          })) {</td>
    <td class="lineNumber">3362</td>
    <td class="codeline">          })) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3363</td>
    <td class="codeline">        Cost += computeDomSubtreeCost(*DT[SuccBB], BBCostMap, DTCostMap);</td>
    <td class="lineNumber">3363</td>
    <td class="codeline">        Cost += computeDomSubtreeCost(*DT[SuccBB], BBCostMap, DTCostMap);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3364</td>
    <td class="codeline">        assert(Cost <= LoopCost &&</td>
    <td class="lineNumber">3364</td>
    <td class="codeline">        assert(Cost <= LoopCost &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3365</td>
    <td class="codeline">               "Non-duplicated cost should never exceed total loop cost!");</td>
    <td class="lineNumber">3365</td>
    <td class="codeline">               "Non-duplicated cost should never exceed total loop cost!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3366</td>
    <td class="codeline">      }</td>
    <td class="lineNumber">3366</td>
    <td class="codeline">      }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3367</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">3367</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3368</td>
    <td class="codeline"></td>
    <td class="lineNumber">3368</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3369</td>
    <td class="codeline">    // Now scale the cost by the number of unique successors minus one. We</td>
    <td class="lineNumber">3369</td>
    <td class="codeline">    // Now scale the cost by the number of unique successors minus one. We</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3370</td>
    <td class="codeline">    // subtract one because there is already at least one copy of the entire</td>
    <td class="lineNumber">3370</td>
    <td class="codeline">    // subtract one because there is already at least one copy of the entire</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3371</td>
    <td class="codeline">    // loop. This is computing the new cost of unswitching a condition.</td>
    <td class="lineNumber">3371</td>
    <td class="codeline">    // loop. This is computing the new cost of unswitching a condition.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3372</td>
    <td class="codeline">    // Note that guards always have 2 unique successors that are implicit and</td>
    <td class="lineNumber">3372</td>
    <td class="codeline">    // Note that guards always have 2 unique successors that are implicit and</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3373</td>
    <td class="codeline">    // will be materialized if we decide to unswitch it.</td>
    <td class="lineNumber">3373</td>
    <td class="codeline">    // will be materialized if we decide to unswitch it.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3374</td>
    <td class="codeline">    int SuccessorsCount = isGuard(&TI) ? 2 : Visited.size();</td>
    <td class="lineNumber">3374</td>
    <td class="codeline">    int SuccessorsCount = isGuard(&TI) ? 2 : Visited.size();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3375</td>
    <td class="codeline">    assert(SuccessorsCount > 1 &&</td>
    <td class="lineNumber">3375</td>
    <td class="codeline">    assert(SuccessorsCount > 1 &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3376</td>
    <td class="codeline">           "Cannot unswitch a condition without multiple distinct successors!");</td>
    <td class="lineNumber">3376</td>
    <td class="codeline">           "Cannot unswitch a condition without multiple distinct successors!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3377</td>
    <td class="codeline">    return (LoopCost - Cost) * (SuccessorsCount - 1);</td>
    <td class="lineNumber">3377</td>
    <td class="codeline">    return (LoopCost - Cost) * (SuccessorsCount - 1);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3378</td>
    <td class="codeline">  };</td>
    <td class="lineNumber">3378</td>
    <td class="codeline">  };</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3379</td>
    <td class="codeline"></td>
    <td class="lineNumber">3379</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3380</td>
    <td class="codeline">  std::optional<NonTrivialUnswitchCandidate> Best;</td>
    <td class="lineNumber">3380</td>
    <td class="codeline">  std::optional<NonTrivialUnswitchCandidate> Best;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3381</td>
    <td class="codeline">  for (auto &Candidate : UnswitchCandidates) {</td>
    <td class="lineNumber">3381</td>
    <td class="codeline">  for (auto &Candidate : UnswitchCandidates) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3382</td>
    <td class="codeline">    Instruction &TI = *Candidate.TI;</td>
    <td class="lineNumber">3382</td>
    <td class="codeline">    Instruction &TI = *Candidate.TI;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3383</td>
    <td class="codeline">    ArrayRef<Value *> Invariants = Candidate.Invariants;</td>
    <td class="lineNumber">3383</td>
    <td class="codeline">    ArrayRef<Value *> Invariants = Candidate.Invariants;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3384</td>
    <td class="codeline">    BranchInst *BI = dyn_cast<BranchInst>(&TI);</td>
    <td class="lineNumber">3384</td>
    <td class="codeline">    BranchInst *BI = dyn_cast<BranchInst>(&TI);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3385</td>
    <td class="codeline">    bool FullUnswitch =</td>
    <td class="lineNumber">3385</td>
    <td class="codeline">    bool FullUnswitch =</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3386</td>
    <td class="codeline">        !BI || Candidate.hasPendingInjection() ||</td>
    <td class="lineNumber">3386</td>
    <td class="codeline">        !BI || Candidate.hasPendingInjection() ||</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3387</td>
    <td class="codeline">        (Invariants.size() == 1 &&</td>
    <td class="lineNumber">3387</td>
    <td class="codeline">        (Invariants.size() == 1 &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3388</td>
    <td class="codeline">         Invariants[0] == skipTrivialSelect(BI->getCondition()));</td>
    <td class="lineNumber">3388</td>
    <td class="codeline">         Invariants[0] == skipTrivialSelect(BI->getCondition()));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3389</td>
    <td class="codeline">    InstructionCost CandidateCost = ComputeUnswitchedCost(TI, FullUnswitch);</td>
    <td class="lineNumber">3389</td>
    <td class="codeline">    InstructionCost CandidateCost = ComputeUnswitchedCost(TI, FullUnswitch);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3390</td>
    <td class="codeline">    // Calculate cost multiplier which is a tool to limit potentially</td>
    <td class="lineNumber">3390</td>
    <td class="codeline">    // Calculate cost multiplier which is a tool to limit potentially</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3391</td>
    <td class="codeline">    // exponential behavior of loop-unswitch.</td>
    <td class="lineNumber">3391</td>
    <td class="codeline">    // exponential behavior of loop-unswitch.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3392</td>
    <td class="codeline">    if (EnableUnswitchCostMultiplier) {</td>
    <td class="lineNumber">3392</td>
    <td class="codeline">    if (EnableUnswitchCostMultiplier) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3393</td>
    <td class="codeline">      int CostMultiplier =</td>
    <td class="lineNumber">3393</td>
    <td class="codeline">      int CostMultiplier =</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3394</td>
    <td class="codeline">          CalculateUnswitchCostMultiplier(TI, L, LI, DT, UnswitchCandidates);</td>
    <td class="lineNumber">3394</td>
    <td class="codeline">          CalculateUnswitchCostMultiplier(TI, L, LI, DT, UnswitchCandidates);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3395</td>
    <td class="codeline">      assert(</td>
    <td class="lineNumber">3395</td>
    <td class="codeline">      assert(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3396</td>
    <td class="codeline">          (CostMultiplier > 0 && CostMultiplier <= UnswitchThreshold) &&</td>
    <td class="lineNumber">3396</td>
    <td class="codeline">          (CostMultiplier > 0 && CostMultiplier <= UnswitchThreshold) &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3397</td>
    <td class="codeline">          "cost multiplier needs to be in the range of 1..UnswitchThreshold");</td>
    <td class="lineNumber">3397</td>
    <td class="codeline">          "cost multiplier needs to be in the range of 1..UnswitchThreshold");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3398</td>
    <td class="codeline">      CandidateCost *= CostMultiplier;</td>
    <td class="lineNumber">3398</td>
    <td class="codeline">      CandidateCost *= CostMultiplier;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3399</td>
    <td class="codeline">      LLVM_DEBUG(dbgs() << "  Computed cost of " << CandidateCost</td>
    <td class="lineNumber">3399</td>
    <td class="codeline">      LLVM_DEBUG(dbgs() << "  Computed cost of " << CandidateCost</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3400</td>
    <td class="codeline">                        << " (multiplier: " << CostMultiplier << ")"</td>
    <td class="lineNumber">3400</td>
    <td class="codeline">                        << " (multiplier: " << CostMultiplier << ")"</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3401</td>
    <td class="codeline">                        << " for unswitch candidate: " << TI << "\n");</td>
    <td class="lineNumber">3401</td>
    <td class="codeline">                        << " for unswitch candidate: " << TI << "\n");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3402</td>
    <td class="codeline">    } else {</td>
    <td class="lineNumber">3402</td>
    <td class="codeline">    } else {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3403</td>
    <td class="codeline">      LLVM_DEBUG(dbgs() << "  Computed cost of " << CandidateCost</td>
    <td class="lineNumber">3403</td>
    <td class="codeline">      LLVM_DEBUG(dbgs() << "  Computed cost of " << CandidateCost</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3404</td>
    <td class="codeline">                        << " for unswitch candidate: " << TI << "\n");</td>
    <td class="lineNumber">3404</td>
    <td class="codeline">                        << " for unswitch candidate: " << TI << "\n");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3405</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">3405</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3406</td>
    <td class="codeline"></td>
    <td class="lineNumber">3406</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3407</td>
    <td class="codeline">    if (!Best || CandidateCost < Best->Cost) {</td>
    <td class="lineNumber">3407</td>
    <td class="codeline">    if (!Best || CandidateCost < Best->Cost) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3408</td>
    <td class="codeline">      Best = Candidate;</td>
    <td class="lineNumber">3408</td>
    <td class="codeline">      Best = Candidate;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3409</td>
    <td class="codeline">      Best->Cost = CandidateCost;</td>
    <td class="lineNumber">3409</td>
    <td class="codeline">      Best->Cost = CandidateCost;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3410</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">3410</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3411</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">3411</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3412</td>
    <td class="codeline">  assert(Best && "Must be!");</td>
    <td class="lineNumber">3412</td>
    <td class="codeline">  assert(Best && "Must be!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3413</td>
    <td class="codeline">  return *Best;</td>
    <td class="lineNumber">3413</td>
    <td class="codeline">  return *Best;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3414</td>
    <td class="codeline">}</td>
    <td class="lineNumber">3414</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3415</td>
    <td class="codeline"></td>
    <td class="lineNumber">3415</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3416</td>
    <td class="codeline">// Insert a freeze on an unswitched branch if all is true:</td>
    <td class="lineNumber">3416</td>
    <td class="codeline">// Insert a freeze on an unswitched branch if all is true:</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3417</td>
    <td class="codeline">// 1. freeze-loop-unswitch-cond option is true</td>
    <td class="lineNumber">3417</td>
    <td class="codeline">// 1. freeze-loop-unswitch-cond option is true</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3418</td>
    <td class="codeline">// 2. The branch may not execute in the loop pre-transformation. If a branch may</td>
    <td class="lineNumber">3418</td>
    <td class="codeline">// 2. The branch may not execute in the loop pre-transformation. If a branch may</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3419</td>
    <td class="codeline">// not execute and could cause UB, it would always cause UB if it is hoisted outside</td>
    <td class="lineNumber">3419</td>
    <td class="codeline">// not execute and could cause UB, it would always cause UB if it is hoisted outside</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3420</td>
    <td class="codeline">// of the loop. Insert a freeze to prevent this case.</td>
    <td class="lineNumber">3420</td>
    <td class="codeline">// of the loop. Insert a freeze to prevent this case.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3421</td>
    <td class="codeline">// 3. The branch condition may be poison or undef</td>
    <td class="lineNumber">3421</td>
    <td class="codeline">// 3. The branch condition may be poison or undef</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3422</td>
    <td class="codeline">static bool shouldInsertFreeze(Loop &L, Instruction &TI, DominatorTree &DT,</td>
    <td class="lineNumber">3422</td>
    <td class="codeline">static bool shouldInsertFreeze(Loop &L, Instruction &TI, DominatorTree &DT,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3423</td>
    <td class="codeline">                               AssumptionCache &AC) {</td>
    <td class="lineNumber">3423</td>
    <td class="codeline">                               AssumptionCache &AC) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3424</td>
    <td class="codeline">  assert(isa<BranchInst>(TI) || isa<SwitchInst>(TI));</td>
    <td class="lineNumber">3424</td>
    <td class="codeline">  assert(isa<BranchInst>(TI) || isa<SwitchInst>(TI));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3425</td>
    <td class="codeline">  if (!FreezeLoopUnswitchCond)</td>
    <td class="lineNumber">3425</td>
    <td class="codeline">  if (!FreezeLoopUnswitchCond)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3426</td>
    <td class="codeline">    return false;</td>
    <td class="lineNumber">3426</td>
    <td class="codeline">    return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3427</td>
    <td class="codeline"></td>
    <td class="lineNumber">3427</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3428</td>
    <td class="codeline">  ICFLoopSafetyInfo SafetyInfo;</td>
    <td class="lineNumber">3428</td>
    <td class="codeline">  ICFLoopSafetyInfo SafetyInfo;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3429</td>
    <td class="codeline">  SafetyInfo.computeLoopSafetyInfo(&L);</td>
    <td class="lineNumber">3429</td>
    <td class="codeline">  SafetyInfo.computeLoopSafetyInfo(&L);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3430</td>
    <td class="codeline">  if (SafetyInfo.isGuaranteedToExecute(TI, &DT, &L))</td>
    <td class="lineNumber">3430</td>
    <td class="codeline">  if (SafetyInfo.isGuaranteedToExecute(TI, &DT, &L))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3431</td>
    <td class="codeline">    return false;</td>
    <td class="lineNumber">3431</td>
    <td class="codeline">    return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3432</td>
    <td class="codeline"></td>
    <td class="lineNumber">3432</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3433</td>
    <td class="codeline">  Value *Cond;</td>
    <td class="lineNumber">3433</td>
    <td class="codeline">  Value *Cond;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3434</td>
    <td class="codeline">  if (BranchInst *BI = dyn_cast<BranchInst>(&TI))</td>
    <td class="lineNumber">3434</td>
    <td class="codeline">  if (BranchInst *BI = dyn_cast<BranchInst>(&TI))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3435</td>
    <td class="codeline">    Cond = skipTrivialSelect(BI->getCondition());</td>
    <td class="lineNumber">3435</td>
    <td class="codeline">    Cond = skipTrivialSelect(BI->getCondition());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3436</td>
    <td class="codeline">  else</td>
    <td class="lineNumber">3436</td>
    <td class="codeline">  else</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3437</td>
    <td class="codeline">    Cond = skipTrivialSelect(cast<SwitchInst>(&TI)->getCondition());</td>
    <td class="lineNumber">3437</td>
    <td class="codeline">    Cond = skipTrivialSelect(cast<SwitchInst>(&TI)->getCondition());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3438</td>
    <td class="codeline">  return !isGuaranteedNotToBeUndefOrPoison(</td>
    <td class="lineNumber">3438</td>
    <td class="codeline">  return !isGuaranteedNotToBeUndefOrPoison(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3439</td>
    <td class="codeline">      Cond, &AC, L.getLoopPreheader()->getTerminator(), &DT);</td>
    <td class="lineNumber">3439</td>
    <td class="codeline">      Cond, &AC, L.getLoopPreheader()->getTerminator(), &DT);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3440</td>
    <td class="codeline">}</td>
    <td class="lineNumber">3440</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3441</td>
    <td class="codeline"></td>
    <td class="lineNumber">3441</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3442</td>
    <td class="codeline">static bool unswitchBestCondition(</td>
    <td class="lineNumber">3442</td>
    <td class="codeline">static bool unswitchBestCondition(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3443</td>
    <td class="codeline">    Loop &L, DominatorTree &DT, LoopInfo &LI, AssumptionCache &AC,</td>
    <td class="lineNumber">3443</td>
    <td class="codeline">    Loop &L, DominatorTree &DT, LoopInfo &LI, AssumptionCache &AC,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3444</td>
    <td class="codeline">    AAResults &AA, TargetTransformInfo &TTI,</td>
    <td class="lineNumber">3444</td>
    <td class="codeline">    AAResults &AA, TargetTransformInfo &TTI,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3445</td>
    <td class="codeline">    function_ref<void(bool, bool, ArrayRef<Loop *>)> UnswitchCB,</td>
    <td class="lineNumber">3445</td>
    <td class="codeline">    function_ref<void(bool, bool, ArrayRef<Loop *>)> UnswitchCB,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3446</td>
    <td class="codeline">    ScalarEvolution *SE, MemorySSAUpdater *MSSAU,</td>
    <td class="lineNumber">3446</td>
    <td class="codeline">    ScalarEvolution *SE, MemorySSAUpdater *MSSAU,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3447</td>
    <td class="codeline">    function_ref<void(Loop &, StringRef)> DestroyLoopCB) {</td>
    <td class="lineNumber">3447</td>
    <td class="codeline">    function_ref<void(Loop &, StringRef)> DestroyLoopCB) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3448</td>
    <td class="codeline">  // Collect all invariant conditions within this loop (as opposed to an inner</td>
    <td class="lineNumber">3448</td>
    <td class="codeline">  // Collect all invariant conditions within this loop (as opposed to an inner</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3449</td>
    <td class="codeline">  // loop which would be handled when visiting that inner loop).</td>
    <td class="lineNumber">3449</td>
    <td class="codeline">  // loop which would be handled when visiting that inner loop).</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3450</td>
    <td class="codeline">  SmallVector<NonTrivialUnswitchCandidate, 4> UnswitchCandidates;</td>
    <td class="lineNumber">3450</td>
    <td class="codeline">  SmallVector<NonTrivialUnswitchCandidate, 4> UnswitchCandidates;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3451</td>
    <td class="codeline">  IVConditionInfo PartialIVInfo;</td>
    <td class="lineNumber">3451</td>
    <td class="codeline">  IVConditionInfo PartialIVInfo;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3452</td>
    <td class="codeline">  Instruction *PartialIVCondBranch = nullptr;</td>
    <td class="lineNumber">3452</td>
    <td class="codeline">  Instruction *PartialIVCondBranch = nullptr;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3453</td>
    <td class="codeline">  collectUnswitchCandidates(UnswitchCandidates, PartialIVInfo,</td>
    <td class="lineNumber">3453</td>
    <td class="codeline">  collectUnswitchCandidates(UnswitchCandidates, PartialIVInfo,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3454</td>
    <td class="codeline">                            PartialIVCondBranch, L, LI, AA, MSSAU);</td>
    <td class="lineNumber">3454</td>
    <td class="codeline">                            PartialIVCondBranch, L, LI, AA, MSSAU);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3455</td>
    <td class="codeline">  collectUnswitchCandidatesWithInjections(UnswitchCandidates, PartialIVInfo,</td>
    <td class="lineNumber">3455</td>
    <td class="codeline">  collectUnswitchCandidatesWithInjections(UnswitchCandidates, PartialIVInfo,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3456</td>
    <td class="codeline">                                          PartialIVCondBranch, L, DT, LI, AA,</td>
    <td class="lineNumber">3456</td>
    <td class="codeline">                                          PartialIVCondBranch, L, DT, LI, AA,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3457</td>
    <td class="codeline">                                          MSSAU);</td>
    <td class="lineNumber">3457</td>
    <td class="codeline">                                          MSSAU);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3458</td>
    <td class="codeline">  // If we didn't find any candidates, we're done.</td>
    <td class="lineNumber">3458</td>
    <td class="codeline">  // If we didn't find any candidates, we're done.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3459</td>
    <td class="codeline">  if (UnswitchCandidates.empty())</td>
    <td class="lineNumber">3459</td>
    <td class="codeline">  if (UnswitchCandidates.empty())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3460</td>
    <td class="codeline">    return false;</td>
    <td class="lineNumber">3460</td>
    <td class="codeline">    return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3461</td>
    <td class="codeline"></td>
    <td class="lineNumber">3461</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3462</td>
    <td class="codeline">  LLVM_DEBUG(</td>
    <td class="lineNumber">3462</td>
    <td class="codeline">  LLVM_DEBUG(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3463</td>
    <td class="codeline">      dbgs() << "Considering " << UnswitchCandidates.size()</td>
    <td class="lineNumber">3463</td>
    <td class="codeline">      dbgs() << "Considering " << UnswitchCandidates.size()</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3464</td>
    <td class="codeline">             << " non-trivial loop invariant conditions for unswitching.\n");</td>
    <td class="lineNumber">3464</td>
    <td class="codeline">             << " non-trivial loop invariant conditions for unswitching.\n");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3465</td>
    <td class="codeline"></td>
    <td class="lineNumber">3465</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3466</td>
    <td class="codeline">  NonTrivialUnswitchCandidate Best = findBestNonTrivialUnswitchCandidate(</td>
    <td class="lineNumber">3466</td>
    <td class="codeline">  NonTrivialUnswitchCandidate Best = findBestNonTrivialUnswitchCandidate(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3467</td>
    <td class="codeline">      UnswitchCandidates, L, DT, LI, AC, TTI, PartialIVInfo);</td>
    <td class="lineNumber">3467</td>
    <td class="codeline">      UnswitchCandidates, L, DT, LI, AC, TTI, PartialIVInfo);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3468</td>
    <td class="codeline"></td>
    <td class="lineNumber">3468</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3469</td>
    <td class="codeline">  assert(Best.TI && "Failed to find loop unswitch candidate");</td>
    <td class="lineNumber">3469</td>
    <td class="codeline">  assert(Best.TI && "Failed to find loop unswitch candidate");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3470</td>
    <td class="codeline">  assert(Best.Cost && "Failed to compute cost");</td>
    <td class="lineNumber">3470</td>
    <td class="codeline">  assert(Best.Cost && "Failed to compute cost");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3471</td>
    <td class="codeline"></td>
    <td class="lineNumber">3471</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3472</td>
    <td class="codeline">  if (*Best.Cost >= UnswitchThreshold) {</td>
    <td class="lineNumber">3472</td>
    <td class="codeline">  if (*Best.Cost >= UnswitchThreshold) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3473</td>
    <td class="codeline">    LLVM_DEBUG(dbgs() << "Cannot unswitch, lowest cost found: " << *Best.Cost</td>
    <td class="lineNumber">3473</td>
    <td class="codeline">    LLVM_DEBUG(dbgs() << "Cannot unswitch, lowest cost found: " << *Best.Cost</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3474</td>
    <td class="codeline">                      << "\n");</td>
    <td class="lineNumber">3474</td>
    <td class="codeline">                      << "\n");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3475</td>
    <td class="codeline">    return false;</td>
    <td class="lineNumber">3475</td>
    <td class="codeline">    return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3476</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">3476</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3477</td>
    <td class="codeline"></td>
    <td class="lineNumber">3477</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3478</td>
    <td class="codeline">  if (Best.hasPendingInjection())</td>
    <td class="lineNumber">3478</td>
    <td class="codeline">  if (Best.hasPendingInjection())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3479</td>
    <td class="codeline">    Best = injectPendingInvariantConditions(Best, L, DT, LI, AC, MSSAU);</td>
    <td class="lineNumber">3479</td>
    <td class="codeline">    Best = injectPendingInvariantConditions(Best, L, DT, LI, AC, MSSAU);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3480</td>
    <td class="codeline">  assert(!Best.hasPendingInjection() &&</td>
    <td class="lineNumber">3480</td>
    <td class="codeline">  assert(!Best.hasPendingInjection() &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3481</td>
    <td class="codeline">         "All injections should have been done by now!");</td>
    <td class="lineNumber">3481</td>
    <td class="codeline">         "All injections should have been done by now!");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3482</td>
    <td class="codeline"></td>
    <td class="lineNumber">3482</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3483</td>
    <td class="codeline">  if (Best.TI != PartialIVCondBranch)</td>
    <td class="lineNumber">3483</td>
    <td class="codeline">  if (Best.TI != PartialIVCondBranch)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3484</td>
    <td class="codeline">    PartialIVInfo.InstToDuplicate.clear();</td>
    <td class="lineNumber">3484</td>
    <td class="codeline">    PartialIVInfo.InstToDuplicate.clear();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3485</td>
    <td class="codeline"></td>
    <td class="lineNumber">3485</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3486</td>
    <td class="codeline">  bool InsertFreeze;</td>
    <td class="lineNumber">3486</td>
    <td class="codeline">  bool InsertFreeze;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3487</td>
    <td class="codeline">  if (auto *SI = dyn_cast<SelectInst>(Best.TI)) {</td>
    <td class="lineNumber">3487</td>
    <td class="codeline">  if (auto *SI = dyn_cast<SelectInst>(Best.TI)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3488</td>
    <td class="codeline">    // If the best candidate is a select, turn it into a branch. Select</td>
    <td class="lineNumber">3488</td>
    <td class="codeline">    // If the best candidate is a select, turn it into a branch. Select</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3489</td>
    <td class="codeline">    // instructions with a poison conditional do not propagate poison, but</td>
    <td class="lineNumber">3489</td>
    <td class="codeline">    // instructions with a poison conditional do not propagate poison, but</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3490</td>
    <td class="codeline">    // branching on poison causes UB. Insert a freeze on the select</td>
    <td class="lineNumber">3490</td>
    <td class="codeline">    // branching on poison causes UB. Insert a freeze on the select</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3491</td>
    <td class="codeline">    // conditional to prevent UB after turning the select into a branch.</td>
    <td class="lineNumber">3491</td>
    <td class="codeline">    // conditional to prevent UB after turning the select into a branch.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3492</td>
    <td class="codeline">    InsertFreeze = !isGuaranteedNotToBeUndefOrPoison(</td>
    <td class="lineNumber">3492</td>
    <td class="codeline">    InsertFreeze = !isGuaranteedNotToBeUndefOrPoison(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3493</td>
    <td class="codeline">        SI->getCondition(), &AC, L.getLoopPreheader()->getTerminator(), &DT);</td>
    <td class="lineNumber">3493</td>
    <td class="codeline">        SI->getCondition(), &AC, L.getLoopPreheader()->getTerminator(), &DT);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3494</td>
    <td class="codeline">    Best.TI = turnSelectIntoBranch(SI, DT, LI, MSSAU, &AC);</td>
    <td class="lineNumber">3494</td>
    <td class="codeline">    Best.TI = turnSelectIntoBranch(SI, DT, LI, MSSAU, &AC);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3495</td>
    <td class="codeline">  } else {</td>
    <td class="lineNumber">3495</td>
    <td class="codeline">  } else {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3496</td>
    <td class="codeline">    // If the best candidate is a guard, turn it into a branch.</td>
    <td class="lineNumber">3496</td>
    <td class="codeline">    // If the best candidate is a guard, turn it into a branch.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3497</td>
    <td class="codeline">    if (isGuard(Best.TI))</td>
    <td class="lineNumber">3497</td>
    <td class="codeline">    if (isGuard(Best.TI))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3498</td>
    <td class="codeline">      Best.TI =</td>
    <td class="lineNumber">3498</td>
    <td class="codeline">      Best.TI =</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3499</td>
    <td class="codeline">          turnGuardIntoBranch(cast<IntrinsicInst>(Best.TI), L, DT, LI, MSSAU);</td>
    <td class="lineNumber">3499</td>
    <td class="codeline">          turnGuardIntoBranch(cast<IntrinsicInst>(Best.TI), L, DT, LI, MSSAU);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3500</td>
    <td class="codeline">    InsertFreeze = shouldInsertFreeze(L, *Best.TI, DT, AC);</td>
    <td class="lineNumber">3500</td>
    <td class="codeline">    InsertFreeze = shouldInsertFreeze(L, *Best.TI, DT, AC);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3501</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">3501</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3502</td>
    <td class="codeline"></td>
    <td class="lineNumber">3502</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3503</td>
    <td class="codeline">  LLVM_DEBUG(dbgs() << "  Unswitching non-trivial (cost = " << Best.Cost</td>
    <td class="lineNumber">3503</td>
    <td class="codeline">  LLVM_DEBUG(dbgs() << "  Unswitching non-trivial (cost = " << Best.Cost</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3504</td>
    <td class="codeline">                    << ") terminator: " << *Best.TI << "\n");</td>
    <td class="lineNumber">3504</td>
    <td class="codeline">                    << ") terminator: " << *Best.TI << "\n");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3505</td>
    <td class="codeline">  unswitchNontrivialInvariants(L, *Best.TI, Best.Invariants, PartialIVInfo, DT,</td>
    <td class="lineNumber">3505</td>
    <td class="codeline">  unswitchNontrivialInvariants(L, *Best.TI, Best.Invariants, PartialIVInfo, DT,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3506</td>
    <td class="codeline">                               LI, AC, UnswitchCB, SE, MSSAU, DestroyLoopCB,</td>
    <td class="lineNumber">3506</td>
    <td class="codeline">                               LI, AC, UnswitchCB, SE, MSSAU, DestroyLoopCB,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3507</td>
    <td class="codeline">                               InsertFreeze);</td>
    <td class="lineNumber">3507</td>
    <td class="codeline">                               InsertFreeze);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3508</td>
    <td class="codeline">  return true;</td>
    <td class="lineNumber">3508</td>
    <td class="codeline">  return true;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3509</td>
    <td class="codeline">}</td>
    <td class="lineNumber">3509</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3510</td>
    <td class="codeline"></td>
    <td class="lineNumber">3510</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3511</td>
    <td class="codeline">/// Unswitch control flow predicated on loop invariant conditions.</td>
    <td class="lineNumber">3511</td>
    <td class="codeline">/// Unswitch control flow predicated on loop invariant conditions.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3512</td>
    <td class="codeline">///</td>
    <td class="lineNumber">3512</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3513</td>
    <td class="codeline">/// This first hoists all branches or switches which are trivial (IE, do not</td>
    <td class="lineNumber">3513</td>
    <td class="codeline">/// This first hoists all branches or switches which are trivial (IE, do not</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3514</td>
    <td class="codeline">/// require duplicating any part of the loop) out of the loop body. It then</td>
    <td class="lineNumber">3514</td>
    <td class="codeline">/// require duplicating any part of the loop) out of the loop body. It then</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3515</td>
    <td class="codeline">/// looks at other loop invariant control flows and tries to unswitch those as</td>
    <td class="lineNumber">3515</td>
    <td class="codeline">/// looks at other loop invariant control flows and tries to unswitch those as</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3516</td>
    <td class="codeline">/// well by cloning the loop if the result is small enough.</td>
    <td class="lineNumber">3516</td>
    <td class="codeline">/// well by cloning the loop if the result is small enough.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3517</td>
    <td class="codeline">///</td>
    <td class="lineNumber">3517</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3518</td>
    <td class="codeline">/// The `DT`, `LI`, `AC`, `AA`, `TTI` parameters are required analyses that are</td>
    <td class="lineNumber">3518</td>
    <td class="codeline">/// The `DT`, `LI`, `AC`, `AA`, `TTI` parameters are required analyses that are</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3519</td>
    <td class="codeline">/// also updated based on the unswitch. The `MSSA` analysis is also updated if</td>
    <td class="lineNumber">3519</td>
    <td class="codeline">/// also updated based on the unswitch. The `MSSA` analysis is also updated if</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3520</td>
    <td class="codeline">/// valid (i.e. its use is enabled).</td>
    <td class="lineNumber">3520</td>
    <td class="codeline">/// valid (i.e. its use is enabled).</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3521</td>
    <td class="codeline">///</td>
    <td class="lineNumber">3521</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3522</td>
    <td class="codeline">/// If either `NonTrivial` is true or the flag `EnableNonTrivialUnswitch` is</td>
    <td class="lineNumber">3522</td>
    <td class="codeline">/// If either `NonTrivial` is true or the flag `EnableNonTrivialUnswitch` is</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3523</td>
    <td class="codeline">/// true, we will attempt to do non-trivial unswitching as well as trivial</td>
    <td class="lineNumber">3523</td>
    <td class="codeline">/// true, we will attempt to do non-trivial unswitching as well as trivial</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3524</td>
    <td class="codeline">/// unswitching.</td>
    <td class="lineNumber">3524</td>
    <td class="codeline">/// unswitching.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3525</td>
    <td class="codeline">///</td>
    <td class="lineNumber">3525</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3526</td>
    <td class="codeline">/// The `UnswitchCB` callback provided will be run after unswitching is</td>
    <td class="lineNumber">3526</td>
    <td class="codeline">/// The `UnswitchCB` callback provided will be run after unswitching is</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3527</td>
    <td class="codeline">/// complete, with the first parameter set to `true` if the provided loop</td>
    <td class="lineNumber">3527</td>
    <td class="codeline">/// complete, with the first parameter set to `true` if the provided loop</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3528</td>
    <td class="codeline">/// remains a loop, and a list of new sibling loops created.</td>
    <td class="lineNumber">3528</td>
    <td class="codeline">/// remains a loop, and a list of new sibling loops created.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3529</td>
    <td class="codeline">///</td>
    <td class="lineNumber">3529</td>
    <td class="codeline">///</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3530</td>
    <td class="codeline">/// If `SE` is non-null, we will update that analysis based on the unswitching</td>
    <td class="lineNumber">3530</td>
    <td class="codeline">/// If `SE` is non-null, we will update that analysis based on the unswitching</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3531</td>
    <td class="codeline">/// done.</td>
    <td class="lineNumber">3531</td>
    <td class="codeline">/// done.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3532</td>
    <td class="codeline">static bool</td>
    <td class="lineNumber">3532</td>
    <td class="codeline">static bool</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3533</td>
    <td class="codeline">unswitchLoop(Loop &L, DominatorTree &DT, LoopInfo &LI, AssumptionCache &AC,</td>
    <td class="lineNumber">3533</td>
    <td class="codeline">unswitchLoop(Loop &L, DominatorTree &DT, LoopInfo &LI, AssumptionCache &AC,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3534</td>
    <td class="codeline">             AAResults &AA, TargetTransformInfo &TTI, bool Trivial,</td>
    <td class="lineNumber">3534</td>
    <td class="codeline">             AAResults &AA, TargetTransformInfo &TTI, bool Trivial,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3535</td>
    <td class="codeline">             bool NonTrivial,</td>
    <td class="lineNumber">3535</td>
    <td class="codeline">             bool NonTrivial,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3536</td>
    <td class="codeline">             function_ref<void(bool, bool, ArrayRef<Loop *>)> UnswitchCB,</td>
    <td class="lineNumber">3536</td>
    <td class="codeline">             function_ref<void(bool, bool, ArrayRef<Loop *>)> UnswitchCB,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3537</td>
    <td class="codeline">             ScalarEvolution *SE, MemorySSAUpdater *MSSAU,</td>
    <td class="lineNumber">3537</td>
    <td class="codeline">             ScalarEvolution *SE, MemorySSAUpdater *MSSAU,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3538</td>
    <td class="codeline">             ProfileSummaryInfo *PSI, BlockFrequencyInfo *BFI,</td>
    <td class="lineNumber">3538</td>
    <td class="codeline">             ProfileSummaryInfo *PSI, BlockFrequencyInfo *BFI,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3539</td>
    <td class="codeline">             function_ref<void(Loop &, StringRef)> DestroyLoopCB) {</td>
    <td class="lineNumber">3539</td>
    <td class="codeline">             function_ref<void(Loop &, StringRef)> DestroyLoopCB) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3540</td>
    <td class="codeline">  assert(L.isRecursivelyLCSSAForm(DT, LI) &&</td>
    <td class="lineNumber">3540</td>
    <td class="codeline">  assert(L.isRecursivelyLCSSAForm(DT, LI) &&</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3541</td>
    <td class="codeline">         "Loops must be in LCSSA form before unswitching.");</td>
    <td class="lineNumber">3541</td>
    <td class="codeline">         "Loops must be in LCSSA form before unswitching.");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3542</td>
    <td class="codeline"></td>
    <td class="lineNumber">3542</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3543</td>
    <td class="codeline">  // Must be in loop simplified form: we need a preheader and dedicated exits.</td>
    <td class="lineNumber">3543</td>
    <td class="codeline">  // Must be in loop simplified form: we need a preheader and dedicated exits.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3544</td>
    <td class="codeline">  if (!L.isLoopSimplifyForm())</td>
    <td class="lineNumber">3544</td>
    <td class="codeline">  if (!L.isLoopSimplifyForm())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3545</td>
    <td class="codeline">    return false;</td>
    <td class="lineNumber">3545</td>
    <td class="codeline">    return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3546</td>
    <td class="codeline"></td>
    <td class="lineNumber">3546</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3547</td>
    <td class="codeline">  // Try trivial unswitch first before loop over other basic blocks in the loop.</td>
    <td class="lineNumber">3547</td>
    <td class="codeline">  // Try trivial unswitch first before loop over other basic blocks in the loop.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3548</td>
    <td class="codeline">  if (Trivial && unswitchAllTrivialConditions(L, DT, LI, SE, MSSAU)) {</td>
    <td class="lineNumber">3548</td>
    <td class="codeline">  if (Trivial && unswitchAllTrivialConditions(L, DT, LI, SE, MSSAU)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3549</td>
    <td class="codeline">    // If we unswitched successfully we will want to clean up the loop before</td>
    <td class="lineNumber">3549</td>
    <td class="codeline">    // If we unswitched successfully we will want to clean up the loop before</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3550</td>
    <td class="codeline">    // processing it further so just mark it as unswitched and return.</td>
    <td class="lineNumber">3550</td>
    <td class="codeline">    // processing it further so just mark it as unswitched and return.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3551</td>
    <td class="codeline">    UnswitchCB(/*CurrentLoopValid*/ true, false, {});</td>
    <td class="lineNumber">3551</td>
    <td class="codeline">    UnswitchCB(/*CurrentLoopValid*/ true, false, {});</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3552</td>
    <td class="codeline">    return true;</td>
    <td class="lineNumber">3552</td>
    <td class="codeline">    return true;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3553</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">3553</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3554</td>
    <td class="codeline"></td>
    <td class="lineNumber">3554</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3555</td>
    <td class="codeline">  const Function *F = L.getHeader()->getParent();</td>
    <td class="lineNumber">3555</td>
    <td class="codeline">  const Function *F = L.getHeader()->getParent();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3556</td>
    <td class="codeline"></td>
    <td class="lineNumber">3556</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3557</td>
    <td class="codeline">  // Check whether we should continue with non-trivial conditions.</td>
    <td class="lineNumber">3557</td>
    <td class="codeline">  // Check whether we should continue with non-trivial conditions.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3558</td>
    <td class="codeline">  // EnableNonTrivialUnswitch: Global variable that forces non-trivial</td>
    <td class="lineNumber">3558</td>
    <td class="codeline">  // EnableNonTrivialUnswitch: Global variable that forces non-trivial</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3559</td>
    <td class="codeline">  //                           unswitching for testing and debugging.</td>
    <td class="lineNumber">3559</td>
    <td class="codeline">  //                           unswitching for testing and debugging.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3560</td>
    <td class="codeline">  // NonTrivial: Parameter that enables non-trivial unswitching for this</td>
    <td class="lineNumber">3560</td>
    <td class="codeline">  // NonTrivial: Parameter that enables non-trivial unswitching for this</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3561</td>
    <td class="codeline">  //             invocation of the transform. But this should be allowed only</td>
    <td class="lineNumber">3561</td>
    <td class="codeline">  //             invocation of the transform. But this should be allowed only</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3562</td>
    <td class="codeline">  //             for targets without branch divergence.</td>
    <td class="lineNumber">3562</td>
    <td class="codeline">  //             for targets without branch divergence.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3563</td>
    <td class="codeline">  //</td>
    <td class="lineNumber">3563</td>
    <td class="codeline">  //</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3564</td>
    <td class="codeline">  // FIXME: If divergence analysis becomes available to a loop</td>
    <td class="lineNumber">3564</td>
    <td class="codeline">  // FIXME: If divergence analysis becomes available to a loop</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3565</td>
    <td class="codeline">  // transform, we should allow unswitching for non-trivial uniform</td>
    <td class="lineNumber">3565</td>
    <td class="codeline">  // transform, we should allow unswitching for non-trivial uniform</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3566</td>
    <td class="codeline">  // branches even on targets that have divergence.</td>
    <td class="lineNumber">3566</td>
    <td class="codeline">  // branches even on targets that have divergence.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3567</td>
    <td class="codeline">  // https://bugs.llvm.org/show_bug.cgi?id=48819</td>
    <td class="lineNumber">3567</td>
    <td class="codeline">  // https://bugs.llvm.org/show_bug.cgi?id=48819</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3568</td>
    <td class="codeline">  bool ContinueWithNonTrivial =</td>
    <td class="lineNumber">3568</td>
    <td class="codeline">  bool ContinueWithNonTrivial =</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3569</td>
    <td class="codeline">      EnableNonTrivialUnswitch || (NonTrivial && !TTI.hasBranchDivergence(F));</td>
    <td class="lineNumber">3569</td>
    <td class="codeline">      EnableNonTrivialUnswitch || (NonTrivial && !TTI.hasBranchDivergence(F));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3570</td>
    <td class="codeline">  if (!ContinueWithNonTrivial)</td>
    <td class="lineNumber">3570</td>
    <td class="codeline">  if (!ContinueWithNonTrivial)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3571</td>
    <td class="codeline">    return false;</td>
    <td class="lineNumber">3571</td>
    <td class="codeline">    return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3572</td>
    <td class="codeline"></td>
    <td class="lineNumber">3572</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3573</td>
    <td class="codeline">  // Skip non-trivial unswitching for optsize functions.</td>
    <td class="lineNumber">3573</td>
    <td class="codeline">  // Skip non-trivial unswitching for optsize functions.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3574</td>
    <td class="codeline">  if (F->hasOptSize())</td>
    <td class="lineNumber">3574</td>
    <td class="codeline">  if (F->hasOptSize())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3575</td>
    <td class="codeline">    return false;</td>
    <td class="lineNumber">3575</td>
    <td class="codeline">    return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3576</td>
    <td class="codeline"></td>
    <td class="lineNumber">3576</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3577</td>
    <td class="codeline">  // Returns true if Loop L's loop nest is cold, i.e. if the headers of L,</td>
    <td class="lineNumber">3577</td>
    <td class="codeline">  // Returns true if Loop L's loop nest is cold, i.e. if the headers of L,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3578</td>
    <td class="codeline">  // of the loops L is nested in, and of the loops nested in L are all cold.</td>
    <td class="lineNumber">3578</td>
    <td class="codeline">  // of the loops L is nested in, and of the loops nested in L are all cold.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3579</td>
    <td class="codeline">  auto IsLoopNestCold = [&](const Loop *L) {</td>
    <td class="lineNumber">3579</td>
    <td class="codeline">  auto IsLoopNestCold = [&](const Loop *L) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3580</td>
    <td class="codeline">    // Check L and all of its parent loops.</td>
    <td class="lineNumber">3580</td>
    <td class="codeline">    // Check L and all of its parent loops.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3581</td>
    <td class="codeline">    auto *Parent = L;</td>
    <td class="lineNumber">3581</td>
    <td class="codeline">    auto *Parent = L;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3582</td>
    <td class="codeline">    while (Parent) {</td>
    <td class="lineNumber">3582</td>
    <td class="codeline">    while (Parent) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3583</td>
    <td class="codeline">      if (!PSI->isColdBlock(Parent->getHeader(), BFI))</td>
    <td class="lineNumber">3583</td>
    <td class="codeline">      if (!PSI->isColdBlock(Parent->getHeader(), BFI))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3584</td>
    <td class="codeline">        return false;</td>
    <td class="lineNumber">3584</td>
    <td class="codeline">        return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3585</td>
    <td class="codeline">      Parent = Parent->getParentLoop();</td>
    <td class="lineNumber">3585</td>
    <td class="codeline">      Parent = Parent->getParentLoop();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3586</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">3586</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3587</td>
    <td class="codeline">    // Next check all loops nested within L.</td>
    <td class="lineNumber">3587</td>
    <td class="codeline">    // Next check all loops nested within L.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3588</td>
    <td class="codeline">    SmallVector<const Loop *, 4> Worklist;</td>
    <td class="lineNumber">3588</td>
    <td class="codeline">    SmallVector<const Loop *, 4> Worklist;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3589</td>
    <td class="codeline">    Worklist.insert(Worklist.end(), L->getSubLoops().begin(),</td>
    <td class="lineNumber">3589</td>
    <td class="codeline">    Worklist.insert(Worklist.end(), L->getSubLoops().begin(),</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3590</td>
    <td class="codeline">                    L->getSubLoops().end());</td>
    <td class="lineNumber">3590</td>
    <td class="codeline">                    L->getSubLoops().end());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3591</td>
    <td class="codeline">    while (!Worklist.empty()) {</td>
    <td class="lineNumber">3591</td>
    <td class="codeline">    while (!Worklist.empty()) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3592</td>
    <td class="codeline">      auto *CurLoop = Worklist.pop_back_val();</td>
    <td class="lineNumber">3592</td>
    <td class="codeline">      auto *CurLoop = Worklist.pop_back_val();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3593</td>
    <td class="codeline">      if (!PSI->isColdBlock(CurLoop->getHeader(), BFI))</td>
    <td class="lineNumber">3593</td>
    <td class="codeline">      if (!PSI->isColdBlock(CurLoop->getHeader(), BFI))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3594</td>
    <td class="codeline">        return false;</td>
    <td class="lineNumber">3594</td>
    <td class="codeline">        return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3595</td>
    <td class="codeline">      Worklist.insert(Worklist.end(), CurLoop->getSubLoops().begin(),</td>
    <td class="lineNumber">3595</td>
    <td class="codeline">      Worklist.insert(Worklist.end(), CurLoop->getSubLoops().begin(),</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3596</td>
    <td class="codeline">                      CurLoop->getSubLoops().end());</td>
    <td class="lineNumber">3596</td>
    <td class="codeline">                      CurLoop->getSubLoops().end());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3597</td>
    <td class="codeline">    }</td>
    <td class="lineNumber">3597</td>
    <td class="codeline">    }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3598</td>
    <td class="codeline">    return true;</td>
    <td class="lineNumber">3598</td>
    <td class="codeline">    return true;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3599</td>
    <td class="codeline">  };</td>
    <td class="lineNumber">3599</td>
    <td class="codeline">  };</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3600</td>
    <td class="codeline"></td>
    <td class="lineNumber">3600</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3601</td>
    <td class="codeline">  // Skip cold loops in cold loop nests, as unswitching them brings little</td>
    <td class="lineNumber">3601</td>
    <td class="codeline">  // Skip cold loops in cold loop nests, as unswitching them brings little</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3602</td>
    <td class="codeline">  // benefit but increases the code size</td>
    <td class="lineNumber">3602</td>
    <td class="codeline">  // benefit but increases the code size</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3603</td>
    <td class="codeline">  if (PSI && PSI->hasProfileSummary() && BFI && IsLoopNestCold(&L)) {</td>
    <td class="lineNumber">3603</td>
    <td class="codeline">  if (PSI && PSI->hasProfileSummary() && BFI && IsLoopNestCold(&L)) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3604</td>
    <td class="codeline">    LLVM_DEBUG(dbgs() << " Skip cold loop: " << L << "\n");</td>
    <td class="lineNumber">3604</td>
    <td class="codeline">    LLVM_DEBUG(dbgs() << " Skip cold loop: " << L << "\n");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3605</td>
    <td class="codeline">    return false;</td>
    <td class="lineNumber">3605</td>
    <td class="codeline">    return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3606</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">3606</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3607</td>
    <td class="codeline"></td>
    <td class="lineNumber">3607</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3608</td>
    <td class="codeline">  // Perform legality checks.</td>
    <td class="lineNumber">3608</td>
    <td class="codeline">  // Perform legality checks.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3609</td>
    <td class="codeline">  if (!isSafeForNoNTrivialUnswitching(L, LI))</td>
    <td class="lineNumber">3609</td>
    <td class="codeline">  if (!isSafeForNoNTrivialUnswitching(L, LI))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3610</td>
    <td class="codeline">    return false;</td>
    <td class="lineNumber">3610</td>
    <td class="codeline">    return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3611</td>
    <td class="codeline"></td>
    <td class="lineNumber">3611</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3612</td>
    <td class="codeline">  // For non-trivial unswitching, because it often creates new loops, we rely on</td>
    <td class="lineNumber">3612</td>
    <td class="codeline">  // For non-trivial unswitching, because it often creates new loops, we rely on</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3613</td>
    <td class="codeline">  // the pass manager to iterate on the loops rather than trying to immediately</td>
    <td class="lineNumber">3613</td>
    <td class="codeline">  // the pass manager to iterate on the loops rather than trying to immediately</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3614</td>
    <td class="codeline">  // reach a fixed point. There is no substantial advantage to iterating</td>
    <td class="lineNumber">3614</td>
    <td class="codeline">  // reach a fixed point. There is no substantial advantage to iterating</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3615</td>
    <td class="codeline">  // internally, and if any of the new loops are simplified enough to contain</td>
    <td class="lineNumber">3615</td>
    <td class="codeline">  // internally, and if any of the new loops are simplified enough to contain</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3616</td>
    <td class="codeline">  // trivial unswitching we want to prefer those.</td>
    <td class="lineNumber">3616</td>
    <td class="codeline">  // trivial unswitching we want to prefer those.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3617</td>
    <td class="codeline"></td>
    <td class="lineNumber">3617</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3618</td>
    <td class="codeline">  // Try to unswitch the best invariant condition. We prefer this full unswitch to</td>
    <td class="lineNumber">3618</td>
    <td class="codeline">  // Try to unswitch the best invariant condition. We prefer this full unswitch to</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3619</td>
    <td class="codeline">  // a partial unswitch when possible below the threshold.</td>
    <td class="lineNumber">3619</td>
    <td class="codeline">  // a partial unswitch when possible below the threshold.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3620</td>
    <td class="codeline">  if (unswitchBestCondition(L, DT, LI, AC, AA, TTI, UnswitchCB, SE, MSSAU,</td>
    <td class="lineNumber">3620</td>
    <td class="codeline">  if (unswitchBestCondition(L, DT, LI, AC, AA, TTI, UnswitchCB, SE, MSSAU,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3621</td>
    <td class="codeline">                            DestroyLoopCB))</td>
    <td class="lineNumber">3621</td>
    <td class="codeline">                            DestroyLoopCB))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3622</td>
    <td class="codeline">    return true;</td>
    <td class="lineNumber">3622</td>
    <td class="codeline">    return true;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3623</td>
    <td class="codeline"></td>
    <td class="lineNumber">3623</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3624</td>
    <td class="codeline">  // No other opportunities to unswitch.</td>
    <td class="lineNumber">3624</td>
    <td class="codeline">  // No other opportunities to unswitch.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3625</td>
    <td class="codeline">  return false;</td>
    <td class="lineNumber">3625</td>
    <td class="codeline">  return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3626</td>
    <td class="codeline">}</td>
    <td class="lineNumber">3626</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3627</td>
    <td class="codeline"></td>
    <td class="lineNumber">3627</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3628</td>
    <td class="codeline">PreservedAnalyses SimpleLoopUnswitchPass::run(Loop &L, LoopAnalysisManager &AM,</td>
    <td class="lineNumber">3628</td>
    <td class="codeline">PreservedAnalyses SimpleLoopUnswitchPass::run(Loop &L, LoopAnalysisManager &AM,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3629</td>
    <td class="codeline">                                              LoopStandardAnalysisResults &AR,</td>
    <td class="lineNumber">3629</td>
    <td class="codeline">                                              LoopStandardAnalysisResults &AR,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3630</td>
    <td class="codeline">                                              LPMUpdater &U) {</td>
    <td class="lineNumber">3630</td>
    <td class="codeline">                                              LPMUpdater &U) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3631</td>
    <td class="codeline">  Function &F = *L.getHeader()->getParent();</td>
    <td class="lineNumber">3631</td>
    <td class="codeline">  Function &F = *L.getHeader()->getParent();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3632</td>
    <td class="codeline">  (void)F;</td>
    <td class="lineNumber">3632</td>
    <td class="codeline">  (void)F;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3633</td>
    <td class="codeline">  ProfileSummaryInfo *PSI = nullptr;</td>
    <td class="lineNumber">3633</td>
    <td class="codeline">  ProfileSummaryInfo *PSI = nullptr;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3634</td>
    <td class="codeline">  if (auto OuterProxy =</td>
    <td class="lineNumber">3634</td>
    <td class="codeline">  if (auto OuterProxy =</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3635</td>
    <td class="codeline">          AM.getResult<FunctionAnalysisManagerLoopProxy>(L, AR)</td>
    <td class="lineNumber">3635</td>
    <td class="codeline">          AM.getResult<FunctionAnalysisManagerLoopProxy>(L, AR)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3636</td>
    <td class="codeline">              .getCachedResult<ModuleAnalysisManagerFunctionProxy>(F))</td>
    <td class="lineNumber">3636</td>
    <td class="codeline">              .getCachedResult<ModuleAnalysisManagerFunctionProxy>(F))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3637</td>
    <td class="codeline">    PSI = OuterProxy->getCachedResult<ProfileSummaryAnalysis>(*F.getParent());</td>
    <td class="lineNumber">3637</td>
    <td class="codeline">    PSI = OuterProxy->getCachedResult<ProfileSummaryAnalysis>(*F.getParent());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3638</td>
    <td class="codeline">  LLVM_DEBUG(dbgs() << "Unswitching loop in " << F.getName() << ": " << L</td>
    <td class="lineNumber">3638</td>
    <td class="codeline">  LLVM_DEBUG(dbgs() << "Unswitching loop in " << F.getName() << ": " << L</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3639</td>
    <td class="codeline">                    << "\n");</td>
    <td class="lineNumber">3639</td>
    <td class="codeline">                    << "\n");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3640</td>
    <td class="codeline"></td>
    <td class="lineNumber">3640</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3641</td>
    <td class="codeline">  // Save the current loop name in a variable so that we can report it even</td>
    <td class="lineNumber">3641</td>
    <td class="codeline">  // Save the current loop name in a variable so that we can report it even</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3642</td>
    <td class="codeline">  // after it has been deleted.</td>
    <td class="lineNumber">3642</td>
    <td class="codeline">  // after it has been deleted.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3643</td>
    <td class="codeline">  std::string LoopName = std::string(L.getName());</td>
    <td class="lineNumber">3643</td>
    <td class="codeline">  std::string LoopName = std::string(L.getName());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3644</td>
    <td class="codeline"></td>
    <td class="lineNumber">3644</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3645</td>
    <td class="codeline">  auto UnswitchCB = [&L, &U, &LoopName](bool CurrentLoopValid,</td>
    <td class="lineNumber">3645</td>
    <td class="codeline">  auto UnswitchCB = [&L, &U, &LoopName](bool CurrentLoopValid,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3646</td>
    <td class="codeline">                                        bool PartiallyInvariant,</td>
    <td class="lineNumber">3646</td>
    <td class="codeline">                                        bool PartiallyInvariant,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3647</td>
    <td class="codeline">                                        ArrayRef<Loop *> NewLoops) {</td>
    <td class="lineNumber">3647</td>
    <td class="codeline">                                        ArrayRef<Loop *> NewLoops) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3648</td>
    <td class="codeline">    // If we did a non-trivial unswitch, we have added new (cloned) loops.</td>
    <td class="lineNumber">3648</td>
    <td class="codeline">    // If we did a non-trivial unswitch, we have added new (cloned) loops.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3649</td>
    <td class="codeline">    if (!NewLoops.empty())</td>
    <td class="lineNumber">3649</td>
    <td class="codeline">    if (!NewLoops.empty())</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3650</td>
    <td class="codeline">      U.addSiblingLoops(NewLoops);</td>
    <td class="lineNumber">3650</td>
    <td class="codeline">      U.addSiblingLoops(NewLoops);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3651</td>
    <td class="codeline"></td>
    <td class="lineNumber">3651</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3652</td>
    <td class="codeline">    // If the current loop remains valid, we should revisit it to catch any</td>
    <td class="lineNumber">3652</td>
    <td class="codeline">    // If the current loop remains valid, we should revisit it to catch any</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3653</td>
    <td class="codeline">    // other unswitch opportunities. Otherwise, we need to mark it as deleted.</td>
    <td class="lineNumber">3653</td>
    <td class="codeline">    // other unswitch opportunities. Otherwise, we need to mark it as deleted.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3654</td>
    <td class="codeline">    if (CurrentLoopValid) {</td>
    <td class="lineNumber">3654</td>
    <td class="codeline">    if (CurrentLoopValid) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3655</td>
    <td class="codeline">      if (PartiallyInvariant) {</td>
    <td class="lineNumber">3655</td>
    <td class="codeline">      if (PartiallyInvariant) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3656</td>
    <td class="codeline">        // Mark the new loop as partially unswitched, to avoid unswitching on</td>
    <td class="lineNumber">3656</td>
    <td class="codeline">        // Mark the new loop as partially unswitched, to avoid unswitching on</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3657</td>
    <td class="codeline">        // the same condition again.</td>
    <td class="lineNumber">3657</td>
    <td class="codeline">        // the same condition again.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3658</td>
    <td class="codeline">        auto &Context = L.getHeader()->getContext();</td>
    <td class="lineNumber">3658</td>
    <td class="codeline">        auto &Context = L.getHeader()->getContext();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3659</td>
    <td class="codeline">        MDNode *DisableUnswitchMD = MDNode::get(</td>
    <td class="lineNumber">3659</td>
    <td class="codeline">        MDNode *DisableUnswitchMD = MDNode::get(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3660</td>
    <td class="codeline">            Context,</td>
    <td class="lineNumber">3660</td>
    <td class="codeline">            Context,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3661</td>
    <td class="codeline">            MDString::get(Context, "llvm.loop.unswitch.partial.disable"));</td>
    <td class="lineNumber">3661</td>
    <td class="codeline">            MDString::get(Context, "llvm.loop.unswitch.partial.disable"));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3662</td>
    <td class="codeline">        MDNode *NewLoopID = makePostTransformationMetadata(</td>
    <td class="lineNumber">3662</td>
    <td class="codeline">        MDNode *NewLoopID = makePostTransformationMetadata(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3663</td>
    <td class="codeline">            Context, L.getLoopID(), {"llvm.loop.unswitch.partial"},</td>
    <td class="lineNumber">3663</td>
    <td class="codeline">            Context, L.getLoopID(), {"llvm.loop.unswitch.partial"},</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3664</td>
    <td class="codeline">            {DisableUnswitchMD});</td>
    <td class="lineNumber">3664</td>
    <td class="codeline">            {DisableUnswitchMD});</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3665</td>
    <td class="codeline">        L.setLoopID(NewLoopID);</td>
    <td class="lineNumber">3665</td>
    <td class="codeline">        L.setLoopID(NewLoopID);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3666</td>
    <td class="codeline">      } else</td>
    <td class="lineNumber">3666</td>
    <td class="codeline">      } else</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3667</td>
    <td class="codeline">        U.revisitCurrentLoop();</td>
    <td class="lineNumber">3667</td>
    <td class="codeline">        U.revisitCurrentLoop();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3668</td>
    <td class="codeline">    } else</td>
    <td class="lineNumber">3668</td>
    <td class="codeline">    } else</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3669</td>
    <td class="codeline">      U.markLoopAsDeleted(L, LoopName);</td>
    <td class="lineNumber">3669</td>
    <td class="codeline">      U.markLoopAsDeleted(L, LoopName);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3670</td>
    <td class="codeline">  };</td>
    <td class="lineNumber">3670</td>
    <td class="codeline">  };</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3671</td>
    <td class="codeline"></td>
    <td class="lineNumber">3671</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3672</td>
    <td class="codeline">  auto DestroyLoopCB = [&U](Loop &L, StringRef Name) {</td>
    <td class="lineNumber">3672</td>
    <td class="codeline">  auto DestroyLoopCB = [&U](Loop &L, StringRef Name) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3673</td>
    <td class="codeline">    U.markLoopAsDeleted(L, Name);</td>
    <td class="lineNumber">3673</td>
    <td class="codeline">    U.markLoopAsDeleted(L, Name);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3674</td>
    <td class="codeline">  };</td>
    <td class="lineNumber">3674</td>
    <td class="codeline">  };</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3675</td>
    <td class="codeline"></td>
    <td class="lineNumber">3675</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3676</td>
    <td class="codeline">  std::optional<MemorySSAUpdater> MSSAU;</td>
    <td class="lineNumber">3676</td>
    <td class="codeline">  std::optional<MemorySSAUpdater> MSSAU;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3677</td>
    <td class="codeline">  if (AR.MSSA) {</td>
    <td class="lineNumber">3677</td>
    <td class="codeline">  if (AR.MSSA) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3678</td>
    <td class="codeline">    MSSAU = MemorySSAUpdater(AR.MSSA);</td>
    <td class="lineNumber">3678</td>
    <td class="codeline">    MSSAU = MemorySSAUpdater(AR.MSSA);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3679</td>
    <td class="codeline">    if (VerifyMemorySSA)</td>
    <td class="lineNumber">3679</td>
    <td class="codeline">    if (VerifyMemorySSA)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3680</td>
    <td class="codeline">      AR.MSSA->verifyMemorySSA();</td>
    <td class="lineNumber">3680</td>
    <td class="codeline">      AR.MSSA->verifyMemorySSA();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3681</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">3681</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3682</td>
    <td class="codeline">  if (!unswitchLoop(L, AR.DT, AR.LI, AR.AC, AR.AA, AR.TTI, Trivial, NonTrivial,</td>
    <td class="lineNumber">3682</td>
    <td class="codeline">  if (!unswitchLoop(L, AR.DT, AR.LI, AR.AC, AR.AA, AR.TTI, Trivial, NonTrivial,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3683</td>
    <td class="codeline">                    UnswitchCB, &AR.SE, MSSAU ? &*MSSAU : nullptr, PSI, AR.BFI,</td>
    <td class="lineNumber">3683</td>
    <td class="codeline">                    UnswitchCB, &AR.SE, MSSAU ? &*MSSAU : nullptr, PSI, AR.BFI,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3684</td>
    <td class="codeline">                    DestroyLoopCB))</td>
    <td class="lineNumber">3684</td>
    <td class="codeline">                    DestroyLoopCB))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3685</td>
    <td class="codeline">    return PreservedAnalyses::all();</td>
    <td class="lineNumber">3685</td>
    <td class="codeline">    return PreservedAnalyses::all();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3686</td>
    <td class="codeline"></td>
    <td class="lineNumber">3686</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3687</td>
    <td class="codeline">  if (AR.MSSA && VerifyMemorySSA)</td>
    <td class="lineNumber">3687</td>
    <td class="codeline">  if (AR.MSSA && VerifyMemorySSA)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3688</td>
    <td class="codeline">    AR.MSSA->verifyMemorySSA();</td>
    <td class="lineNumber">3688</td>
    <td class="codeline">    AR.MSSA->verifyMemorySSA();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3689</td>
    <td class="codeline"></td>
    <td class="lineNumber">3689</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3690</td>
    <td class="codeline">  // Historically this pass has had issues with the dominator tree so verify it</td>
    <td class="lineNumber">3690</td>
    <td class="codeline">  // Historically this pass has had issues with the dominator tree so verify it</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3691</td>
    <td class="codeline">  // in asserts builds.</td>
    <td class="lineNumber">3691</td>
    <td class="codeline">  // in asserts builds.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3692</td>
    <td class="codeline">  assert(AR.DT.verify(DominatorTree::VerificationLevel::Fast));</td>
    <td class="lineNumber">3692</td>
    <td class="codeline">  assert(AR.DT.verify(DominatorTree::VerificationLevel::Fast));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3693</td>
    <td class="codeline"></td>
    <td class="lineNumber">3693</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3694</td>
    <td class="codeline">  auto PA = getLoopPassPreservedAnalyses();</td>
    <td class="lineNumber">3694</td>
    <td class="codeline">  auto PA = getLoopPassPreservedAnalyses();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3695</td>
    <td class="codeline">  if (AR.MSSA)</td>
    <td class="lineNumber">3695</td>
    <td class="codeline">  if (AR.MSSA)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3696</td>
    <td class="codeline">    PA.preserve<MemorySSAAnalysis>();</td>
    <td class="lineNumber">3696</td>
    <td class="codeline">    PA.preserve<MemorySSAAnalysis>();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3697</td>
    <td class="codeline">  return PA;</td>
    <td class="lineNumber">3697</td>
    <td class="codeline">  return PA;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3698</td>
    <td class="codeline">}</td>
    <td class="lineNumber">3698</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3699</td>
    <td class="codeline"></td>
    <td class="lineNumber">3699</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3700</td>
    <td class="codeline">void SimpleLoopUnswitchPass::printPipeline(</td>
    <td class="lineNumber">3700</td>
    <td class="codeline">void SimpleLoopUnswitchPass::printPipeline(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3701</td>
    <td class="codeline">    raw_ostream &OS, function_ref<StringRef(StringRef)> MapClassName2PassName) {</td>
    <td class="lineNumber">3701</td>
    <td class="codeline">    raw_ostream &OS, function_ref<StringRef(StringRef)> MapClassName2PassName) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3702</td>
    <td class="codeline">  static_cast<PassInfoMixin<SimpleLoopUnswitchPass> *>(this)->printPipeline(</td>
    <td class="lineNumber">3702</td>
    <td class="codeline">  static_cast<PassInfoMixin<SimpleLoopUnswitchPass> *>(this)->printPipeline(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3703</td>
    <td class="codeline">      OS, MapClassName2PassName);</td>
    <td class="lineNumber">3703</td>
    <td class="codeline">      OS, MapClassName2PassName);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3704</td>
    <td class="codeline"></td>
    <td class="lineNumber">3704</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3705</td>
    <td class="codeline">  OS << '<';</td>
    <td class="lineNumber">3705</td>
    <td class="codeline">  OS << '<';</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3706</td>
    <td class="codeline">  OS << (NonTrivial ? "" : "no-") << "nontrivial;";</td>
    <td class="lineNumber">3706</td>
    <td class="codeline">  OS << (NonTrivial ? "" : "no-") << "nontrivial;";</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3707</td>
    <td class="codeline">  OS << (Trivial ? "" : "no-") << "trivial";</td>
    <td class="lineNumber">3707</td>
    <td class="codeline">  OS << (Trivial ? "" : "no-") << "trivial";</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3708</td>
    <td class="codeline">  OS << '>';</td>
    <td class="lineNumber">3708</td>
    <td class="codeline">  OS << '>';</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3709</td>
    <td class="codeline">}</td>
    <td class="lineNumber">3709</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3710</td>
    <td class="codeline"></td>
    <td class="lineNumber">3710</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3711</td>
    <td class="codeline">namespace {</td>
    <td class="lineNumber">3711</td>
    <td class="codeline">namespace {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3712</td>
    <td class="codeline"></td>
    <td class="lineNumber">3712</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3713</td>
    <td class="codeline">class SimpleLoopUnswitchLegacyPass : public LoopPass {</td>
    <td class="lineNumber">3713</td>
    <td class="codeline">class SimpleLoopUnswitchLegacyPass : public LoopPass {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3714</td>
    <td class="codeline">  bool NonTrivial;</td>
    <td class="lineNumber">3714</td>
    <td class="codeline">  bool NonTrivial;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3715</td>
    <td class="codeline"></td>
    <td class="lineNumber">3715</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3716</td>
    <td class="codeline">public:</td>
    <td class="lineNumber">3716</td>
    <td class="codeline">public:</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3717</td>
    <td class="codeline">  static char ID; // Pass ID, replacement for typeid</td>
    <td class="lineNumber">3717</td>
    <td class="codeline">  static char ID; // Pass ID, replacement for typeid</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3718</td>
    <td class="codeline"></td>
    <td class="lineNumber">3718</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3719</td>
    <td class="codeline">  explicit SimpleLoopUnswitchLegacyPass(bool NonTrivial = false)</td>
    <td class="lineNumber">3719</td>
    <td class="codeline">  explicit SimpleLoopUnswitchLegacyPass(bool NonTrivial = false)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3720</td>
    <td class="codeline">      : LoopPass(ID), NonTrivial(NonTrivial) {</td>
    <td class="lineNumber">3720</td>
    <td class="codeline">      : LoopPass(ID), NonTrivial(NonTrivial) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3721</td>
    <td class="codeline">    initializeSimpleLoopUnswitchLegacyPassPass(</td>
    <td class="lineNumber">3721</td>
    <td class="codeline">    initializeSimpleLoopUnswitchLegacyPassPass(</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3722</td>
    <td class="codeline">        *PassRegistry::getPassRegistry());</td>
    <td class="lineNumber">3722</td>
    <td class="codeline">        *PassRegistry::getPassRegistry());</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3723</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">3723</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3724</td>
    <td class="codeline"></td>
    <td class="lineNumber">3724</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3725</td>
    <td class="codeline">  bool runOnLoop(Loop *L, LPPassManager &LPM) override;</td>
    <td class="lineNumber">3725</td>
    <td class="codeline">  bool runOnLoop(Loop *L, LPPassManager &LPM) override;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3726</td>
    <td class="codeline"></td>
    <td class="lineNumber">3726</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3727</td>
    <td class="codeline">  void getAnalysisUsage(AnalysisUsage &AU) const override {</td>
    <td class="lineNumber">3727</td>
    <td class="codeline">  void getAnalysisUsage(AnalysisUsage &AU) const override {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3728</td>
    <td class="codeline">    AU.addRequired<AssumptionCacheTracker>();</td>
    <td class="lineNumber">3728</td>
    <td class="codeline">    AU.addRequired<AssumptionCacheTracker>();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3729</td>
    <td class="codeline">    AU.addRequired<TargetTransformInfoWrapperPass>();</td>
    <td class="lineNumber">3729</td>
    <td class="codeline">    AU.addRequired<TargetTransformInfoWrapperPass>();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3730</td>
    <td class="codeline">    AU.addRequired<MemorySSAWrapperPass>();</td>
    <td class="lineNumber">3730</td>
    <td class="codeline">    AU.addRequired<MemorySSAWrapperPass>();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3731</td>
    <td class="codeline">    AU.addPreserved<MemorySSAWrapperPass>();</td>
    <td class="lineNumber">3731</td>
    <td class="codeline">    AU.addPreserved<MemorySSAWrapperPass>();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3732</td>
    <td class="codeline">    getLoopAnalysisUsage(AU);</td>
    <td class="lineNumber">3732</td>
    <td class="codeline">    getLoopAnalysisUsage(AU);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3733</td>
    <td class="codeline">  }</td>
    <td class="lineNumber">3733</td>
    <td class="codeline">  }</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3734</td>
    <td class="codeline">};</td>
    <td class="lineNumber">3734</td>
    <td class="codeline">};</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3735</td>
    <td class="codeline"></td>
    <td class="lineNumber">3735</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3736</td>
    <td class="codeline">} // end anonymous namespace</td>
    <td class="lineNumber">3736</td>
    <td class="codeline">} // end anonymous namespace</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3737</td>
    <td class="codeline"></td>
    <td class="lineNumber">3737</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3738</td>
    <td class="codeline">bool SimpleLoopUnswitchLegacyPass::runOnLoop(Loop *L, LPPassManager &LPM) {</td>
    <td class="lineNumber">3738</td>
    <td class="codeline">bool SimpleLoopUnswitchLegacyPass::runOnLoop(Loop *L, LPPassManager &LPM) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3739</td>
    <td class="codeline">  if (skipLoop(L))</td>
    <td class="lineNumber">3739</td>
    <td class="codeline">  if (skipLoop(L))</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3740</td>
    <td class="codeline">    return false;</td>
    <td class="lineNumber">3740</td>
    <td class="codeline">    return false;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3741</td>
    <td class="codeline"></td>
    <td class="lineNumber">3741</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3742</td>
    <td class="codeline">  Function &F = *L->getHeader()->getParent();</td>
    <td class="lineNumber">3742</td>
    <td class="codeline">  Function &F = *L->getHeader()->getParent();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3743</td>
    <td class="codeline"></td>
    <td class="lineNumber">3743</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3744</td>
    <td class="codeline">  LLVM_DEBUG(dbgs() << "Unswitching loop in " << F.getName() << ": " << *L</td>
    <td class="lineNumber">3744</td>
    <td class="codeline">  LLVM_DEBUG(dbgs() << "Unswitching loop in " << F.getName() << ": " << *L</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3745</td>
    <td class="codeline">                    << "\n");</td>
    <td class="lineNumber">3745</td>
    <td class="codeline">                    << "\n");</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3746</td>
    <td class="codeline">  auto &DT = getAnalysis<DominatorTreeWrapperPass>().getDomTree();</td>
    <td class="lineNumber">3746</td>
    <td class="codeline">  auto &DT = getAnalysis<DominatorTreeWrapperPass>().getDomTree();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3747</td>
    <td class="codeline">  auto &LI = getAnalysis<LoopInfoWrapperPass>().getLoopInfo();</td>
    <td class="lineNumber">3747</td>
    <td class="codeline">  auto &LI = getAnalysis<LoopInfoWrapperPass>().getLoopInfo();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3748</td>
    <td class="codeline">  auto &AC = getAnalysis<AssumptionCacheTracker>().getAssumptionCache(F);</td>
    <td class="lineNumber">3748</td>
    <td class="codeline">  auto &AC = getAnalysis<AssumptionCacheTracker>().getAssumptionCache(F);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3749</td>
    <td class="codeline">  auto &AA = getAnalysis<AAResultsWrapperPass>().getAAResults();</td>
    <td class="lineNumber">3749</td>
    <td class="codeline">  auto &AA = getAnalysis<AAResultsWrapperPass>().getAAResults();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3750</td>
    <td class="codeline">  auto &TTI = getAnalysis<TargetTransformInfoWrapperPass>().getTTI(F);</td>
    <td class="lineNumber">3750</td>
    <td class="codeline">  auto &TTI = getAnalysis<TargetTransformInfoWrapperPass>().getTTI(F);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3751</td>
    <td class="codeline">  MemorySSA *MSSA = &getAnalysis<MemorySSAWrapperPass>().getMSSA();</td>
    <td class="lineNumber">3751</td>
    <td class="codeline">  MemorySSA *MSSA = &getAnalysis<MemorySSAWrapperPass>().getMSSA();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3752</td>
    <td class="codeline">  MemorySSAUpdater MSSAU(MSSA);</td>
    <td class="lineNumber">3752</td>
    <td class="codeline">  MemorySSAUpdater MSSAU(MSSA);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3753</td>
    <td class="codeline"></td>
    <td class="lineNumber">3753</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3754</td>
    <td class="codeline">  auto *SEWP = getAnalysisIfAvailable<ScalarEvolutionWrapperPass>();</td>
    <td class="lineNumber">3754</td>
    <td class="codeline">  auto *SEWP = getAnalysisIfAvailable<ScalarEvolutionWrapperPass>();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3755</td>
    <td class="codeline">  auto *SE = SEWP ? &SEWP->getSE() : nullptr;</td>
    <td class="lineNumber">3755</td>
    <td class="codeline">  auto *SE = SEWP ? &SEWP->getSE() : nullptr;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3756</td>
    <td class="codeline"></td>
    <td class="lineNumber">3756</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3757</td>
    <td class="codeline">  auto UnswitchCB = [&L, &LPM](bool CurrentLoopValid, bool PartiallyInvariant,</td>
    <td class="lineNumber">3757</td>
    <td class="codeline">  auto UnswitchCB = [&L, &LPM](bool CurrentLoopValid, bool PartiallyInvariant,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3758</td>
    <td class="codeline">                               ArrayRef<Loop *> NewLoops) {</td>
    <td class="lineNumber">3758</td>
    <td class="codeline">                               ArrayRef<Loop *> NewLoops) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3759</td>
    <td class="codeline">    // If we did a non-trivial unswitch, we have added new (cloned) loops.</td>
    <td class="lineNumber">3759</td>
    <td class="codeline">    // If we did a non-trivial unswitch, we have added new (cloned) loops.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3760</td>
    <td class="codeline">    for (auto *NewL : NewLoops)</td>
    <td class="lineNumber">3760</td>
    <td class="codeline">    for (auto *NewL : NewLoops)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3761</td>
    <td class="codeline">      LPM.addLoop(*NewL);</td>
    <td class="lineNumber">3761</td>
    <td class="codeline">      LPM.addLoop(*NewL);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3762</td>
    <td class="codeline"></td>
    <td class="lineNumber">3762</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3763</td>
    <td class="codeline">    // If the current loop remains valid, re-add it to the queue. This is</td>
    <td class="lineNumber">3763</td>
    <td class="codeline">    // If the current loop remains valid, re-add it to the queue. This is</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3764</td>
    <td class="codeline">    // a little wasteful as we'll finish processing the current loop as well,</td>
    <td class="lineNumber">3764</td>
    <td class="codeline">    // a little wasteful as we'll finish processing the current loop as well,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3765</td>
    <td class="codeline">    // but it is the best we can do in the old PM.</td>
    <td class="lineNumber">3765</td>
    <td class="codeline">    // but it is the best we can do in the old PM.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3766</td>
    <td class="codeline">    if (CurrentLoopValid) {</td>
    <td class="lineNumber">3766</td>
    <td class="codeline">    if (CurrentLoopValid) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3767</td>
    <td class="codeline">      // If the current loop has been unswitched using a partially invariant</td>
    <td class="lineNumber">3767</td>
    <td class="codeline">      // If the current loop has been unswitched using a partially invariant</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3768</td>
    <td class="codeline">      // condition, we should not re-add the current loop to avoid unswitching</td>
    <td class="lineNumber">3768</td>
    <td class="codeline">      // condition, we should not re-add the current loop to avoid unswitching</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3769</td>
    <td class="codeline">      // on the same condition again.</td>
    <td class="lineNumber">3769</td>
    <td class="codeline">      // on the same condition again.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3770</td>
    <td class="codeline">      if (!PartiallyInvariant)</td>
    <td class="lineNumber">3770</td>
    <td class="codeline">      if (!PartiallyInvariant)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3771</td>
    <td class="codeline">        LPM.addLoop(*L);</td>
    <td class="lineNumber">3771</td>
    <td class="codeline">        LPM.addLoop(*L);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3772</td>
    <td class="codeline">    } else</td>
    <td class="lineNumber">3772</td>
    <td class="codeline">    } else</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3773</td>
    <td class="codeline">      LPM.markLoopAsDeleted(*L);</td>
    <td class="lineNumber">3773</td>
    <td class="codeline">      LPM.markLoopAsDeleted(*L);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3774</td>
    <td class="codeline">  };</td>
    <td class="lineNumber">3774</td>
    <td class="codeline">  };</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3775</td>
    <td class="codeline"></td>
    <td class="lineNumber">3775</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3776</td>
    <td class="codeline">  auto DestroyLoopCB = [&LPM](Loop &L, StringRef /* Name */) {</td>
    <td class="lineNumber">3776</td>
    <td class="codeline">  auto DestroyLoopCB = [&LPM](Loop &L, StringRef /* Name */) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3777</td>
    <td class="codeline">    LPM.markLoopAsDeleted(L);</td>
    <td class="lineNumber">3777</td>
    <td class="codeline">    LPM.markLoopAsDeleted(L);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3778</td>
    <td class="codeline">  };</td>
    <td class="lineNumber">3778</td>
    <td class="codeline">  };</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3779</td>
    <td class="codeline"></td>
    <td class="lineNumber">3779</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3780</td>
    <td class="codeline">  if (VerifyMemorySSA)</td>
    <td class="lineNumber">3780</td>
    <td class="codeline">  if (VerifyMemorySSA)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3781</td>
    <td class="codeline">    MSSA->verifyMemorySSA();</td>
    <td class="lineNumber">3781</td>
    <td class="codeline">    MSSA->verifyMemorySSA();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3782</td>
    <td class="codeline">  bool Changed =</td>
    <td class="lineNumber">3782</td>
    <td class="codeline">  bool Changed =</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3783</td>
    <td class="codeline">      unswitchLoop(*L, DT, LI, AC, AA, TTI, true, NonTrivial, UnswitchCB, SE,</td>
    <td class="lineNumber">3783</td>
    <td class="codeline">      unswitchLoop(*L, DT, LI, AC, AA, TTI, true, NonTrivial, UnswitchCB, SE,</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3784</td>
    <td class="codeline">                   &MSSAU, nullptr, nullptr, DestroyLoopCB);</td>
    <td class="lineNumber">3784</td>
    <td class="codeline">                   &MSSAU, nullptr, nullptr, DestroyLoopCB);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3785</td>
    <td class="codeline"></td>
    <td class="lineNumber">3785</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3786</td>
    <td class="codeline">  if (VerifyMemorySSA)</td>
    <td class="lineNumber">3786</td>
    <td class="codeline">  if (VerifyMemorySSA)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3787</td>
    <td class="codeline">    MSSA->verifyMemorySSA();</td>
    <td class="lineNumber">3787</td>
    <td class="codeline">    MSSA->verifyMemorySSA();</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3788</td>
    <td class="codeline"></td>
    <td class="lineNumber">3788</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3789</td>
    <td class="codeline">  // Historically this pass has had issues with the dominator tree so verify it</td>
    <td class="lineNumber">3789</td>
    <td class="codeline">  // Historically this pass has had issues with the dominator tree so verify it</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3790</td>
    <td class="codeline">  // in asserts builds.</td>
    <td class="lineNumber">3790</td>
    <td class="codeline">  // in asserts builds.</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3791</td>
    <td class="codeline">  assert(DT.verify(DominatorTree::VerificationLevel::Fast));</td>
    <td class="lineNumber">3791</td>
    <td class="codeline">  assert(DT.verify(DominatorTree::VerificationLevel::Fast));</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3792</td>
    <td class="codeline"></td>
    <td class="lineNumber">3792</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3793</td>
    <td class="codeline">  return Changed;</td>
    <td class="lineNumber">3793</td>
    <td class="codeline">  return Changed;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3794</td>
    <td class="codeline">}</td>
    <td class="lineNumber">3794</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3795</td>
    <td class="codeline"></td>
    <td class="lineNumber">3795</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3796</td>
    <td class="codeline">char SimpleLoopUnswitchLegacyPass::ID = 0;</td>
    <td class="lineNumber">3796</td>
    <td class="codeline">char SimpleLoopUnswitchLegacyPass::ID = 0;</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3797</td>
    <td class="codeline">INITIALIZE_PASS_BEGIN(SimpleLoopUnswitchLegacyPass, "simple-loop-unswitch",</td>
    <td class="lineNumber">3797</td>
    <td class="codeline">INITIALIZE_PASS_BEGIN(SimpleLoopUnswitchLegacyPass, "simple-loop-unswitch",</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3798</td>
    <td class="codeline">                      "Simple unswitch loops", false, false)</td>
    <td class="lineNumber">3798</td>
    <td class="codeline">                      "Simple unswitch loops", false, false)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3799</td>
    <td class="codeline">INITIALIZE_PASS_DEPENDENCY(AssumptionCacheTracker)</td>
    <td class="lineNumber">3799</td>
    <td class="codeline">INITIALIZE_PASS_DEPENDENCY(AssumptionCacheTracker)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3800</td>
    <td class="codeline">INITIALIZE_PASS_DEPENDENCY(DominatorTreeWrapperPass)</td>
    <td class="lineNumber">3800</td>
    <td class="codeline">INITIALIZE_PASS_DEPENDENCY(DominatorTreeWrapperPass)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3801</td>
    <td class="codeline">INITIALIZE_PASS_DEPENDENCY(LoopInfoWrapperPass)</td>
    <td class="lineNumber">3801</td>
    <td class="codeline">INITIALIZE_PASS_DEPENDENCY(LoopInfoWrapperPass)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3802</td>
    <td class="codeline">INITIALIZE_PASS_DEPENDENCY(LoopPass)</td>
    <td class="lineNumber">3802</td>
    <td class="codeline">INITIALIZE_PASS_DEPENDENCY(LoopPass)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3803</td>
    <td class="codeline">INITIALIZE_PASS_DEPENDENCY(MemorySSAWrapperPass)</td>
    <td class="lineNumber">3803</td>
    <td class="codeline">INITIALIZE_PASS_DEPENDENCY(MemorySSAWrapperPass)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3804</td>
    <td class="codeline">INITIALIZE_PASS_DEPENDENCY(TargetTransformInfoWrapperPass)</td>
    <td class="lineNumber">3804</td>
    <td class="codeline">INITIALIZE_PASS_DEPENDENCY(TargetTransformInfoWrapperPass)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3805</td>
    <td class="codeline">INITIALIZE_PASS_END(SimpleLoopUnswitchLegacyPass, "simple-loop-unswitch",</td>
    <td class="lineNumber">3805</td>
    <td class="codeline">INITIALIZE_PASS_END(SimpleLoopUnswitchLegacyPass, "simple-loop-unswitch",</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3806</td>
    <td class="codeline">                    "Simple unswitch loops", false, false)</td>
    <td class="lineNumber">3806</td>
    <td class="codeline">                    "Simple unswitch loops", false, false)</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3807</td>
    <td class="codeline"></td>
    <td class="lineNumber">3807</td>
    <td class="codeline"></td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3808</td>
    <td class="codeline">Pass *llvm::createSimpleLoopUnswitchLegacyPass(bool NonTrivial) {</td>
    <td class="lineNumber">3808</td>
    <td class="codeline">Pass *llvm::createSimpleLoopUnswitchLegacyPass(bool NonTrivial) {</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3809</td>
    <td class="codeline">  return new SimpleLoopUnswitchLegacyPass(NonTrivial);</td>
    <td class="lineNumber">3809</td>
    <td class="codeline">  return new SimpleLoopUnswitchLegacyPass(NonTrivial);</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3810</td>
    <td class="codeline">}</td>
    <td class="lineNumber">3810</td>
    <td class="codeline">}</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3811</td>
    <td class="codeline"></td>
    <td class="lineNumber">3811</td>
    <td class="codeline"></td>
  </tr>
</table>
    </div>
    <button class="collapsible" type="button">Open Side By Side Comparison</button>
    <div class="content" style="display: none;">
      <hr />
      <h3 class="subheader">Side By Side Comparison</h3>
      <table class="mainTable">
  <tr class="mainTr">
    <th class="mainTh">Line Number</th>
    <th class="mainTh">
      <span class="badge">../DebugInfoTest/example_mips_dbg.ll</span>
    </th>
    <th class="mainTh">Hit count</th>
    <th class="mainTh">Line Number</th>
    <th class="mainTh">
      <span class="badge">../DebugInfoTest/example_mips.ll</span>
    </th>
    <th class="mainTh">Hit count</th>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1</td>
    <td class="codeLine">///===- SimpleLoopUnswitch.cpp - Hoist loop-invariant control flow ---------===//</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1</td>
    <td class="codeLine">///===- SimpleLoopUnswitch.cpp - Hoist loop-invariant control flow ---------===//</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2</td>
    <td class="codeLine">//</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2</td>
    <td class="codeLine">//</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3</td>
    <td class="codeLine">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3</td>
    <td class="codeLine">// Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">4</td>
    <td class="codeLine">// See https://llvm.org/LICENSE.txt for license information.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">4</td>
    <td class="codeLine">// See https://llvm.org/LICENSE.txt for license information.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">5</td>
    <td class="codeLine">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">5</td>
    <td class="codeLine">// SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">6</td>
    <td class="codeLine">//</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">6</td>
    <td class="codeLine">//</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">7</td>
    <td class="codeLine">//===----------------------------------------------------------------------===//</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">7</td>
    <td class="codeLine">//===----------------------------------------------------------------------===//</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">8</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">8</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">9</td>
    <td class="codeLine">#include "llvm/Transforms/Scalar/SimpleLoopUnswitch.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">9</td>
    <td class="codeLine">#include "llvm/Transforms/Scalar/SimpleLoopUnswitch.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">10</td>
    <td class="codeLine">#include "llvm/ADT/DenseMap.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">10</td>
    <td class="codeLine">#include "llvm/ADT/DenseMap.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">11</td>
    <td class="codeLine">#include "llvm/ADT/STLExtras.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">11</td>
    <td class="codeLine">#include "llvm/ADT/STLExtras.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">12</td>
    <td class="codeLine">#include "llvm/ADT/Sequence.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">12</td>
    <td class="codeLine">#include "llvm/ADT/Sequence.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">13</td>
    <td class="codeLine">#include "llvm/ADT/SetVector.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">13</td>
    <td class="codeLine">#include "llvm/ADT/SetVector.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">14</td>
    <td class="codeLine">#include "llvm/ADT/SmallPtrSet.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">14</td>
    <td class="codeLine">#include "llvm/ADT/SmallPtrSet.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">15</td>
    <td class="codeLine">#include "llvm/ADT/SmallVector.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">15</td>
    <td class="codeLine">#include "llvm/ADT/SmallVector.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">16</td>
    <td class="codeLine">#include "llvm/ADT/Statistic.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">16</td>
    <td class="codeLine">#include "llvm/ADT/Statistic.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">17</td>
    <td class="codeLine">#include "llvm/ADT/Twine.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">17</td>
    <td class="codeLine">#include "llvm/ADT/Twine.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">18</td>
    <td class="codeLine">#include "llvm/Analysis/AssumptionCache.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">18</td>
    <td class="codeLine">#include "llvm/Analysis/AssumptionCache.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">19</td>
    <td class="codeLine">#include "llvm/Analysis/BlockFrequencyInfo.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">19</td>
    <td class="codeLine">#include "llvm/Analysis/BlockFrequencyInfo.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">20</td>
    <td class="codeLine">#include "llvm/Analysis/CFG.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">20</td>
    <td class="codeLine">#include "llvm/Analysis/CFG.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">21</td>
    <td class="codeLine">#include "llvm/Analysis/CodeMetrics.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">21</td>
    <td class="codeLine">#include "llvm/Analysis/CodeMetrics.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">22</td>
    <td class="codeLine">#include "llvm/Analysis/DomTreeUpdater.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">22</td>
    <td class="codeLine">#include "llvm/Analysis/DomTreeUpdater.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">23</td>
    <td class="codeLine">#include "llvm/Analysis/GuardUtils.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">23</td>
    <td class="codeLine">#include "llvm/Analysis/GuardUtils.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">24</td>
    <td class="codeLine">#include "llvm/Analysis/LoopAnalysisManager.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">24</td>
    <td class="codeLine">#include "llvm/Analysis/LoopAnalysisManager.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">25</td>
    <td class="codeLine">#include "llvm/Analysis/LoopInfo.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">25</td>
    <td class="codeLine">#include "llvm/Analysis/LoopInfo.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">26</td>
    <td class="codeLine">#include "llvm/Analysis/LoopIterator.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">26</td>
    <td class="codeLine">#include "llvm/Analysis/LoopIterator.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">27</td>
    <td class="codeLine">#include "llvm/Analysis/LoopPass.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">27</td>
    <td class="codeLine">#include "llvm/Analysis/LoopPass.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">28</td>
    <td class="codeLine">#include "llvm/Analysis/MemorySSA.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">28</td>
    <td class="codeLine">#include "llvm/Analysis/MemorySSA.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">29</td>
    <td class="codeLine">#include "llvm/Analysis/MemorySSAUpdater.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">29</td>
    <td class="codeLine">#include "llvm/Analysis/MemorySSAUpdater.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">30</td>
    <td class="codeLine">#include "llvm/Analysis/MustExecute.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">30</td>
    <td class="codeLine">#include "llvm/Analysis/MustExecute.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">31</td>
    <td class="codeLine">#include "llvm/Analysis/ProfileSummaryInfo.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">31</td>
    <td class="codeLine">#include "llvm/Analysis/ProfileSummaryInfo.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">32</td>
    <td class="codeLine">#include "llvm/Analysis/ScalarEvolution.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">32</td>
    <td class="codeLine">#include "llvm/Analysis/ScalarEvolution.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">33</td>
    <td class="codeLine">#include "llvm/Analysis/TargetTransformInfo.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">33</td>
    <td class="codeLine">#include "llvm/Analysis/TargetTransformInfo.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">34</td>
    <td class="codeLine">#include "llvm/Analysis/ValueTracking.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">34</td>
    <td class="codeLine">#include "llvm/Analysis/ValueTracking.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">35</td>
    <td class="codeLine">#include "llvm/IR/BasicBlock.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">35</td>
    <td class="codeLine">#include "llvm/IR/BasicBlock.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">36</td>
    <td class="codeLine">#include "llvm/IR/Constant.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">36</td>
    <td class="codeLine">#include "llvm/IR/Constant.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">37</td>
    <td class="codeLine">#include "llvm/IR/Constants.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">37</td>
    <td class="codeLine">#include "llvm/IR/Constants.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">38</td>
    <td class="codeLine">#include "llvm/IR/Dominators.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">38</td>
    <td class="codeLine">#include "llvm/IR/Dominators.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">39</td>
    <td class="codeLine">#include "llvm/IR/Function.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">39</td>
    <td class="codeLine">#include "llvm/IR/Function.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">40</td>
    <td class="codeLine">#include "llvm/IR/IRBuilder.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">40</td>
    <td class="codeLine">#include "llvm/IR/IRBuilder.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">41</td>
    <td class="codeLine">#include "llvm/IR/InstrTypes.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">41</td>
    <td class="codeLine">#include "llvm/IR/InstrTypes.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">42</td>
    <td class="codeLine">#include "llvm/IR/Instruction.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">42</td>
    <td class="codeLine">#include "llvm/IR/Instruction.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">43</td>
    <td class="codeLine">#include "llvm/IR/Instructions.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">43</td>
    <td class="codeLine">#include "llvm/IR/Instructions.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">44</td>
    <td class="codeLine">#include "llvm/IR/IntrinsicInst.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">44</td>
    <td class="codeLine">#include "llvm/IR/IntrinsicInst.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">45</td>
    <td class="codeLine">#include "llvm/IR/PatternMatch.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">45</td>
    <td class="codeLine">#include "llvm/IR/PatternMatch.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">46</td>
    <td class="codeLine">#include "llvm/IR/ProfDataUtils.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">46</td>
    <td class="codeLine">#include "llvm/IR/ProfDataUtils.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">47</td>
    <td class="codeLine">#include "llvm/IR/Use.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">47</td>
    <td class="codeLine">#include "llvm/IR/Use.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">48</td>
    <td class="codeLine">#include "llvm/IR/Value.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">48</td>
    <td class="codeLine">#include "llvm/IR/Value.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">49</td>
    <td class="codeLine">#include "llvm/InitializePasses.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">49</td>
    <td class="codeLine">#include "llvm/InitializePasses.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">50</td>
    <td class="codeLine">#include "llvm/Pass.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">50</td>
    <td class="codeLine">#include "llvm/Pass.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">51</td>
    <td class="codeLine">#include "llvm/Support/Casting.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">51</td>
    <td class="codeLine">#include "llvm/Support/Casting.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">52</td>
    <td class="codeLine">#include "llvm/Support/CommandLine.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">52</td>
    <td class="codeLine">#include "llvm/Support/CommandLine.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">53</td>
    <td class="codeLine">#include "llvm/Support/Debug.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">53</td>
    <td class="codeLine">#include "llvm/Support/Debug.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">54</td>
    <td class="codeLine">#include "llvm/Support/ErrorHandling.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">54</td>
    <td class="codeLine">#include "llvm/Support/ErrorHandling.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">55</td>
    <td class="codeLine">#include "llvm/Support/GenericDomTree.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">55</td>
    <td class="codeLine">#include "llvm/Support/GenericDomTree.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">56</td>
    <td class="codeLine">#include "llvm/Support/InstructionCost.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">56</td>
    <td class="codeLine">#include "llvm/Support/InstructionCost.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">57</td>
    <td class="codeLine">#include "llvm/Support/raw_ostream.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">57</td>
    <td class="codeLine">#include "llvm/Support/raw_ostream.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">58</td>
    <td class="codeLine">#include "llvm/Transforms/Scalar/LoopPassManager.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">58</td>
    <td class="codeLine">#include "llvm/Transforms/Scalar/LoopPassManager.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">59</td>
    <td class="codeLine">#include "llvm/Transforms/Utils/BasicBlockUtils.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">59</td>
    <td class="codeLine">#include "llvm/Transforms/Utils/BasicBlockUtils.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">60</td>
    <td class="codeLine">#include "llvm/Transforms/Utils/Cloning.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">60</td>
    <td class="codeLine">#include "llvm/Transforms/Utils/Cloning.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">61</td>
    <td class="codeLine">#include "llvm/Transforms/Utils/Local.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">61</td>
    <td class="codeLine">#include "llvm/Transforms/Utils/Local.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">62</td>
    <td class="codeLine">#include "llvm/Transforms/Utils/LoopUtils.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">62</td>
    <td class="codeLine">#include "llvm/Transforms/Utils/LoopUtils.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">63</td>
    <td class="codeLine">#include "llvm/Transforms/Utils/ValueMapper.h"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">63</td>
    <td class="codeLine">#include "llvm/Transforms/Utils/ValueMapper.h"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">64</td>
    <td class="codeLine">#include <algorithm></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">64</td>
    <td class="codeLine">#include <algorithm></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">65</td>
    <td class="codeLine">#include <cassert></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">65</td>
    <td class="codeLine">#include <cassert></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">66</td>
    <td class="codeLine">#include <iterator></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">66</td>
    <td class="codeLine">#include <iterator></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">67</td>
    <td class="codeLine">#include <numeric></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">67</td>
    <td class="codeLine">#include <numeric></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">68</td>
    <td class="codeLine">#include <optional></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">68</td>
    <td class="codeLine">#include <optional></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">69</td>
    <td class="codeLine">#include <utility></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">69</td>
    <td class="codeLine">#include <utility></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">70</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">70</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">71</td>
    <td class="codeLine">#define DEBUG_TYPE "simple-loop-unswitch"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">71</td>
    <td class="codeLine">#define DEBUG_TYPE "simple-loop-unswitch"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">72</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">72</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">73</td>
    <td class="codeLine">using namespace llvm;</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">73</td>
    <td class="codeLine">using namespace llvm;</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">74</td>
    <td class="codeLine">using namespace llvm::PatternMatch;</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">74</td>
    <td class="codeLine">using namespace llvm::PatternMatch;</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">75</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">75</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">76</td>
    <td class="codeLine">STATISTIC(NumBranches, "Number of branches unswitched");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">76</td>
    <td class="codeLine">STATISTIC(NumBranches, "Number of branches unswitched");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">77</td>
    <td class="codeLine">STATISTIC(NumSwitches, "Number of switches unswitched");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">77</td>
    <td class="codeLine">STATISTIC(NumSwitches, "Number of switches unswitched");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">78</td>
    <td class="codeLine">STATISTIC(NumSelects, "Number of selects turned into branches for unswitching");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">78</td>
    <td class="codeLine">STATISTIC(NumSelects, "Number of selects turned into branches for unswitching");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">79</td>
    <td class="codeLine">STATISTIC(NumGuards, "Number of guards turned into branches for unswitching");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">79</td>
    <td class="codeLine">STATISTIC(NumGuards, "Number of guards turned into branches for unswitching");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">80</td>
    <td class="codeLine">STATISTIC(NumTrivial, "Number of unswitches that are trivial");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">80</td>
    <td class="codeLine">STATISTIC(NumTrivial, "Number of unswitches that are trivial");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">81</td>
    <td class="codeLine">STATISTIC(</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">81</td>
    <td class="codeLine">STATISTIC(</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">82</td>
    <td class="codeLine">    NumCostMultiplierSkipped,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">82</td>
    <td class="codeLine">    NumCostMultiplierSkipped,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">83</td>
    <td class="codeLine">    "Number of unswitch candidates that had their cost multiplier skipped");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">83</td>
    <td class="codeLine">    "Number of unswitch candidates that had their cost multiplier skipped");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">84</td>
    <td class="codeLine">STATISTIC(NumInvariantConditionsInjected,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">84</td>
    <td class="codeLine">STATISTIC(NumInvariantConditionsInjected,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">85</td>
    <td class="codeLine">          "Number of invariant conditions injected and unswitched");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">85</td>
    <td class="codeLine">          "Number of invariant conditions injected and unswitched");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">86</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">86</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">87</td>
    <td class="codeLine">static cl::opt<bool> EnableNonTrivialUnswitch(</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">87</td>
    <td class="codeLine">static cl::opt<bool> EnableNonTrivialUnswitch(</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">88</td>
    <td class="codeLine">    "enable-nontrivial-unswitch", cl::init(false), cl::Hidden,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">88</td>
    <td class="codeLine">    "enable-nontrivial-unswitch", cl::init(false), cl::Hidden,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">89</td>
    <td class="codeLine">    cl::desc("Forcibly enables non-trivial loop unswitching rather than "</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">89</td>
    <td class="codeLine">    cl::desc("Forcibly enables non-trivial loop unswitching rather than "</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">90</td>
    <td class="codeLine">             "following the configuration passed into the pass."));</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">90</td>
    <td class="codeLine">             "following the configuration passed into the pass."));</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">91</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">91</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">92</td>
    <td class="codeLine">static cl::opt<int></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">92</td>
    <td class="codeLine">static cl::opt<int></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">93</td>
    <td class="codeLine">    UnswitchThreshold("unswitch-threshold", cl::init(50), cl::Hidden,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">93</td>
    <td class="codeLine">    UnswitchThreshold("unswitch-threshold", cl::init(50), cl::Hidden,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">94</td>
    <td class="codeLine">                      cl::desc("The cost threshold for unswitching a loop."));</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">94</td>
    <td class="codeLine">                      cl::desc("The cost threshold for unswitching a loop."));</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">95</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">95</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">96</td>
    <td class="codeLine">static cl::opt<bool> EnableUnswitchCostMultiplier(</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">96</td>
    <td class="codeLine">static cl::opt<bool> EnableUnswitchCostMultiplier(</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">97</td>
    <td class="codeLine">    "enable-unswitch-cost-multiplier", cl::init(true), cl::Hidden,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">97</td>
    <td class="codeLine">    "enable-unswitch-cost-multiplier", cl::init(true), cl::Hidden,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">98</td>
    <td class="codeLine">    cl::desc("Enable unswitch cost multiplier that prohibits exponential "</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">98</td>
    <td class="codeLine">    cl::desc("Enable unswitch cost multiplier that prohibits exponential "</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">99</td>
    <td class="codeLine">             "explosion in nontrivial unswitch."));</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">99</td>
    <td class="codeLine">             "explosion in nontrivial unswitch."));</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">100</td>
    <td class="codeLine">static cl::opt<int> UnswitchSiblingsToplevelDiv(</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">100</td>
    <td class="codeLine">static cl::opt<int> UnswitchSiblingsToplevelDiv(</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">101</td>
    <td class="codeLine">    "unswitch-siblings-toplevel-div", cl::init(2), cl::Hidden,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">101</td>
    <td class="codeLine">    "unswitch-siblings-toplevel-div", cl::init(2), cl::Hidden,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">102</td>
    <td class="codeLine">    cl::desc("Toplevel siblings divisor for cost multiplier."));</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">102</td>
    <td class="codeLine">    cl::desc("Toplevel siblings divisor for cost multiplier."));</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">103</td>
    <td class="codeLine">static cl::opt<int> UnswitchNumInitialUnscaledCandidates(</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">103</td>
    <td class="codeLine">static cl::opt<int> UnswitchNumInitialUnscaledCandidates(</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">104</td>
    <td class="codeLine">    "unswitch-num-initial-unscaled-candidates", cl::init(8), cl::Hidden,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">104</td>
    <td class="codeLine">    "unswitch-num-initial-unscaled-candidates", cl::init(8), cl::Hidden,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">105</td>
    <td class="codeLine">    cl::desc("Number of unswitch candidates that are ignored when calculating "</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">105</td>
    <td class="codeLine">    cl::desc("Number of unswitch candidates that are ignored when calculating "</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">106</td>
    <td class="codeLine">             "cost multiplier."));</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">106</td>
    <td class="codeLine">             "cost multiplier."));</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">107</td>
    <td class="codeLine">static cl::opt<bool> UnswitchGuards(</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">107</td>
    <td class="codeLine">static cl::opt<bool> UnswitchGuards(</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">108</td>
    <td class="codeLine">    "simple-loop-unswitch-guards", cl::init(true), cl::Hidden,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">108</td>
    <td class="codeLine">    "simple-loop-unswitch-guards", cl::init(true), cl::Hidden,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">109</td>
    <td class="codeLine">    cl::desc("If enabled, simple loop unswitching will also consider "</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">109</td>
    <td class="codeLine">    cl::desc("If enabled, simple loop unswitching will also consider "</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">110</td>
    <td class="codeLine">             "llvm.experimental.guard intrinsics as unswitch candidates."));</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">110</td>
    <td class="codeLine">             "llvm.experimental.guard intrinsics as unswitch candidates."));</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">111</td>
    <td class="codeLine">static cl::opt<bool> DropNonTrivialImplicitNullChecks(</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">111</td>
    <td class="codeLine">static cl::opt<bool> DropNonTrivialImplicitNullChecks(</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">112</td>
    <td class="codeLine">    "simple-loop-unswitch-drop-non-trivial-implicit-null-checks",</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">112</td>
    <td class="codeLine">    "simple-loop-unswitch-drop-non-trivial-implicit-null-checks",</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">113</td>
    <td class="codeLine">    cl::init(false), cl::Hidden,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">113</td>
    <td class="codeLine">    cl::init(false), cl::Hidden,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">114</td>
    <td class="codeLine">    cl::desc("If enabled, drop make.implicit metadata in unswitched implicit "</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">114</td>
    <td class="codeLine">    cl::desc("If enabled, drop make.implicit metadata in unswitched implicit "</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">115</td>
    <td class="codeLine">             "null checks to save time analyzing if we can keep it."));</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">115</td>
    <td class="codeLine">             "null checks to save time analyzing if we can keep it."));</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">116</td>
    <td class="codeLine">static cl::opt<unsigned></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">116</td>
    <td class="codeLine">static cl::opt<unsigned></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">117</td>
    <td class="codeLine">    MSSAThreshold("simple-loop-unswitch-memoryssa-threshold",</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">117</td>
    <td class="codeLine">    MSSAThreshold("simple-loop-unswitch-memoryssa-threshold",</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">118</td>
    <td class="codeLine">                  cl::desc("Max number of memory uses to explore during "</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">118</td>
    <td class="codeLine">                  cl::desc("Max number of memory uses to explore during "</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">119</td>
    <td class="codeLine">                           "partial unswitching analysis"),</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">119</td>
    <td class="codeLine">                           "partial unswitching analysis"),</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">120</td>
    <td class="codeLine">                  cl::init(100), cl::Hidden);</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">120</td>
    <td class="codeLine">                  cl::init(100), cl::Hidden);</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">121</td>
    <td class="codeLine">static cl::opt<bool> FreezeLoopUnswitchCond(</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">121</td>
    <td class="codeLine">static cl::opt<bool> FreezeLoopUnswitchCond(</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">122</td>
    <td class="codeLine">    "freeze-loop-unswitch-cond", cl::init(true), cl::Hidden,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">122</td>
    <td class="codeLine">    "freeze-loop-unswitch-cond", cl::init(true), cl::Hidden,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">123</td>
    <td class="codeLine">    cl::desc("If enabled, the freeze instruction will be added to condition "</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">123</td>
    <td class="codeLine">    cl::desc("If enabled, the freeze instruction will be added to condition "</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">124</td>
    <td class="codeLine">             "of loop unswitch to prevent miscompilation."));</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">124</td>
    <td class="codeLine">             "of loop unswitch to prevent miscompilation."));</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">125</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">125</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">126</td>
    <td class="codeLine">static cl::opt<bool> InjectInvariantConditions(</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">126</td>
    <td class="codeLine">static cl::opt<bool> InjectInvariantConditions(</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">127</td>
    <td class="codeLine">    "simple-loop-unswitch-inject-invariant-conditions", cl::Hidden,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">127</td>
    <td class="codeLine">    "simple-loop-unswitch-inject-invariant-conditions", cl::Hidden,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">128</td>
    <td class="codeLine">    cl::desc("Whether we should inject new invariants and unswitch them to "</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">128</td>
    <td class="codeLine">    cl::desc("Whether we should inject new invariants and unswitch them to "</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">129</td>
    <td class="codeLine">             "eliminate some existing (non-invariant) conditions."),</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">129</td>
    <td class="codeLine">             "eliminate some existing (non-invariant) conditions."),</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">130</td>
    <td class="codeLine">    cl::init(true));</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">130</td>
    <td class="codeLine">    cl::init(true));</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">131</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">131</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">132</td>
    <td class="codeLine">static cl::opt<unsigned> InjectInvariantConditionHotnesThreshold(</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">132</td>
    <td class="codeLine">static cl::opt<unsigned> InjectInvariantConditionHotnesThreshold(</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">133</td>
    <td class="codeLine">    "simple-loop-unswitch-inject-invariant-condition-hotness-threshold",</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">133</td>
    <td class="codeLine">    "simple-loop-unswitch-inject-invariant-condition-hotness-threshold",</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">134</td>
    <td class="codeLine">    cl::Hidden, cl::desc("Only try to inject loop invariant conditions and "</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">134</td>
    <td class="codeLine">    cl::Hidden, cl::desc("Only try to inject loop invariant conditions and "</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">135</td>
    <td class="codeLine">                         "unswitch on them to eliminate branches that are "</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">135</td>
    <td class="codeLine">                         "unswitch on them to eliminate branches that are "</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">136</td>
    <td class="codeLine">                         "not-taken 1/<this option> times or less."),</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">136</td>
    <td class="codeLine">                         "not-taken 1/<this option> times or less."),</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">137</td>
    <td class="codeLine">    cl::init(16));</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">137</td>
    <td class="codeLine">    cl::init(16));</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">138</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">138</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">139</td>
    <td class="codeLine">namespace {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">139</td>
    <td class="codeLine">namespace {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">140</td>
    <td class="codeLine">struct CompareDesc {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">140</td>
    <td class="codeLine">struct CompareDesc {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">141</td>
    <td class="codeLine">  BranchInst *Term;</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">141</td>
    <td class="codeLine">  BranchInst *Term;</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">142</td>
    <td class="codeLine">  Value *Invariant;</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">142</td>
    <td class="codeLine">  Value *Invariant;</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">143</td>
    <td class="codeLine">  BasicBlock *InLoopSucc;</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">143</td>
    <td class="codeLine">  BasicBlock *InLoopSucc;</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">144</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">144</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">145</td>
    <td class="codeLine">  CompareDesc(BranchInst *Term, Value *Invariant, BasicBlock *InLoopSucc)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">145</td>
    <td class="codeLine">  CompareDesc(BranchInst *Term, Value *Invariant, BasicBlock *InLoopSucc)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">146</td>
    <td class="codeLine">      : Term(Term), Invariant(Invariant), InLoopSucc(InLoopSucc) {}</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">146</td>
    <td class="codeLine">      : Term(Term), Invariant(Invariant), InLoopSucc(InLoopSucc) {}</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">147</td>
    <td class="codeLine">};</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">147</td>
    <td class="codeLine">};</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">148</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">148</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">149</td>
    <td class="codeLine">struct InjectedInvariant {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">149</td>
    <td class="codeLine">struct InjectedInvariant {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">150</td>
    <td class="codeLine">  ICmpInst::Predicate Pred;</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">150</td>
    <td class="codeLine">  ICmpInst::Predicate Pred;</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">151</td>
    <td class="codeLine">  Value *LHS;</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">151</td>
    <td class="codeLine">  Value *LHS;</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">152</td>
    <td class="codeLine">  Value *RHS;</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">152</td>
    <td class="codeLine">  Value *RHS;</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">153</td>
    <td class="codeLine">  BasicBlock *InLoopSucc;</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">153</td>
    <td class="codeLine">  BasicBlock *InLoopSucc;</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">154</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">154</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">155</td>
    <td class="codeLine">  InjectedInvariant(ICmpInst::Predicate Pred, Value *LHS, Value *RHS,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">155</td>
    <td class="codeLine">  InjectedInvariant(ICmpInst::Predicate Pred, Value *LHS, Value *RHS,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">156</td>
    <td class="codeLine">                    BasicBlock *InLoopSucc)</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">156</td>
    <td class="codeLine">                    BasicBlock *InLoopSucc)</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">157</td>
    <td class="codeLine">      : Pred(Pred), LHS(LHS), RHS(RHS), InLoopSucc(InLoopSucc) {}</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">157</td>
    <td class="codeLine">      : Pred(Pred), LHS(LHS), RHS(RHS), InLoopSucc(InLoopSucc) {}</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">158</td>
    <td class="codeLine">};</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">158</td>
    <td class="codeLine">};</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">159</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">159</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">160</td>
    <td class="codeLine">struct NonTrivialUnswitchCandidate {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">160</td>
    <td class="codeLine">struct NonTrivialUnswitchCandidate {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">161</td>
    <td class="codeLine">  Instruction *TI = nullptr;</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">161</td>
    <td class="codeLine">  Instruction *TI = nullptr;</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">162</td>
    <td class="codeLine">  TinyPtrVector<Value *> Invariants;</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">162</td>
    <td class="codeLine">  TinyPtrVector<Value *> Invariants;</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">163</td>
    <td class="codeLine">  std::optional<InstructionCost> Cost;</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">163</td>
    <td class="codeLine">  std::optional<InstructionCost> Cost;</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">164</td>
    <td class="codeLine">  std::optional<InjectedInvariant> PendingInjection;</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">164</td>
    <td class="codeLine">  std::optional<InjectedInvariant> PendingInjection;</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">165</td>
    <td class="codeLine">  NonTrivialUnswitchCandidate(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">165</td>
    <td class="codeLine">  NonTrivialUnswitchCandidate(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">166</td>
    <td class="codeLine">      Instruction *TI, ArrayRef<Value *> Invariants,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">166</td>
    <td class="codeLine">      Instruction *TI, ArrayRef<Value *> Invariants,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">167</td>
    <td class="codeLine">      std::optional<InstructionCost> Cost = std::nullopt,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">167</td>
    <td class="codeLine">      std::optional<InstructionCost> Cost = std::nullopt,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">168</td>
    <td class="codeLine">      std::optional<InjectedInvariant> PendingInjection = std::nullopt)</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">168</td>
    <td class="codeLine">      std::optional<InjectedInvariant> PendingInjection = std::nullopt)</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">169</td>
    <td class="codeLine">      : TI(TI), Invariants(Invariants), Cost(Cost),</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">169</td>
    <td class="codeLine">      : TI(TI), Invariants(Invariants), Cost(Cost),</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">170</td>
    <td class="codeLine">        PendingInjection(PendingInjection) {};</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">170</td>
    <td class="codeLine">        PendingInjection(PendingInjection) {};</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">171</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">171</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">172</td>
    <td class="codeLine">  bool hasPendingInjection() const { return PendingInjection.has_value(); }</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">172</td>
    <td class="codeLine">  bool hasPendingInjection() const { return PendingInjection.has_value(); }</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">173</td>
    <td class="codeLine">};</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">173</td>
    <td class="codeLine">};</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">174</td>
    <td class="codeLine">} // end anonymous namespace.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">174</td>
    <td class="codeLine">} // end anonymous namespace.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">175</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">175</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">176</td>
    <td class="codeLine">// Helper to skip (select x, true, false), which matches both a logical AND and</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">176</td>
    <td class="codeLine">// Helper to skip (select x, true, false), which matches both a logical AND and</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">177</td>
    <td class="codeLine">// OR and can confuse code that tries to determine if \p Cond is either a</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">177</td>
    <td class="codeLine">// OR and can confuse code that tries to determine if \p Cond is either a</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">178</td>
    <td class="codeLine">// logical AND or OR but not both.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">178</td>
    <td class="codeLine">// logical AND or OR but not both.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">179</td>
    <td class="codeLine">static Value *skipTrivialSelect(Value *Cond) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">179</td>
    <td class="codeLine">static Value *skipTrivialSelect(Value *Cond) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">180</td>
    <td class="codeLine">  Value *CondNext;</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">180</td>
    <td class="codeLine">  Value *CondNext;</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">181</td>
    <td class="codeLine">  while (match(Cond, m_Select(m_Value(CondNext), m_One(), m_Zero())))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">181</td>
    <td class="codeLine">  while (match(Cond, m_Select(m_Value(CondNext), m_One(), m_Zero())))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">182</td>
    <td class="codeLine">    Cond = CondNext;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">182</td>
    <td class="codeLine">    Cond = CondNext;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">183</td>
    <td class="codeLine">  return Cond;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">183</td>
    <td class="codeLine">  return Cond;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">184</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">184</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">185</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">185</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">186</td>
    <td class="codeLine">/// Collect all of the loop invariant input values transitively used by the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">186</td>
    <td class="codeLine">/// Collect all of the loop invariant input values transitively used by the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">187</td>
    <td class="codeLine">/// homogeneous instruction graph from a given root.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">187</td>
    <td class="codeLine">/// homogeneous instruction graph from a given root.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">188</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">188</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">189</td>
    <td class="codeLine">/// This essentially walks from a root recursively through loop variant operands</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">189</td>
    <td class="codeLine">/// This essentially walks from a root recursively through loop variant operands</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">190</td>
    <td class="codeLine">/// which have perform the same logical operation (AND or OR) and finds all</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">190</td>
    <td class="codeLine">/// which have perform the same logical operation (AND or OR) and finds all</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">191</td>
    <td class="codeLine">/// inputs which are loop invariant. For some operations these can be</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">191</td>
    <td class="codeLine">/// inputs which are loop invariant. For some operations these can be</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">192</td>
    <td class="codeLine">/// re-associated and unswitched out of the loop entirely.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">192</td>
    <td class="codeLine">/// re-associated and unswitched out of the loop entirely.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">193</td>
    <td class="codeLine">static TinyPtrVector<Value *></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">193</td>
    <td class="codeLine">static TinyPtrVector<Value *></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">194</td>
    <td class="codeLine">collectHomogenousInstGraphLoopInvariants(const Loop &L, Instruction &Root,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">194</td>
    <td class="codeLine">collectHomogenousInstGraphLoopInvariants(const Loop &L, Instruction &Root,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">195</td>
    <td class="codeLine">                                         const LoopInfo &LI) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">195</td>
    <td class="codeLine">                                         const LoopInfo &LI) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">196</td>
    <td class="codeLine">  assert(!L.isLoopInvariant(&Root) &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">196</td>
    <td class="codeLine">  assert(!L.isLoopInvariant(&Root) &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">197</td>
    <td class="codeLine">         "Only need to walk the graph if root itself is not invariant.");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">197</td>
    <td class="codeLine">         "Only need to walk the graph if root itself is not invariant.");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">198</td>
    <td class="codeLine">  TinyPtrVector<Value *> Invariants;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">198</td>
    <td class="codeLine">  TinyPtrVector<Value *> Invariants;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">199</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">199</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">200</td>
    <td class="codeLine">  bool IsRootAnd = match(&Root, m_LogicalAnd());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">200</td>
    <td class="codeLine">  bool IsRootAnd = match(&Root, m_LogicalAnd());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">201</td>
    <td class="codeLine">  bool IsRootOr  = match(&Root, m_LogicalOr());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">201</td>
    <td class="codeLine">  bool IsRootOr  = match(&Root, m_LogicalOr());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">202</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">202</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">203</td>
    <td class="codeLine">  // Build a worklist and recurse through operators collecting invariants.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">203</td>
    <td class="codeLine">  // Build a worklist and recurse through operators collecting invariants.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">204</td>
    <td class="codeLine">  SmallVector<Instruction *, 4> Worklist;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">204</td>
    <td class="codeLine">  SmallVector<Instruction *, 4> Worklist;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">205</td>
    <td class="codeLine">  SmallPtrSet<Instruction *, 8> Visited;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">205</td>
    <td class="codeLine">  SmallPtrSet<Instruction *, 8> Visited;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">206</td>
    <td class="codeLine">  Worklist.push_back(&Root);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">206</td>
    <td class="codeLine">  Worklist.push_back(&Root);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">207</td>
    <td class="codeLine">  Visited.insert(&Root);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">207</td>
    <td class="codeLine">  Visited.insert(&Root);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">208</td>
    <td class="codeLine">  do {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">208</td>
    <td class="codeLine">  do {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">209</td>
    <td class="codeLine">    Instruction &I = *Worklist.pop_back_val();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">209</td>
    <td class="codeLine">    Instruction &I = *Worklist.pop_back_val();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">210</td>
    <td class="codeLine">    for (Value *OpV : I.operand_values()) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">210</td>
    <td class="codeLine">    for (Value *OpV : I.operand_values()) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">211</td>
    <td class="codeLine">      // Skip constants as unswitching isn't interesting for them.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">211</td>
    <td class="codeLine">      // Skip constants as unswitching isn't interesting for them.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">212</td>
    <td class="codeLine">      if (isa<Constant>(OpV))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">212</td>
    <td class="codeLine">      if (isa<Constant>(OpV))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">213</td>
    <td class="codeLine">        continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">213</td>
    <td class="codeLine">        continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">214</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">214</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">215</td>
    <td class="codeLine">      // Add it to our result if loop invariant.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">215</td>
    <td class="codeLine">      // Add it to our result if loop invariant.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">216</td>
    <td class="codeLine">      if (L.isLoopInvariant(OpV)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">216</td>
    <td class="codeLine">      if (L.isLoopInvariant(OpV)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">217</td>
    <td class="codeLine">        Invariants.push_back(OpV);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">217</td>
    <td class="codeLine">        Invariants.push_back(OpV);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">218</td>
    <td class="codeLine">        continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">218</td>
    <td class="codeLine">        continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">219</td>
    <td class="codeLine">      }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">219</td>
    <td class="codeLine">      }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">220</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">220</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">221</td>
    <td class="codeLine">      // If not an instruction with the same opcode, nothing we can do.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">221</td>
    <td class="codeLine">      // If not an instruction with the same opcode, nothing we can do.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">222</td>
    <td class="codeLine">      Instruction *OpI = dyn_cast<Instruction>(skipTrivialSelect(OpV));</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">222</td>
    <td class="codeLine">      Instruction *OpI = dyn_cast<Instruction>(skipTrivialSelect(OpV));</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">223</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">223</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">224</td>
    <td class="codeLine">      if (OpI && ((IsRootAnd && match(OpI, m_LogicalAnd())) ||</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">224</td>
    <td class="codeLine">      if (OpI && ((IsRootAnd && match(OpI, m_LogicalAnd())) ||</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">225</td>
    <td class="codeLine">                  (IsRootOr  && match(OpI, m_LogicalOr())))) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">225</td>
    <td class="codeLine">                  (IsRootOr  && match(OpI, m_LogicalOr())))) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">226</td>
    <td class="codeLine">        // Visit this operand.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">226</td>
    <td class="codeLine">        // Visit this operand.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">227</td>
    <td class="codeLine">        if (Visited.insert(OpI).second)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">227</td>
    <td class="codeLine">        if (Visited.insert(OpI).second)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">228</td>
    <td class="codeLine">          Worklist.push_back(OpI);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">228</td>
    <td class="codeLine">          Worklist.push_back(OpI);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">229</td>
    <td class="codeLine">      }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">229</td>
    <td class="codeLine">      }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">230</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">230</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">231</td>
    <td class="codeLine">  } while (!Worklist.empty());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">231</td>
    <td class="codeLine">  } while (!Worklist.empty());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">232</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">232</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">233</td>
    <td class="codeLine">  return Invariants;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">233</td>
    <td class="codeLine">  return Invariants;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">234</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">234</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">235</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">235</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">236</td>
    <td class="codeLine">static void replaceLoopInvariantUses(const Loop &L, Value *Invariant,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">236</td>
    <td class="codeLine">static void replaceLoopInvariantUses(const Loop &L, Value *Invariant,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">237</td>
    <td class="codeLine">                                     Constant &Replacement) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">237</td>
    <td class="codeLine">                                     Constant &Replacement) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">238</td>
    <td class="codeLine">  assert(!isa<Constant>(Invariant) && "Why are we unswitching on a constant?");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">238</td>
    <td class="codeLine">  assert(!isa<Constant>(Invariant) && "Why are we unswitching on a constant?");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">239</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">239</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">240</td>
    <td class="codeLine">  // Replace uses of LIC in the loop with the given constant.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">240</td>
    <td class="codeLine">  // Replace uses of LIC in the loop with the given constant.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">241</td>
    <td class="codeLine">  // We use make_early_inc_range as set invalidates the iterator.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">241</td>
    <td class="codeLine">  // We use make_early_inc_range as set invalidates the iterator.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">242</td>
    <td class="codeLine">  for (Use &U : llvm::make_early_inc_range(Invariant->uses())) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">242</td>
    <td class="codeLine">  for (Use &U : llvm::make_early_inc_range(Invariant->uses())) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">243</td>
    <td class="codeLine">    Instruction *UserI = dyn_cast<Instruction>(U.getUser());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">243</td>
    <td class="codeLine">    Instruction *UserI = dyn_cast<Instruction>(U.getUser());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">244</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">244</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">245</td>
    <td class="codeLine">    // Replace this use within the loop body.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">245</td>
    <td class="codeLine">    // Replace this use within the loop body.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">246</td>
    <td class="codeLine">    if (UserI && L.contains(UserI))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">246</td>
    <td class="codeLine">    if (UserI && L.contains(UserI))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">247</td>
    <td class="codeLine">      U.set(&Replacement);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">247</td>
    <td class="codeLine">      U.set(&Replacement);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">248</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">248</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">249</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">249</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">250</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">250</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">251</td>
    <td class="codeLine">/// Check that all the LCSSA PHI nodes in the loop exit block have trivial</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">251</td>
    <td class="codeLine">/// Check that all the LCSSA PHI nodes in the loop exit block have trivial</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">252</td>
    <td class="codeLine">/// incoming values along this edge.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">252</td>
    <td class="codeLine">/// incoming values along this edge.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">253</td>
    <td class="codeLine">static bool areLoopExitPHIsLoopInvariant(const Loop &L,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">253</td>
    <td class="codeLine">static bool areLoopExitPHIsLoopInvariant(const Loop &L,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">254</td>
    <td class="codeLine">                                         const BasicBlock &ExitingBB,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">254</td>
    <td class="codeLine">                                         const BasicBlock &ExitingBB,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">255</td>
    <td class="codeLine">                                         const BasicBlock &ExitBB) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">255</td>
    <td class="codeLine">                                         const BasicBlock &ExitBB) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">256</td>
    <td class="codeLine">  for (const Instruction &I : ExitBB) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">256</td>
    <td class="codeLine">  for (const Instruction &I : ExitBB) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">257</td>
    <td class="codeLine">    auto *PN = dyn_cast<PHINode>(&I);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">257</td>
    <td class="codeLine">    auto *PN = dyn_cast<PHINode>(&I);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">258</td>
    <td class="codeLine">    if (!PN)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">258</td>
    <td class="codeLine">    if (!PN)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">259</td>
    <td class="codeLine">      // No more PHIs to check.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">259</td>
    <td class="codeLine">      // No more PHIs to check.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">260</td>
    <td class="codeLine">      return true;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">260</td>
    <td class="codeLine">      return true;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">261</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">261</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">262</td>
    <td class="codeLine">    // If the incoming value for this edge isn't loop invariant the unswitch</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">262</td>
    <td class="codeLine">    // If the incoming value for this edge isn't loop invariant the unswitch</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">263</td>
    <td class="codeLine">    // won't be trivial.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">263</td>
    <td class="codeLine">    // won't be trivial.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">264</td>
    <td class="codeLine">    if (!L.isLoopInvariant(PN->getIncomingValueForBlock(&ExitingBB)))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">264</td>
    <td class="codeLine">    if (!L.isLoopInvariant(PN->getIncomingValueForBlock(&ExitingBB)))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">265</td>
    <td class="codeLine">      return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">265</td>
    <td class="codeLine">      return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">266</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">266</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">267</td>
    <td class="codeLine">  llvm_unreachable("Basic blocks should never be empty!");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">267</td>
    <td class="codeLine">  llvm_unreachable("Basic blocks should never be empty!");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">268</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">268</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">269</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">269</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">270</td>
    <td class="codeLine">/// Copy a set of loop invariant values \p ToDuplicate and insert them at the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">270</td>
    <td class="codeLine">/// Copy a set of loop invariant values \p ToDuplicate and insert them at the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">271</td>
    <td class="codeLine">/// end of \p BB and conditionally branch on the copied condition. We only</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">271</td>
    <td class="codeLine">/// end of \p BB and conditionally branch on the copied condition. We only</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">272</td>
    <td class="codeLine">/// branch on a single value.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">272</td>
    <td class="codeLine">/// branch on a single value.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">273</td>
    <td class="codeLine">static void buildPartialUnswitchConditionalBranch(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">273</td>
    <td class="codeLine">static void buildPartialUnswitchConditionalBranch(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">274</td>
    <td class="codeLine">    BasicBlock &BB, ArrayRef<Value *> Invariants, bool Direction,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">274</td>
    <td class="codeLine">    BasicBlock &BB, ArrayRef<Value *> Invariants, bool Direction,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">275</td>
    <td class="codeLine">    BasicBlock &UnswitchedSucc, BasicBlock &NormalSucc, bool InsertFreeze,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">275</td>
    <td class="codeLine">    BasicBlock &UnswitchedSucc, BasicBlock &NormalSucc, bool InsertFreeze,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">276</td>
    <td class="codeLine">    const Instruction *I, AssumptionCache *AC, const DominatorTree &DT) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">276</td>
    <td class="codeLine">    const Instruction *I, AssumptionCache *AC, const DominatorTree &DT) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">277</td>
    <td class="codeLine">  IRBuilder<> IRB(&BB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">277</td>
    <td class="codeLine">  IRBuilder<> IRB(&BB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">278</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">278</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">279</td>
    <td class="codeLine">  SmallVector<Value *> FrozenInvariants;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">279</td>
    <td class="codeLine">  SmallVector<Value *> FrozenInvariants;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">280</td>
    <td class="codeLine">  for (Value *Inv : Invariants) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">280</td>
    <td class="codeLine">  for (Value *Inv : Invariants) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">281</td>
    <td class="codeLine">    if (InsertFreeze && !isGuaranteedNotToBeUndefOrPoison(Inv, AC, I, &DT))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">281</td>
    <td class="codeLine">    if (InsertFreeze && !isGuaranteedNotToBeUndefOrPoison(Inv, AC, I, &DT))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">282</td>
    <td class="codeLine">      Inv = IRB.CreateFreeze(Inv, Inv->getName() + ".fr");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">282</td>
    <td class="codeLine">      Inv = IRB.CreateFreeze(Inv, Inv->getName() + ".fr");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">283</td>
    <td class="codeLine">    FrozenInvariants.push_back(Inv);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">283</td>
    <td class="codeLine">    FrozenInvariants.push_back(Inv);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">284</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">284</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">285</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">285</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">286</td>
    <td class="codeLine">  Value *Cond = Direction ? IRB.CreateOr(FrozenInvariants)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">286</td>
    <td class="codeLine">  Value *Cond = Direction ? IRB.CreateOr(FrozenInvariants)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">287</td>
    <td class="codeLine">                          : IRB.CreateAnd(FrozenInvariants);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">287</td>
    <td class="codeLine">                          : IRB.CreateAnd(FrozenInvariants);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">288</td>
    <td class="codeLine">  IRB.CreateCondBr(Cond, Direction ? &UnswitchedSucc : &NormalSucc,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">288</td>
    <td class="codeLine">  IRB.CreateCondBr(Cond, Direction ? &UnswitchedSucc : &NormalSucc,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">289</td>
    <td class="codeLine">                   Direction ? &NormalSucc : &UnswitchedSucc);</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">289</td>
    <td class="codeLine">                   Direction ? &NormalSucc : &UnswitchedSucc);</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">290</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">290</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">291</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">291</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">292</td>
    <td class="codeLine">/// Copy a set of loop invariant values, and conditionally branch on them.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">292</td>
    <td class="codeLine">/// Copy a set of loop invariant values, and conditionally branch on them.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">293</td>
    <td class="codeLine">static void buildPartialInvariantUnswitchConditionalBranch(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">293</td>
    <td class="codeLine">static void buildPartialInvariantUnswitchConditionalBranch(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">294</td>
    <td class="codeLine">    BasicBlock &BB, ArrayRef<Value *> ToDuplicate, bool Direction,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">294</td>
    <td class="codeLine">    BasicBlock &BB, ArrayRef<Value *> ToDuplicate, bool Direction,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">295</td>
    <td class="codeLine">    BasicBlock &UnswitchedSucc, BasicBlock &NormalSucc, Loop &L,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">295</td>
    <td class="codeLine">    BasicBlock &UnswitchedSucc, BasicBlock &NormalSucc, Loop &L,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">296</td>
    <td class="codeLine">    MemorySSAUpdater *MSSAU) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">296</td>
    <td class="codeLine">    MemorySSAUpdater *MSSAU) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">297</td>
    <td class="codeLine">  ValueToValueMapTy VMap;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">297</td>
    <td class="codeLine">  ValueToValueMapTy VMap;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">298</td>
    <td class="codeLine">  for (auto *Val : reverse(ToDuplicate)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">298</td>
    <td class="codeLine">  for (auto *Val : reverse(ToDuplicate)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">299</td>
    <td class="codeLine">    Instruction *Inst = cast<Instruction>(Val);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">299</td>
    <td class="codeLine">    Instruction *Inst = cast<Instruction>(Val);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">300</td>
    <td class="codeLine">    Instruction *NewInst = Inst->clone();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">300</td>
    <td class="codeLine">    Instruction *NewInst = Inst->clone();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">301</td>
    <td class="codeLine">    NewInst->insertInto(&BB, BB.end());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">301</td>
    <td class="codeLine">    NewInst->insertInto(&BB, BB.end());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">302</td>
    <td class="codeLine">    RemapInstruction(NewInst, VMap,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">302</td>
    <td class="codeLine">    RemapInstruction(NewInst, VMap,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">303</td>
    <td class="codeLine">                     RF_NoModuleLevelChanges | RF_IgnoreMissingLocals);</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">303</td>
    <td class="codeLine">                     RF_NoModuleLevelChanges | RF_IgnoreMissingLocals);</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">304</td>
    <td class="codeLine">    VMap[Val] = NewInst;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">304</td>
    <td class="codeLine">    VMap[Val] = NewInst;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">305</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">305</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">306</td>
    <td class="codeLine">    if (!MSSAU)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">306</td>
    <td class="codeLine">    if (!MSSAU)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">307</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">307</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">308</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">308</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">309</td>
    <td class="codeLine">    MemorySSA *MSSA = MSSAU->getMemorySSA();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">309</td>
    <td class="codeLine">    MemorySSA *MSSA = MSSAU->getMemorySSA();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">310</td>
    <td class="codeLine">    if (auto *MemUse =</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">310</td>
    <td class="codeLine">    if (auto *MemUse =</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">311</td>
    <td class="codeLine">            dyn_cast_or_null<MemoryUse>(MSSA->getMemoryAccess(Inst))) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">311</td>
    <td class="codeLine">            dyn_cast_or_null<MemoryUse>(MSSA->getMemoryAccess(Inst))) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">312</td>
    <td class="codeLine">      auto *DefiningAccess = MemUse->getDefiningAccess();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">312</td>
    <td class="codeLine">      auto *DefiningAccess = MemUse->getDefiningAccess();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">313</td>
    <td class="codeLine">      // Get the first defining access before the loop.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">313</td>
    <td class="codeLine">      // Get the first defining access before the loop.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">314</td>
    <td class="codeLine">      while (L.contains(DefiningAccess->getBlock())) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">314</td>
    <td class="codeLine">      while (L.contains(DefiningAccess->getBlock())) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">315</td>
    <td class="codeLine">        // If the defining access is a MemoryPhi, get the incoming</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">315</td>
    <td class="codeLine">        // If the defining access is a MemoryPhi, get the incoming</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">316</td>
    <td class="codeLine">        // value for the pre-header as defining access.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">316</td>
    <td class="codeLine">        // value for the pre-header as defining access.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">317</td>
    <td class="codeLine">        if (auto *MemPhi = dyn_cast<MemoryPhi>(DefiningAccess))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">317</td>
    <td class="codeLine">        if (auto *MemPhi = dyn_cast<MemoryPhi>(DefiningAccess))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">318</td>
    <td class="codeLine">          DefiningAccess =</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">318</td>
    <td class="codeLine">          DefiningAccess =</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">319</td>
    <td class="codeLine">              MemPhi->getIncomingValueForBlock(L.getLoopPreheader());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">319</td>
    <td class="codeLine">              MemPhi->getIncomingValueForBlock(L.getLoopPreheader());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">320</td>
    <td class="codeLine">        else</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">320</td>
    <td class="codeLine">        else</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">321</td>
    <td class="codeLine">          DefiningAccess = cast<MemoryDef>(DefiningAccess)->getDefiningAccess();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">321</td>
    <td class="codeLine">          DefiningAccess = cast<MemoryDef>(DefiningAccess)->getDefiningAccess();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">322</td>
    <td class="codeLine">      }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">322</td>
    <td class="codeLine">      }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">323</td>
    <td class="codeLine">      MSSAU->createMemoryAccessInBB(NewInst, DefiningAccess,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">323</td>
    <td class="codeLine">      MSSAU->createMemoryAccessInBB(NewInst, DefiningAccess,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">324</td>
    <td class="codeLine">                                    NewInst->getParent(),</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">324</td>
    <td class="codeLine">                                    NewInst->getParent(),</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">325</td>
    <td class="codeLine">                                    MemorySSA::BeforeTerminator);</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">325</td>
    <td class="codeLine">                                    MemorySSA::BeforeTerminator);</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">326</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">326</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">327</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">327</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">328</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">328</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">329</td>
    <td class="codeLine">  IRBuilder<> IRB(&BB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">329</td>
    <td class="codeLine">  IRBuilder<> IRB(&BB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">330</td>
    <td class="codeLine">  Value *Cond = VMap[ToDuplicate[0]];</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">330</td>
    <td class="codeLine">  Value *Cond = VMap[ToDuplicate[0]];</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">331</td>
    <td class="codeLine">  IRB.CreateCondBr(Cond, Direction ? &UnswitchedSucc : &NormalSucc,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">331</td>
    <td class="codeLine">  IRB.CreateCondBr(Cond, Direction ? &UnswitchedSucc : &NormalSucc,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">332</td>
    <td class="codeLine">                   Direction ? &NormalSucc : &UnswitchedSucc);</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">332</td>
    <td class="codeLine">                   Direction ? &NormalSucc : &UnswitchedSucc);</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">333</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">333</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">334</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">334</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">335</td>
    <td class="codeLine">/// Rewrite the PHI nodes in an unswitched loop exit basic block.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">335</td>
    <td class="codeLine">/// Rewrite the PHI nodes in an unswitched loop exit basic block.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">336</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">336</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">337</td>
    <td class="codeLine">/// Requires that the loop exit and unswitched basic block are the same, and</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">337</td>
    <td class="codeLine">/// Requires that the loop exit and unswitched basic block are the same, and</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">338</td>
    <td class="codeLine">/// that the exiting block was a unique predecessor of that block. Rewrites the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">338</td>
    <td class="codeLine">/// that the exiting block was a unique predecessor of that block. Rewrites the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">339</td>
    <td class="codeLine">/// PHI nodes in that block such that what were LCSSA PHI nodes become trivial</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">339</td>
    <td class="codeLine">/// PHI nodes in that block such that what were LCSSA PHI nodes become trivial</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">340</td>
    <td class="codeLine">/// PHI nodes from the old preheader that now contains the unswitched</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">340</td>
    <td class="codeLine">/// PHI nodes from the old preheader that now contains the unswitched</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">341</td>
    <td class="codeLine">/// terminator.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">341</td>
    <td class="codeLine">/// terminator.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">342</td>
    <td class="codeLine">static void rewritePHINodesForUnswitchedExitBlock(BasicBlock &UnswitchedBB,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">342</td>
    <td class="codeLine">static void rewritePHINodesForUnswitchedExitBlock(BasicBlock &UnswitchedBB,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">343</td>
    <td class="codeLine">                                                  BasicBlock &OldExitingBB,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">343</td>
    <td class="codeLine">                                                  BasicBlock &OldExitingBB,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">344</td>
    <td class="codeLine">                                                  BasicBlock &OldPH) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">344</td>
    <td class="codeLine">                                                  BasicBlock &OldPH) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">345</td>
    <td class="codeLine">  for (PHINode &PN : UnswitchedBB.phis()) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">345</td>
    <td class="codeLine">  for (PHINode &PN : UnswitchedBB.phis()) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">346</td>
    <td class="codeLine">    // When the loop exit is directly unswitched we just need to update the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">346</td>
    <td class="codeLine">    // When the loop exit is directly unswitched we just need to update the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">347</td>
    <td class="codeLine">    // incoming basic block. We loop to handle weird cases with repeated</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">347</td>
    <td class="codeLine">    // incoming basic block. We loop to handle weird cases with repeated</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">348</td>
    <td class="codeLine">    // incoming blocks, but expect to typically only have one operand here.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">348</td>
    <td class="codeLine">    // incoming blocks, but expect to typically only have one operand here.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">349</td>
    <td class="codeLine">    for (auto i : seq<int>(0, PN.getNumOperands())) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">349</td>
    <td class="codeLine">    for (auto i : seq<int>(0, PN.getNumOperands())) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">350</td>
    <td class="codeLine">      assert(PN.getIncomingBlock(i) == &OldExitingBB &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">350</td>
    <td class="codeLine">      assert(PN.getIncomingBlock(i) == &OldExitingBB &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">351</td>
    <td class="codeLine">             "Found incoming block different from unique predecessor!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">351</td>
    <td class="codeLine">             "Found incoming block different from unique predecessor!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">352</td>
    <td class="codeLine">      PN.setIncomingBlock(i, &OldPH);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">352</td>
    <td class="codeLine">      PN.setIncomingBlock(i, &OldPH);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">353</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">353</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">354</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">354</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">355</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">355</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">356</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">356</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">357</td>
    <td class="codeLine">/// Rewrite the PHI nodes in the loop exit basic block and the split off</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">357</td>
    <td class="codeLine">/// Rewrite the PHI nodes in the loop exit basic block and the split off</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">358</td>
    <td class="codeLine">/// unswitched block.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">358</td>
    <td class="codeLine">/// unswitched block.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">359</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">359</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">360</td>
    <td class="codeLine">/// Because the exit block remains an exit from the loop, this rewrites the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">360</td>
    <td class="codeLine">/// Because the exit block remains an exit from the loop, this rewrites the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">361</td>
    <td class="codeLine">/// LCSSA PHI nodes in it to remove the unswitched edge and introduces PHI</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">361</td>
    <td class="codeLine">/// LCSSA PHI nodes in it to remove the unswitched edge and introduces PHI</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">362</td>
    <td class="codeLine">/// nodes into the unswitched basic block to select between the value in the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">362</td>
    <td class="codeLine">/// nodes into the unswitched basic block to select between the value in the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">363</td>
    <td class="codeLine">/// old preheader and the loop exit.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">363</td>
    <td class="codeLine">/// old preheader and the loop exit.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">364</td>
    <td class="codeLine">static void rewritePHINodesForExitAndUnswitchedBlocks(BasicBlock &ExitBB,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">364</td>
    <td class="codeLine">static void rewritePHINodesForExitAndUnswitchedBlocks(BasicBlock &ExitBB,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">365</td>
    <td class="codeLine">                                                      BasicBlock &UnswitchedBB,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">365</td>
    <td class="codeLine">                                                      BasicBlock &UnswitchedBB,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">366</td>
    <td class="codeLine">                                                      BasicBlock &OldExitingBB,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">366</td>
    <td class="codeLine">                                                      BasicBlock &OldExitingBB,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">367</td>
    <td class="codeLine">                                                      BasicBlock &OldPH,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">367</td>
    <td class="codeLine">                                                      BasicBlock &OldPH,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">368</td>
    <td class="codeLine">                                                      bool FullUnswitch) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">368</td>
    <td class="codeLine">                                                      bool FullUnswitch) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">369</td>
    <td class="codeLine">  assert(&ExitBB != &UnswitchedBB &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">369</td>
    <td class="codeLine">  assert(&ExitBB != &UnswitchedBB &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">370</td>
    <td class="codeLine">         "Must have different loop exit and unswitched blocks!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">370</td>
    <td class="codeLine">         "Must have different loop exit and unswitched blocks!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">371</td>
    <td class="codeLine">  Instruction *InsertPt = &*UnswitchedBB.begin();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">371</td>
    <td class="codeLine">  Instruction *InsertPt = &*UnswitchedBB.begin();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">372</td>
    <td class="codeLine">  for (PHINode &PN : ExitBB.phis()) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">372</td>
    <td class="codeLine">  for (PHINode &PN : ExitBB.phis()) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">373</td>
    <td class="codeLine">    auto *NewPN = PHINode::Create(PN.getType(), /*NumReservedValues*/ 2,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">373</td>
    <td class="codeLine">    auto *NewPN = PHINode::Create(PN.getType(), /*NumReservedValues*/ 2,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">374</td>
    <td class="codeLine">                                  PN.getName() + ".split", InsertPt);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">374</td>
    <td class="codeLine">                                  PN.getName() + ".split", InsertPt);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">375</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">375</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">376</td>
    <td class="codeLine">    // Walk backwards over the old PHI node's inputs to minimize the cost of</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">376</td>
    <td class="codeLine">    // Walk backwards over the old PHI node's inputs to minimize the cost of</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">377</td>
    <td class="codeLine">    // removing each one. We have to do this weird loop manually so that we</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">377</td>
    <td class="codeLine">    // removing each one. We have to do this weird loop manually so that we</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">378</td>
    <td class="codeLine">    // create the same number of new incoming edges in the new PHI as we expect</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">378</td>
    <td class="codeLine">    // create the same number of new incoming edges in the new PHI as we expect</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">379</td>
    <td class="codeLine">    // each case-based edge to be included in the unswitched switch in some</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">379</td>
    <td class="codeLine">    // each case-based edge to be included in the unswitched switch in some</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">380</td>
    <td class="codeLine">    // cases.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">380</td>
    <td class="codeLine">    // cases.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">381</td>
    <td class="codeLine">    // FIXME: This is really, really gross. It would be much cleaner if LLVM</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">381</td>
    <td class="codeLine">    // FIXME: This is really, really gross. It would be much cleaner if LLVM</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">382</td>
    <td class="codeLine">    // allowed us to create a single entry for a predecessor block without</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">382</td>
    <td class="codeLine">    // allowed us to create a single entry for a predecessor block without</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">383</td>
    <td class="codeLine">    // having separate entries for each "edge" even though these edges are</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">383</td>
    <td class="codeLine">    // having separate entries for each "edge" even though these edges are</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">384</td>
    <td class="codeLine">    // required to produce identical results.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">384</td>
    <td class="codeLine">    // required to produce identical results.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">385</td>
    <td class="codeLine">    for (int i = PN.getNumIncomingValues() - 1; i >= 0; --i) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">385</td>
    <td class="codeLine">    for (int i = PN.getNumIncomingValues() - 1; i >= 0; --i) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">386</td>
    <td class="codeLine">      if (PN.getIncomingBlock(i) != &OldExitingBB)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">386</td>
    <td class="codeLine">      if (PN.getIncomingBlock(i) != &OldExitingBB)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">387</td>
    <td class="codeLine">        continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">387</td>
    <td class="codeLine">        continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">388</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">388</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">389</td>
    <td class="codeLine">      Value *Incoming = PN.getIncomingValue(i);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">389</td>
    <td class="codeLine">      Value *Incoming = PN.getIncomingValue(i);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">390</td>
    <td class="codeLine">      if (FullUnswitch)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">390</td>
    <td class="codeLine">      if (FullUnswitch)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">391</td>
    <td class="codeLine">        // No more edge from the old exiting block to the exit block.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">391</td>
    <td class="codeLine">        // No more edge from the old exiting block to the exit block.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">392</td>
    <td class="codeLine">        PN.removeIncomingValue(i);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">392</td>
    <td class="codeLine">        PN.removeIncomingValue(i);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">393</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">393</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">394</td>
    <td class="codeLine">      NewPN->addIncoming(Incoming, &OldPH);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">394</td>
    <td class="codeLine">      NewPN->addIncoming(Incoming, &OldPH);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">395</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">395</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">396</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">396</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">397</td>
    <td class="codeLine">    // Now replace the old PHI with the new one and wire the old one in as an</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">397</td>
    <td class="codeLine">    // Now replace the old PHI with the new one and wire the old one in as an</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">398</td>
    <td class="codeLine">    // input to the new one.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">398</td>
    <td class="codeLine">    // input to the new one.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">399</td>
    <td class="codeLine">    PN.replaceAllUsesWith(NewPN);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">399</td>
    <td class="codeLine">    PN.replaceAllUsesWith(NewPN);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">400</td>
    <td class="codeLine">    NewPN->addIncoming(&PN, &ExitBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">400</td>
    <td class="codeLine">    NewPN->addIncoming(&PN, &ExitBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">401</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">401</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">402</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">402</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">403</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">403</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">404</td>
    <td class="codeLine">/// Hoist the current loop up to the innermost loop containing a remaining exit.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">404</td>
    <td class="codeLine">/// Hoist the current loop up to the innermost loop containing a remaining exit.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">405</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">405</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">406</td>
    <td class="codeLine">/// Because we've removed an exit from the loop, we may have changed the set of</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">406</td>
    <td class="codeLine">/// Because we've removed an exit from the loop, we may have changed the set of</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">407</td>
    <td class="codeLine">/// loops reachable and need to move the current loop up the loop nest or even</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">407</td>
    <td class="codeLine">/// loops reachable and need to move the current loop up the loop nest or even</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">408</td>
    <td class="codeLine">/// to an entirely separate nest.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">408</td>
    <td class="codeLine">/// to an entirely separate nest.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">409</td>
    <td class="codeLine">static void hoistLoopToNewParent(Loop &L, BasicBlock &Preheader,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">409</td>
    <td class="codeLine">static void hoistLoopToNewParent(Loop &L, BasicBlock &Preheader,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">410</td>
    <td class="codeLine">                                 DominatorTree &DT, LoopInfo &LI,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">410</td>
    <td class="codeLine">                                 DominatorTree &DT, LoopInfo &LI,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">411</td>
    <td class="codeLine">                                 MemorySSAUpdater *MSSAU, ScalarEvolution *SE) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">411</td>
    <td class="codeLine">                                 MemorySSAUpdater *MSSAU, ScalarEvolution *SE) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">412</td>
    <td class="codeLine">  // If the loop is already at the top level, we can't hoist it anywhere.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">412</td>
    <td class="codeLine">  // If the loop is already at the top level, we can't hoist it anywhere.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">413</td>
    <td class="codeLine">  Loop *OldParentL = L.getParentLoop();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">413</td>
    <td class="codeLine">  Loop *OldParentL = L.getParentLoop();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">414</td>
    <td class="codeLine">  if (!OldParentL)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">414</td>
    <td class="codeLine">  if (!OldParentL)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">415</td>
    <td class="codeLine">    return;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">415</td>
    <td class="codeLine">    return;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">416</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">416</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">417</td>
    <td class="codeLine">  SmallVector<BasicBlock *, 4> Exits;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">417</td>
    <td class="codeLine">  SmallVector<BasicBlock *, 4> Exits;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">418</td>
    <td class="codeLine">  L.getExitBlocks(Exits);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">418</td>
    <td class="codeLine">  L.getExitBlocks(Exits);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">419</td>
    <td class="codeLine">  Loop *NewParentL = nullptr;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">419</td>
    <td class="codeLine">  Loop *NewParentL = nullptr;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">420</td>
    <td class="codeLine">  for (auto *ExitBB : Exits)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">420</td>
    <td class="codeLine">  for (auto *ExitBB : Exits)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">421</td>
    <td class="codeLine">    if (Loop *ExitL = LI.getLoopFor(ExitBB))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">421</td>
    <td class="codeLine">    if (Loop *ExitL = LI.getLoopFor(ExitBB))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">422</td>
    <td class="codeLine">      if (!NewParentL || NewParentL->contains(ExitL))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">422</td>
    <td class="codeLine">      if (!NewParentL || NewParentL->contains(ExitL))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">423</td>
    <td class="codeLine">        NewParentL = ExitL;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">423</td>
    <td class="codeLine">        NewParentL = ExitL;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">424</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">424</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">425</td>
    <td class="codeLine">  if (NewParentL == OldParentL)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">425</td>
    <td class="codeLine">  if (NewParentL == OldParentL)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">426</td>
    <td class="codeLine">    return;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">426</td>
    <td class="codeLine">    return;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">427</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">427</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">428</td>
    <td class="codeLine">  // The new parent loop (if different) should always contain the old one.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">428</td>
    <td class="codeLine">  // The new parent loop (if different) should always contain the old one.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">429</td>
    <td class="codeLine">  if (NewParentL)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">429</td>
    <td class="codeLine">  if (NewParentL)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">430</td>
    <td class="codeLine">    assert(NewParentL->contains(OldParentL) &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">430</td>
    <td class="codeLine">    assert(NewParentL->contains(OldParentL) &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">431</td>
    <td class="codeLine">           "Can only hoist this loop up the nest!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">431</td>
    <td class="codeLine">           "Can only hoist this loop up the nest!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">432</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">432</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">433</td>
    <td class="codeLine">  // The preheader will need to move with the body of this loop. However,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">433</td>
    <td class="codeLine">  // The preheader will need to move with the body of this loop. However,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">434</td>
    <td class="codeLine">  // because it isn't in this loop we also need to update the primary loop map.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">434</td>
    <td class="codeLine">  // because it isn't in this loop we also need to update the primary loop map.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">435</td>
    <td class="codeLine">  assert(OldParentL == LI.getLoopFor(&Preheader) &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">435</td>
    <td class="codeLine">  assert(OldParentL == LI.getLoopFor(&Preheader) &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">436</td>
    <td class="codeLine">         "Parent loop of this loop should contain this loop's preheader!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">436</td>
    <td class="codeLine">         "Parent loop of this loop should contain this loop's preheader!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">437</td>
    <td class="codeLine">  LI.changeLoopFor(&Preheader, NewParentL);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">437</td>
    <td class="codeLine">  LI.changeLoopFor(&Preheader, NewParentL);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">438</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">438</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">439</td>
    <td class="codeLine">  // Remove this loop from its old parent.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">439</td>
    <td class="codeLine">  // Remove this loop from its old parent.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">440</td>
    <td class="codeLine">  OldParentL->removeChildLoop(&L);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">440</td>
    <td class="codeLine">  OldParentL->removeChildLoop(&L);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">441</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">441</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">442</td>
    <td class="codeLine">  // Add the loop either to the new parent or as a top-level loop.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">442</td>
    <td class="codeLine">  // Add the loop either to the new parent or as a top-level loop.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">443</td>
    <td class="codeLine">  if (NewParentL)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">443</td>
    <td class="codeLine">  if (NewParentL)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">444</td>
    <td class="codeLine">    NewParentL->addChildLoop(&L);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">444</td>
    <td class="codeLine">    NewParentL->addChildLoop(&L);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">445</td>
    <td class="codeLine">  else</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">445</td>
    <td class="codeLine">  else</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">446</td>
    <td class="codeLine">    LI.addTopLevelLoop(&L);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">446</td>
    <td class="codeLine">    LI.addTopLevelLoop(&L);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">447</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">447</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">448</td>
    <td class="codeLine">  // Remove this loops blocks from the old parent and every other loop up the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">448</td>
    <td class="codeLine">  // Remove this loops blocks from the old parent and every other loop up the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">449</td>
    <td class="codeLine">  // nest until reaching the new parent. Also update all of these</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">449</td>
    <td class="codeLine">  // nest until reaching the new parent. Also update all of these</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">450</td>
    <td class="codeLine">  // no-longer-containing loops to reflect the nesting change.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">450</td>
    <td class="codeLine">  // no-longer-containing loops to reflect the nesting change.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">451</td>
    <td class="codeLine">  for (Loop *OldContainingL = OldParentL; OldContainingL != NewParentL;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">451</td>
    <td class="codeLine">  for (Loop *OldContainingL = OldParentL; OldContainingL != NewParentL;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">452</td>
    <td class="codeLine">       OldContainingL = OldContainingL->getParentLoop()) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">452</td>
    <td class="codeLine">       OldContainingL = OldContainingL->getParentLoop()) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">453</td>
    <td class="codeLine">    llvm::erase_if(OldContainingL->getBlocksVector(),</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">453</td>
    <td class="codeLine">    llvm::erase_if(OldContainingL->getBlocksVector(),</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">454</td>
    <td class="codeLine">                   [&](const BasicBlock *BB) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">454</td>
    <td class="codeLine">                   [&](const BasicBlock *BB) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">455</td>
    <td class="codeLine">                     return BB == &Preheader || L.contains(BB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">455</td>
    <td class="codeLine">                     return BB == &Preheader || L.contains(BB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">456</td>
    <td class="codeLine">                   });</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">456</td>
    <td class="codeLine">                   });</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">457</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">457</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">458</td>
    <td class="codeLine">    OldContainingL->getBlocksSet().erase(&Preheader);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">458</td>
    <td class="codeLine">    OldContainingL->getBlocksSet().erase(&Preheader);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">459</td>
    <td class="codeLine">    for (BasicBlock *BB : L.blocks())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">459</td>
    <td class="codeLine">    for (BasicBlock *BB : L.blocks())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">460</td>
    <td class="codeLine">      OldContainingL->getBlocksSet().erase(BB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">460</td>
    <td class="codeLine">      OldContainingL->getBlocksSet().erase(BB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">461</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">461</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">462</td>
    <td class="codeLine">    // Because we just hoisted a loop out of this one, we have essentially</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">462</td>
    <td class="codeLine">    // Because we just hoisted a loop out of this one, we have essentially</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">463</td>
    <td class="codeLine">    // created new exit paths from it. That means we need to form LCSSA PHI</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">463</td>
    <td class="codeLine">    // created new exit paths from it. That means we need to form LCSSA PHI</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">464</td>
    <td class="codeLine">    // nodes for values used in the no-longer-nested loop.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">464</td>
    <td class="codeLine">    // nodes for values used in the no-longer-nested loop.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">465</td>
    <td class="codeLine">    formLCSSA(*OldContainingL, DT, &LI, SE);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">465</td>
    <td class="codeLine">    formLCSSA(*OldContainingL, DT, &LI, SE);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">466</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">466</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">467</td>
    <td class="codeLine">    // We shouldn't need to form dedicated exits because the exit introduced</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">467</td>
    <td class="codeLine">    // We shouldn't need to form dedicated exits because the exit introduced</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">468</td>
    <td class="codeLine">    // here is the (just split by unswitching) preheader. However, after trivial</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">468</td>
    <td class="codeLine">    // here is the (just split by unswitching) preheader. However, after trivial</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">469</td>
    <td class="codeLine">    // unswitching it is possible to get new non-dedicated exits out of parent</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">469</td>
    <td class="codeLine">    // unswitching it is possible to get new non-dedicated exits out of parent</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">470</td>
    <td class="codeLine">    // loop so let's conservatively form dedicated exit blocks and figure out</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">470</td>
    <td class="codeLine">    // loop so let's conservatively form dedicated exit blocks and figure out</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">471</td>
    <td class="codeLine">    // if we can optimize later.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">471</td>
    <td class="codeLine">    // if we can optimize later.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">472</td>
    <td class="codeLine">    formDedicatedExitBlocks(OldContainingL, &DT, &LI, MSSAU,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">472</td>
    <td class="codeLine">    formDedicatedExitBlocks(OldContainingL, &DT, &LI, MSSAU,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">473</td>
    <td class="codeLine">                            /*PreserveLCSSA*/ true);</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">473</td>
    <td class="codeLine">                            /*PreserveLCSSA*/ true);</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">474</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">474</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">475</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">475</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">476</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">476</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">477</td>
    <td class="codeLine">// Return the top-most loop containing ExitBB and having ExitBB as exiting block</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">477</td>
    <td class="codeLine">// Return the top-most loop containing ExitBB and having ExitBB as exiting block</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">478</td>
    <td class="codeLine">// or the loop containing ExitBB, if there is no parent loop containing ExitBB</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">478</td>
    <td class="codeLine">// or the loop containing ExitBB, if there is no parent loop containing ExitBB</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">479</td>
    <td class="codeLine">// as exiting block.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">479</td>
    <td class="codeLine">// as exiting block.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">480</td>
    <td class="codeLine">static Loop *getTopMostExitingLoop(const BasicBlock *ExitBB,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">480</td>
    <td class="codeLine">static Loop *getTopMostExitingLoop(const BasicBlock *ExitBB,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">481</td>
    <td class="codeLine">                                   const LoopInfo &LI) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">481</td>
    <td class="codeLine">                                   const LoopInfo &LI) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">482</td>
    <td class="codeLine">  Loop *TopMost = LI.getLoopFor(ExitBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">482</td>
    <td class="codeLine">  Loop *TopMost = LI.getLoopFor(ExitBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">483</td>
    <td class="codeLine">  Loop *Current = TopMost;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">483</td>
    <td class="codeLine">  Loop *Current = TopMost;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">484</td>
    <td class="codeLine">  while (Current) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">484</td>
    <td class="codeLine">  while (Current) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">485</td>
    <td class="codeLine">    if (Current->isLoopExiting(ExitBB))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">485</td>
    <td class="codeLine">    if (Current->isLoopExiting(ExitBB))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">486</td>
    <td class="codeLine">      TopMost = Current;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">486</td>
    <td class="codeLine">      TopMost = Current;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">487</td>
    <td class="codeLine">    Current = Current->getParentLoop();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">487</td>
    <td class="codeLine">    Current = Current->getParentLoop();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">488</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">488</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">489</td>
    <td class="codeLine">  return TopMost;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">489</td>
    <td class="codeLine">  return TopMost;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">490</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">490</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">491</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">491</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">492</td>
    <td class="codeLine">/// Unswitch a trivial branch if the condition is loop invariant.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">492</td>
    <td class="codeLine">/// Unswitch a trivial branch if the condition is loop invariant.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">493</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">493</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">494</td>
    <td class="codeLine">/// This routine should only be called when loop code leading to the branch has</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">494</td>
    <td class="codeLine">/// This routine should only be called when loop code leading to the branch has</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">495</td>
    <td class="codeLine">/// been validated as trivial (no side effects). This routine checks if the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">495</td>
    <td class="codeLine">/// been validated as trivial (no side effects). This routine checks if the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">496</td>
    <td class="codeLine">/// condition is invariant and one of the successors is a loop exit. This</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">496</td>
    <td class="codeLine">/// condition is invariant and one of the successors is a loop exit. This</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">497</td>
    <td class="codeLine">/// allows us to unswitch without duplicating the loop, making it trivial.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">497</td>
    <td class="codeLine">/// allows us to unswitch without duplicating the loop, making it trivial.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">498</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">498</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">499</td>
    <td class="codeLine">/// If this routine fails to unswitch the branch it returns false.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">499</td>
    <td class="codeLine">/// If this routine fails to unswitch the branch it returns false.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">500</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">500</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">501</td>
    <td class="codeLine">/// If the branch can be unswitched, this routine splits the preheader and</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">501</td>
    <td class="codeLine">/// If the branch can be unswitched, this routine splits the preheader and</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">502</td>
    <td class="codeLine">/// hoists the branch above that split. Preserves loop simplified form</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">502</td>
    <td class="codeLine">/// hoists the branch above that split. Preserves loop simplified form</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">503</td>
    <td class="codeLine">/// (splitting the exit block as necessary). It simplifies the branch within</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">503</td>
    <td class="codeLine">/// (splitting the exit block as necessary). It simplifies the branch within</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">504</td>
    <td class="codeLine">/// the loop to an unconditional branch but doesn't remove it entirely. Further</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">504</td>
    <td class="codeLine">/// the loop to an unconditional branch but doesn't remove it entirely. Further</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">505</td>
    <td class="codeLine">/// cleanup can be done with some simplifycfg like pass.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">505</td>
    <td class="codeLine">/// cleanup can be done with some simplifycfg like pass.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">506</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">506</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">507</td>
    <td class="codeLine">/// If `SE` is not null, it will be updated based on the potential loop SCEVs</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">507</td>
    <td class="codeLine">/// If `SE` is not null, it will be updated based on the potential loop SCEVs</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">508</td>
    <td class="codeLine">/// invalidated by this.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">508</td>
    <td class="codeLine">/// invalidated by this.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">509</td>
    <td class="codeLine">static bool unswitchTrivialBranch(Loop &L, BranchInst &BI, DominatorTree &DT,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">509</td>
    <td class="codeLine">static bool unswitchTrivialBranch(Loop &L, BranchInst &BI, DominatorTree &DT,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">510</td>
    <td class="codeLine">                                  LoopInfo &LI, ScalarEvolution *SE,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">510</td>
    <td class="codeLine">                                  LoopInfo &LI, ScalarEvolution *SE,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">511</td>
    <td class="codeLine">                                  MemorySSAUpdater *MSSAU) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">511</td>
    <td class="codeLine">                                  MemorySSAUpdater *MSSAU) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">512</td>
    <td class="codeLine">  assert(BI.isConditional() && "Can only unswitch a conditional branch!");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">512</td>
    <td class="codeLine">  assert(BI.isConditional() && "Can only unswitch a conditional branch!");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">513</td>
    <td class="codeLine">  LLVM_DEBUG(dbgs() << "  Trying to unswitch branch: " << BI << "\n");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">513</td>
    <td class="codeLine">  LLVM_DEBUG(dbgs() << "  Trying to unswitch branch: " << BI << "\n");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">514</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">514</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">515</td>
    <td class="codeLine">  // The loop invariant values that we want to unswitch.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">515</td>
    <td class="codeLine">  // The loop invariant values that we want to unswitch.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">516</td>
    <td class="codeLine">  TinyPtrVector<Value *> Invariants;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">516</td>
    <td class="codeLine">  TinyPtrVector<Value *> Invariants;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">517</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">517</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">518</td>
    <td class="codeLine">  // When true, we're fully unswitching the branch rather than just unswitching</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">518</td>
    <td class="codeLine">  // When true, we're fully unswitching the branch rather than just unswitching</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">519</td>
    <td class="codeLine">  // some input conditions to the branch.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">519</td>
    <td class="codeLine">  // some input conditions to the branch.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">520</td>
    <td class="codeLine">  bool FullUnswitch = false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">520</td>
    <td class="codeLine">  bool FullUnswitch = false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">521</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">521</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">522</td>
    <td class="codeLine">  Value *Cond = skipTrivialSelect(BI.getCondition());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">522</td>
    <td class="codeLine">  Value *Cond = skipTrivialSelect(BI.getCondition());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">523</td>
    <td class="codeLine">  if (L.isLoopInvariant(Cond)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">523</td>
    <td class="codeLine">  if (L.isLoopInvariant(Cond)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">524</td>
    <td class="codeLine">    Invariants.push_back(Cond);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">524</td>
    <td class="codeLine">    Invariants.push_back(Cond);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">525</td>
    <td class="codeLine">    FullUnswitch = true;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">525</td>
    <td class="codeLine">    FullUnswitch = true;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">526</td>
    <td class="codeLine">  } else {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">526</td>
    <td class="codeLine">  } else {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">527</td>
    <td class="codeLine">    if (auto *CondInst = dyn_cast<Instruction>(Cond))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">527</td>
    <td class="codeLine">    if (auto *CondInst = dyn_cast<Instruction>(Cond))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">528</td>
    <td class="codeLine">      Invariants = collectHomogenousInstGraphLoopInvariants(L, *CondInst, LI);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">528</td>
    <td class="codeLine">      Invariants = collectHomogenousInstGraphLoopInvariants(L, *CondInst, LI);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">529</td>
    <td class="codeLine">    if (Invariants.empty()) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">529</td>
    <td class="codeLine">    if (Invariants.empty()) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">530</td>
    <td class="codeLine">      LLVM_DEBUG(dbgs() << "   Couldn't find invariant inputs!\n");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">530</td>
    <td class="codeLine">      LLVM_DEBUG(dbgs() << "   Couldn't find invariant inputs!\n");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">531</td>
    <td class="codeLine">      return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">531</td>
    <td class="codeLine">      return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">532</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">532</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">533</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">533</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">534</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">534</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">535</td>
    <td class="codeLine">  // Check that one of the branch's successors exits, and which one.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">535</td>
    <td class="codeLine">  // Check that one of the branch's successors exits, and which one.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">536</td>
    <td class="codeLine">  bool ExitDirection = true;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">536</td>
    <td class="codeLine">  bool ExitDirection = true;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">537</td>
    <td class="codeLine">  int LoopExitSuccIdx = 0;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">537</td>
    <td class="codeLine">  int LoopExitSuccIdx = 0;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">538</td>
    <td class="codeLine">  auto *LoopExitBB = BI.getSuccessor(0);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">538</td>
    <td class="codeLine">  auto *LoopExitBB = BI.getSuccessor(0);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">539</td>
    <td class="codeLine">  if (L.contains(LoopExitBB)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">539</td>
    <td class="codeLine">  if (L.contains(LoopExitBB)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">540</td>
    <td class="codeLine">    ExitDirection = false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">540</td>
    <td class="codeLine">    ExitDirection = false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">541</td>
    <td class="codeLine">    LoopExitSuccIdx = 1;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">541</td>
    <td class="codeLine">    LoopExitSuccIdx = 1;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">542</td>
    <td class="codeLine">    LoopExitBB = BI.getSuccessor(1);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">542</td>
    <td class="codeLine">    LoopExitBB = BI.getSuccessor(1);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">543</td>
    <td class="codeLine">    if (L.contains(LoopExitBB)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">543</td>
    <td class="codeLine">    if (L.contains(LoopExitBB)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">544</td>
    <td class="codeLine">      LLVM_DEBUG(dbgs() << "   Branch doesn't exit the loop!\n");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">544</td>
    <td class="codeLine">      LLVM_DEBUG(dbgs() << "   Branch doesn't exit the loop!\n");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">545</td>
    <td class="codeLine">      return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">545</td>
    <td class="codeLine">      return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">546</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">546</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">547</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">547</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">548</td>
    <td class="codeLine">  auto *ContinueBB = BI.getSuccessor(1 - LoopExitSuccIdx);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">548</td>
    <td class="codeLine">  auto *ContinueBB = BI.getSuccessor(1 - LoopExitSuccIdx);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">549</td>
    <td class="codeLine">  auto *ParentBB = BI.getParent();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">549</td>
    <td class="codeLine">  auto *ParentBB = BI.getParent();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">550</td>
    <td class="codeLine">  if (!areLoopExitPHIsLoopInvariant(L, *ParentBB, *LoopExitBB)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">550</td>
    <td class="codeLine">  if (!areLoopExitPHIsLoopInvariant(L, *ParentBB, *LoopExitBB)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">551</td>
    <td class="codeLine">    LLVM_DEBUG(dbgs() << "   Loop exit PHI's aren't loop-invariant!\n");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">551</td>
    <td class="codeLine">    LLVM_DEBUG(dbgs() << "   Loop exit PHI's aren't loop-invariant!\n");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">552</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">552</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">553</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">553</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">554</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">554</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">555</td>
    <td class="codeLine">  // When unswitching only part of the branch's condition, we need the exit</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">555</td>
    <td class="codeLine">  // When unswitching only part of the branch's condition, we need the exit</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">556</td>
    <td class="codeLine">  // block to be reached directly from the partially unswitched input. This can</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">556</td>
    <td class="codeLine">  // block to be reached directly from the partially unswitched input. This can</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">557</td>
    <td class="codeLine">  // be done when the exit block is along the true edge and the branch condition</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">557</td>
    <td class="codeLine">  // be done when the exit block is along the true edge and the branch condition</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">558</td>
    <td class="codeLine">  // is a graph of `or` operations, or the exit block is along the false edge</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">558</td>
    <td class="codeLine">  // is a graph of `or` operations, or the exit block is along the false edge</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">559</td>
    <td class="codeLine">  // and the condition is a graph of `and` operations.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">559</td>
    <td class="codeLine">  // and the condition is a graph of `and` operations.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">560</td>
    <td class="codeLine">  if (!FullUnswitch) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">560</td>
    <td class="codeLine">  if (!FullUnswitch) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">561</td>
    <td class="codeLine">    if (ExitDirection ? !match(Cond, m_LogicalOr())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">561</td>
    <td class="codeLine">    if (ExitDirection ? !match(Cond, m_LogicalOr())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">562</td>
    <td class="codeLine">                      : !match(Cond, m_LogicalAnd())) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">562</td>
    <td class="codeLine">                      : !match(Cond, m_LogicalAnd())) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">563</td>
    <td class="codeLine">      LLVM_DEBUG(dbgs() << "   Branch condition is in improper form for "</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">563</td>
    <td class="codeLine">      LLVM_DEBUG(dbgs() << "   Branch condition is in improper form for "</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">564</td>
    <td class="codeLine">                           "non-full unswitch!\n");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">564</td>
    <td class="codeLine">                           "non-full unswitch!\n");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">565</td>
    <td class="codeLine">      return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">565</td>
    <td class="codeLine">      return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">566</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">566</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">567</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">567</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">568</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">568</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">569</td>
    <td class="codeLine">  LLVM_DEBUG({</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">569</td>
    <td class="codeLine">  LLVM_DEBUG({</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">570</td>
    <td class="codeLine">    dbgs() << "    unswitching trivial invariant conditions for: " << BI</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">570</td>
    <td class="codeLine">    dbgs() << "    unswitching trivial invariant conditions for: " << BI</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">571</td>
    <td class="codeLine">           << "\n";</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">571</td>
    <td class="codeLine">           << "\n";</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">572</td>
    <td class="codeLine">    for (Value *Invariant : Invariants) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">572</td>
    <td class="codeLine">    for (Value *Invariant : Invariants) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">573</td>
    <td class="codeLine">      dbgs() << "      " << *Invariant << " == true";</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">573</td>
    <td class="codeLine">      dbgs() << "      " << *Invariant << " == true";</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">574</td>
    <td class="codeLine">      if (Invariant != Invariants.back())</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">574</td>
    <td class="codeLine">      if (Invariant != Invariants.back())</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">575</td>
    <td class="codeLine">        dbgs() << " ||";</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">575</td>
    <td class="codeLine">        dbgs() << " ||";</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">576</td>
    <td class="codeLine">      dbgs() << "\n";</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">576</td>
    <td class="codeLine">      dbgs() << "\n";</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">577</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">577</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">578</td>
    <td class="codeLine">  });</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">578</td>
    <td class="codeLine">  });</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">579</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">579</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">580</td>
    <td class="codeLine">  // If we have scalar evolutions, we need to invalidate them including this</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">580</td>
    <td class="codeLine">  // If we have scalar evolutions, we need to invalidate them including this</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">581</td>
    <td class="codeLine">  // loop, the loop containing the exit block and the topmost parent loop</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">581</td>
    <td class="codeLine">  // loop, the loop containing the exit block and the topmost parent loop</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">582</td>
    <td class="codeLine">  // exiting via LoopExitBB.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">582</td>
    <td class="codeLine">  // exiting via LoopExitBB.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">583</td>
    <td class="codeLine">  if (SE) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">583</td>
    <td class="codeLine">  if (SE) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">584</td>
    <td class="codeLine">    if (const Loop *ExitL = getTopMostExitingLoop(LoopExitBB, LI))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">584</td>
    <td class="codeLine">    if (const Loop *ExitL = getTopMostExitingLoop(LoopExitBB, LI))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">585</td>
    <td class="codeLine">      SE->forgetLoop(ExitL);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">585</td>
    <td class="codeLine">      SE->forgetLoop(ExitL);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">586</td>
    <td class="codeLine">    else</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">586</td>
    <td class="codeLine">    else</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">587</td>
    <td class="codeLine">      // Forget the entire nest as this exits the entire nest.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">587</td>
    <td class="codeLine">      // Forget the entire nest as this exits the entire nest.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">588</td>
    <td class="codeLine">      SE->forgetTopmostLoop(&L);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">588</td>
    <td class="codeLine">      SE->forgetTopmostLoop(&L);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">589</td>
    <td class="codeLine">    SE->forgetBlockAndLoopDispositions();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">589</td>
    <td class="codeLine">    SE->forgetBlockAndLoopDispositions();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">590</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">590</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">591</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">591</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">592</td>
    <td class="codeLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">592</td>
    <td class="codeLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">593</td>
    <td class="codeLine">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">593</td>
    <td class="codeLine">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">594</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">594</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">595</td>
    <td class="codeLine">  // Split the preheader, so that we know that there is a safe place to insert</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">595</td>
    <td class="codeLine">  // Split the preheader, so that we know that there is a safe place to insert</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">596</td>
    <td class="codeLine">  // the conditional branch. We will change the preheader to have a conditional</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">596</td>
    <td class="codeLine">  // the conditional branch. We will change the preheader to have a conditional</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">597</td>
    <td class="codeLine">  // branch on LoopCond.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">597</td>
    <td class="codeLine">  // branch on LoopCond.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">598</td>
    <td class="codeLine">  BasicBlock *OldPH = L.getLoopPreheader();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">598</td>
    <td class="codeLine">  BasicBlock *OldPH = L.getLoopPreheader();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">599</td>
    <td class="codeLine">  BasicBlock *NewPH = SplitEdge(OldPH, L.getHeader(), &DT, &LI, MSSAU);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">599</td>
    <td class="codeLine">  BasicBlock *NewPH = SplitEdge(OldPH, L.getHeader(), &DT, &LI, MSSAU);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">600</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">600</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">601</td>
    <td class="codeLine">  // Now that we have a place to insert the conditional branch, create a place</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">601</td>
    <td class="codeLine">  // Now that we have a place to insert the conditional branch, create a place</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">602</td>
    <td class="codeLine">  // to branch to: this is the exit block out of the loop that we are</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">602</td>
    <td class="codeLine">  // to branch to: this is the exit block out of the loop that we are</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">603</td>
    <td class="codeLine">  // unswitching. We need to split this if there are other loop predecessors.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">603</td>
    <td class="codeLine">  // unswitching. We need to split this if there are other loop predecessors.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">604</td>
    <td class="codeLine">  // Because the loop is in simplified form, *any* other predecessor is enough.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">604</td>
    <td class="codeLine">  // Because the loop is in simplified form, *any* other predecessor is enough.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">605</td>
    <td class="codeLine">  BasicBlock *UnswitchedBB;</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">605</td>
    <td class="codeLine">  BasicBlock *UnswitchedBB;</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">606</td>
    <td class="codeLine">  if (FullUnswitch && LoopExitBB->getUniquePredecessor()) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">606</td>
    <td class="codeLine">  if (FullUnswitch && LoopExitBB->getUniquePredecessor()) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">607</td>
    <td class="codeLine">    assert(LoopExitBB->getUniquePredecessor() == BI.getParent() &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">607</td>
    <td class="codeLine">    assert(LoopExitBB->getUniquePredecessor() == BI.getParent() &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">608</td>
    <td class="codeLine">           "A branch's parent isn't a predecessor!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">608</td>
    <td class="codeLine">           "A branch's parent isn't a predecessor!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">609</td>
    <td class="codeLine">    UnswitchedBB = LoopExitBB;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">609</td>
    <td class="codeLine">    UnswitchedBB = LoopExitBB;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">610</td>
    <td class="codeLine">  } else {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">610</td>
    <td class="codeLine">  } else {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">611</td>
    <td class="codeLine">    UnswitchedBB =</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">611</td>
    <td class="codeLine">    UnswitchedBB =</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">612</td>
    <td class="codeLine">        SplitBlock(LoopExitBB, &LoopExitBB->front(), &DT, &LI, MSSAU);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">612</td>
    <td class="codeLine">        SplitBlock(LoopExitBB, &LoopExitBB->front(), &DT, &LI, MSSAU);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">613</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">613</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">614</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">614</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">615</td>
    <td class="codeLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">615</td>
    <td class="codeLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">616</td>
    <td class="codeLine">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">616</td>
    <td class="codeLine">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">617</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">617</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">618</td>
    <td class="codeLine">  // Actually move the invariant uses into the unswitched position. If possible,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">618</td>
    <td class="codeLine">  // Actually move the invariant uses into the unswitched position. If possible,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">619</td>
    <td class="codeLine">  // we do this by moving the instructions, but when doing partial unswitching</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">619</td>
    <td class="codeLine">  // we do this by moving the instructions, but when doing partial unswitching</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">620</td>
    <td class="codeLine">  // we do it by building a new merge of the values in the unswitched position.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">620</td>
    <td class="codeLine">  // we do it by building a new merge of the values in the unswitched position.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">621</td>
    <td class="codeLine">  OldPH->getTerminator()->eraseFromParent();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">621</td>
    <td class="codeLine">  OldPH->getTerminator()->eraseFromParent();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">622</td>
    <td class="codeLine">  if (FullUnswitch) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">622</td>
    <td class="codeLine">  if (FullUnswitch) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">623</td>
    <td class="codeLine">    // If fully unswitching, we can use the existing branch instruction.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">623</td>
    <td class="codeLine">    // If fully unswitching, we can use the existing branch instruction.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">624</td>
    <td class="codeLine">    // Splice it into the old PH to gate reaching the new preheader and re-point</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">624</td>
    <td class="codeLine">    // Splice it into the old PH to gate reaching the new preheader and re-point</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">625</td>
    <td class="codeLine">    // its successors.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">625</td>
    <td class="codeLine">    // its successors.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">626</td>
    <td class="codeLine">    OldPH->splice(OldPH->end(), BI.getParent(), BI.getIterator());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">626</td>
    <td class="codeLine">    OldPH->splice(OldPH->end(), BI.getParent(), BI.getIterator());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">627</td>
    <td class="codeLine">    BI.setCondition(Cond);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">627</td>
    <td class="codeLine">    BI.setCondition(Cond);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">628</td>
    <td class="codeLine">    if (MSSAU) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">628</td>
    <td class="codeLine">    if (MSSAU) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">629</td>
    <td class="codeLine">      // Temporarily clone the terminator, to make MSSA update cheaper by</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">629</td>
    <td class="codeLine">      // Temporarily clone the terminator, to make MSSA update cheaper by</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">630</td>
    <td class="codeLine">      // separating "insert edge" updates from "remove edge" ones.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">630</td>
    <td class="codeLine">      // separating "insert edge" updates from "remove edge" ones.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">631</td>
    <td class="codeLine">      BI.clone()->insertInto(ParentBB, ParentBB->end());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">631</td>
    <td class="codeLine">      BI.clone()->insertInto(ParentBB, ParentBB->end());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">632</td>
    <td class="codeLine">    } else {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">632</td>
    <td class="codeLine">    } else {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">633</td>
    <td class="codeLine">      // Create a new unconditional branch that will continue the loop as a new</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">633</td>
    <td class="codeLine">      // Create a new unconditional branch that will continue the loop as a new</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">634</td>
    <td class="codeLine">      // terminator.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">634</td>
    <td class="codeLine">      // terminator.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">635</td>
    <td class="codeLine">      BranchInst::Create(ContinueBB, ParentBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">635</td>
    <td class="codeLine">      BranchInst::Create(ContinueBB, ParentBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">636</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">636</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">637</td>
    <td class="codeLine">    BI.setSuccessor(LoopExitSuccIdx, UnswitchedBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">637</td>
    <td class="codeLine">    BI.setSuccessor(LoopExitSuccIdx, UnswitchedBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">638</td>
    <td class="codeLine">    BI.setSuccessor(1 - LoopExitSuccIdx, NewPH);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">638</td>
    <td class="codeLine">    BI.setSuccessor(1 - LoopExitSuccIdx, NewPH);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">639</td>
    <td class="codeLine">  } else {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">639</td>
    <td class="codeLine">  } else {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">640</td>
    <td class="codeLine">    // Only unswitching a subset of inputs to the condition, so we will need to</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">640</td>
    <td class="codeLine">    // Only unswitching a subset of inputs to the condition, so we will need to</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">641</td>
    <td class="codeLine">    // build a new branch that merges the invariant inputs.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">641</td>
    <td class="codeLine">    // build a new branch that merges the invariant inputs.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">642</td>
    <td class="codeLine">    if (ExitDirection)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">642</td>
    <td class="codeLine">    if (ExitDirection)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">643</td>
    <td class="codeLine">      assert(match(skipTrivialSelect(BI.getCondition()), m_LogicalOr()) &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">643</td>
    <td class="codeLine">      assert(match(skipTrivialSelect(BI.getCondition()), m_LogicalOr()) &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">644</td>
    <td class="codeLine">             "Must have an `or` of `i1`s or `select i1 X, true, Y`s for the "</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">644</td>
    <td class="codeLine">             "Must have an `or` of `i1`s or `select i1 X, true, Y`s for the "</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">645</td>
    <td class="codeLine">             "condition!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">645</td>
    <td class="codeLine">             "condition!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">646</td>
    <td class="codeLine">    else</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">646</td>
    <td class="codeLine">    else</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">647</td>
    <td class="codeLine">      assert(match(skipTrivialSelect(BI.getCondition()), m_LogicalAnd()) &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">647</td>
    <td class="codeLine">      assert(match(skipTrivialSelect(BI.getCondition()), m_LogicalAnd()) &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">648</td>
    <td class="codeLine">             "Must have an `and` of `i1`s or `select i1 X, Y, false`s for the"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">648</td>
    <td class="codeLine">             "Must have an `and` of `i1`s or `select i1 X, Y, false`s for the"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">649</td>
    <td class="codeLine">             " condition!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">649</td>
    <td class="codeLine">             " condition!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">650</td>
    <td class="codeLine">    buildPartialUnswitchConditionalBranch(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">650</td>
    <td class="codeLine">    buildPartialUnswitchConditionalBranch(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">651</td>
    <td class="codeLine">        *OldPH, Invariants, ExitDirection, *UnswitchedBB, *NewPH,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">651</td>
    <td class="codeLine">        *OldPH, Invariants, ExitDirection, *UnswitchedBB, *NewPH,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">652</td>
    <td class="codeLine">        FreezeLoopUnswitchCond, OldPH->getTerminator(), nullptr, DT);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">652</td>
    <td class="codeLine">        FreezeLoopUnswitchCond, OldPH->getTerminator(), nullptr, DT);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">653</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">653</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">654</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">654</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">655</td>
    <td class="codeLine">  // Update the dominator tree with the added edge.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">655</td>
    <td class="codeLine">  // Update the dominator tree with the added edge.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">656</td>
    <td class="codeLine">  DT.insertEdge(OldPH, UnswitchedBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">656</td>
    <td class="codeLine">  DT.insertEdge(OldPH, UnswitchedBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">657</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">657</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">658</td>
    <td class="codeLine">  // After the dominator tree was updated with the added edge, update MemorySSA</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">658</td>
    <td class="codeLine">  // After the dominator tree was updated with the added edge, update MemorySSA</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">659</td>
    <td class="codeLine">  // if available.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">659</td>
    <td class="codeLine">  // if available.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">660</td>
    <td class="codeLine">  if (MSSAU) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">660</td>
    <td class="codeLine">  if (MSSAU) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">661</td>
    <td class="codeLine">    SmallVector<CFGUpdate, 1> Updates;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">661</td>
    <td class="codeLine">    SmallVector<CFGUpdate, 1> Updates;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">662</td>
    <td class="codeLine">    Updates.push_back({cfg::UpdateKind::Insert, OldPH, UnswitchedBB});</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">662</td>
    <td class="codeLine">    Updates.push_back({cfg::UpdateKind::Insert, OldPH, UnswitchedBB});</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">663</td>
    <td class="codeLine">    MSSAU->applyInsertUpdates(Updates, DT);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">663</td>
    <td class="codeLine">    MSSAU->applyInsertUpdates(Updates, DT);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">664</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">664</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">665</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">665</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">666</td>
    <td class="codeLine">  // Finish updating dominator tree and memory ssa for full unswitch.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">666</td>
    <td class="codeLine">  // Finish updating dominator tree and memory ssa for full unswitch.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">667</td>
    <td class="codeLine">  if (FullUnswitch) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">667</td>
    <td class="codeLine">  if (FullUnswitch) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">668</td>
    <td class="codeLine">    if (MSSAU) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">668</td>
    <td class="codeLine">    if (MSSAU) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">669</td>
    <td class="codeLine">      // Remove the cloned branch instruction.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">669</td>
    <td class="codeLine">      // Remove the cloned branch instruction.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">670</td>
    <td class="codeLine">      ParentBB->getTerminator()->eraseFromParent();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">670</td>
    <td class="codeLine">      ParentBB->getTerminator()->eraseFromParent();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">671</td>
    <td class="codeLine">      // Create unconditional branch now.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">671</td>
    <td class="codeLine">      // Create unconditional branch now.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">672</td>
    <td class="codeLine">      BranchInst::Create(ContinueBB, ParentBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">672</td>
    <td class="codeLine">      BranchInst::Create(ContinueBB, ParentBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">673</td>
    <td class="codeLine">      MSSAU->removeEdge(ParentBB, LoopExitBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">673</td>
    <td class="codeLine">      MSSAU->removeEdge(ParentBB, LoopExitBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">674</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">674</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">675</td>
    <td class="codeLine">    DT.deleteEdge(ParentBB, LoopExitBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">675</td>
    <td class="codeLine">    DT.deleteEdge(ParentBB, LoopExitBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">676</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">676</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">677</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">677</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">678</td>
    <td class="codeLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">678</td>
    <td class="codeLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">679</td>
    <td class="codeLine">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">679</td>
    <td class="codeLine">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">680</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">680</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">681</td>
    <td class="codeLine">  // Rewrite the relevant PHI nodes.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">681</td>
    <td class="codeLine">  // Rewrite the relevant PHI nodes.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">682</td>
    <td class="codeLine">  if (UnswitchedBB == LoopExitBB)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">682</td>
    <td class="codeLine">  if (UnswitchedBB == LoopExitBB)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">683</td>
    <td class="codeLine">    rewritePHINodesForUnswitchedExitBlock(*UnswitchedBB, *ParentBB, *OldPH);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">683</td>
    <td class="codeLine">    rewritePHINodesForUnswitchedExitBlock(*UnswitchedBB, *ParentBB, *OldPH);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">684</td>
    <td class="codeLine">  else</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">684</td>
    <td class="codeLine">  else</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">685</td>
    <td class="codeLine">    rewritePHINodesForExitAndUnswitchedBlocks(*LoopExitBB, *UnswitchedBB,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">685</td>
    <td class="codeLine">    rewritePHINodesForExitAndUnswitchedBlocks(*LoopExitBB, *UnswitchedBB,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">686</td>
    <td class="codeLine">                                              *ParentBB, *OldPH, FullUnswitch);</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">686</td>
    <td class="codeLine">                                              *ParentBB, *OldPH, FullUnswitch);</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">687</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">687</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">688</td>
    <td class="codeLine">  // The constant we can replace all of our invariants with inside the loop</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">688</td>
    <td class="codeLine">  // The constant we can replace all of our invariants with inside the loop</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">689</td>
    <td class="codeLine">  // body. If any of the invariants have a value other than this the loop won't</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">689</td>
    <td class="codeLine">  // body. If any of the invariants have a value other than this the loop won't</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">690</td>
    <td class="codeLine">  // be entered.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">690</td>
    <td class="codeLine">  // be entered.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">691</td>
    <td class="codeLine">  ConstantInt *Replacement = ExitDirection</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">691</td>
    <td class="codeLine">  ConstantInt *Replacement = ExitDirection</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">692</td>
    <td class="codeLine">                                 ? ConstantInt::getFalse(BI.getContext())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">692</td>
    <td class="codeLine">                                 ? ConstantInt::getFalse(BI.getContext())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">693</td>
    <td class="codeLine">                                 : ConstantInt::getTrue(BI.getContext());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">693</td>
    <td class="codeLine">                                 : ConstantInt::getTrue(BI.getContext());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">694</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">694</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">695</td>
    <td class="codeLine">  // Since this is an i1 condition we can also trivially replace uses of it</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">695</td>
    <td class="codeLine">  // Since this is an i1 condition we can also trivially replace uses of it</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">696</td>
    <td class="codeLine">  // within the loop with a constant.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">696</td>
    <td class="codeLine">  // within the loop with a constant.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">697</td>
    <td class="codeLine">  for (Value *Invariant : Invariants)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">697</td>
    <td class="codeLine">  for (Value *Invariant : Invariants)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">698</td>
    <td class="codeLine">    replaceLoopInvariantUses(L, Invariant, *Replacement);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">698</td>
    <td class="codeLine">    replaceLoopInvariantUses(L, Invariant, *Replacement);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">699</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">699</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">700</td>
    <td class="codeLine">  // If this was full unswitching, we may have changed the nesting relationship</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">700</td>
    <td class="codeLine">  // If this was full unswitching, we may have changed the nesting relationship</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">701</td>
    <td class="codeLine">  // for this loop so hoist it to its correct parent if needed.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">701</td>
    <td class="codeLine">  // for this loop so hoist it to its correct parent if needed.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">702</td>
    <td class="codeLine">  if (FullUnswitch)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">702</td>
    <td class="codeLine">  if (FullUnswitch)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">703</td>
    <td class="codeLine">    hoistLoopToNewParent(L, *NewPH, DT, LI, MSSAU, SE);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">703</td>
    <td class="codeLine">    hoistLoopToNewParent(L, *NewPH, DT, LI, MSSAU, SE);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">704</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">704</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">705</td>
    <td class="codeLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">705</td>
    <td class="codeLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">706</td>
    <td class="codeLine">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">706</td>
    <td class="codeLine">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">707</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">707</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">708</td>
    <td class="codeLine">  LLVM_DEBUG(dbgs() << "    done: unswitching trivial branch...\n");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">708</td>
    <td class="codeLine">  LLVM_DEBUG(dbgs() << "    done: unswitching trivial branch...\n");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">709</td>
    <td class="codeLine">  ++NumTrivial;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">709</td>
    <td class="codeLine">  ++NumTrivial;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">710</td>
    <td class="codeLine">  ++NumBranches;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">710</td>
    <td class="codeLine">  ++NumBranches;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">711</td>
    <td class="codeLine">  return true;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">711</td>
    <td class="codeLine">  return true;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">712</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">712</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">713</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">713</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">714</td>
    <td class="codeLine">/// Unswitch a trivial switch if the condition is loop invariant.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">714</td>
    <td class="codeLine">/// Unswitch a trivial switch if the condition is loop invariant.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">715</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">715</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">716</td>
    <td class="codeLine">/// This routine should only be called when loop code leading to the switch has</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">716</td>
    <td class="codeLine">/// This routine should only be called when loop code leading to the switch has</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">717</td>
    <td class="codeLine">/// been validated as trivial (no side effects). This routine checks if the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">717</td>
    <td class="codeLine">/// been validated as trivial (no side effects). This routine checks if the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">718</td>
    <td class="codeLine">/// condition is invariant and that at least one of the successors is a loop</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">718</td>
    <td class="codeLine">/// condition is invariant and that at least one of the successors is a loop</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">719</td>
    <td class="codeLine">/// exit. This allows us to unswitch without duplicating the loop, making it</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">719</td>
    <td class="codeLine">/// exit. This allows us to unswitch without duplicating the loop, making it</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">720</td>
    <td class="codeLine">/// trivial.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">720</td>
    <td class="codeLine">/// trivial.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">721</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">721</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">722</td>
    <td class="codeLine">/// If this routine fails to unswitch the switch it returns false.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">722</td>
    <td class="codeLine">/// If this routine fails to unswitch the switch it returns false.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">723</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">723</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">724</td>
    <td class="codeLine">/// If the switch can be unswitched, this routine splits the preheader and</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">724</td>
    <td class="codeLine">/// If the switch can be unswitched, this routine splits the preheader and</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">725</td>
    <td class="codeLine">/// copies the switch above that split. If the default case is one of the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">725</td>
    <td class="codeLine">/// copies the switch above that split. If the default case is one of the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">726</td>
    <td class="codeLine">/// exiting cases, it copies the non-exiting cases and points them at the new</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">726</td>
    <td class="codeLine">/// exiting cases, it copies the non-exiting cases and points them at the new</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">727</td>
    <td class="codeLine">/// preheader. If the default case is not exiting, it copies the exiting cases</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">727</td>
    <td class="codeLine">/// preheader. If the default case is not exiting, it copies the exiting cases</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">728</td>
    <td class="codeLine">/// and points the default at the preheader. It preserves loop simplified form</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">728</td>
    <td class="codeLine">/// and points the default at the preheader. It preserves loop simplified form</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">729</td>
    <td class="codeLine">/// (splitting the exit blocks as necessary). It simplifies the switch within</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">729</td>
    <td class="codeLine">/// (splitting the exit blocks as necessary). It simplifies the switch within</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">730</td>
    <td class="codeLine">/// the loop by removing now-dead cases. If the default case is one of those</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">730</td>
    <td class="codeLine">/// the loop by removing now-dead cases. If the default case is one of those</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">731</td>
    <td class="codeLine">/// unswitched, it replaces its destination with a new basic block containing</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">731</td>
    <td class="codeLine">/// unswitched, it replaces its destination with a new basic block containing</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">732</td>
    <td class="codeLine">/// only unreachable. Such basic blocks, while technically loop exits, are not</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">732</td>
    <td class="codeLine">/// only unreachable. Such basic blocks, while technically loop exits, are not</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">733</td>
    <td class="codeLine">/// considered for unswitching so this is a stable transform and the same</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">733</td>
    <td class="codeLine">/// considered for unswitching so this is a stable transform and the same</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">734</td>
    <td class="codeLine">/// switch will not be revisited. If after unswitching there is only a single</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">734</td>
    <td class="codeLine">/// switch will not be revisited. If after unswitching there is only a single</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">735</td>
    <td class="codeLine">/// in-loop successor, the switch is further simplified to an unconditional</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">735</td>
    <td class="codeLine">/// in-loop successor, the switch is further simplified to an unconditional</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">736</td>
    <td class="codeLine">/// branch. Still more cleanup can be done with some simplifycfg like pass.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">736</td>
    <td class="codeLine">/// branch. Still more cleanup can be done with some simplifycfg like pass.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">737</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">737</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">738</td>
    <td class="codeLine">/// If `SE` is not null, it will be updated based on the potential loop SCEVs</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">738</td>
    <td class="codeLine">/// If `SE` is not null, it will be updated based on the potential loop SCEVs</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">739</td>
    <td class="codeLine">/// invalidated by this.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">739</td>
    <td class="codeLine">/// invalidated by this.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">740</td>
    <td class="codeLine">static bool unswitchTrivialSwitch(Loop &L, SwitchInst &SI, DominatorTree &DT,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">740</td>
    <td class="codeLine">static bool unswitchTrivialSwitch(Loop &L, SwitchInst &SI, DominatorTree &DT,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">741</td>
    <td class="codeLine">                                  LoopInfo &LI, ScalarEvolution *SE,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">741</td>
    <td class="codeLine">                                  LoopInfo &LI, ScalarEvolution *SE,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">742</td>
    <td class="codeLine">                                  MemorySSAUpdater *MSSAU) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">742</td>
    <td class="codeLine">                                  MemorySSAUpdater *MSSAU) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">743</td>
    <td class="codeLine">  LLVM_DEBUG(dbgs() << "  Trying to unswitch switch: " << SI << "\n");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">743</td>
    <td class="codeLine">  LLVM_DEBUG(dbgs() << "  Trying to unswitch switch: " << SI << "\n");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">744</td>
    <td class="codeLine">  Value *LoopCond = SI.getCondition();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">744</td>
    <td class="codeLine">  Value *LoopCond = SI.getCondition();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">745</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">745</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">746</td>
    <td class="codeLine">  // If this isn't switching on an invariant condition, we can't unswitch it.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">746</td>
    <td class="codeLine">  // If this isn't switching on an invariant condition, we can't unswitch it.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">747</td>
    <td class="codeLine">  if (!L.isLoopInvariant(LoopCond))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">747</td>
    <td class="codeLine">  if (!L.isLoopInvariant(LoopCond))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">748</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">748</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">749</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">749</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">750</td>
    <td class="codeLine">  auto *ParentBB = SI.getParent();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">750</td>
    <td class="codeLine">  auto *ParentBB = SI.getParent();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">751</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">751</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">752</td>
    <td class="codeLine">  // The same check must be used both for the default and the exit cases. We</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">752</td>
    <td class="codeLine">  // The same check must be used both for the default and the exit cases. We</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">753</td>
    <td class="codeLine">  // should never leave edges from the switch instruction to a basic block that</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">753</td>
    <td class="codeLine">  // should never leave edges from the switch instruction to a basic block that</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">754</td>
    <td class="codeLine">  // we are unswitching, hence the condition used to determine the default case</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">754</td>
    <td class="codeLine">  // we are unswitching, hence the condition used to determine the default case</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">755</td>
    <td class="codeLine">  // needs to also be used to populate ExitCaseIndices, which is then used to</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">755</td>
    <td class="codeLine">  // needs to also be used to populate ExitCaseIndices, which is then used to</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">756</td>
    <td class="codeLine">  // remove cases from the switch.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">756</td>
    <td class="codeLine">  // remove cases from the switch.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">757</td>
    <td class="codeLine">  auto IsTriviallyUnswitchableExitBlock = [&](BasicBlock &BBToCheck) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">757</td>
    <td class="codeLine">  auto IsTriviallyUnswitchableExitBlock = [&](BasicBlock &BBToCheck) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">758</td>
    <td class="codeLine">    // BBToCheck is not an exit block if it is inside loop L.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">758</td>
    <td class="codeLine">    // BBToCheck is not an exit block if it is inside loop L.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">759</td>
    <td class="codeLine">    if (L.contains(&BBToCheck))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">759</td>
    <td class="codeLine">    if (L.contains(&BBToCheck))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">760</td>
    <td class="codeLine">      return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">760</td>
    <td class="codeLine">      return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">761</td>
    <td class="codeLine">    // BBToCheck is not trivial to unswitch if its phis aren't loop invariant.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">761</td>
    <td class="codeLine">    // BBToCheck is not trivial to unswitch if its phis aren't loop invariant.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">762</td>
    <td class="codeLine">    if (!areLoopExitPHIsLoopInvariant(L, *ParentBB, BBToCheck))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">762</td>
    <td class="codeLine">    if (!areLoopExitPHIsLoopInvariant(L, *ParentBB, BBToCheck))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">763</td>
    <td class="codeLine">      return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">763</td>
    <td class="codeLine">      return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">764</td>
    <td class="codeLine">    // We do not unswitch a block that only has an unreachable statement, as</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">764</td>
    <td class="codeLine">    // We do not unswitch a block that only has an unreachable statement, as</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">765</td>
    <td class="codeLine">    // it's possible this is a previously unswitched block. Only unswitch if</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">765</td>
    <td class="codeLine">    // it's possible this is a previously unswitched block. Only unswitch if</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">766</td>
    <td class="codeLine">    // either the terminator is not unreachable, or, if it is, it's not the only</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">766</td>
    <td class="codeLine">    // either the terminator is not unreachable, or, if it is, it's not the only</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">767</td>
    <td class="codeLine">    // instruction in the block.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">767</td>
    <td class="codeLine">    // instruction in the block.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">768</td>
    <td class="codeLine">    auto *TI = BBToCheck.getTerminator();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">768</td>
    <td class="codeLine">    auto *TI = BBToCheck.getTerminator();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">769</td>
    <td class="codeLine">    bool isUnreachable = isa<UnreachableInst>(TI);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">769</td>
    <td class="codeLine">    bool isUnreachable = isa<UnreachableInst>(TI);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">770</td>
    <td class="codeLine">    return !isUnreachable ||</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">770</td>
    <td class="codeLine">    return !isUnreachable ||</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">771</td>
    <td class="codeLine">           (isUnreachable && (BBToCheck.getFirstNonPHIOrDbg() != TI));</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">771</td>
    <td class="codeLine">           (isUnreachable && (BBToCheck.getFirstNonPHIOrDbg() != TI));</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">772</td>
    <td class="codeLine">  };</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">772</td>
    <td class="codeLine">  };</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">773</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">773</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">774</td>
    <td class="codeLine">  SmallVector<int, 4> ExitCaseIndices;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">774</td>
    <td class="codeLine">  SmallVector<int, 4> ExitCaseIndices;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">775</td>
    <td class="codeLine">  for (auto Case : SI.cases())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">775</td>
    <td class="codeLine">  for (auto Case : SI.cases())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">776</td>
    <td class="codeLine">    if (IsTriviallyUnswitchableExitBlock(*Case.getCaseSuccessor()))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">776</td>
    <td class="codeLine">    if (IsTriviallyUnswitchableExitBlock(*Case.getCaseSuccessor()))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">777</td>
    <td class="codeLine">      ExitCaseIndices.push_back(Case.getCaseIndex());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">777</td>
    <td class="codeLine">      ExitCaseIndices.push_back(Case.getCaseIndex());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">778</td>
    <td class="codeLine">  BasicBlock *DefaultExitBB = nullptr;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">778</td>
    <td class="codeLine">  BasicBlock *DefaultExitBB = nullptr;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">779</td>
    <td class="codeLine">  SwitchInstProfUpdateWrapper::CaseWeightOpt DefaultCaseWeight =</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">779</td>
    <td class="codeLine">  SwitchInstProfUpdateWrapper::CaseWeightOpt DefaultCaseWeight =</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">780</td>
    <td class="codeLine">      SwitchInstProfUpdateWrapper::getSuccessorWeight(SI, 0);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">780</td>
    <td class="codeLine">      SwitchInstProfUpdateWrapper::getSuccessorWeight(SI, 0);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">781</td>
    <td class="codeLine">  if (IsTriviallyUnswitchableExitBlock(*SI.getDefaultDest())) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">781</td>
    <td class="codeLine">  if (IsTriviallyUnswitchableExitBlock(*SI.getDefaultDest())) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">782</td>
    <td class="codeLine">    DefaultExitBB = SI.getDefaultDest();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">782</td>
    <td class="codeLine">    DefaultExitBB = SI.getDefaultDest();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">783</td>
    <td class="codeLine">  } else if (ExitCaseIndices.empty())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">783</td>
    <td class="codeLine">  } else if (ExitCaseIndices.empty())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">784</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">784</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">785</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">785</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">786</td>
    <td class="codeLine">  LLVM_DEBUG(dbgs() << "    unswitching trivial switch...\n");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">786</td>
    <td class="codeLine">  LLVM_DEBUG(dbgs() << "    unswitching trivial switch...\n");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">787</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">787</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">788</td>
    <td class="codeLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">788</td>
    <td class="codeLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">789</td>
    <td class="codeLine">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">789</td>
    <td class="codeLine">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">790</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">790</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">791</td>
    <td class="codeLine">  // We may need to invalidate SCEVs for the outermost loop reached by any of</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">791</td>
    <td class="codeLine">  // We may need to invalidate SCEVs for the outermost loop reached by any of</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">792</td>
    <td class="codeLine">  // the exits.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">792</td>
    <td class="codeLine">  // the exits.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">793</td>
    <td class="codeLine">  Loop *OuterL = &L;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">793</td>
    <td class="codeLine">  Loop *OuterL = &L;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">794</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">794</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">795</td>
    <td class="codeLine">  if (DefaultExitBB) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">795</td>
    <td class="codeLine">  if (DefaultExitBB) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">796</td>
    <td class="codeLine">    // Check the loop containing this exit.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">796</td>
    <td class="codeLine">    // Check the loop containing this exit.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">797</td>
    <td class="codeLine">    Loop *ExitL = getTopMostExitingLoop(DefaultExitBB, LI);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">797</td>
    <td class="codeLine">    Loop *ExitL = getTopMostExitingLoop(DefaultExitBB, LI);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">798</td>
    <td class="codeLine">    if (!ExitL || ExitL->contains(OuterL))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">798</td>
    <td class="codeLine">    if (!ExitL || ExitL->contains(OuterL))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">799</td>
    <td class="codeLine">      OuterL = ExitL;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">799</td>
    <td class="codeLine">      OuterL = ExitL;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">800</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">800</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">801</td>
    <td class="codeLine">  for (unsigned Index : ExitCaseIndices) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">801</td>
    <td class="codeLine">  for (unsigned Index : ExitCaseIndices) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">802</td>
    <td class="codeLine">    auto CaseI = SI.case_begin() + Index;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">802</td>
    <td class="codeLine">    auto CaseI = SI.case_begin() + Index;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">803</td>
    <td class="codeLine">    // Compute the outer loop from this exit.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">803</td>
    <td class="codeLine">    // Compute the outer loop from this exit.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">804</td>
    <td class="codeLine">    Loop *ExitL = getTopMostExitingLoop(CaseI->getCaseSuccessor(), LI);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">804</td>
    <td class="codeLine">    Loop *ExitL = getTopMostExitingLoop(CaseI->getCaseSuccessor(), LI);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">805</td>
    <td class="codeLine">    if (!ExitL || ExitL->contains(OuterL))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">805</td>
    <td class="codeLine">    if (!ExitL || ExitL->contains(OuterL))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">806</td>
    <td class="codeLine">      OuterL = ExitL;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">806</td>
    <td class="codeLine">      OuterL = ExitL;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">807</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">807</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">808</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">808</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">809</td>
    <td class="codeLine">  if (SE) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">809</td>
    <td class="codeLine">  if (SE) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">810</td>
    <td class="codeLine">    if (OuterL)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">810</td>
    <td class="codeLine">    if (OuterL)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">811</td>
    <td class="codeLine">      SE->forgetLoop(OuterL);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">811</td>
    <td class="codeLine">      SE->forgetLoop(OuterL);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">812</td>
    <td class="codeLine">    else</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">812</td>
    <td class="codeLine">    else</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">813</td>
    <td class="codeLine">      SE->forgetTopmostLoop(&L);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">813</td>
    <td class="codeLine">      SE->forgetTopmostLoop(&L);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">814</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">814</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">815</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">815</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">816</td>
    <td class="codeLine">  if (DefaultExitBB) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">816</td>
    <td class="codeLine">  if (DefaultExitBB) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">817</td>
    <td class="codeLine">    // Clear out the default destination temporarily to allow accurate</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">817</td>
    <td class="codeLine">    // Clear out the default destination temporarily to allow accurate</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">818</td>
    <td class="codeLine">    // predecessor lists to be examined below.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">818</td>
    <td class="codeLine">    // predecessor lists to be examined below.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">819</td>
    <td class="codeLine">    SI.setDefaultDest(nullptr);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">819</td>
    <td class="codeLine">    SI.setDefaultDest(nullptr);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">820</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">820</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">821</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">821</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">822</td>
    <td class="codeLine">  // Store the exit cases into a separate data structure and remove them from</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">822</td>
    <td class="codeLine">  // Store the exit cases into a separate data structure and remove them from</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">823</td>
    <td class="codeLine">  // the switch.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">823</td>
    <td class="codeLine">  // the switch.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">824</td>
    <td class="codeLine">  SmallVector<std::tuple<ConstantInt *, BasicBlock *,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">824</td>
    <td class="codeLine">  SmallVector<std::tuple<ConstantInt *, BasicBlock *,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">825</td>
    <td class="codeLine">                         SwitchInstProfUpdateWrapper::CaseWeightOpt>,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">825</td>
    <td class="codeLine">                         SwitchInstProfUpdateWrapper::CaseWeightOpt>,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">826</td>
    <td class="codeLine">              4> ExitCases;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">826</td>
    <td class="codeLine">              4> ExitCases;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">827</td>
    <td class="codeLine">  ExitCases.reserve(ExitCaseIndices.size());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">827</td>
    <td class="codeLine">  ExitCases.reserve(ExitCaseIndices.size());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">828</td>
    <td class="codeLine">  SwitchInstProfUpdateWrapper SIW(SI);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">828</td>
    <td class="codeLine">  SwitchInstProfUpdateWrapper SIW(SI);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">829</td>
    <td class="codeLine">  // We walk the case indices backwards so that we remove the last case first</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">829</td>
    <td class="codeLine">  // We walk the case indices backwards so that we remove the last case first</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">830</td>
    <td class="codeLine">  // and don't disrupt the earlier indices.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">830</td>
    <td class="codeLine">  // and don't disrupt the earlier indices.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">831</td>
    <td class="codeLine">  for (unsigned Index : reverse(ExitCaseIndices)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">831</td>
    <td class="codeLine">  for (unsigned Index : reverse(ExitCaseIndices)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">832</td>
    <td class="codeLine">    auto CaseI = SI.case_begin() + Index;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">832</td>
    <td class="codeLine">    auto CaseI = SI.case_begin() + Index;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">833</td>
    <td class="codeLine">    // Save the value of this case.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">833</td>
    <td class="codeLine">    // Save the value of this case.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">834</td>
    <td class="codeLine">    auto W = SIW.getSuccessorWeight(CaseI->getSuccessorIndex());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">834</td>
    <td class="codeLine">    auto W = SIW.getSuccessorWeight(CaseI->getSuccessorIndex());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">835</td>
    <td class="codeLine">    ExitCases.emplace_back(CaseI->getCaseValue(), CaseI->getCaseSuccessor(), W);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">835</td>
    <td class="codeLine">    ExitCases.emplace_back(CaseI->getCaseValue(), CaseI->getCaseSuccessor(), W);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">836</td>
    <td class="codeLine">    // Delete the unswitched cases.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">836</td>
    <td class="codeLine">    // Delete the unswitched cases.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">837</td>
    <td class="codeLine">    SIW.removeCase(CaseI);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">837</td>
    <td class="codeLine">    SIW.removeCase(CaseI);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">838</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">838</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">839</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">839</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">840</td>
    <td class="codeLine">  // Check if after this all of the remaining cases point at the same</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">840</td>
    <td class="codeLine">  // Check if after this all of the remaining cases point at the same</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">841</td>
    <td class="codeLine">  // successor.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">841</td>
    <td class="codeLine">  // successor.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">842</td>
    <td class="codeLine">  BasicBlock *CommonSuccBB = nullptr;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">842</td>
    <td class="codeLine">  BasicBlock *CommonSuccBB = nullptr;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">843</td>
    <td class="codeLine">  if (SI.getNumCases() > 0 &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">843</td>
    <td class="codeLine">  if (SI.getNumCases() > 0 &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">844</td>
    <td class="codeLine">      all_of(drop_begin(SI.cases()), [&SI](const SwitchInst::CaseHandle &Case) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">844</td>
    <td class="codeLine">      all_of(drop_begin(SI.cases()), [&SI](const SwitchInst::CaseHandle &Case) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">845</td>
    <td class="codeLine">        return Case.getCaseSuccessor() == SI.case_begin()->getCaseSuccessor();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">845</td>
    <td class="codeLine">        return Case.getCaseSuccessor() == SI.case_begin()->getCaseSuccessor();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">846</td>
    <td class="codeLine">      }))</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">846</td>
    <td class="codeLine">      }))</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">847</td>
    <td class="codeLine">    CommonSuccBB = SI.case_begin()->getCaseSuccessor();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">847</td>
    <td class="codeLine">    CommonSuccBB = SI.case_begin()->getCaseSuccessor();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">848</td>
    <td class="codeLine">  if (!DefaultExitBB) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">848</td>
    <td class="codeLine">  if (!DefaultExitBB) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">849</td>
    <td class="codeLine">    // If we're not unswitching the default, we need it to match any cases to</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">849</td>
    <td class="codeLine">    // If we're not unswitching the default, we need it to match any cases to</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">850</td>
    <td class="codeLine">    // have a common successor or if we have no cases it is the common</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">850</td>
    <td class="codeLine">    // have a common successor or if we have no cases it is the common</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">851</td>
    <td class="codeLine">    // successor.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">851</td>
    <td class="codeLine">    // successor.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">852</td>
    <td class="codeLine">    if (SI.getNumCases() == 0)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">852</td>
    <td class="codeLine">    if (SI.getNumCases() == 0)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">853</td>
    <td class="codeLine">      CommonSuccBB = SI.getDefaultDest();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">853</td>
    <td class="codeLine">      CommonSuccBB = SI.getDefaultDest();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">854</td>
    <td class="codeLine">    else if (SI.getDefaultDest() != CommonSuccBB)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">854</td>
    <td class="codeLine">    else if (SI.getDefaultDest() != CommonSuccBB)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">855</td>
    <td class="codeLine">      CommonSuccBB = nullptr;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">855</td>
    <td class="codeLine">      CommonSuccBB = nullptr;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">856</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">856</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">857</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">857</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">858</td>
    <td class="codeLine">  // Split the preheader, so that we know that there is a safe place to insert</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">858</td>
    <td class="codeLine">  // Split the preheader, so that we know that there is a safe place to insert</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">859</td>
    <td class="codeLine">  // the switch.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">859</td>
    <td class="codeLine">  // the switch.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">860</td>
    <td class="codeLine">  BasicBlock *OldPH = L.getLoopPreheader();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">860</td>
    <td class="codeLine">  BasicBlock *OldPH = L.getLoopPreheader();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">861</td>
    <td class="codeLine">  BasicBlock *NewPH = SplitEdge(OldPH, L.getHeader(), &DT, &LI, MSSAU);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">861</td>
    <td class="codeLine">  BasicBlock *NewPH = SplitEdge(OldPH, L.getHeader(), &DT, &LI, MSSAU);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">862</td>
    <td class="codeLine">  OldPH->getTerminator()->eraseFromParent();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">862</td>
    <td class="codeLine">  OldPH->getTerminator()->eraseFromParent();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">863</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">863</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">864</td>
    <td class="codeLine">  // Now add the unswitched switch.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">864</td>
    <td class="codeLine">  // Now add the unswitched switch.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">865</td>
    <td class="codeLine">  auto *NewSI = SwitchInst::Create(LoopCond, NewPH, ExitCases.size(), OldPH);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">865</td>
    <td class="codeLine">  auto *NewSI = SwitchInst::Create(LoopCond, NewPH, ExitCases.size(), OldPH);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">866</td>
    <td class="codeLine">  SwitchInstProfUpdateWrapper NewSIW(*NewSI);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">866</td>
    <td class="codeLine">  SwitchInstProfUpdateWrapper NewSIW(*NewSI);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">867</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">867</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">868</td>
    <td class="codeLine">  // Rewrite the IR for the unswitched basic blocks. This requires two steps.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">868</td>
    <td class="codeLine">  // Rewrite the IR for the unswitched basic blocks. This requires two steps.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">869</td>
    <td class="codeLine">  // First, we split any exit blocks with remaining in-loop predecessors. Then</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">869</td>
    <td class="codeLine">  // First, we split any exit blocks with remaining in-loop predecessors. Then</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">870</td>
    <td class="codeLine">  // we update the PHIs in one of two ways depending on if there was a split.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">870</td>
    <td class="codeLine">  // we update the PHIs in one of two ways depending on if there was a split.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">871</td>
    <td class="codeLine">  // We walk in reverse so that we split in the same order as the cases</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">871</td>
    <td class="codeLine">  // We walk in reverse so that we split in the same order as the cases</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">872</td>
    <td class="codeLine">  // appeared. This is purely for convenience of reading the resulting IR, but</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">872</td>
    <td class="codeLine">  // appeared. This is purely for convenience of reading the resulting IR, but</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">873</td>
    <td class="codeLine">  // it doesn't cost anything really.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">873</td>
    <td class="codeLine">  // it doesn't cost anything really.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">874</td>
    <td class="codeLine">  SmallPtrSet<BasicBlock *, 2> UnswitchedExitBBs;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">874</td>
    <td class="codeLine">  SmallPtrSet<BasicBlock *, 2> UnswitchedExitBBs;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">875</td>
    <td class="codeLine">  SmallDenseMap<BasicBlock *, BasicBlock *, 2> SplitExitBBMap;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">875</td>
    <td class="codeLine">  SmallDenseMap<BasicBlock *, BasicBlock *, 2> SplitExitBBMap;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">876</td>
    <td class="codeLine">  // Handle the default exit if necessary.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">876</td>
    <td class="codeLine">  // Handle the default exit if necessary.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">877</td>
    <td class="codeLine">  // FIXME: It'd be great if we could merge this with the loop below but LLVM's</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">877</td>
    <td class="codeLine">  // FIXME: It'd be great if we could merge this with the loop below but LLVM's</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">878</td>
    <td class="codeLine">  // ranges aren't quite powerful enough yet.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">878</td>
    <td class="codeLine">  // ranges aren't quite powerful enough yet.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">879</td>
    <td class="codeLine">  if (DefaultExitBB) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">879</td>
    <td class="codeLine">  if (DefaultExitBB) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">880</td>
    <td class="codeLine">    if (pred_empty(DefaultExitBB)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">880</td>
    <td class="codeLine">    if (pred_empty(DefaultExitBB)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">881</td>
    <td class="codeLine">      UnswitchedExitBBs.insert(DefaultExitBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">881</td>
    <td class="codeLine">      UnswitchedExitBBs.insert(DefaultExitBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">882</td>
    <td class="codeLine">      rewritePHINodesForUnswitchedExitBlock(*DefaultExitBB, *ParentBB, *OldPH);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">882</td>
    <td class="codeLine">      rewritePHINodesForUnswitchedExitBlock(*DefaultExitBB, *ParentBB, *OldPH);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">883</td>
    <td class="codeLine">    } else {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">883</td>
    <td class="codeLine">    } else {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">884</td>
    <td class="codeLine">      auto *SplitBB =</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">884</td>
    <td class="codeLine">      auto *SplitBB =</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">885</td>
    <td class="codeLine">          SplitBlock(DefaultExitBB, &DefaultExitBB->front(), &DT, &LI, MSSAU);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">885</td>
    <td class="codeLine">          SplitBlock(DefaultExitBB, &DefaultExitBB->front(), &DT, &LI, MSSAU);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">886</td>
    <td class="codeLine">      rewritePHINodesForExitAndUnswitchedBlocks(*DefaultExitBB, *SplitBB,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">886</td>
    <td class="codeLine">      rewritePHINodesForExitAndUnswitchedBlocks(*DefaultExitBB, *SplitBB,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">887</td>
    <td class="codeLine">                                                *ParentBB, *OldPH,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">887</td>
    <td class="codeLine">                                                *ParentBB, *OldPH,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">888</td>
    <td class="codeLine">                                                /*FullUnswitch*/ true);</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">888</td>
    <td class="codeLine">                                                /*FullUnswitch*/ true);</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">889</td>
    <td class="codeLine">      DefaultExitBB = SplitExitBBMap[DefaultExitBB] = SplitBB;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">889</td>
    <td class="codeLine">      DefaultExitBB = SplitExitBBMap[DefaultExitBB] = SplitBB;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">890</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">890</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">891</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">891</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">892</td>
    <td class="codeLine">  // Note that we must use a reference in the for loop so that we update the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">892</td>
    <td class="codeLine">  // Note that we must use a reference in the for loop so that we update the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">893</td>
    <td class="codeLine">  // container.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">893</td>
    <td class="codeLine">  // container.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">894</td>
    <td class="codeLine">  for (auto &ExitCase : reverse(ExitCases)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">894</td>
    <td class="codeLine">  for (auto &ExitCase : reverse(ExitCases)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">895</td>
    <td class="codeLine">    // Grab a reference to the exit block in the pair so that we can update it.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">895</td>
    <td class="codeLine">    // Grab a reference to the exit block in the pair so that we can update it.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">896</td>
    <td class="codeLine">    BasicBlock *ExitBB = std::get<1>(ExitCase);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">896</td>
    <td class="codeLine">    BasicBlock *ExitBB = std::get<1>(ExitCase);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">897</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">897</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">898</td>
    <td class="codeLine">    // If this case is the last edge into the exit block, we can simply reuse it</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">898</td>
    <td class="codeLine">    // If this case is the last edge into the exit block, we can simply reuse it</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">899</td>
    <td class="codeLine">    // as it will no longer be a loop exit. No mapping necessary.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">899</td>
    <td class="codeLine">    // as it will no longer be a loop exit. No mapping necessary.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">900</td>
    <td class="codeLine">    if (pred_empty(ExitBB)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">900</td>
    <td class="codeLine">    if (pred_empty(ExitBB)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">901</td>
    <td class="codeLine">      // Only rewrite once.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">901</td>
    <td class="codeLine">      // Only rewrite once.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">902</td>
    <td class="codeLine">      if (UnswitchedExitBBs.insert(ExitBB).second)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">902</td>
    <td class="codeLine">      if (UnswitchedExitBBs.insert(ExitBB).second)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">903</td>
    <td class="codeLine">        rewritePHINodesForUnswitchedExitBlock(*ExitBB, *ParentBB, *OldPH);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">903</td>
    <td class="codeLine">        rewritePHINodesForUnswitchedExitBlock(*ExitBB, *ParentBB, *OldPH);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">904</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">904</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">905</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">905</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">906</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">906</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">907</td>
    <td class="codeLine">    // Otherwise we need to split the exit block so that we retain an exit</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">907</td>
    <td class="codeLine">    // Otherwise we need to split the exit block so that we retain an exit</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">908</td>
    <td class="codeLine">    // block from the loop and a target for the unswitched condition.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">908</td>
    <td class="codeLine">    // block from the loop and a target for the unswitched condition.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">909</td>
    <td class="codeLine">    BasicBlock *&SplitExitBB = SplitExitBBMap[ExitBB];</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">909</td>
    <td class="codeLine">    BasicBlock *&SplitExitBB = SplitExitBBMap[ExitBB];</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">910</td>
    <td class="codeLine">    if (!SplitExitBB) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">910</td>
    <td class="codeLine">    if (!SplitExitBB) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">911</td>
    <td class="codeLine">      // If this is the first time we see this, do the split and remember it.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">911</td>
    <td class="codeLine">      // If this is the first time we see this, do the split and remember it.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">912</td>
    <td class="codeLine">      SplitExitBB = SplitBlock(ExitBB, &ExitBB->front(), &DT, &LI, MSSAU);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">912</td>
    <td class="codeLine">      SplitExitBB = SplitBlock(ExitBB, &ExitBB->front(), &DT, &LI, MSSAU);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">913</td>
    <td class="codeLine">      rewritePHINodesForExitAndUnswitchedBlocks(*ExitBB, *SplitExitBB,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">913</td>
    <td class="codeLine">      rewritePHINodesForExitAndUnswitchedBlocks(*ExitBB, *SplitExitBB,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">914</td>
    <td class="codeLine">                                                *ParentBB, *OldPH,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">914</td>
    <td class="codeLine">                                                *ParentBB, *OldPH,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">915</td>
    <td class="codeLine">                                                /*FullUnswitch*/ true);</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">915</td>
    <td class="codeLine">                                                /*FullUnswitch*/ true);</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">916</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">916</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">917</td>
    <td class="codeLine">    // Update the case pair to point to the split block.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">917</td>
    <td class="codeLine">    // Update the case pair to point to the split block.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">918</td>
    <td class="codeLine">    std::get<1>(ExitCase) = SplitExitBB;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">918</td>
    <td class="codeLine">    std::get<1>(ExitCase) = SplitExitBB;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">919</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">919</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">920</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">920</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">921</td>
    <td class="codeLine">  // Now add the unswitched cases. We do this in reverse order as we built them</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">921</td>
    <td class="codeLine">  // Now add the unswitched cases. We do this in reverse order as we built them</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">922</td>
    <td class="codeLine">  // in reverse order.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">922</td>
    <td class="codeLine">  // in reverse order.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">923</td>
    <td class="codeLine">  for (auto &ExitCase : reverse(ExitCases)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">923</td>
    <td class="codeLine">  for (auto &ExitCase : reverse(ExitCases)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">924</td>
    <td class="codeLine">    ConstantInt *CaseVal = std::get<0>(ExitCase);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">924</td>
    <td class="codeLine">    ConstantInt *CaseVal = std::get<0>(ExitCase);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">925</td>
    <td class="codeLine">    BasicBlock *UnswitchedBB = std::get<1>(ExitCase);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">925</td>
    <td class="codeLine">    BasicBlock *UnswitchedBB = std::get<1>(ExitCase);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">926</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">926</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">927</td>
    <td class="codeLine">    NewSIW.addCase(CaseVal, UnswitchedBB, std::get<2>(ExitCase));</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">927</td>
    <td class="codeLine">    NewSIW.addCase(CaseVal, UnswitchedBB, std::get<2>(ExitCase));</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">928</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">928</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">929</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">929</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">930</td>
    <td class="codeLine">  // If the default was unswitched, re-point it and add explicit cases for</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">930</td>
    <td class="codeLine">  // If the default was unswitched, re-point it and add explicit cases for</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">931</td>
    <td class="codeLine">  // entering the loop.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">931</td>
    <td class="codeLine">  // entering the loop.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">932</td>
    <td class="codeLine">  if (DefaultExitBB) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">932</td>
    <td class="codeLine">  if (DefaultExitBB) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">933</td>
    <td class="codeLine">    NewSIW->setDefaultDest(DefaultExitBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">933</td>
    <td class="codeLine">    NewSIW->setDefaultDest(DefaultExitBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">934</td>
    <td class="codeLine">    NewSIW.setSuccessorWeight(0, DefaultCaseWeight);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">934</td>
    <td class="codeLine">    NewSIW.setSuccessorWeight(0, DefaultCaseWeight);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">935</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">935</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">936</td>
    <td class="codeLine">    // We removed all the exit cases, so we just copy the cases to the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">936</td>
    <td class="codeLine">    // We removed all the exit cases, so we just copy the cases to the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">937</td>
    <td class="codeLine">    // unswitched switch.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">937</td>
    <td class="codeLine">    // unswitched switch.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">938</td>
    <td class="codeLine">    for (const auto &Case : SI.cases())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">938</td>
    <td class="codeLine">    for (const auto &Case : SI.cases())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">939</td>
    <td class="codeLine">      NewSIW.addCase(Case.getCaseValue(), NewPH,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">939</td>
    <td class="codeLine">      NewSIW.addCase(Case.getCaseValue(), NewPH,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">940</td>
    <td class="codeLine">                     SIW.getSuccessorWeight(Case.getSuccessorIndex()));</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">940</td>
    <td class="codeLine">                     SIW.getSuccessorWeight(Case.getSuccessorIndex()));</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">941</td>
    <td class="codeLine">  } else if (DefaultCaseWeight) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">941</td>
    <td class="codeLine">  } else if (DefaultCaseWeight) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">942</td>
    <td class="codeLine">    // We have to set branch weight of the default case.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">942</td>
    <td class="codeLine">    // We have to set branch weight of the default case.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">943</td>
    <td class="codeLine">    uint64_t SW = *DefaultCaseWeight;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">943</td>
    <td class="codeLine">    uint64_t SW = *DefaultCaseWeight;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">944</td>
    <td class="codeLine">    for (const auto &Case : SI.cases()) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">944</td>
    <td class="codeLine">    for (const auto &Case : SI.cases()) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">945</td>
    <td class="codeLine">      auto W = SIW.getSuccessorWeight(Case.getSuccessorIndex());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">945</td>
    <td class="codeLine">      auto W = SIW.getSuccessorWeight(Case.getSuccessorIndex());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">946</td>
    <td class="codeLine">      assert(W &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">946</td>
    <td class="codeLine">      assert(W &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">947</td>
    <td class="codeLine">             "case weight must be defined as default case weight is defined");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">947</td>
    <td class="codeLine">             "case weight must be defined as default case weight is defined");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">948</td>
    <td class="codeLine">      SW += *W;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">948</td>
    <td class="codeLine">      SW += *W;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">949</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">949</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">950</td>
    <td class="codeLine">    NewSIW.setSuccessorWeight(0, SW);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">950</td>
    <td class="codeLine">    NewSIW.setSuccessorWeight(0, SW);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">951</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">951</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">952</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">952</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">953</td>
    <td class="codeLine">  // If we ended up with a common successor for every path through the switch</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">953</td>
    <td class="codeLine">  // If we ended up with a common successor for every path through the switch</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">954</td>
    <td class="codeLine">  // after unswitching, rewrite it to an unconditional branch to make it easy</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">954</td>
    <td class="codeLine">  // after unswitching, rewrite it to an unconditional branch to make it easy</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">955</td>
    <td class="codeLine">  // to recognize. Otherwise we potentially have to recognize the default case</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">955</td>
    <td class="codeLine">  // to recognize. Otherwise we potentially have to recognize the default case</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">956</td>
    <td class="codeLine">  // pointing at unreachable and other complexity.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">956</td>
    <td class="codeLine">  // pointing at unreachable and other complexity.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">957</td>
    <td class="codeLine">  if (CommonSuccBB) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">957</td>
    <td class="codeLine">  if (CommonSuccBB) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">958</td>
    <td class="codeLine">    BasicBlock *BB = SI.getParent();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">958</td>
    <td class="codeLine">    BasicBlock *BB = SI.getParent();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">959</td>
    <td class="codeLine">    // We may have had multiple edges to this common successor block, so remove</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">959</td>
    <td class="codeLine">    // We may have had multiple edges to this common successor block, so remove</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">960</td>
    <td class="codeLine">    // them as predecessors. We skip the first one, either the default or the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">960</td>
    <td class="codeLine">    // them as predecessors. We skip the first one, either the default or the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">961</td>
    <td class="codeLine">    // actual first case.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">961</td>
    <td class="codeLine">    // actual first case.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">962</td>
    <td class="codeLine">    bool SkippedFirst = DefaultExitBB == nullptr;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">962</td>
    <td class="codeLine">    bool SkippedFirst = DefaultExitBB == nullptr;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">963</td>
    <td class="codeLine">    for (auto Case : SI.cases()) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">963</td>
    <td class="codeLine">    for (auto Case : SI.cases()) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">964</td>
    <td class="codeLine">      assert(Case.getCaseSuccessor() == CommonSuccBB &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">964</td>
    <td class="codeLine">      assert(Case.getCaseSuccessor() == CommonSuccBB &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">965</td>
    <td class="codeLine">             "Non-common successor!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">965</td>
    <td class="codeLine">             "Non-common successor!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">966</td>
    <td class="codeLine">      (void)Case;</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">966</td>
    <td class="codeLine">      (void)Case;</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">967</td>
    <td class="codeLine">      if (!SkippedFirst) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">967</td>
    <td class="codeLine">      if (!SkippedFirst) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">968</td>
    <td class="codeLine">        SkippedFirst = true;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">968</td>
    <td class="codeLine">        SkippedFirst = true;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">969</td>
    <td class="codeLine">        continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">969</td>
    <td class="codeLine">        continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">970</td>
    <td class="codeLine">      }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">970</td>
    <td class="codeLine">      }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">971</td>
    <td class="codeLine">      CommonSuccBB->removePredecessor(BB,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">971</td>
    <td class="codeLine">      CommonSuccBB->removePredecessor(BB,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">972</td>
    <td class="codeLine">                                      /*KeepOneInputPHIs*/ true);</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">972</td>
    <td class="codeLine">                                      /*KeepOneInputPHIs*/ true);</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">973</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">973</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">974</td>
    <td class="codeLine">    // Now nuke the switch and replace it with a direct branch.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">974</td>
    <td class="codeLine">    // Now nuke the switch and replace it with a direct branch.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">975</td>
    <td class="codeLine">    SIW.eraseFromParent();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">975</td>
    <td class="codeLine">    SIW.eraseFromParent();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">976</td>
    <td class="codeLine">    BranchInst::Create(CommonSuccBB, BB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">976</td>
    <td class="codeLine">    BranchInst::Create(CommonSuccBB, BB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">977</td>
    <td class="codeLine">  } else if (DefaultExitBB) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">977</td>
    <td class="codeLine">  } else if (DefaultExitBB) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">978</td>
    <td class="codeLine">    assert(SI.getNumCases() > 0 &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">978</td>
    <td class="codeLine">    assert(SI.getNumCases() > 0 &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">979</td>
    <td class="codeLine">           "If we had no cases we'd have a common successor!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">979</td>
    <td class="codeLine">           "If we had no cases we'd have a common successor!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">980</td>
    <td class="codeLine">    // Move the last case to the default successor. This is valid as if the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">980</td>
    <td class="codeLine">    // Move the last case to the default successor. This is valid as if the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">981</td>
    <td class="codeLine">    // default got unswitched it cannot be reached. This has the advantage of</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">981</td>
    <td class="codeLine">    // default got unswitched it cannot be reached. This has the advantage of</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">982</td>
    <td class="codeLine">    // being simple and keeping the number of edges from this switch to</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">982</td>
    <td class="codeLine">    // being simple and keeping the number of edges from this switch to</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">983</td>
    <td class="codeLine">    // successors the same, and avoiding any PHI update complexity.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">983</td>
    <td class="codeLine">    // successors the same, and avoiding any PHI update complexity.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">984</td>
    <td class="codeLine">    auto LastCaseI = std::prev(SI.case_end());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">984</td>
    <td class="codeLine">    auto LastCaseI = std::prev(SI.case_end());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">985</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">985</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">986</td>
    <td class="codeLine">    SI.setDefaultDest(LastCaseI->getCaseSuccessor());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">986</td>
    <td class="codeLine">    SI.setDefaultDest(LastCaseI->getCaseSuccessor());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">987</td>
    <td class="codeLine">    SIW.setSuccessorWeight(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">987</td>
    <td class="codeLine">    SIW.setSuccessorWeight(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">988</td>
    <td class="codeLine">        0, SIW.getSuccessorWeight(LastCaseI->getSuccessorIndex()));</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">988</td>
    <td class="codeLine">        0, SIW.getSuccessorWeight(LastCaseI->getSuccessorIndex()));</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">989</td>
    <td class="codeLine">    SIW.removeCase(LastCaseI);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">989</td>
    <td class="codeLine">    SIW.removeCase(LastCaseI);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">990</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">990</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">991</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">991</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">992</td>
    <td class="codeLine">  // Walk the unswitched exit blocks and the unswitched split blocks and update</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">992</td>
    <td class="codeLine">  // Walk the unswitched exit blocks and the unswitched split blocks and update</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">993</td>
    <td class="codeLine">  // the dominator tree based on the CFG edits. While we are walking unordered</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">993</td>
    <td class="codeLine">  // the dominator tree based on the CFG edits. While we are walking unordered</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">994</td>
    <td class="codeLine">  // containers here, the API for applyUpdates takes an unordered list of</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">994</td>
    <td class="codeLine">  // containers here, the API for applyUpdates takes an unordered list of</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">995</td>
    <td class="codeLine">  // updates and requires them to not contain duplicates.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">995</td>
    <td class="codeLine">  // updates and requires them to not contain duplicates.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">996</td>
    <td class="codeLine">  SmallVector<DominatorTree::UpdateType, 4> DTUpdates;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">996</td>
    <td class="codeLine">  SmallVector<DominatorTree::UpdateType, 4> DTUpdates;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">997</td>
    <td class="codeLine">  for (auto *UnswitchedExitBB : UnswitchedExitBBs) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">997</td>
    <td class="codeLine">  for (auto *UnswitchedExitBB : UnswitchedExitBBs) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">998</td>
    <td class="codeLine">    DTUpdates.push_back({DT.Delete, ParentBB, UnswitchedExitBB});</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">998</td>
    <td class="codeLine">    DTUpdates.push_back({DT.Delete, ParentBB, UnswitchedExitBB});</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">999</td>
    <td class="codeLine">    DTUpdates.push_back({DT.Insert, OldPH, UnswitchedExitBB});</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">999</td>
    <td class="codeLine">    DTUpdates.push_back({DT.Insert, OldPH, UnswitchedExitBB});</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1000</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1000</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1001</td>
    <td class="codeLine">  for (auto SplitUnswitchedPair : SplitExitBBMap) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1001</td>
    <td class="codeLine">  for (auto SplitUnswitchedPair : SplitExitBBMap) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1002</td>
    <td class="codeLine">    DTUpdates.push_back({DT.Delete, ParentBB, SplitUnswitchedPair.first});</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1002</td>
    <td class="codeLine">    DTUpdates.push_back({DT.Delete, ParentBB, SplitUnswitchedPair.first});</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1003</td>
    <td class="codeLine">    DTUpdates.push_back({DT.Insert, OldPH, SplitUnswitchedPair.second});</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1003</td>
    <td class="codeLine">    DTUpdates.push_back({DT.Insert, OldPH, SplitUnswitchedPair.second});</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1004</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1004</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1005</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1005</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1006</td>
    <td class="codeLine">  if (MSSAU) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1006</td>
    <td class="codeLine">  if (MSSAU) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1007</td>
    <td class="codeLine">    MSSAU->applyUpdates(DTUpdates, DT, /*UpdateDT=*/true);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1007</td>
    <td class="codeLine">    MSSAU->applyUpdates(DTUpdates, DT, /*UpdateDT=*/true);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1008</td>
    <td class="codeLine">    if (VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1008</td>
    <td class="codeLine">    if (VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1009</td>
    <td class="codeLine">      MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1009</td>
    <td class="codeLine">      MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1010</td>
    <td class="codeLine">  } else {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1010</td>
    <td class="codeLine">  } else {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1011</td>
    <td class="codeLine">    DT.applyUpdates(DTUpdates);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1011</td>
    <td class="codeLine">    DT.applyUpdates(DTUpdates);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1012</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1012</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1013</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1013</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1014</td>
    <td class="codeLine">  assert(DT.verify(DominatorTree::VerificationLevel::Fast));</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1014</td>
    <td class="codeLine">  assert(DT.verify(DominatorTree::VerificationLevel::Fast));</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1015</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1015</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1016</td>
    <td class="codeLine">  // We may have changed the nesting relationship for this loop so hoist it to</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1016</td>
    <td class="codeLine">  // We may have changed the nesting relationship for this loop so hoist it to</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1017</td>
    <td class="codeLine">  // its correct parent if needed.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1017</td>
    <td class="codeLine">  // its correct parent if needed.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1018</td>
    <td class="codeLine">  hoistLoopToNewParent(L, *NewPH, DT, LI, MSSAU, SE);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1018</td>
    <td class="codeLine">  hoistLoopToNewParent(L, *NewPH, DT, LI, MSSAU, SE);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1019</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1019</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1020</td>
    <td class="codeLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1020</td>
    <td class="codeLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1021</td>
    <td class="codeLine">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1021</td>
    <td class="codeLine">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1022</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1022</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1023</td>
    <td class="codeLine">  ++NumTrivial;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1023</td>
    <td class="codeLine">  ++NumTrivial;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1024</td>
    <td class="codeLine">  ++NumSwitches;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1024</td>
    <td class="codeLine">  ++NumSwitches;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1025</td>
    <td class="codeLine">  LLVM_DEBUG(dbgs() << "    done: unswitching trivial switch...\n");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1025</td>
    <td class="codeLine">  LLVM_DEBUG(dbgs() << "    done: unswitching trivial switch...\n");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1026</td>
    <td class="codeLine">  return true;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1026</td>
    <td class="codeLine">  return true;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1027</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1027</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1028</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1028</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1029</td>
    <td class="codeLine">/// This routine scans the loop to find a branch or switch which occurs before</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1029</td>
    <td class="codeLine">/// This routine scans the loop to find a branch or switch which occurs before</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1030</td>
    <td class="codeLine">/// any side effects occur. These can potentially be unswitched without</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1030</td>
    <td class="codeLine">/// any side effects occur. These can potentially be unswitched without</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1031</td>
    <td class="codeLine">/// duplicating the loop. If a branch or switch is successfully unswitched the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1031</td>
    <td class="codeLine">/// duplicating the loop. If a branch or switch is successfully unswitched the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1032</td>
    <td class="codeLine">/// scanning continues to see if subsequent branches or switches have become</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1032</td>
    <td class="codeLine">/// scanning continues to see if subsequent branches or switches have become</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1033</td>
    <td class="codeLine">/// trivial. Once all trivial candidates have been unswitched, this routine</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1033</td>
    <td class="codeLine">/// trivial. Once all trivial candidates have been unswitched, this routine</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1034</td>
    <td class="codeLine">/// returns.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1034</td>
    <td class="codeLine">/// returns.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1035</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1035</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1036</td>
    <td class="codeLine">/// The return value indicates whether anything was unswitched (and therefore</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1036</td>
    <td class="codeLine">/// The return value indicates whether anything was unswitched (and therefore</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1037</td>
    <td class="codeLine">/// changed).</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1037</td>
    <td class="codeLine">/// changed).</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1038</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1038</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1039</td>
    <td class="codeLine">/// If `SE` is not null, it will be updated based on the potential loop SCEVs</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1039</td>
    <td class="codeLine">/// If `SE` is not null, it will be updated based on the potential loop SCEVs</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1040</td>
    <td class="codeLine">/// invalidated by this.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1040</td>
    <td class="codeLine">/// invalidated by this.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1041</td>
    <td class="codeLine">static bool unswitchAllTrivialConditions(Loop &L, DominatorTree &DT,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1041</td>
    <td class="codeLine">static bool unswitchAllTrivialConditions(Loop &L, DominatorTree &DT,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1042</td>
    <td class="codeLine">                                         LoopInfo &LI, ScalarEvolution *SE,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1042</td>
    <td class="codeLine">                                         LoopInfo &LI, ScalarEvolution *SE,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1043</td>
    <td class="codeLine">                                         MemorySSAUpdater *MSSAU) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1043</td>
    <td class="codeLine">                                         MemorySSAUpdater *MSSAU) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1044</td>
    <td class="codeLine">  bool Changed = false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1044</td>
    <td class="codeLine">  bool Changed = false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1045</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1045</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1046</td>
    <td class="codeLine">  // If loop header has only one reachable successor we should keep looking for</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1046</td>
    <td class="codeLine">  // If loop header has only one reachable successor we should keep looking for</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1047</td>
    <td class="codeLine">  // trivial condition candidates in the successor as well. An alternative is</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1047</td>
    <td class="codeLine">  // trivial condition candidates in the successor as well. An alternative is</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1048</td>
    <td class="codeLine">  // to constant fold conditions and merge successors into loop header (then we</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1048</td>
    <td class="codeLine">  // to constant fold conditions and merge successors into loop header (then we</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1049</td>
    <td class="codeLine">  // only need to check header's terminator). The reason for not doing this in</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1049</td>
    <td class="codeLine">  // only need to check header's terminator). The reason for not doing this in</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1050</td>
    <td class="codeLine">  // LoopUnswitch pass is that it could potentially break LoopPassManager's</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1050</td>
    <td class="codeLine">  // LoopUnswitch pass is that it could potentially break LoopPassManager's</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1051</td>
    <td class="codeLine">  // invariants. Folding dead branches could either eliminate the current loop</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1051</td>
    <td class="codeLine">  // invariants. Folding dead branches could either eliminate the current loop</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1052</td>
    <td class="codeLine">  // or make other loops unreachable. LCSSA form might also not be preserved</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1052</td>
    <td class="codeLine">  // or make other loops unreachable. LCSSA form might also not be preserved</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1053</td>
    <td class="codeLine">  // after deleting branches. The following code keeps traversing loop header's</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1053</td>
    <td class="codeLine">  // after deleting branches. The following code keeps traversing loop header's</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1054</td>
    <td class="codeLine">  // successors until it finds the trivial condition candidate (condition that</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1054</td>
    <td class="codeLine">  // successors until it finds the trivial condition candidate (condition that</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1055</td>
    <td class="codeLine">  // is not a constant). Since unswitching generates branches with constant</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1055</td>
    <td class="codeLine">  // is not a constant). Since unswitching generates branches with constant</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1056</td>
    <td class="codeLine">  // conditions, this scenario could be very common in practice.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1056</td>
    <td class="codeLine">  // conditions, this scenario could be very common in practice.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1057</td>
    <td class="codeLine">  BasicBlock *CurrentBB = L.getHeader();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1057</td>
    <td class="codeLine">  BasicBlock *CurrentBB = L.getHeader();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1058</td>
    <td class="codeLine">  SmallPtrSet<BasicBlock *, 8> Visited;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1058</td>
    <td class="codeLine">  SmallPtrSet<BasicBlock *, 8> Visited;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1059</td>
    <td class="codeLine">  Visited.insert(CurrentBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1059</td>
    <td class="codeLine">  Visited.insert(CurrentBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1060</td>
    <td class="codeLine">  do {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1060</td>
    <td class="codeLine">  do {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1061</td>
    <td class="codeLine">    // Check if there are any side-effecting instructions (e.g. stores, calls,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1061</td>
    <td class="codeLine">    // Check if there are any side-effecting instructions (e.g. stores, calls,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1062</td>
    <td class="codeLine">    // volatile loads) in the part of the loop that the code *would* execute</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1062</td>
    <td class="codeLine">    // volatile loads) in the part of the loop that the code *would* execute</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1063</td>
    <td class="codeLine">    // without unswitching.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1063</td>
    <td class="codeLine">    // without unswitching.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1064</td>
    <td class="codeLine">    if (MSSAU) // Possible early exit with MSSA</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1064</td>
    <td class="codeLine">    if (MSSAU) // Possible early exit with MSSA</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1065</td>
    <td class="codeLine">      if (auto *Defs = MSSAU->getMemorySSA()->getBlockDefs(CurrentBB))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1065</td>
    <td class="codeLine">      if (auto *Defs = MSSAU->getMemorySSA()->getBlockDefs(CurrentBB))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1066</td>
    <td class="codeLine">        if (!isa<MemoryPhi>(*Defs->begin()) || (++Defs->begin() != Defs->end()))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1066</td>
    <td class="codeLine">        if (!isa<MemoryPhi>(*Defs->begin()) || (++Defs->begin() != Defs->end()))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1067</td>
    <td class="codeLine">          return Changed;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1067</td>
    <td class="codeLine">          return Changed;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1068</td>
    <td class="codeLine">    if (llvm::any_of(*CurrentBB,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1068</td>
    <td class="codeLine">    if (llvm::any_of(*CurrentBB,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1069</td>
    <td class="codeLine">                     [](Instruction &I) { return I.mayHaveSideEffects(); }))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1069</td>
    <td class="codeLine">                     [](Instruction &I) { return I.mayHaveSideEffects(); }))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1070</td>
    <td class="codeLine">      return Changed;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1070</td>
    <td class="codeLine">      return Changed;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1071</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1071</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1072</td>
    <td class="codeLine">    Instruction *CurrentTerm = CurrentBB->getTerminator();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1072</td>
    <td class="codeLine">    Instruction *CurrentTerm = CurrentBB->getTerminator();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1073</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1073</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1074</td>
    <td class="codeLine">    if (auto *SI = dyn_cast<SwitchInst>(CurrentTerm)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1074</td>
    <td class="codeLine">    if (auto *SI = dyn_cast<SwitchInst>(CurrentTerm)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1075</td>
    <td class="codeLine">      // Don't bother trying to unswitch past a switch with a constant</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1075</td>
    <td class="codeLine">      // Don't bother trying to unswitch past a switch with a constant</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1076</td>
    <td class="codeLine">      // condition. This should be removed prior to running this pass by</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1076</td>
    <td class="codeLine">      // condition. This should be removed prior to running this pass by</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1077</td>
    <td class="codeLine">      // simplifycfg.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1077</td>
    <td class="codeLine">      // simplifycfg.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1078</td>
    <td class="codeLine">      if (isa<Constant>(SI->getCondition()))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1078</td>
    <td class="codeLine">      if (isa<Constant>(SI->getCondition()))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1079</td>
    <td class="codeLine">        return Changed;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1079</td>
    <td class="codeLine">        return Changed;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1080</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1080</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1081</td>
    <td class="codeLine">      if (!unswitchTrivialSwitch(L, *SI, DT, LI, SE, MSSAU))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1081</td>
    <td class="codeLine">      if (!unswitchTrivialSwitch(L, *SI, DT, LI, SE, MSSAU))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1082</td>
    <td class="codeLine">        // Couldn't unswitch this one so we're done.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1082</td>
    <td class="codeLine">        // Couldn't unswitch this one so we're done.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1083</td>
    <td class="codeLine">        return Changed;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1083</td>
    <td class="codeLine">        return Changed;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1084</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1084</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1085</td>
    <td class="codeLine">      // Mark that we managed to unswitch something.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1085</td>
    <td class="codeLine">      // Mark that we managed to unswitch something.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1086</td>
    <td class="codeLine">      Changed = true;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1086</td>
    <td class="codeLine">      Changed = true;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1087</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1087</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1088</td>
    <td class="codeLine">      // If unswitching turned the terminator into an unconditional branch then</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1088</td>
    <td class="codeLine">      // If unswitching turned the terminator into an unconditional branch then</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1089</td>
    <td class="codeLine">      // we can continue. The unswitching logic specifically works to fold any</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1089</td>
    <td class="codeLine">      // we can continue. The unswitching logic specifically works to fold any</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1090</td>
    <td class="codeLine">      // cases it can into an unconditional branch to make it easier to</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1090</td>
    <td class="codeLine">      // cases it can into an unconditional branch to make it easier to</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1091</td>
    <td class="codeLine">      // recognize here.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1091</td>
    <td class="codeLine">      // recognize here.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1092</td>
    <td class="codeLine">      auto *BI = dyn_cast<BranchInst>(CurrentBB->getTerminator());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1092</td>
    <td class="codeLine">      auto *BI = dyn_cast<BranchInst>(CurrentBB->getTerminator());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1093</td>
    <td class="codeLine">      if (!BI || BI->isConditional())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1093</td>
    <td class="codeLine">      if (!BI || BI->isConditional())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1094</td>
    <td class="codeLine">        return Changed;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1094</td>
    <td class="codeLine">        return Changed;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1095</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1095</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1096</td>
    <td class="codeLine">      CurrentBB = BI->getSuccessor(0);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1096</td>
    <td class="codeLine">      CurrentBB = BI->getSuccessor(0);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1097</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1097</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1098</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1098</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1099</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1099</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1100</td>
    <td class="codeLine">    auto *BI = dyn_cast<BranchInst>(CurrentTerm);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1100</td>
    <td class="codeLine">    auto *BI = dyn_cast<BranchInst>(CurrentTerm);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1101</td>
    <td class="codeLine">    if (!BI)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1101</td>
    <td class="codeLine">    if (!BI)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1102</td>
    <td class="codeLine">      // We do not understand other terminator instructions.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1102</td>
    <td class="codeLine">      // We do not understand other terminator instructions.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1103</td>
    <td class="codeLine">      return Changed;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1103</td>
    <td class="codeLine">      return Changed;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1104</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1104</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1105</td>
    <td class="codeLine">    // Don't bother trying to unswitch past an unconditional branch or a branch</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1105</td>
    <td class="codeLine">    // Don't bother trying to unswitch past an unconditional branch or a branch</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1106</td>
    <td class="codeLine">    // with a constant value. These should be removed by simplifycfg prior to</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1106</td>
    <td class="codeLine">    // with a constant value. These should be removed by simplifycfg prior to</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1107</td>
    <td class="codeLine">    // running this pass.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1107</td>
    <td class="codeLine">    // running this pass.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1108</td>
    <td class="codeLine">    if (!BI->isConditional() ||</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1108</td>
    <td class="codeLine">    if (!BI->isConditional() ||</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1109</td>
    <td class="codeLine">        isa<Constant>(skipTrivialSelect(BI->getCondition())))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1109</td>
    <td class="codeLine">        isa<Constant>(skipTrivialSelect(BI->getCondition())))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1110</td>
    <td class="codeLine">      return Changed;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1110</td>
    <td class="codeLine">      return Changed;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1111</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1111</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1112</td>
    <td class="codeLine">    // Found a trivial condition candidate: non-foldable conditional branch. If</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1112</td>
    <td class="codeLine">    // Found a trivial condition candidate: non-foldable conditional branch. If</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1113</td>
    <td class="codeLine">    // we fail to unswitch this, we can't do anything else that is trivial.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1113</td>
    <td class="codeLine">    // we fail to unswitch this, we can't do anything else that is trivial.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1114</td>
    <td class="codeLine">    if (!unswitchTrivialBranch(L, *BI, DT, LI, SE, MSSAU))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1114</td>
    <td class="codeLine">    if (!unswitchTrivialBranch(L, *BI, DT, LI, SE, MSSAU))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1115</td>
    <td class="codeLine">      return Changed;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1115</td>
    <td class="codeLine">      return Changed;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1116</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1116</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1117</td>
    <td class="codeLine">    // Mark that we managed to unswitch something.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1117</td>
    <td class="codeLine">    // Mark that we managed to unswitch something.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1118</td>
    <td class="codeLine">    Changed = true;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1118</td>
    <td class="codeLine">    Changed = true;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1119</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1119</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1120</td>
    <td class="codeLine">    // If we only unswitched some of the conditions feeding the branch, we won't</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1120</td>
    <td class="codeLine">    // If we only unswitched some of the conditions feeding the branch, we won't</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1121</td>
    <td class="codeLine">    // have collapsed it to a single successor.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1121</td>
    <td class="codeLine">    // have collapsed it to a single successor.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1122</td>
    <td class="codeLine">    BI = cast<BranchInst>(CurrentBB->getTerminator());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1122</td>
    <td class="codeLine">    BI = cast<BranchInst>(CurrentBB->getTerminator());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1123</td>
    <td class="codeLine">    if (BI->isConditional())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1123</td>
    <td class="codeLine">    if (BI->isConditional())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1124</td>
    <td class="codeLine">      return Changed;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1124</td>
    <td class="codeLine">      return Changed;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1125</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1125</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1126</td>
    <td class="codeLine">    // Follow the newly unconditional branch into its successor.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1126</td>
    <td class="codeLine">    // Follow the newly unconditional branch into its successor.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1127</td>
    <td class="codeLine">    CurrentBB = BI->getSuccessor(0);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1127</td>
    <td class="codeLine">    CurrentBB = BI->getSuccessor(0);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1128</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1128</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1129</td>
    <td class="codeLine">    // When continuing, if we exit the loop or reach a previous visited block,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1129</td>
    <td class="codeLine">    // When continuing, if we exit the loop or reach a previous visited block,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1130</td>
    <td class="codeLine">    // then we can not reach any trivial condition candidates (unfoldable</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1130</td>
    <td class="codeLine">    // then we can not reach any trivial condition candidates (unfoldable</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1131</td>
    <td class="codeLine">    // branch instructions or switch instructions) and no unswitch can happen.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1131</td>
    <td class="codeLine">    // branch instructions or switch instructions) and no unswitch can happen.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1132</td>
    <td class="codeLine">  } while (L.contains(CurrentBB) && Visited.insert(CurrentBB).second);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1132</td>
    <td class="codeLine">  } while (L.contains(CurrentBB) && Visited.insert(CurrentBB).second);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1133</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1133</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1134</td>
    <td class="codeLine">  return Changed;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1134</td>
    <td class="codeLine">  return Changed;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1135</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1135</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1136</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1136</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1137</td>
    <td class="codeLine">/// Build the cloned blocks for an unswitched copy of the given loop.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1137</td>
    <td class="codeLine">/// Build the cloned blocks for an unswitched copy of the given loop.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1138</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1138</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1139</td>
    <td class="codeLine">/// The cloned blocks are inserted before the loop preheader (`LoopPH`) and</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1139</td>
    <td class="codeLine">/// The cloned blocks are inserted before the loop preheader (`LoopPH`) and</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1140</td>
    <td class="codeLine">/// after the split block (`SplitBB`) that will be used to select between the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1140</td>
    <td class="codeLine">/// after the split block (`SplitBB`) that will be used to select between the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1141</td>
    <td class="codeLine">/// cloned and original loop.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1141</td>
    <td class="codeLine">/// cloned and original loop.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1142</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1142</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1143</td>
    <td class="codeLine">/// This routine handles cloning all of the necessary loop blocks and exit</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1143</td>
    <td class="codeLine">/// This routine handles cloning all of the necessary loop blocks and exit</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1144</td>
    <td class="codeLine">/// blocks including rewriting their instructions and the relevant PHI nodes.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1144</td>
    <td class="codeLine">/// blocks including rewriting their instructions and the relevant PHI nodes.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1145</td>
    <td class="codeLine">/// Any loop blocks or exit blocks which are dominated by a different successor</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1145</td>
    <td class="codeLine">/// Any loop blocks or exit blocks which are dominated by a different successor</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1146</td>
    <td class="codeLine">/// than the one for this clone of the loop blocks can be trivially skipped. We</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1146</td>
    <td class="codeLine">/// than the one for this clone of the loop blocks can be trivially skipped. We</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1147</td>
    <td class="codeLine">/// use the `DominatingSucc` map to determine whether a block satisfies that</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1147</td>
    <td class="codeLine">/// use the `DominatingSucc` map to determine whether a block satisfies that</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1148</td>
    <td class="codeLine">/// property with a simple map lookup.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1148</td>
    <td class="codeLine">/// property with a simple map lookup.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1149</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1149</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1150</td>
    <td class="codeLine">/// It also correctly creates the unconditional branch in the cloned</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1150</td>
    <td class="codeLine">/// It also correctly creates the unconditional branch in the cloned</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1151</td>
    <td class="codeLine">/// unswitched parent block to only point at the unswitched successor.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1151</td>
    <td class="codeLine">/// unswitched parent block to only point at the unswitched successor.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1152</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1152</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1153</td>
    <td class="codeLine">/// This does not handle most of the necessary updates to `LoopInfo`. Only exit</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1153</td>
    <td class="codeLine">/// This does not handle most of the necessary updates to `LoopInfo`. Only exit</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1154</td>
    <td class="codeLine">/// block splitting is correctly reflected in `LoopInfo`, essentially all of</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1154</td>
    <td class="codeLine">/// block splitting is correctly reflected in `LoopInfo`, essentially all of</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1155</td>
    <td class="codeLine">/// the cloned blocks (and their loops) are left without full `LoopInfo`</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1155</td>
    <td class="codeLine">/// the cloned blocks (and their loops) are left without full `LoopInfo`</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1156</td>
    <td class="codeLine">/// updates. This also doesn't fully update `DominatorTree`. It adds the cloned</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1156</td>
    <td class="codeLine">/// updates. This also doesn't fully update `DominatorTree`. It adds the cloned</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1157</td>
    <td class="codeLine">/// blocks to them but doesn't create the cloned `DominatorTree` structure and</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1157</td>
    <td class="codeLine">/// blocks to them but doesn't create the cloned `DominatorTree` structure and</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1158</td>
    <td class="codeLine">/// instead the caller must recompute an accurate DT. It *does* correctly</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1158</td>
    <td class="codeLine">/// instead the caller must recompute an accurate DT. It *does* correctly</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1159</td>
    <td class="codeLine">/// update the `AssumptionCache` provided in `AC`.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1159</td>
    <td class="codeLine">/// update the `AssumptionCache` provided in `AC`.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1160</td>
    <td class="codeLine">static BasicBlock *buildClonedLoopBlocks(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1160</td>
    <td class="codeLine">static BasicBlock *buildClonedLoopBlocks(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1161</td>
    <td class="codeLine">    Loop &L, BasicBlock *LoopPH, BasicBlock *SplitBB,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1161</td>
    <td class="codeLine">    Loop &L, BasicBlock *LoopPH, BasicBlock *SplitBB,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1162</td>
    <td class="codeLine">    ArrayRef<BasicBlock *> ExitBlocks, BasicBlock *ParentBB,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1162</td>
    <td class="codeLine">    ArrayRef<BasicBlock *> ExitBlocks, BasicBlock *ParentBB,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1163</td>
    <td class="codeLine">    BasicBlock *UnswitchedSuccBB, BasicBlock *ContinueSuccBB,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1163</td>
    <td class="codeLine">    BasicBlock *UnswitchedSuccBB, BasicBlock *ContinueSuccBB,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1164</td>
    <td class="codeLine">    const SmallDenseMap<BasicBlock *, BasicBlock *, 16> &DominatingSucc,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1164</td>
    <td class="codeLine">    const SmallDenseMap<BasicBlock *, BasicBlock *, 16> &DominatingSucc,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1165</td>
    <td class="codeLine">    ValueToValueMapTy &VMap,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1165</td>
    <td class="codeLine">    ValueToValueMapTy &VMap,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1166</td>
    <td class="codeLine">    SmallVectorImpl<DominatorTree::UpdateType> &DTUpdates, AssumptionCache &AC,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1166</td>
    <td class="codeLine">    SmallVectorImpl<DominatorTree::UpdateType> &DTUpdates, AssumptionCache &AC,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1167</td>
    <td class="codeLine">    DominatorTree &DT, LoopInfo &LI, MemorySSAUpdater *MSSAU,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1167</td>
    <td class="codeLine">    DominatorTree &DT, LoopInfo &LI, MemorySSAUpdater *MSSAU,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1168</td>
    <td class="codeLine">    ScalarEvolution *SE) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1168</td>
    <td class="codeLine">    ScalarEvolution *SE) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1169</td>
    <td class="codeLine">  SmallVector<BasicBlock *, 4> NewBlocks;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1169</td>
    <td class="codeLine">  SmallVector<BasicBlock *, 4> NewBlocks;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1170</td>
    <td class="codeLine">  NewBlocks.reserve(L.getNumBlocks() + ExitBlocks.size());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1170</td>
    <td class="codeLine">  NewBlocks.reserve(L.getNumBlocks() + ExitBlocks.size());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1171</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1171</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1172</td>
    <td class="codeLine">  // We will need to clone a bunch of blocks, wrap up the clone operation in</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1172</td>
    <td class="codeLine">  // We will need to clone a bunch of blocks, wrap up the clone operation in</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1173</td>
    <td class="codeLine">  // a helper.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1173</td>
    <td class="codeLine">  // a helper.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1174</td>
    <td class="codeLine">  auto CloneBlock = [&](BasicBlock *OldBB) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1174</td>
    <td class="codeLine">  auto CloneBlock = [&](BasicBlock *OldBB) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1175</td>
    <td class="codeLine">    // Clone the basic block and insert it before the new preheader.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1175</td>
    <td class="codeLine">    // Clone the basic block and insert it before the new preheader.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1176</td>
    <td class="codeLine">    BasicBlock *NewBB = CloneBasicBlock(OldBB, VMap, ".us", OldBB->getParent());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1176</td>
    <td class="codeLine">    BasicBlock *NewBB = CloneBasicBlock(OldBB, VMap, ".us", OldBB->getParent());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1177</td>
    <td class="codeLine">    NewBB->moveBefore(LoopPH);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1177</td>
    <td class="codeLine">    NewBB->moveBefore(LoopPH);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1178</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1178</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1179</td>
    <td class="codeLine">    // Record this block and the mapping.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1179</td>
    <td class="codeLine">    // Record this block and the mapping.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1180</td>
    <td class="codeLine">    NewBlocks.push_back(NewBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1180</td>
    <td class="codeLine">    NewBlocks.push_back(NewBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1181</td>
    <td class="codeLine">    VMap[OldBB] = NewBB;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1181</td>
    <td class="codeLine">    VMap[OldBB] = NewBB;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1182</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1182</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1183</td>
    <td class="codeLine">    return NewBB;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1183</td>
    <td class="codeLine">    return NewBB;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1184</td>
    <td class="codeLine">  };</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1184</td>
    <td class="codeLine">  };</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1185</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1185</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1186</td>
    <td class="codeLine">  // We skip cloning blocks when they have a dominating succ that is not the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1186</td>
    <td class="codeLine">  // We skip cloning blocks when they have a dominating succ that is not the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1187</td>
    <td class="codeLine">  // succ we are cloning for.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1187</td>
    <td class="codeLine">  // succ we are cloning for.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1188</td>
    <td class="codeLine">  auto SkipBlock = [&](BasicBlock *BB) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1188</td>
    <td class="codeLine">  auto SkipBlock = [&](BasicBlock *BB) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1189</td>
    <td class="codeLine">    auto It = DominatingSucc.find(BB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1189</td>
    <td class="codeLine">    auto It = DominatingSucc.find(BB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1190</td>
    <td class="codeLine">    return It != DominatingSucc.end() && It->second != UnswitchedSuccBB;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1190</td>
    <td class="codeLine">    return It != DominatingSucc.end() && It->second != UnswitchedSuccBB;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1191</td>
    <td class="codeLine">  };</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1191</td>
    <td class="codeLine">  };</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1192</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1192</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1193</td>
    <td class="codeLine">  // First, clone the preheader.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1193</td>
    <td class="codeLine">  // First, clone the preheader.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1194</td>
    <td class="codeLine">  auto *ClonedPH = CloneBlock(LoopPH);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1194</td>
    <td class="codeLine">  auto *ClonedPH = CloneBlock(LoopPH);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1195</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1195</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1196</td>
    <td class="codeLine">  // Then clone all the loop blocks, skipping the ones that aren't necessary.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1196</td>
    <td class="codeLine">  // Then clone all the loop blocks, skipping the ones that aren't necessary.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1197</td>
    <td class="codeLine">  for (auto *LoopBB : L.blocks())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1197</td>
    <td class="codeLine">  for (auto *LoopBB : L.blocks())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1198</td>
    <td class="codeLine">    if (!SkipBlock(LoopBB))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1198</td>
    <td class="codeLine">    if (!SkipBlock(LoopBB))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1199</td>
    <td class="codeLine">      CloneBlock(LoopBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1199</td>
    <td class="codeLine">      CloneBlock(LoopBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1200</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1200</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1201</td>
    <td class="codeLine">  // Split all the loop exit edges so that when we clone the exit blocks, if</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1201</td>
    <td class="codeLine">  // Split all the loop exit edges so that when we clone the exit blocks, if</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1202</td>
    <td class="codeLine">  // any of the exit blocks are *also* a preheader for some other loop, we</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1202</td>
    <td class="codeLine">  // any of the exit blocks are *also* a preheader for some other loop, we</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1203</td>
    <td class="codeLine">  // don't create multiple predecessors entering the loop header.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1203</td>
    <td class="codeLine">  // don't create multiple predecessors entering the loop header.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1204</td>
    <td class="codeLine">  for (auto *ExitBB : ExitBlocks) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1204</td>
    <td class="codeLine">  for (auto *ExitBB : ExitBlocks) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1205</td>
    <td class="codeLine">    if (SkipBlock(ExitBB))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1205</td>
    <td class="codeLine">    if (SkipBlock(ExitBB))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1206</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1206</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1207</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1207</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1208</td>
    <td class="codeLine">    // When we are going to clone an exit, we don't need to clone all the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1208</td>
    <td class="codeLine">    // When we are going to clone an exit, we don't need to clone all the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1209</td>
    <td class="codeLine">    // instructions in the exit block and we want to ensure we have an easy</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1209</td>
    <td class="codeLine">    // instructions in the exit block and we want to ensure we have an easy</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1210</td>
    <td class="codeLine">    // place to merge the CFG, so split the exit first. This is always safe to</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1210</td>
    <td class="codeLine">    // place to merge the CFG, so split the exit first. This is always safe to</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1211</td>
    <td class="codeLine">    // do because there cannot be any non-loop predecessors of a loop exit in</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1211</td>
    <td class="codeLine">    // do because there cannot be any non-loop predecessors of a loop exit in</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1212</td>
    <td class="codeLine">    // loop simplified form.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1212</td>
    <td class="codeLine">    // loop simplified form.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1213</td>
    <td class="codeLine">    auto *MergeBB = SplitBlock(ExitBB, &ExitBB->front(), &DT, &LI, MSSAU);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1213</td>
    <td class="codeLine">    auto *MergeBB = SplitBlock(ExitBB, &ExitBB->front(), &DT, &LI, MSSAU);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1214</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1214</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1215</td>
    <td class="codeLine">    // Rearrange the names to make it easier to write test cases by having the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1215</td>
    <td class="codeLine">    // Rearrange the names to make it easier to write test cases by having the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1216</td>
    <td class="codeLine">    // exit block carry the suffix rather than the merge block carrying the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1216</td>
    <td class="codeLine">    // exit block carry the suffix rather than the merge block carrying the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1217</td>
    <td class="codeLine">    // suffix.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1217</td>
    <td class="codeLine">    // suffix.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1218</td>
    <td class="codeLine">    MergeBB->takeName(ExitBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1218</td>
    <td class="codeLine">    MergeBB->takeName(ExitBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1219</td>
    <td class="codeLine">    ExitBB->setName(Twine(MergeBB->getName()) + ".split");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1219</td>
    <td class="codeLine">    ExitBB->setName(Twine(MergeBB->getName()) + ".split");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1220</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1220</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1221</td>
    <td class="codeLine">    // Now clone the original exit block.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1221</td>
    <td class="codeLine">    // Now clone the original exit block.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1222</td>
    <td class="codeLine">    auto *ClonedExitBB = CloneBlock(ExitBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1222</td>
    <td class="codeLine">    auto *ClonedExitBB = CloneBlock(ExitBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1223</td>
    <td class="codeLine">    assert(ClonedExitBB->getTerminator()->getNumSuccessors() == 1 &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1223</td>
    <td class="codeLine">    assert(ClonedExitBB->getTerminator()->getNumSuccessors() == 1 &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1224</td>
    <td class="codeLine">           "Exit block should have been split to have one successor!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1224</td>
    <td class="codeLine">           "Exit block should have been split to have one successor!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1225</td>
    <td class="codeLine">    assert(ClonedExitBB->getTerminator()->getSuccessor(0) == MergeBB &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1225</td>
    <td class="codeLine">    assert(ClonedExitBB->getTerminator()->getSuccessor(0) == MergeBB &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1226</td>
    <td class="codeLine">           "Cloned exit block has the wrong successor!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1226</td>
    <td class="codeLine">           "Cloned exit block has the wrong successor!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1227</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1227</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1228</td>
    <td class="codeLine">    // Remap any cloned instructions and create a merge phi node for them.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1228</td>
    <td class="codeLine">    // Remap any cloned instructions and create a merge phi node for them.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1229</td>
    <td class="codeLine">    for (auto ZippedInsts : llvm::zip_first(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1229</td>
    <td class="codeLine">    for (auto ZippedInsts : llvm::zip_first(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1230</td>
    <td class="codeLine">             llvm::make_range(ExitBB->begin(), std::prev(ExitBB->end())),</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1230</td>
    <td class="codeLine">             llvm::make_range(ExitBB->begin(), std::prev(ExitBB->end())),</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1231</td>
    <td class="codeLine">             llvm::make_range(ClonedExitBB->begin(),</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1231</td>
    <td class="codeLine">             llvm::make_range(ClonedExitBB->begin(),</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1232</td>
    <td class="codeLine">                              std::prev(ClonedExitBB->end())))) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1232</td>
    <td class="codeLine">                              std::prev(ClonedExitBB->end())))) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1233</td>
    <td class="codeLine">      Instruction &I = std::get<0>(ZippedInsts);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1233</td>
    <td class="codeLine">      Instruction &I = std::get<0>(ZippedInsts);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1234</td>
    <td class="codeLine">      Instruction &ClonedI = std::get<1>(ZippedInsts);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1234</td>
    <td class="codeLine">      Instruction &ClonedI = std::get<1>(ZippedInsts);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1235</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1235</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1236</td>
    <td class="codeLine">      // The only instructions in the exit block should be PHI nodes and</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1236</td>
    <td class="codeLine">      // The only instructions in the exit block should be PHI nodes and</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1237</td>
    <td class="codeLine">      // potentially a landing pad.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1237</td>
    <td class="codeLine">      // potentially a landing pad.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1238</td>
    <td class="codeLine">      assert(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1238</td>
    <td class="codeLine">      assert(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1239</td>
    <td class="codeLine">          (isa<PHINode>(I) || isa<LandingPadInst>(I) || isa<CatchPadInst>(I)) &&</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1239</td>
    <td class="codeLine">          (isa<PHINode>(I) || isa<LandingPadInst>(I) || isa<CatchPadInst>(I)) &&</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1240</td>
    <td class="codeLine">          "Bad instruction in exit block!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1240</td>
    <td class="codeLine">          "Bad instruction in exit block!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1241</td>
    <td class="codeLine">      // We should have a value map between the instruction and its clone.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1241</td>
    <td class="codeLine">      // We should have a value map between the instruction and its clone.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1242</td>
    <td class="codeLine">      assert(VMap.lookup(&I) == &ClonedI && "Mismatch in the value map!");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1242</td>
    <td class="codeLine">      assert(VMap.lookup(&I) == &ClonedI && "Mismatch in the value map!");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1243</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1243</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1244</td>
    <td class="codeLine">      // Forget SCEVs based on exit phis in case SCEV looked through the phi.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1244</td>
    <td class="codeLine">      // Forget SCEVs based on exit phis in case SCEV looked through the phi.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1245</td>
    <td class="codeLine">      if (SE && isa<PHINode>(I))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1245</td>
    <td class="codeLine">      if (SE && isa<PHINode>(I))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1246</td>
    <td class="codeLine">        SE->forgetValue(&I);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1246</td>
    <td class="codeLine">        SE->forgetValue(&I);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1247</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1247</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1248</td>
    <td class="codeLine">      auto *MergePN =</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1248</td>
    <td class="codeLine">      auto *MergePN =</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1249</td>
    <td class="codeLine">          PHINode::Create(I.getType(), /*NumReservedValues*/ 2, ".us-phi",</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1249</td>
    <td class="codeLine">          PHINode::Create(I.getType(), /*NumReservedValues*/ 2, ".us-phi",</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1250</td>
    <td class="codeLine">                          &*MergeBB->getFirstInsertionPt());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1250</td>
    <td class="codeLine">                          &*MergeBB->getFirstInsertionPt());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1251</td>
    <td class="codeLine">      I.replaceAllUsesWith(MergePN);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1251</td>
    <td class="codeLine">      I.replaceAllUsesWith(MergePN);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1252</td>
    <td class="codeLine">      MergePN->addIncoming(&I, ExitBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1252</td>
    <td class="codeLine">      MergePN->addIncoming(&I, ExitBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1253</td>
    <td class="codeLine">      MergePN->addIncoming(&ClonedI, ClonedExitBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1253</td>
    <td class="codeLine">      MergePN->addIncoming(&ClonedI, ClonedExitBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1254</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1254</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1255</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1255</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1256</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1256</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1257</td>
    <td class="codeLine">  // Rewrite the instructions in the cloned blocks to refer to the instructions</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1257</td>
    <td class="codeLine">  // Rewrite the instructions in the cloned blocks to refer to the instructions</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1258</td>
    <td class="codeLine">  // in the cloned blocks. We have to do this as a second pass so that we have</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1258</td>
    <td class="codeLine">  // in the cloned blocks. We have to do this as a second pass so that we have</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1259</td>
    <td class="codeLine">  // everything available. Also, we have inserted new instructions which may</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1259</td>
    <td class="codeLine">  // everything available. Also, we have inserted new instructions which may</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1260</td>
    <td class="codeLine">  // include assume intrinsics, so we update the assumption cache while</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1260</td>
    <td class="codeLine">  // include assume intrinsics, so we update the assumption cache while</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1261</td>
    <td class="codeLine">  // processing this.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1261</td>
    <td class="codeLine">  // processing this.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1262</td>
    <td class="codeLine">  for (auto *ClonedBB : NewBlocks)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1262</td>
    <td class="codeLine">  for (auto *ClonedBB : NewBlocks)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1263</td>
    <td class="codeLine">    for (Instruction &I : *ClonedBB) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1263</td>
    <td class="codeLine">    for (Instruction &I : *ClonedBB) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1264</td>
    <td class="codeLine">      RemapInstruction(&I, VMap,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1264</td>
    <td class="codeLine">      RemapInstruction(&I, VMap,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1265</td>
    <td class="codeLine">                       RF_NoModuleLevelChanges | RF_IgnoreMissingLocals);</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1265</td>
    <td class="codeLine">                       RF_NoModuleLevelChanges | RF_IgnoreMissingLocals);</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1266</td>
    <td class="codeLine">      if (auto *II = dyn_cast<AssumeInst>(&I))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1266</td>
    <td class="codeLine">      if (auto *II = dyn_cast<AssumeInst>(&I))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1267</td>
    <td class="codeLine">        AC.registerAssumption(II);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1267</td>
    <td class="codeLine">        AC.registerAssumption(II);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1268</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1268</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1269</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1269</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1270</td>
    <td class="codeLine">  // Update any PHI nodes in the cloned successors of the skipped blocks to not</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1270</td>
    <td class="codeLine">  // Update any PHI nodes in the cloned successors of the skipped blocks to not</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1271</td>
    <td class="codeLine">  // have spurious incoming values.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1271</td>
    <td class="codeLine">  // have spurious incoming values.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1272</td>
    <td class="codeLine">  for (auto *LoopBB : L.blocks())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1272</td>
    <td class="codeLine">  for (auto *LoopBB : L.blocks())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1273</td>
    <td class="codeLine">    if (SkipBlock(LoopBB))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1273</td>
    <td class="codeLine">    if (SkipBlock(LoopBB))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1274</td>
    <td class="codeLine">      for (auto *SuccBB : successors(LoopBB))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1274</td>
    <td class="codeLine">      for (auto *SuccBB : successors(LoopBB))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1275</td>
    <td class="codeLine">        if (auto *ClonedSuccBB = cast_or_null<BasicBlock>(VMap.lookup(SuccBB)))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1275</td>
    <td class="codeLine">        if (auto *ClonedSuccBB = cast_or_null<BasicBlock>(VMap.lookup(SuccBB)))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1276</td>
    <td class="codeLine">          for (PHINode &PN : ClonedSuccBB->phis())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1276</td>
    <td class="codeLine">          for (PHINode &PN : ClonedSuccBB->phis())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1277</td>
    <td class="codeLine">            PN.removeIncomingValue(LoopBB, /*DeletePHIIfEmpty*/ false);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1277</td>
    <td class="codeLine">            PN.removeIncomingValue(LoopBB, /*DeletePHIIfEmpty*/ false);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1278</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1278</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1279</td>
    <td class="codeLine">  // Remove the cloned parent as a predecessor of any successor we ended up</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1279</td>
    <td class="codeLine">  // Remove the cloned parent as a predecessor of any successor we ended up</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1280</td>
    <td class="codeLine">  // cloning other than the unswitched one.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1280</td>
    <td class="codeLine">  // cloning other than the unswitched one.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1281</td>
    <td class="codeLine">  auto *ClonedParentBB = cast<BasicBlock>(VMap.lookup(ParentBB));</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1281</td>
    <td class="codeLine">  auto *ClonedParentBB = cast<BasicBlock>(VMap.lookup(ParentBB));</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1282</td>
    <td class="codeLine">  for (auto *SuccBB : successors(ParentBB)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1282</td>
    <td class="codeLine">  for (auto *SuccBB : successors(ParentBB)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1283</td>
    <td class="codeLine">    if (SuccBB == UnswitchedSuccBB)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1283</td>
    <td class="codeLine">    if (SuccBB == UnswitchedSuccBB)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1284</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1284</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1285</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1285</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1286</td>
    <td class="codeLine">    auto *ClonedSuccBB = cast_or_null<BasicBlock>(VMap.lookup(SuccBB));</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1286</td>
    <td class="codeLine">    auto *ClonedSuccBB = cast_or_null<BasicBlock>(VMap.lookup(SuccBB));</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1287</td>
    <td class="codeLine">    if (!ClonedSuccBB)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1287</td>
    <td class="codeLine">    if (!ClonedSuccBB)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1288</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1288</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1289</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1289</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1290</td>
    <td class="codeLine">    ClonedSuccBB->removePredecessor(ClonedParentBB,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1290</td>
    <td class="codeLine">    ClonedSuccBB->removePredecessor(ClonedParentBB,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1291</td>
    <td class="codeLine">                                    /*KeepOneInputPHIs*/ true);</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1291</td>
    <td class="codeLine">                                    /*KeepOneInputPHIs*/ true);</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1292</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1292</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1293</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1293</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1294</td>
    <td class="codeLine">  // Replace the cloned branch with an unconditional branch to the cloned</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1294</td>
    <td class="codeLine">  // Replace the cloned branch with an unconditional branch to the cloned</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1295</td>
    <td class="codeLine">  // unswitched successor.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1295</td>
    <td class="codeLine">  // unswitched successor.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1296</td>
    <td class="codeLine">  auto *ClonedSuccBB = cast<BasicBlock>(VMap.lookup(UnswitchedSuccBB));</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1296</td>
    <td class="codeLine">  auto *ClonedSuccBB = cast<BasicBlock>(VMap.lookup(UnswitchedSuccBB));</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1297</td>
    <td class="codeLine">  Instruction *ClonedTerminator = ClonedParentBB->getTerminator();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1297</td>
    <td class="codeLine">  Instruction *ClonedTerminator = ClonedParentBB->getTerminator();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1298</td>
    <td class="codeLine">  // Trivial Simplification. If Terminator is a conditional branch and</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1298</td>
    <td class="codeLine">  // Trivial Simplification. If Terminator is a conditional branch and</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1299</td>
    <td class="codeLine">  // condition becomes dead - erase it.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1299</td>
    <td class="codeLine">  // condition becomes dead - erase it.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1300</td>
    <td class="codeLine">  Value *ClonedConditionToErase = nullptr;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1300</td>
    <td class="codeLine">  Value *ClonedConditionToErase = nullptr;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1301</td>
    <td class="codeLine">  if (auto *BI = dyn_cast<BranchInst>(ClonedTerminator))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1301</td>
    <td class="codeLine">  if (auto *BI = dyn_cast<BranchInst>(ClonedTerminator))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1302</td>
    <td class="codeLine">    ClonedConditionToErase = BI->getCondition();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1302</td>
    <td class="codeLine">    ClonedConditionToErase = BI->getCondition();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1303</td>
    <td class="codeLine">  else if (auto *SI = dyn_cast<SwitchInst>(ClonedTerminator))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1303</td>
    <td class="codeLine">  else if (auto *SI = dyn_cast<SwitchInst>(ClonedTerminator))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1304</td>
    <td class="codeLine">    ClonedConditionToErase = SI->getCondition();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1304</td>
    <td class="codeLine">    ClonedConditionToErase = SI->getCondition();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1305</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1305</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1306</td>
    <td class="codeLine">  ClonedTerminator->eraseFromParent();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1306</td>
    <td class="codeLine">  ClonedTerminator->eraseFromParent();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1307</td>
    <td class="codeLine">  BranchInst::Create(ClonedSuccBB, ClonedParentBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1307</td>
    <td class="codeLine">  BranchInst::Create(ClonedSuccBB, ClonedParentBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1308</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1308</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1309</td>
    <td class="codeLine">  if (ClonedConditionToErase)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1309</td>
    <td class="codeLine">  if (ClonedConditionToErase)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1310</td>
    <td class="codeLine">    RecursivelyDeleteTriviallyDeadInstructions(ClonedConditionToErase, nullptr,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1310</td>
    <td class="codeLine">    RecursivelyDeleteTriviallyDeadInstructions(ClonedConditionToErase, nullptr,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1311</td>
    <td class="codeLine">                                               MSSAU);</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1311</td>
    <td class="codeLine">                                               MSSAU);</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1312</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1312</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1313</td>
    <td class="codeLine">  // If there are duplicate entries in the PHI nodes because of multiple edges</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1313</td>
    <td class="codeLine">  // If there are duplicate entries in the PHI nodes because of multiple edges</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1314</td>
    <td class="codeLine">  // to the unswitched successor, we need to nuke all but one as we replaced it</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1314</td>
    <td class="codeLine">  // to the unswitched successor, we need to nuke all but one as we replaced it</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1315</td>
    <td class="codeLine">  // with a direct branch.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1315</td>
    <td class="codeLine">  // with a direct branch.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1316</td>
    <td class="codeLine">  for (PHINode &PN : ClonedSuccBB->phis()) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1316</td>
    <td class="codeLine">  for (PHINode &PN : ClonedSuccBB->phis()) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1317</td>
    <td class="codeLine">    bool Found = false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1317</td>
    <td class="codeLine">    bool Found = false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1318</td>
    <td class="codeLine">    // Loop over the incoming operands backwards so we can easily delete as we</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1318</td>
    <td class="codeLine">    // Loop over the incoming operands backwards so we can easily delete as we</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1319</td>
    <td class="codeLine">    // go without invalidating the index.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1319</td>
    <td class="codeLine">    // go without invalidating the index.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1320</td>
    <td class="codeLine">    for (int i = PN.getNumOperands() - 1; i >= 0; --i) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1320</td>
    <td class="codeLine">    for (int i = PN.getNumOperands() - 1; i >= 0; --i) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1321</td>
    <td class="codeLine">      if (PN.getIncomingBlock(i) != ClonedParentBB)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1321</td>
    <td class="codeLine">      if (PN.getIncomingBlock(i) != ClonedParentBB)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1322</td>
    <td class="codeLine">        continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1322</td>
    <td class="codeLine">        continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1323</td>
    <td class="codeLine">      if (!Found) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1323</td>
    <td class="codeLine">      if (!Found) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1324</td>
    <td class="codeLine">        Found = true;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1324</td>
    <td class="codeLine">        Found = true;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1325</td>
    <td class="codeLine">        continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1325</td>
    <td class="codeLine">        continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1326</td>
    <td class="codeLine">      }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1326</td>
    <td class="codeLine">      }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1327</td>
    <td class="codeLine">      PN.removeIncomingValue(i, /*DeletePHIIfEmpty*/ false);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1327</td>
    <td class="codeLine">      PN.removeIncomingValue(i, /*DeletePHIIfEmpty*/ false);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1328</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1328</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1329</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1329</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1330</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1330</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1331</td>
    <td class="codeLine">  // Record the domtree updates for the new blocks.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1331</td>
    <td class="codeLine">  // Record the domtree updates for the new blocks.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1332</td>
    <td class="codeLine">  SmallPtrSet<BasicBlock *, 4> SuccSet;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1332</td>
    <td class="codeLine">  SmallPtrSet<BasicBlock *, 4> SuccSet;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1333</td>
    <td class="codeLine">  for (auto *ClonedBB : NewBlocks) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1333</td>
    <td class="codeLine">  for (auto *ClonedBB : NewBlocks) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1334</td>
    <td class="codeLine">    for (auto *SuccBB : successors(ClonedBB))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1334</td>
    <td class="codeLine">    for (auto *SuccBB : successors(ClonedBB))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1335</td>
    <td class="codeLine">      if (SuccSet.insert(SuccBB).second)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1335</td>
    <td class="codeLine">      if (SuccSet.insert(SuccBB).second)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1336</td>
    <td class="codeLine">        DTUpdates.push_back({DominatorTree::Insert, ClonedBB, SuccBB});</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1336</td>
    <td class="codeLine">        DTUpdates.push_back({DominatorTree::Insert, ClonedBB, SuccBB});</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1337</td>
    <td class="codeLine">    SuccSet.clear();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1337</td>
    <td class="codeLine">    SuccSet.clear();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1338</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1338</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1339</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1339</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1340</td>
    <td class="codeLine">  return ClonedPH;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1340</td>
    <td class="codeLine">  return ClonedPH;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1341</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1341</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1342</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1342</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1343</td>
    <td class="codeLine">/// Recursively clone the specified loop and all of its children.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1343</td>
    <td class="codeLine">/// Recursively clone the specified loop and all of its children.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1344</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1344</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1345</td>
    <td class="codeLine">/// The target parent loop for the clone should be provided, or can be null if</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1345</td>
    <td class="codeLine">/// The target parent loop for the clone should be provided, or can be null if</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1346</td>
    <td class="codeLine">/// the clone is a top-level loop. While cloning, all the blocks are mapped</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1346</td>
    <td class="codeLine">/// the clone is a top-level loop. While cloning, all the blocks are mapped</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1347</td>
    <td class="codeLine">/// with the provided value map. The entire original loop must be present in</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1347</td>
    <td class="codeLine">/// with the provided value map. The entire original loop must be present in</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1348</td>
    <td class="codeLine">/// the value map. The cloned loop is returned.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1348</td>
    <td class="codeLine">/// the value map. The cloned loop is returned.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1349</td>
    <td class="codeLine">static Loop *cloneLoopNest(Loop &OrigRootL, Loop *RootParentL,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1349</td>
    <td class="codeLine">static Loop *cloneLoopNest(Loop &OrigRootL, Loop *RootParentL,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1350</td>
    <td class="codeLine">                           const ValueToValueMapTy &VMap, LoopInfo &LI) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1350</td>
    <td class="codeLine">                           const ValueToValueMapTy &VMap, LoopInfo &LI) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1351</td>
    <td class="codeLine">  auto AddClonedBlocksToLoop = [&](Loop &OrigL, Loop &ClonedL) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1351</td>
    <td class="codeLine">  auto AddClonedBlocksToLoop = [&](Loop &OrigL, Loop &ClonedL) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1352</td>
    <td class="codeLine">    assert(ClonedL.getBlocks().empty() && "Must start with an empty loop!");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1352</td>
    <td class="codeLine">    assert(ClonedL.getBlocks().empty() && "Must start with an empty loop!");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1353</td>
    <td class="codeLine">    ClonedL.reserveBlocks(OrigL.getNumBlocks());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1353</td>
    <td class="codeLine">    ClonedL.reserveBlocks(OrigL.getNumBlocks());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1354</td>
    <td class="codeLine">    for (auto *BB : OrigL.blocks()) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1354</td>
    <td class="codeLine">    for (auto *BB : OrigL.blocks()) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1355</td>
    <td class="codeLine">      auto *ClonedBB = cast<BasicBlock>(VMap.lookup(BB));</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1355</td>
    <td class="codeLine">      auto *ClonedBB = cast<BasicBlock>(VMap.lookup(BB));</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1356</td>
    <td class="codeLine">      ClonedL.addBlockEntry(ClonedBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1356</td>
    <td class="codeLine">      ClonedL.addBlockEntry(ClonedBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1357</td>
    <td class="codeLine">      if (LI.getLoopFor(BB) == &OrigL)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1357</td>
    <td class="codeLine">      if (LI.getLoopFor(BB) == &OrigL)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1358</td>
    <td class="codeLine">        LI.changeLoopFor(ClonedBB, &ClonedL);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1358</td>
    <td class="codeLine">        LI.changeLoopFor(ClonedBB, &ClonedL);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1359</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1359</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1360</td>
    <td class="codeLine">  };</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1360</td>
    <td class="codeLine">  };</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1361</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1361</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1362</td>
    <td class="codeLine">  // We specially handle the first loop because it may get cloned into</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1362</td>
    <td class="codeLine">  // We specially handle the first loop because it may get cloned into</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1363</td>
    <td class="codeLine">  // a different parent and because we most commonly are cloning leaf loops.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1363</td>
    <td class="codeLine">  // a different parent and because we most commonly are cloning leaf loops.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1364</td>
    <td class="codeLine">  Loop *ClonedRootL = LI.AllocateLoop();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1364</td>
    <td class="codeLine">  Loop *ClonedRootL = LI.AllocateLoop();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1365</td>
    <td class="codeLine">  if (RootParentL)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1365</td>
    <td class="codeLine">  if (RootParentL)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1366</td>
    <td class="codeLine">    RootParentL->addChildLoop(ClonedRootL);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1366</td>
    <td class="codeLine">    RootParentL->addChildLoop(ClonedRootL);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1367</td>
    <td class="codeLine">  else</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1367</td>
    <td class="codeLine">  else</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1368</td>
    <td class="codeLine">    LI.addTopLevelLoop(ClonedRootL);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1368</td>
    <td class="codeLine">    LI.addTopLevelLoop(ClonedRootL);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1369</td>
    <td class="codeLine">  AddClonedBlocksToLoop(OrigRootL, *ClonedRootL);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1369</td>
    <td class="codeLine">  AddClonedBlocksToLoop(OrigRootL, *ClonedRootL);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1370</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1370</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1371</td>
    <td class="codeLine">  if (OrigRootL.isInnermost())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1371</td>
    <td class="codeLine">  if (OrigRootL.isInnermost())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1372</td>
    <td class="codeLine">    return ClonedRootL;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1372</td>
    <td class="codeLine">    return ClonedRootL;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1373</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1373</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1374</td>
    <td class="codeLine">  // If we have a nest, we can quickly clone the entire loop nest using an</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1374</td>
    <td class="codeLine">  // If we have a nest, we can quickly clone the entire loop nest using an</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1375</td>
    <td class="codeLine">  // iterative approach because it is a tree. We keep the cloned parent in the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1375</td>
    <td class="codeLine">  // iterative approach because it is a tree. We keep the cloned parent in the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1376</td>
    <td class="codeLine">  // data structure to avoid repeatedly querying through a map to find it.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1376</td>
    <td class="codeLine">  // data structure to avoid repeatedly querying through a map to find it.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1377</td>
    <td class="codeLine">  SmallVector<std::pair<Loop *, Loop *>, 16> LoopsToClone;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1377</td>
    <td class="codeLine">  SmallVector<std::pair<Loop *, Loop *>, 16> LoopsToClone;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1378</td>
    <td class="codeLine">  // Build up the loops to clone in reverse order as we'll clone them from the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1378</td>
    <td class="codeLine">  // Build up the loops to clone in reverse order as we'll clone them from the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1379</td>
    <td class="codeLine">  // back.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1379</td>
    <td class="codeLine">  // back.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1380</td>
    <td class="codeLine">  for (Loop *ChildL : llvm::reverse(OrigRootL))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1380</td>
    <td class="codeLine">  for (Loop *ChildL : llvm::reverse(OrigRootL))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1381</td>
    <td class="codeLine">    LoopsToClone.push_back({ClonedRootL, ChildL});</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1381</td>
    <td class="codeLine">    LoopsToClone.push_back({ClonedRootL, ChildL});</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1382</td>
    <td class="codeLine">  do {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1382</td>
    <td class="codeLine">  do {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1383</td>
    <td class="codeLine">    Loop *ClonedParentL, *L;</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1383</td>
    <td class="codeLine">    Loop *ClonedParentL, *L;</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1384</td>
    <td class="codeLine">    std::tie(ClonedParentL, L) = LoopsToClone.pop_back_val();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1384</td>
    <td class="codeLine">    std::tie(ClonedParentL, L) = LoopsToClone.pop_back_val();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1385</td>
    <td class="codeLine">    Loop *ClonedL = LI.AllocateLoop();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1385</td>
    <td class="codeLine">    Loop *ClonedL = LI.AllocateLoop();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1386</td>
    <td class="codeLine">    ClonedParentL->addChildLoop(ClonedL);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1386</td>
    <td class="codeLine">    ClonedParentL->addChildLoop(ClonedL);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1387</td>
    <td class="codeLine">    AddClonedBlocksToLoop(*L, *ClonedL);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1387</td>
    <td class="codeLine">    AddClonedBlocksToLoop(*L, *ClonedL);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1388</td>
    <td class="codeLine">    for (Loop *ChildL : llvm::reverse(*L))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1388</td>
    <td class="codeLine">    for (Loop *ChildL : llvm::reverse(*L))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1389</td>
    <td class="codeLine">      LoopsToClone.push_back({ClonedL, ChildL});</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1389</td>
    <td class="codeLine">      LoopsToClone.push_back({ClonedL, ChildL});</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1390</td>
    <td class="codeLine">  } while (!LoopsToClone.empty());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1390</td>
    <td class="codeLine">  } while (!LoopsToClone.empty());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1391</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1391</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1392</td>
    <td class="codeLine">  return ClonedRootL;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1392</td>
    <td class="codeLine">  return ClonedRootL;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1393</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1393</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1394</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1394</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1395</td>
    <td class="codeLine">/// Build the cloned loops of an original loop from unswitching.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1395</td>
    <td class="codeLine">/// Build the cloned loops of an original loop from unswitching.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1396</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1396</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1397</td>
    <td class="codeLine">/// Because unswitching simplifies the CFG of the loop, this isn't a trivial</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1397</td>
    <td class="codeLine">/// Because unswitching simplifies the CFG of the loop, this isn't a trivial</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1398</td>
    <td class="codeLine">/// operation. We need to re-verify that there even is a loop (as the backedge</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1398</td>
    <td class="codeLine">/// operation. We need to re-verify that there even is a loop (as the backedge</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1399</td>
    <td class="codeLine">/// may not have been cloned), and even if there are remaining backedges the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1399</td>
    <td class="codeLine">/// may not have been cloned), and even if there are remaining backedges the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1400</td>
    <td class="codeLine">/// backedge set may be different. However, we know that each child loop is</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1400</td>
    <td class="codeLine">/// backedge set may be different. However, we know that each child loop is</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1401</td>
    <td class="codeLine">/// undisturbed, we only need to find where to place each child loop within</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1401</td>
    <td class="codeLine">/// undisturbed, we only need to find where to place each child loop within</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1402</td>
    <td class="codeLine">/// either any parent loop or within a cloned version of the original loop.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1402</td>
    <td class="codeLine">/// either any parent loop or within a cloned version of the original loop.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1403</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1403</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1404</td>
    <td class="codeLine">/// Because child loops may end up cloned outside of any cloned version of the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1404</td>
    <td class="codeLine">/// Because child loops may end up cloned outside of any cloned version of the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1405</td>
    <td class="codeLine">/// original loop, multiple cloned sibling loops may be created. All of them</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1405</td>
    <td class="codeLine">/// original loop, multiple cloned sibling loops may be created. All of them</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1406</td>
    <td class="codeLine">/// are returned so that the newly introduced loop nest roots can be</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1406</td>
    <td class="codeLine">/// are returned so that the newly introduced loop nest roots can be</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1407</td>
    <td class="codeLine">/// identified.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1407</td>
    <td class="codeLine">/// identified.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1408</td>
    <td class="codeLine">static void buildClonedLoops(Loop &OrigL, ArrayRef<BasicBlock *> ExitBlocks,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1408</td>
    <td class="codeLine">static void buildClonedLoops(Loop &OrigL, ArrayRef<BasicBlock *> ExitBlocks,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1409</td>
    <td class="codeLine">                             const ValueToValueMapTy &VMap, LoopInfo &LI,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1409</td>
    <td class="codeLine">                             const ValueToValueMapTy &VMap, LoopInfo &LI,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1410</td>
    <td class="codeLine">                             SmallVectorImpl<Loop *> &NonChildClonedLoops) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1410</td>
    <td class="codeLine">                             SmallVectorImpl<Loop *> &NonChildClonedLoops) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1411</td>
    <td class="codeLine">  Loop *ClonedL = nullptr;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1411</td>
    <td class="codeLine">  Loop *ClonedL = nullptr;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1412</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1412</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1413</td>
    <td class="codeLine">  auto *OrigPH = OrigL.getLoopPreheader();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1413</td>
    <td class="codeLine">  auto *OrigPH = OrigL.getLoopPreheader();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1414</td>
    <td class="codeLine">  auto *OrigHeader = OrigL.getHeader();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1414</td>
    <td class="codeLine">  auto *OrigHeader = OrigL.getHeader();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1415</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1415</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1416</td>
    <td class="codeLine">  auto *ClonedPH = cast<BasicBlock>(VMap.lookup(OrigPH));</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1416</td>
    <td class="codeLine">  auto *ClonedPH = cast<BasicBlock>(VMap.lookup(OrigPH));</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1417</td>
    <td class="codeLine">  auto *ClonedHeader = cast<BasicBlock>(VMap.lookup(OrigHeader));</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1417</td>
    <td class="codeLine">  auto *ClonedHeader = cast<BasicBlock>(VMap.lookup(OrigHeader));</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1418</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1418</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1419</td>
    <td class="codeLine">  // We need to know the loops of the cloned exit blocks to even compute the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1419</td>
    <td class="codeLine">  // We need to know the loops of the cloned exit blocks to even compute the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1420</td>
    <td class="codeLine">  // accurate parent loop. If we only clone exits to some parent of the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1420</td>
    <td class="codeLine">  // accurate parent loop. If we only clone exits to some parent of the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1421</td>
    <td class="codeLine">  // original parent, we want to clone into that outer loop. We also keep track</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1421</td>
    <td class="codeLine">  // original parent, we want to clone into that outer loop. We also keep track</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1422</td>
    <td class="codeLine">  // of the loops that our cloned exit blocks participate in.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1422</td>
    <td class="codeLine">  // of the loops that our cloned exit blocks participate in.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1423</td>
    <td class="codeLine">  Loop *ParentL = nullptr;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1423</td>
    <td class="codeLine">  Loop *ParentL = nullptr;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1424</td>
    <td class="codeLine">  SmallVector<BasicBlock *, 4> ClonedExitsInLoops;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1424</td>
    <td class="codeLine">  SmallVector<BasicBlock *, 4> ClonedExitsInLoops;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1425</td>
    <td class="codeLine">  SmallDenseMap<BasicBlock *, Loop *, 16> ExitLoopMap;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1425</td>
    <td class="codeLine">  SmallDenseMap<BasicBlock *, Loop *, 16> ExitLoopMap;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1426</td>
    <td class="codeLine">  ClonedExitsInLoops.reserve(ExitBlocks.size());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1426</td>
    <td class="codeLine">  ClonedExitsInLoops.reserve(ExitBlocks.size());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1427</td>
    <td class="codeLine">  for (auto *ExitBB : ExitBlocks)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1427</td>
    <td class="codeLine">  for (auto *ExitBB : ExitBlocks)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1428</td>
    <td class="codeLine">    if (auto *ClonedExitBB = cast_or_null<BasicBlock>(VMap.lookup(ExitBB)))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1428</td>
    <td class="codeLine">    if (auto *ClonedExitBB = cast_or_null<BasicBlock>(VMap.lookup(ExitBB)))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1429</td>
    <td class="codeLine">      if (Loop *ExitL = LI.getLoopFor(ExitBB)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1429</td>
    <td class="codeLine">      if (Loop *ExitL = LI.getLoopFor(ExitBB)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1430</td>
    <td class="codeLine">        ExitLoopMap[ClonedExitBB] = ExitL;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1430</td>
    <td class="codeLine">        ExitLoopMap[ClonedExitBB] = ExitL;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1431</td>
    <td class="codeLine">        ClonedExitsInLoops.push_back(ClonedExitBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1431</td>
    <td class="codeLine">        ClonedExitsInLoops.push_back(ClonedExitBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1432</td>
    <td class="codeLine">        if (!ParentL || (ParentL != ExitL && ParentL->contains(ExitL)))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1432</td>
    <td class="codeLine">        if (!ParentL || (ParentL != ExitL && ParentL->contains(ExitL)))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1433</td>
    <td class="codeLine">          ParentL = ExitL;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1433</td>
    <td class="codeLine">          ParentL = ExitL;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1434</td>
    <td class="codeLine">      }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1434</td>
    <td class="codeLine">      }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1435</td>
    <td class="codeLine">  assert((!ParentL || ParentL == OrigL.getParentLoop() ||</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1435</td>
    <td class="codeLine">  assert((!ParentL || ParentL == OrigL.getParentLoop() ||</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1436</td>
    <td class="codeLine">          ParentL->contains(OrigL.getParentLoop())) &&</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1436</td>
    <td class="codeLine">          ParentL->contains(OrigL.getParentLoop())) &&</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1437</td>
    <td class="codeLine">         "The computed parent loop should always contain (or be) the parent of "</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1437</td>
    <td class="codeLine">         "The computed parent loop should always contain (or be) the parent of "</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1438</td>
    <td class="codeLine">         "the original loop.");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1438</td>
    <td class="codeLine">         "the original loop.");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1439</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1439</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1440</td>
    <td class="codeLine">  // We build the set of blocks dominated by the cloned header from the set of</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1440</td>
    <td class="codeLine">  // We build the set of blocks dominated by the cloned header from the set of</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1441</td>
    <td class="codeLine">  // cloned blocks out of the original loop. While not all of these will</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1441</td>
    <td class="codeLine">  // cloned blocks out of the original loop. While not all of these will</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1442</td>
    <td class="codeLine">  // necessarily be in the cloned loop, it is enough to establish that they</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1442</td>
    <td class="codeLine">  // necessarily be in the cloned loop, it is enough to establish that they</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1443</td>
    <td class="codeLine">  // aren't in unreachable cycles, etc.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1443</td>
    <td class="codeLine">  // aren't in unreachable cycles, etc.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1444</td>
    <td class="codeLine">  SmallSetVector<BasicBlock *, 16> ClonedLoopBlocks;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1444</td>
    <td class="codeLine">  SmallSetVector<BasicBlock *, 16> ClonedLoopBlocks;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1445</td>
    <td class="codeLine">  for (auto *BB : OrigL.blocks())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1445</td>
    <td class="codeLine">  for (auto *BB : OrigL.blocks())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1446</td>
    <td class="codeLine">    if (auto *ClonedBB = cast_or_null<BasicBlock>(VMap.lookup(BB)))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1446</td>
    <td class="codeLine">    if (auto *ClonedBB = cast_or_null<BasicBlock>(VMap.lookup(BB)))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1447</td>
    <td class="codeLine">      ClonedLoopBlocks.insert(ClonedBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1447</td>
    <td class="codeLine">      ClonedLoopBlocks.insert(ClonedBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1448</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1448</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1449</td>
    <td class="codeLine">  // Rebuild the set of blocks that will end up in the cloned loop. We may have</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1449</td>
    <td class="codeLine">  // Rebuild the set of blocks that will end up in the cloned loop. We may have</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1450</td>
    <td class="codeLine">  // skipped cloning some region of this loop which can in turn skip some of</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1450</td>
    <td class="codeLine">  // skipped cloning some region of this loop which can in turn skip some of</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1451</td>
    <td class="codeLine">  // the backedges so we have to rebuild the blocks in the loop based on the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1451</td>
    <td class="codeLine">  // the backedges so we have to rebuild the blocks in the loop based on the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1452</td>
    <td class="codeLine">  // backedges that remain after cloning.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1452</td>
    <td class="codeLine">  // backedges that remain after cloning.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1453</td>
    <td class="codeLine">  SmallVector<BasicBlock *, 16> Worklist;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1453</td>
    <td class="codeLine">  SmallVector<BasicBlock *, 16> Worklist;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1454</td>
    <td class="codeLine">  SmallPtrSet<BasicBlock *, 16> BlocksInClonedLoop;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1454</td>
    <td class="codeLine">  SmallPtrSet<BasicBlock *, 16> BlocksInClonedLoop;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1455</td>
    <td class="codeLine">  for (auto *Pred : predecessors(ClonedHeader)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1455</td>
    <td class="codeLine">  for (auto *Pred : predecessors(ClonedHeader)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1456</td>
    <td class="codeLine">    // The only possible non-loop header predecessor is the preheader because</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1456</td>
    <td class="codeLine">    // The only possible non-loop header predecessor is the preheader because</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1457</td>
    <td class="codeLine">    // we know we cloned the loop in simplified form.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1457</td>
    <td class="codeLine">    // we know we cloned the loop in simplified form.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1458</td>
    <td class="codeLine">    if (Pred == ClonedPH)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1458</td>
    <td class="codeLine">    if (Pred == ClonedPH)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1459</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1459</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1460</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1460</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1461</td>
    <td class="codeLine">    // Because the loop was in simplified form, the only non-loop predecessor</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1461</td>
    <td class="codeLine">    // Because the loop was in simplified form, the only non-loop predecessor</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1462</td>
    <td class="codeLine">    // should be the preheader.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1462</td>
    <td class="codeLine">    // should be the preheader.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1463</td>
    <td class="codeLine">    assert(ClonedLoopBlocks.count(Pred) && "Found a predecessor of the loop "</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1463</td>
    <td class="codeLine">    assert(ClonedLoopBlocks.count(Pred) && "Found a predecessor of the loop "</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1464</td>
    <td class="codeLine">                                           "header other than the preheader "</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1464</td>
    <td class="codeLine">                                           "header other than the preheader "</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1465</td>
    <td class="codeLine">                                           "that is not part of the loop!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1465</td>
    <td class="codeLine">                                           "that is not part of the loop!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1466</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1466</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1467</td>
    <td class="codeLine">    // Insert this block into the loop set and on the first visit (and if it</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1467</td>
    <td class="codeLine">    // Insert this block into the loop set and on the first visit (and if it</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1468</td>
    <td class="codeLine">    // isn't the header we're currently walking) put it into the worklist to</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1468</td>
    <td class="codeLine">    // isn't the header we're currently walking) put it into the worklist to</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1469</td>
    <td class="codeLine">    // recurse through.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1469</td>
    <td class="codeLine">    // recurse through.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1470</td>
    <td class="codeLine">    if (BlocksInClonedLoop.insert(Pred).second && Pred != ClonedHeader)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1470</td>
    <td class="codeLine">    if (BlocksInClonedLoop.insert(Pred).second && Pred != ClonedHeader)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1471</td>
    <td class="codeLine">      Worklist.push_back(Pred);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1471</td>
    <td class="codeLine">      Worklist.push_back(Pred);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1472</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1472</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1473</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1473</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1474</td>
    <td class="codeLine">  // If we had any backedges then there *is* a cloned loop. Put the header into</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1474</td>
    <td class="codeLine">  // If we had any backedges then there *is* a cloned loop. Put the header into</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1475</td>
    <td class="codeLine">  // the loop set and then walk the worklist backwards to find all the blocks</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1475</td>
    <td class="codeLine">  // the loop set and then walk the worklist backwards to find all the blocks</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1476</td>
    <td class="codeLine">  // that remain within the loop after cloning.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1476</td>
    <td class="codeLine">  // that remain within the loop after cloning.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1477</td>
    <td class="codeLine">  if (!BlocksInClonedLoop.empty()) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1477</td>
    <td class="codeLine">  if (!BlocksInClonedLoop.empty()) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1478</td>
    <td class="codeLine">    BlocksInClonedLoop.insert(ClonedHeader);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1478</td>
    <td class="codeLine">    BlocksInClonedLoop.insert(ClonedHeader);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1479</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1479</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1480</td>
    <td class="codeLine">    while (!Worklist.empty()) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1480</td>
    <td class="codeLine">    while (!Worklist.empty()) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1481</td>
    <td class="codeLine">      BasicBlock *BB = Worklist.pop_back_val();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1481</td>
    <td class="codeLine">      BasicBlock *BB = Worklist.pop_back_val();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1482</td>
    <td class="codeLine">      assert(BlocksInClonedLoop.count(BB) &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1482</td>
    <td class="codeLine">      assert(BlocksInClonedLoop.count(BB) &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1483</td>
    <td class="codeLine">             "Didn't put block into the loop set!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1483</td>
    <td class="codeLine">             "Didn't put block into the loop set!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1484</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1484</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1485</td>
    <td class="codeLine">      // Insert any predecessors that are in the possible set into the cloned</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1485</td>
    <td class="codeLine">      // Insert any predecessors that are in the possible set into the cloned</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1486</td>
    <td class="codeLine">      // set, and if the insert is successful, add them to the worklist. Note</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1486</td>
    <td class="codeLine">      // set, and if the insert is successful, add them to the worklist. Note</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1487</td>
    <td class="codeLine">      // that we filter on the blocks that are definitely reachable via the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1487</td>
    <td class="codeLine">      // that we filter on the blocks that are definitely reachable via the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1488</td>
    <td class="codeLine">      // backedge to the loop header so we may prune out dead code within the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1488</td>
    <td class="codeLine">      // backedge to the loop header so we may prune out dead code within the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1489</td>
    <td class="codeLine">      // cloned loop.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1489</td>
    <td class="codeLine">      // cloned loop.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1490</td>
    <td class="codeLine">      for (auto *Pred : predecessors(BB))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1490</td>
    <td class="codeLine">      for (auto *Pred : predecessors(BB))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1491</td>
    <td class="codeLine">        if (ClonedLoopBlocks.count(Pred) &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1491</td>
    <td class="codeLine">        if (ClonedLoopBlocks.count(Pred) &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1492</td>
    <td class="codeLine">            BlocksInClonedLoop.insert(Pred).second)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1492</td>
    <td class="codeLine">            BlocksInClonedLoop.insert(Pred).second)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1493</td>
    <td class="codeLine">          Worklist.push_back(Pred);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1493</td>
    <td class="codeLine">          Worklist.push_back(Pred);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1494</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1494</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1495</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1495</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1496</td>
    <td class="codeLine">    ClonedL = LI.AllocateLoop();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1496</td>
    <td class="codeLine">    ClonedL = LI.AllocateLoop();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1497</td>
    <td class="codeLine">    if (ParentL) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1497</td>
    <td class="codeLine">    if (ParentL) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1498</td>
    <td class="codeLine">      ParentL->addBasicBlockToLoop(ClonedPH, LI);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1498</td>
    <td class="codeLine">      ParentL->addBasicBlockToLoop(ClonedPH, LI);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1499</td>
    <td class="codeLine">      ParentL->addChildLoop(ClonedL);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1499</td>
    <td class="codeLine">      ParentL->addChildLoop(ClonedL);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1500</td>
    <td class="codeLine">    } else {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1500</td>
    <td class="codeLine">    } else {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1501</td>
    <td class="codeLine">      LI.addTopLevelLoop(ClonedL);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1501</td>
    <td class="codeLine">      LI.addTopLevelLoop(ClonedL);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1502</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1502</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1503</td>
    <td class="codeLine">    NonChildClonedLoops.push_back(ClonedL);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1503</td>
    <td class="codeLine">    NonChildClonedLoops.push_back(ClonedL);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1504</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1504</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1505</td>
    <td class="codeLine">    ClonedL->reserveBlocks(BlocksInClonedLoop.size());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1505</td>
    <td class="codeLine">    ClonedL->reserveBlocks(BlocksInClonedLoop.size());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1506</td>
    <td class="codeLine">    // We don't want to just add the cloned loop blocks based on how we</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1506</td>
    <td class="codeLine">    // We don't want to just add the cloned loop blocks based on how we</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1507</td>
    <td class="codeLine">    // discovered them. The original order of blocks was carefully built in</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1507</td>
    <td class="codeLine">    // discovered them. The original order of blocks was carefully built in</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1508</td>
    <td class="codeLine">    // a way that doesn't rely on predecessor ordering. Rather than re-invent</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1508</td>
    <td class="codeLine">    // a way that doesn't rely on predecessor ordering. Rather than re-invent</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1509</td>
    <td class="codeLine">    // that logic, we just re-walk the original blocks (and those of the child</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1509</td>
    <td class="codeLine">    // that logic, we just re-walk the original blocks (and those of the child</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1510</td>
    <td class="codeLine">    // loops) and filter them as we add them into the cloned loop.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1510</td>
    <td class="codeLine">    // loops) and filter them as we add them into the cloned loop.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1511</td>
    <td class="codeLine">    for (auto *BB : OrigL.blocks()) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1511</td>
    <td class="codeLine">    for (auto *BB : OrigL.blocks()) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1512</td>
    <td class="codeLine">      auto *ClonedBB = cast_or_null<BasicBlock>(VMap.lookup(BB));</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1512</td>
    <td class="codeLine">      auto *ClonedBB = cast_or_null<BasicBlock>(VMap.lookup(BB));</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1513</td>
    <td class="codeLine">      if (!ClonedBB || !BlocksInClonedLoop.count(ClonedBB))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1513</td>
    <td class="codeLine">      if (!ClonedBB || !BlocksInClonedLoop.count(ClonedBB))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1514</td>
    <td class="codeLine">        continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1514</td>
    <td class="codeLine">        continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1515</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1515</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1516</td>
    <td class="codeLine">      // Directly add the blocks that are only in this loop.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1516</td>
    <td class="codeLine">      // Directly add the blocks that are only in this loop.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1517</td>
    <td class="codeLine">      if (LI.getLoopFor(BB) == &OrigL) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1517</td>
    <td class="codeLine">      if (LI.getLoopFor(BB) == &OrigL) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1518</td>
    <td class="codeLine">        ClonedL->addBasicBlockToLoop(ClonedBB, LI);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1518</td>
    <td class="codeLine">        ClonedL->addBasicBlockToLoop(ClonedBB, LI);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1519</td>
    <td class="codeLine">        continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1519</td>
    <td class="codeLine">        continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1520</td>
    <td class="codeLine">      }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1520</td>
    <td class="codeLine">      }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1521</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1521</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1522</td>
    <td class="codeLine">      // We want to manually add it to this loop and parents.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1522</td>
    <td class="codeLine">      // We want to manually add it to this loop and parents.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1523</td>
    <td class="codeLine">      // Registering it with LoopInfo will happen when we clone the top</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1523</td>
    <td class="codeLine">      // Registering it with LoopInfo will happen when we clone the top</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1524</td>
    <td class="codeLine">      // loop for this block.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1524</td>
    <td class="codeLine">      // loop for this block.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1525</td>
    <td class="codeLine">      for (Loop *PL = ClonedL; PL; PL = PL->getParentLoop())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1525</td>
    <td class="codeLine">      for (Loop *PL = ClonedL; PL; PL = PL->getParentLoop())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1526</td>
    <td class="codeLine">        PL->addBlockEntry(ClonedBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1526</td>
    <td class="codeLine">        PL->addBlockEntry(ClonedBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1527</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1527</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1528</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1528</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1529</td>
    <td class="codeLine">    // Now add each child loop whose header remains within the cloned loop. All</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1529</td>
    <td class="codeLine">    // Now add each child loop whose header remains within the cloned loop. All</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1530</td>
    <td class="codeLine">    // of the blocks within the loop must satisfy the same constraints as the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1530</td>
    <td class="codeLine">    // of the blocks within the loop must satisfy the same constraints as the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1531</td>
    <td class="codeLine">    // header so once we pass the header checks we can just clone the entire</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1531</td>
    <td class="codeLine">    // header so once we pass the header checks we can just clone the entire</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1532</td>
    <td class="codeLine">    // child loop nest.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1532</td>
    <td class="codeLine">    // child loop nest.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1533</td>
    <td class="codeLine">    for (Loop *ChildL : OrigL) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1533</td>
    <td class="codeLine">    for (Loop *ChildL : OrigL) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1534</td>
    <td class="codeLine">      auto *ClonedChildHeader =</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1534</td>
    <td class="codeLine">      auto *ClonedChildHeader =</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1535</td>
    <td class="codeLine">          cast_or_null<BasicBlock>(VMap.lookup(ChildL->getHeader()));</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1535</td>
    <td class="codeLine">          cast_or_null<BasicBlock>(VMap.lookup(ChildL->getHeader()));</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1536</td>
    <td class="codeLine">      if (!ClonedChildHeader || !BlocksInClonedLoop.count(ClonedChildHeader))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1536</td>
    <td class="codeLine">      if (!ClonedChildHeader || !BlocksInClonedLoop.count(ClonedChildHeader))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1537</td>
    <td class="codeLine">        continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1537</td>
    <td class="codeLine">        continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1538</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1538</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1539</td>
    <td class="codeLine">#ifndef NDEBUG</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1539</td>
    <td class="codeLine">#ifndef NDEBUG</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1540</td>
    <td class="codeLine">      // We should never have a cloned child loop header but fail to have</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1540</td>
    <td class="codeLine">      // We should never have a cloned child loop header but fail to have</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1541</td>
    <td class="codeLine">      // all of the blocks for that child loop.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1541</td>
    <td class="codeLine">      // all of the blocks for that child loop.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1542</td>
    <td class="codeLine">      for (auto *ChildLoopBB : ChildL->blocks())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1542</td>
    <td class="codeLine">      for (auto *ChildLoopBB : ChildL->blocks())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1543</td>
    <td class="codeLine">        assert(BlocksInClonedLoop.count(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1543</td>
    <td class="codeLine">        assert(BlocksInClonedLoop.count(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1544</td>
    <td class="codeLine">                   cast<BasicBlock>(VMap.lookup(ChildLoopBB))) &&</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1544</td>
    <td class="codeLine">                   cast<BasicBlock>(VMap.lookup(ChildLoopBB))) &&</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1545</td>
    <td class="codeLine">               "Child cloned loop has a header within the cloned outer "</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1545</td>
    <td class="codeLine">               "Child cloned loop has a header within the cloned outer "</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1546</td>
    <td class="codeLine">               "loop but not all of its blocks!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1546</td>
    <td class="codeLine">               "loop but not all of its blocks!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1547</td>
    <td class="codeLine">#endif</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1547</td>
    <td class="codeLine">#endif</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1548</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1548</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1549</td>
    <td class="codeLine">      cloneLoopNest(*ChildL, ClonedL, VMap, LI);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1549</td>
    <td class="codeLine">      cloneLoopNest(*ChildL, ClonedL, VMap, LI);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1550</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1550</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1551</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1551</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1552</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1552</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1553</td>
    <td class="codeLine">  // Now that we've handled all the components of the original loop that were</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1553</td>
    <td class="codeLine">  // Now that we've handled all the components of the original loop that were</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1554</td>
    <td class="codeLine">  // cloned into a new loop, we still need to handle anything from the original</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1554</td>
    <td class="codeLine">  // cloned into a new loop, we still need to handle anything from the original</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1555</td>
    <td class="codeLine">  // loop that wasn't in a cloned loop.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1555</td>
    <td class="codeLine">  // loop that wasn't in a cloned loop.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1556</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1556</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1557</td>
    <td class="codeLine">  // Figure out what blocks are left to place within any loop nest containing</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1557</td>
    <td class="codeLine">  // Figure out what blocks are left to place within any loop nest containing</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1558</td>
    <td class="codeLine">  // the unswitched loop. If we never formed a loop, the cloned PH is one of</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1558</td>
    <td class="codeLine">  // the unswitched loop. If we never formed a loop, the cloned PH is one of</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1559</td>
    <td class="codeLine">  // them.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1559</td>
    <td class="codeLine">  // them.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1560</td>
    <td class="codeLine">  SmallPtrSet<BasicBlock *, 16> UnloopedBlockSet;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1560</td>
    <td class="codeLine">  SmallPtrSet<BasicBlock *, 16> UnloopedBlockSet;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1561</td>
    <td class="codeLine">  if (BlocksInClonedLoop.empty())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1561</td>
    <td class="codeLine">  if (BlocksInClonedLoop.empty())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1562</td>
    <td class="codeLine">    UnloopedBlockSet.insert(ClonedPH);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1562</td>
    <td class="codeLine">    UnloopedBlockSet.insert(ClonedPH);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1563</td>
    <td class="codeLine">  for (auto *ClonedBB : ClonedLoopBlocks)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1563</td>
    <td class="codeLine">  for (auto *ClonedBB : ClonedLoopBlocks)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1564</td>
    <td class="codeLine">    if (!BlocksInClonedLoop.count(ClonedBB))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1564</td>
    <td class="codeLine">    if (!BlocksInClonedLoop.count(ClonedBB))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1565</td>
    <td class="codeLine">      UnloopedBlockSet.insert(ClonedBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1565</td>
    <td class="codeLine">      UnloopedBlockSet.insert(ClonedBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1566</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1566</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1567</td>
    <td class="codeLine">  // Copy the cloned exits and sort them in ascending loop depth, we'll work</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1567</td>
    <td class="codeLine">  // Copy the cloned exits and sort them in ascending loop depth, we'll work</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1568</td>
    <td class="codeLine">  // backwards across these to process them inside out. The order shouldn't</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1568</td>
    <td class="codeLine">  // backwards across these to process them inside out. The order shouldn't</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1569</td>
    <td class="codeLine">  // matter as we're just trying to build up the map from inside-out; we use</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1569</td>
    <td class="codeLine">  // matter as we're just trying to build up the map from inside-out; we use</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1570</td>
    <td class="codeLine">  // the map in a more stably ordered way below.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1570</td>
    <td class="codeLine">  // the map in a more stably ordered way below.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1571</td>
    <td class="codeLine">  auto OrderedClonedExitsInLoops = ClonedExitsInLoops;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1571</td>
    <td class="codeLine">  auto OrderedClonedExitsInLoops = ClonedExitsInLoops;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1572</td>
    <td class="codeLine">  llvm::sort(OrderedClonedExitsInLoops, [&](BasicBlock *LHS, BasicBlock *RHS) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1572</td>
    <td class="codeLine">  llvm::sort(OrderedClonedExitsInLoops, [&](BasicBlock *LHS, BasicBlock *RHS) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1573</td>
    <td class="codeLine">    return ExitLoopMap.lookup(LHS)->getLoopDepth() <</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1573</td>
    <td class="codeLine">    return ExitLoopMap.lookup(LHS)->getLoopDepth() <</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1574</td>
    <td class="codeLine">           ExitLoopMap.lookup(RHS)->getLoopDepth();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1574</td>
    <td class="codeLine">           ExitLoopMap.lookup(RHS)->getLoopDepth();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1575</td>
    <td class="codeLine">  });</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1575</td>
    <td class="codeLine">  });</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1576</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1576</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1577</td>
    <td class="codeLine">  // Populate the existing ExitLoopMap with everything reachable from each</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1577</td>
    <td class="codeLine">  // Populate the existing ExitLoopMap with everything reachable from each</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1578</td>
    <td class="codeLine">  // exit, starting from the inner most exit.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1578</td>
    <td class="codeLine">  // exit, starting from the inner most exit.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1579</td>
    <td class="codeLine">  while (!UnloopedBlockSet.empty() && !OrderedClonedExitsInLoops.empty()) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1579</td>
    <td class="codeLine">  while (!UnloopedBlockSet.empty() && !OrderedClonedExitsInLoops.empty()) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1580</td>
    <td class="codeLine">    assert(Worklist.empty() && "Didn't clear worklist!");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1580</td>
    <td class="codeLine">    assert(Worklist.empty() && "Didn't clear worklist!");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1581</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1581</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1582</td>
    <td class="codeLine">    BasicBlock *ExitBB = OrderedClonedExitsInLoops.pop_back_val();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1582</td>
    <td class="codeLine">    BasicBlock *ExitBB = OrderedClonedExitsInLoops.pop_back_val();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1583</td>
    <td class="codeLine">    Loop *ExitL = ExitLoopMap.lookup(ExitBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1583</td>
    <td class="codeLine">    Loop *ExitL = ExitLoopMap.lookup(ExitBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1584</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1584</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1585</td>
    <td class="codeLine">    // Walk the CFG back until we hit the cloned PH adding everything reachable</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1585</td>
    <td class="codeLine">    // Walk the CFG back until we hit the cloned PH adding everything reachable</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1586</td>
    <td class="codeLine">    // and in the unlooped set to this exit block's loop.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1586</td>
    <td class="codeLine">    // and in the unlooped set to this exit block's loop.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1587</td>
    <td class="codeLine">    Worklist.push_back(ExitBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1587</td>
    <td class="codeLine">    Worklist.push_back(ExitBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1588</td>
    <td class="codeLine">    do {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1588</td>
    <td class="codeLine">    do {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1589</td>
    <td class="codeLine">      BasicBlock *BB = Worklist.pop_back_val();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1589</td>
    <td class="codeLine">      BasicBlock *BB = Worklist.pop_back_val();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1590</td>
    <td class="codeLine">      // We can stop recursing at the cloned preheader (if we get there).</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1590</td>
    <td class="codeLine">      // We can stop recursing at the cloned preheader (if we get there).</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1591</td>
    <td class="codeLine">      if (BB == ClonedPH)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1591</td>
    <td class="codeLine">      if (BB == ClonedPH)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1592</td>
    <td class="codeLine">        continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1592</td>
    <td class="codeLine">        continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1593</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1593</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1594</td>
    <td class="codeLine">      for (BasicBlock *PredBB : predecessors(BB)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1594</td>
    <td class="codeLine">      for (BasicBlock *PredBB : predecessors(BB)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1595</td>
    <td class="codeLine">        // If this pred has already been moved to our set or is part of some</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1595</td>
    <td class="codeLine">        // If this pred has already been moved to our set or is part of some</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1596</td>
    <td class="codeLine">        // (inner) loop, no update needed.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1596</td>
    <td class="codeLine">        // (inner) loop, no update needed.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1597</td>
    <td class="codeLine">        if (!UnloopedBlockSet.erase(PredBB)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1597</td>
    <td class="codeLine">        if (!UnloopedBlockSet.erase(PredBB)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1598</td>
    <td class="codeLine">          assert(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1598</td>
    <td class="codeLine">          assert(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1599</td>
    <td class="codeLine">              (BlocksInClonedLoop.count(PredBB) || ExitLoopMap.count(PredBB)) &&</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1599</td>
    <td class="codeLine">              (BlocksInClonedLoop.count(PredBB) || ExitLoopMap.count(PredBB)) &&</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1600</td>
    <td class="codeLine">              "Predecessor not mapped to a loop!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1600</td>
    <td class="codeLine">              "Predecessor not mapped to a loop!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1601</td>
    <td class="codeLine">          continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1601</td>
    <td class="codeLine">          continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1602</td>
    <td class="codeLine">        }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1602</td>
    <td class="codeLine">        }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1603</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1603</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1604</td>
    <td class="codeLine">        // We just insert into the loop set here. We'll add these blocks to the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1604</td>
    <td class="codeLine">        // We just insert into the loop set here. We'll add these blocks to the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1605</td>
    <td class="codeLine">        // exit loop after we build up the set in an order that doesn't rely on</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1605</td>
    <td class="codeLine">        // exit loop after we build up the set in an order that doesn't rely on</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1606</td>
    <td class="codeLine">        // predecessor order (which in turn relies on use list order).</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1606</td>
    <td class="codeLine">        // predecessor order (which in turn relies on use list order).</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1607</td>
    <td class="codeLine">        bool Inserted = ExitLoopMap.insert({PredBB, ExitL}).second;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1607</td>
    <td class="codeLine">        bool Inserted = ExitLoopMap.insert({PredBB, ExitL}).second;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1608</td>
    <td class="codeLine">        (void)Inserted;</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1608</td>
    <td class="codeLine">        (void)Inserted;</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1609</td>
    <td class="codeLine">        assert(Inserted && "Should only visit an unlooped block once!");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1609</td>
    <td class="codeLine">        assert(Inserted && "Should only visit an unlooped block once!");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1610</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1610</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1611</td>
    <td class="codeLine">        // And recurse through to its predecessors.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1611</td>
    <td class="codeLine">        // And recurse through to its predecessors.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1612</td>
    <td class="codeLine">        Worklist.push_back(PredBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1612</td>
    <td class="codeLine">        Worklist.push_back(PredBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1613</td>
    <td class="codeLine">      }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1613</td>
    <td class="codeLine">      }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1614</td>
    <td class="codeLine">    } while (!Worklist.empty());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1614</td>
    <td class="codeLine">    } while (!Worklist.empty());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1615</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1615</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1616</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1616</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1617</td>
    <td class="codeLine">  // Now that the ExitLoopMap gives as  mapping for all the non-looping cloned</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1617</td>
    <td class="codeLine">  // Now that the ExitLoopMap gives as  mapping for all the non-looping cloned</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1618</td>
    <td class="codeLine">  // blocks to their outer loops, walk the cloned blocks and the cloned exits</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1618</td>
    <td class="codeLine">  // blocks to their outer loops, walk the cloned blocks and the cloned exits</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1619</td>
    <td class="codeLine">  // in their original order adding them to the correct loop.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1619</td>
    <td class="codeLine">  // in their original order adding them to the correct loop.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1620</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1620</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1621</td>
    <td class="codeLine">  // We need a stable insertion order. We use the order of the original loop</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1621</td>
    <td class="codeLine">  // We need a stable insertion order. We use the order of the original loop</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1622</td>
    <td class="codeLine">  // order and map into the correct parent loop.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1622</td>
    <td class="codeLine">  // order and map into the correct parent loop.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1623</td>
    <td class="codeLine">  for (auto *BB : llvm::concat<BasicBlock *const>(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1623</td>
    <td class="codeLine">  for (auto *BB : llvm::concat<BasicBlock *const>(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1624</td>
    <td class="codeLine">           ArrayRef(ClonedPH), ClonedLoopBlocks, ClonedExitsInLoops))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1624</td>
    <td class="codeLine">           ArrayRef(ClonedPH), ClonedLoopBlocks, ClonedExitsInLoops))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1625</td>
    <td class="codeLine">    if (Loop *OuterL = ExitLoopMap.lookup(BB))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1625</td>
    <td class="codeLine">    if (Loop *OuterL = ExitLoopMap.lookup(BB))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1626</td>
    <td class="codeLine">      OuterL->addBasicBlockToLoop(BB, LI);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1626</td>
    <td class="codeLine">      OuterL->addBasicBlockToLoop(BB, LI);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1627</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1627</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1628</td>
    <td class="codeLine">#ifndef NDEBUG</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1628</td>
    <td class="codeLine">#ifndef NDEBUG</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1629</td>
    <td class="codeLine">  for (auto &BBAndL : ExitLoopMap) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1629</td>
    <td class="codeLine">  for (auto &BBAndL : ExitLoopMap) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1630</td>
    <td class="codeLine">    auto *BB = BBAndL.first;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1630</td>
    <td class="codeLine">    auto *BB = BBAndL.first;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1631</td>
    <td class="codeLine">    auto *OuterL = BBAndL.second;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1631</td>
    <td class="codeLine">    auto *OuterL = BBAndL.second;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1632</td>
    <td class="codeLine">    assert(LI.getLoopFor(BB) == OuterL &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1632</td>
    <td class="codeLine">    assert(LI.getLoopFor(BB) == OuterL &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1633</td>
    <td class="codeLine">           "Failed to put all blocks into outer loops!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1633</td>
    <td class="codeLine">           "Failed to put all blocks into outer loops!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1634</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1634</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1635</td>
    <td class="codeLine">#endif</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1635</td>
    <td class="codeLine">#endif</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1636</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1636</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1637</td>
    <td class="codeLine">  // Now that all the blocks are placed into the correct containing loop in the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1637</td>
    <td class="codeLine">  // Now that all the blocks are placed into the correct containing loop in the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1638</td>
    <td class="codeLine">  // absence of child loops, find all the potentially cloned child loops and</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1638</td>
    <td class="codeLine">  // absence of child loops, find all the potentially cloned child loops and</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1639</td>
    <td class="codeLine">  // clone them into whatever outer loop we placed their header into.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1639</td>
    <td class="codeLine">  // clone them into whatever outer loop we placed their header into.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1640</td>
    <td class="codeLine">  for (Loop *ChildL : OrigL) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1640</td>
    <td class="codeLine">  for (Loop *ChildL : OrigL) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1641</td>
    <td class="codeLine">    auto *ClonedChildHeader =</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1641</td>
    <td class="codeLine">    auto *ClonedChildHeader =</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1642</td>
    <td class="codeLine">        cast_or_null<BasicBlock>(VMap.lookup(ChildL->getHeader()));</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1642</td>
    <td class="codeLine">        cast_or_null<BasicBlock>(VMap.lookup(ChildL->getHeader()));</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1643</td>
    <td class="codeLine">    if (!ClonedChildHeader || BlocksInClonedLoop.count(ClonedChildHeader))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1643</td>
    <td class="codeLine">    if (!ClonedChildHeader || BlocksInClonedLoop.count(ClonedChildHeader))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1644</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1644</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1645</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1645</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1646</td>
    <td class="codeLine">#ifndef NDEBUG</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1646</td>
    <td class="codeLine">#ifndef NDEBUG</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1647</td>
    <td class="codeLine">    for (auto *ChildLoopBB : ChildL->blocks())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1647</td>
    <td class="codeLine">    for (auto *ChildLoopBB : ChildL->blocks())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1648</td>
    <td class="codeLine">      assert(VMap.count(ChildLoopBB) &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1648</td>
    <td class="codeLine">      assert(VMap.count(ChildLoopBB) &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1649</td>
    <td class="codeLine">             "Cloned a child loop header but not all of that loops blocks!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1649</td>
    <td class="codeLine">             "Cloned a child loop header but not all of that loops blocks!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1650</td>
    <td class="codeLine">#endif</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1650</td>
    <td class="codeLine">#endif</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1651</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1651</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1652</td>
    <td class="codeLine">    NonChildClonedLoops.push_back(cloneLoopNest(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1652</td>
    <td class="codeLine">    NonChildClonedLoops.push_back(cloneLoopNest(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1653</td>
    <td class="codeLine">        *ChildL, ExitLoopMap.lookup(ClonedChildHeader), VMap, LI));</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1653</td>
    <td class="codeLine">        *ChildL, ExitLoopMap.lookup(ClonedChildHeader), VMap, LI));</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1654</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1654</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1655</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1655</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1656</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1656</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1657</td>
    <td class="codeLine">static void</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1657</td>
    <td class="codeLine">static void</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1658</td>
    <td class="codeLine">deleteDeadClonedBlocks(Loop &L, ArrayRef<BasicBlock *> ExitBlocks,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1658</td>
    <td class="codeLine">deleteDeadClonedBlocks(Loop &L, ArrayRef<BasicBlock *> ExitBlocks,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1659</td>
    <td class="codeLine">                       ArrayRef<std::unique_ptr<ValueToValueMapTy>> VMaps,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1659</td>
    <td class="codeLine">                       ArrayRef<std::unique_ptr<ValueToValueMapTy>> VMaps,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1660</td>
    <td class="codeLine">                       DominatorTree &DT, MemorySSAUpdater *MSSAU) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1660</td>
    <td class="codeLine">                       DominatorTree &DT, MemorySSAUpdater *MSSAU) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1661</td>
    <td class="codeLine">  // Find all the dead clones, and remove them from their successors.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1661</td>
    <td class="codeLine">  // Find all the dead clones, and remove them from their successors.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1662</td>
    <td class="codeLine">  SmallVector<BasicBlock *, 16> DeadBlocks;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1662</td>
    <td class="codeLine">  SmallVector<BasicBlock *, 16> DeadBlocks;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1663</td>
    <td class="codeLine">  for (BasicBlock *BB : llvm::concat<BasicBlock *const>(L.blocks(), ExitBlocks))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1663</td>
    <td class="codeLine">  for (BasicBlock *BB : llvm::concat<BasicBlock *const>(L.blocks(), ExitBlocks))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1664</td>
    <td class="codeLine">    for (const auto &VMap : VMaps)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1664</td>
    <td class="codeLine">    for (const auto &VMap : VMaps)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1665</td>
    <td class="codeLine">      if (BasicBlock *ClonedBB = cast_or_null<BasicBlock>(VMap->lookup(BB)))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1665</td>
    <td class="codeLine">      if (BasicBlock *ClonedBB = cast_or_null<BasicBlock>(VMap->lookup(BB)))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1666</td>
    <td class="codeLine">        if (!DT.isReachableFromEntry(ClonedBB)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1666</td>
    <td class="codeLine">        if (!DT.isReachableFromEntry(ClonedBB)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1667</td>
    <td class="codeLine">          for (BasicBlock *SuccBB : successors(ClonedBB))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1667</td>
    <td class="codeLine">          for (BasicBlock *SuccBB : successors(ClonedBB))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1668</td>
    <td class="codeLine">            SuccBB->removePredecessor(ClonedBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1668</td>
    <td class="codeLine">            SuccBB->removePredecessor(ClonedBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1669</td>
    <td class="codeLine">          DeadBlocks.push_back(ClonedBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1669</td>
    <td class="codeLine">          DeadBlocks.push_back(ClonedBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1670</td>
    <td class="codeLine">        }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1670</td>
    <td class="codeLine">        }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1671</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1671</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1672</td>
    <td class="codeLine">  // Remove all MemorySSA in the dead blocks</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1672</td>
    <td class="codeLine">  // Remove all MemorySSA in the dead blocks</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1673</td>
    <td class="codeLine">  if (MSSAU) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1673</td>
    <td class="codeLine">  if (MSSAU) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1674</td>
    <td class="codeLine">    SmallSetVector<BasicBlock *, 8> DeadBlockSet(DeadBlocks.begin(),</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1674</td>
    <td class="codeLine">    SmallSetVector<BasicBlock *, 8> DeadBlockSet(DeadBlocks.begin(),</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1675</td>
    <td class="codeLine">                                                 DeadBlocks.end());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1675</td>
    <td class="codeLine">                                                 DeadBlocks.end());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1676</td>
    <td class="codeLine">    MSSAU->removeBlocks(DeadBlockSet);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1676</td>
    <td class="codeLine">    MSSAU->removeBlocks(DeadBlockSet);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1677</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1677</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1678</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1678</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1679</td>
    <td class="codeLine">  // Drop any remaining references to break cycles.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1679</td>
    <td class="codeLine">  // Drop any remaining references to break cycles.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1680</td>
    <td class="codeLine">  for (BasicBlock *BB : DeadBlocks)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1680</td>
    <td class="codeLine">  for (BasicBlock *BB : DeadBlocks)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1681</td>
    <td class="codeLine">    BB->dropAllReferences();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1681</td>
    <td class="codeLine">    BB->dropAllReferences();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1682</td>
    <td class="codeLine">  // Erase them from the IR.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1682</td>
    <td class="codeLine">  // Erase them from the IR.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1683</td>
    <td class="codeLine">  for (BasicBlock *BB : DeadBlocks)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1683</td>
    <td class="codeLine">  for (BasicBlock *BB : DeadBlocks)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1684</td>
    <td class="codeLine">    BB->eraseFromParent();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1684</td>
    <td class="codeLine">    BB->eraseFromParent();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1685</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1685</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1686</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1686</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1687</td>
    <td class="codeLine">static void</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1687</td>
    <td class="codeLine">static void</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1688</td>
    <td class="codeLine">deleteDeadBlocksFromLoop(Loop &L,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1688</td>
    <td class="codeLine">deleteDeadBlocksFromLoop(Loop &L,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1689</td>
    <td class="codeLine">                         SmallVectorImpl<BasicBlock *> &ExitBlocks,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1689</td>
    <td class="codeLine">                         SmallVectorImpl<BasicBlock *> &ExitBlocks,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1690</td>
    <td class="codeLine">                         DominatorTree &DT, LoopInfo &LI,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1690</td>
    <td class="codeLine">                         DominatorTree &DT, LoopInfo &LI,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1691</td>
    <td class="codeLine">                         MemorySSAUpdater *MSSAU,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1691</td>
    <td class="codeLine">                         MemorySSAUpdater *MSSAU,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1692</td>
    <td class="codeLine">                         ScalarEvolution *SE,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1692</td>
    <td class="codeLine">                         ScalarEvolution *SE,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1693</td>
    <td class="codeLine">                         function_ref<void(Loop &, StringRef)> DestroyLoopCB) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1693</td>
    <td class="codeLine">                         function_ref<void(Loop &, StringRef)> DestroyLoopCB) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1694</td>
    <td class="codeLine">  // Find all the dead blocks tied to this loop, and remove them from their</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1694</td>
    <td class="codeLine">  // Find all the dead blocks tied to this loop, and remove them from their</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1695</td>
    <td class="codeLine">  // successors.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1695</td>
    <td class="codeLine">  // successors.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1696</td>
    <td class="codeLine">  SmallSetVector<BasicBlock *, 8> DeadBlockSet;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1696</td>
    <td class="codeLine">  SmallSetVector<BasicBlock *, 8> DeadBlockSet;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1697</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1697</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1698</td>
    <td class="codeLine">  // Start with loop/exit blocks and get a transitive closure of reachable dead</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1698</td>
    <td class="codeLine">  // Start with loop/exit blocks and get a transitive closure of reachable dead</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1699</td>
    <td class="codeLine">  // blocks.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1699</td>
    <td class="codeLine">  // blocks.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1700</td>
    <td class="codeLine">  SmallVector<BasicBlock *, 16> DeathCandidates(ExitBlocks.begin(),</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1700</td>
    <td class="codeLine">  SmallVector<BasicBlock *, 16> DeathCandidates(ExitBlocks.begin(),</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1701</td>
    <td class="codeLine">                                                ExitBlocks.end());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1701</td>
    <td class="codeLine">                                                ExitBlocks.end());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1702</td>
    <td class="codeLine">  DeathCandidates.append(L.blocks().begin(), L.blocks().end());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1702</td>
    <td class="codeLine">  DeathCandidates.append(L.blocks().begin(), L.blocks().end());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1703</td>
    <td class="codeLine">  while (!DeathCandidates.empty()) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1703</td>
    <td class="codeLine">  while (!DeathCandidates.empty()) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1704</td>
    <td class="codeLine">    auto *BB = DeathCandidates.pop_back_val();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1704</td>
    <td class="codeLine">    auto *BB = DeathCandidates.pop_back_val();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1705</td>
    <td class="codeLine">    if (!DeadBlockSet.count(BB) && !DT.isReachableFromEntry(BB)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1705</td>
    <td class="codeLine">    if (!DeadBlockSet.count(BB) && !DT.isReachableFromEntry(BB)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1706</td>
    <td class="codeLine">      for (BasicBlock *SuccBB : successors(BB)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1706</td>
    <td class="codeLine">      for (BasicBlock *SuccBB : successors(BB)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1707</td>
    <td class="codeLine">        SuccBB->removePredecessor(BB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1707</td>
    <td class="codeLine">        SuccBB->removePredecessor(BB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1708</td>
    <td class="codeLine">        DeathCandidates.push_back(SuccBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1708</td>
    <td class="codeLine">        DeathCandidates.push_back(SuccBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1709</td>
    <td class="codeLine">      }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1709</td>
    <td class="codeLine">      }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1710</td>
    <td class="codeLine">      DeadBlockSet.insert(BB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1710</td>
    <td class="codeLine">      DeadBlockSet.insert(BB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1711</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1711</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1712</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1712</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1713</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1713</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1714</td>
    <td class="codeLine">  // Remove all MemorySSA in the dead blocks</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1714</td>
    <td class="codeLine">  // Remove all MemorySSA in the dead blocks</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1715</td>
    <td class="codeLine">  if (MSSAU)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1715</td>
    <td class="codeLine">  if (MSSAU)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1716</td>
    <td class="codeLine">    MSSAU->removeBlocks(DeadBlockSet);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1716</td>
    <td class="codeLine">    MSSAU->removeBlocks(DeadBlockSet);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1717</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1717</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1718</td>
    <td class="codeLine">  // Filter out the dead blocks from the exit blocks list so that it can be</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1718</td>
    <td class="codeLine">  // Filter out the dead blocks from the exit blocks list so that it can be</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1719</td>
    <td class="codeLine">  // used in the caller.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1719</td>
    <td class="codeLine">  // used in the caller.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1720</td>
    <td class="codeLine">  llvm::erase_if(ExitBlocks,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1720</td>
    <td class="codeLine">  llvm::erase_if(ExitBlocks,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1721</td>
    <td class="codeLine">                 [&](BasicBlock *BB) { return DeadBlockSet.count(BB); });</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1721</td>
    <td class="codeLine">                 [&](BasicBlock *BB) { return DeadBlockSet.count(BB); });</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1722</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1722</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1723</td>
    <td class="codeLine">  // Walk from this loop up through its parents removing all of the dead blocks.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1723</td>
    <td class="codeLine">  // Walk from this loop up through its parents removing all of the dead blocks.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1724</td>
    <td class="codeLine">  for (Loop *ParentL = &L; ParentL; ParentL = ParentL->getParentLoop()) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1724</td>
    <td class="codeLine">  for (Loop *ParentL = &L; ParentL; ParentL = ParentL->getParentLoop()) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1725</td>
    <td class="codeLine">    for (auto *BB : DeadBlockSet)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1725</td>
    <td class="codeLine">    for (auto *BB : DeadBlockSet)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1726</td>
    <td class="codeLine">      ParentL->getBlocksSet().erase(BB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1726</td>
    <td class="codeLine">      ParentL->getBlocksSet().erase(BB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1727</td>
    <td class="codeLine">    llvm::erase_if(ParentL->getBlocksVector(),</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1727</td>
    <td class="codeLine">    llvm::erase_if(ParentL->getBlocksVector(),</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1728</td>
    <td class="codeLine">                   [&](BasicBlock *BB) { return DeadBlockSet.count(BB); });</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1728</td>
    <td class="codeLine">                   [&](BasicBlock *BB) { return DeadBlockSet.count(BB); });</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1729</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1729</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1730</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1730</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1731</td>
    <td class="codeLine">  // Now delete the dead child loops. This raw delete will clear them</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1731</td>
    <td class="codeLine">  // Now delete the dead child loops. This raw delete will clear them</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1732</td>
    <td class="codeLine">  // recursively.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1732</td>
    <td class="codeLine">  // recursively.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1733</td>
    <td class="codeLine">  llvm::erase_if(L.getSubLoopsVector(), [&](Loop *ChildL) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1733</td>
    <td class="codeLine">  llvm::erase_if(L.getSubLoopsVector(), [&](Loop *ChildL) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1734</td>
    <td class="codeLine">    if (!DeadBlockSet.count(ChildL->getHeader()))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1734</td>
    <td class="codeLine">    if (!DeadBlockSet.count(ChildL->getHeader()))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1735</td>
    <td class="codeLine">      return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1735</td>
    <td class="codeLine">      return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1736</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1736</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1737</td>
    <td class="codeLine">    assert(llvm::all_of(ChildL->blocks(),</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1737</td>
    <td class="codeLine">    assert(llvm::all_of(ChildL->blocks(),</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1738</td>
    <td class="codeLine">                        [&](BasicBlock *ChildBB) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1738</td>
    <td class="codeLine">                        [&](BasicBlock *ChildBB) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1739</td>
    <td class="codeLine">                          return DeadBlockSet.count(ChildBB);</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1739</td>
    <td class="codeLine">                          return DeadBlockSet.count(ChildBB);</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1740</td>
    <td class="codeLine">                        }) &&</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1740</td>
    <td class="codeLine">                        }) &&</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1741</td>
    <td class="codeLine">           "If the child loop header is dead all blocks in the child loop must "</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1741</td>
    <td class="codeLine">           "If the child loop header is dead all blocks in the child loop must "</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1742</td>
    <td class="codeLine">           "be dead as well!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1742</td>
    <td class="codeLine">           "be dead as well!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1743</td>
    <td class="codeLine">    DestroyLoopCB(*ChildL, ChildL->getName());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1743</td>
    <td class="codeLine">    DestroyLoopCB(*ChildL, ChildL->getName());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1744</td>
    <td class="codeLine">    if (SE)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1744</td>
    <td class="codeLine">    if (SE)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1745</td>
    <td class="codeLine">      SE->forgetBlockAndLoopDispositions();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1745</td>
    <td class="codeLine">      SE->forgetBlockAndLoopDispositions();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1746</td>
    <td class="codeLine">    LI.destroy(ChildL);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1746</td>
    <td class="codeLine">    LI.destroy(ChildL);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1747</td>
    <td class="codeLine">    return true;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1747</td>
    <td class="codeLine">    return true;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1748</td>
    <td class="codeLine">  });</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1748</td>
    <td class="codeLine">  });</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1749</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1749</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1750</td>
    <td class="codeLine">  // Remove the loop mappings for the dead blocks and drop all the references</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1750</td>
    <td class="codeLine">  // Remove the loop mappings for the dead blocks and drop all the references</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1751</td>
    <td class="codeLine">  // from these blocks to others to handle cyclic references as we start</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1751</td>
    <td class="codeLine">  // from these blocks to others to handle cyclic references as we start</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1752</td>
    <td class="codeLine">  // deleting the blocks themselves.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1752</td>
    <td class="codeLine">  // deleting the blocks themselves.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1753</td>
    <td class="codeLine">  for (auto *BB : DeadBlockSet) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1753</td>
    <td class="codeLine">  for (auto *BB : DeadBlockSet) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1754</td>
    <td class="codeLine">    // Check that the dominator tree has already been updated.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1754</td>
    <td class="codeLine">    // Check that the dominator tree has already been updated.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1755</td>
    <td class="codeLine">    assert(!DT.getNode(BB) && "Should already have cleared domtree!");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1755</td>
    <td class="codeLine">    assert(!DT.getNode(BB) && "Should already have cleared domtree!");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1756</td>
    <td class="codeLine">    LI.changeLoopFor(BB, nullptr);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1756</td>
    <td class="codeLine">    LI.changeLoopFor(BB, nullptr);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1757</td>
    <td class="codeLine">    // Drop all uses of the instructions to make sure we won't have dangling</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1757</td>
    <td class="codeLine">    // Drop all uses of the instructions to make sure we won't have dangling</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1758</td>
    <td class="codeLine">    // uses in other blocks.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1758</td>
    <td class="codeLine">    // uses in other blocks.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1759</td>
    <td class="codeLine">    for (auto &I : *BB)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1759</td>
    <td class="codeLine">    for (auto &I : *BB)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1760</td>
    <td class="codeLine">      if (!I.use_empty())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1760</td>
    <td class="codeLine">      if (!I.use_empty())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1761</td>
    <td class="codeLine">        I.replaceAllUsesWith(PoisonValue::get(I.getType()));</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1761</td>
    <td class="codeLine">        I.replaceAllUsesWith(PoisonValue::get(I.getType()));</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1762</td>
    <td class="codeLine">    BB->dropAllReferences();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1762</td>
    <td class="codeLine">    BB->dropAllReferences();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1763</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1763</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1764</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1764</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1765</td>
    <td class="codeLine">  // Actually delete the blocks now that they've been fully unhooked from the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1765</td>
    <td class="codeLine">  // Actually delete the blocks now that they've been fully unhooked from the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1766</td>
    <td class="codeLine">  // IR.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1766</td>
    <td class="codeLine">  // IR.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1767</td>
    <td class="codeLine">  for (auto *BB : DeadBlockSet)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1767</td>
    <td class="codeLine">  for (auto *BB : DeadBlockSet)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1768</td>
    <td class="codeLine">    BB->eraseFromParent();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1768</td>
    <td class="codeLine">    BB->eraseFromParent();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1769</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1769</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1770</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1770</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1771</td>
    <td class="codeLine">/// Recompute the set of blocks in a loop after unswitching.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1771</td>
    <td class="codeLine">/// Recompute the set of blocks in a loop after unswitching.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1772</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1772</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1773</td>
    <td class="codeLine">/// This walks from the original headers predecessors to rebuild the loop. We</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1773</td>
    <td class="codeLine">/// This walks from the original headers predecessors to rebuild the loop. We</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1774</td>
    <td class="codeLine">/// take advantage of the fact that new blocks can't have been added, and so we</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1774</td>
    <td class="codeLine">/// take advantage of the fact that new blocks can't have been added, and so we</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1775</td>
    <td class="codeLine">/// filter by the original loop's blocks. This also handles potentially</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1775</td>
    <td class="codeLine">/// filter by the original loop's blocks. This also handles potentially</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1776</td>
    <td class="codeLine">/// unreachable code that we don't want to explore but might be found examining</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1776</td>
    <td class="codeLine">/// unreachable code that we don't want to explore but might be found examining</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1777</td>
    <td class="codeLine">/// the predecessors of the header.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1777</td>
    <td class="codeLine">/// the predecessors of the header.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1778</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1778</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1779</td>
    <td class="codeLine">/// If the original loop is no longer a loop, this will return an empty set. If</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1779</td>
    <td class="codeLine">/// If the original loop is no longer a loop, this will return an empty set. If</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1780</td>
    <td class="codeLine">/// it remains a loop, all the blocks within it will be added to the set</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1780</td>
    <td class="codeLine">/// it remains a loop, all the blocks within it will be added to the set</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1781</td>
    <td class="codeLine">/// (including those blocks in inner loops).</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1781</td>
    <td class="codeLine">/// (including those blocks in inner loops).</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1782</td>
    <td class="codeLine">static SmallPtrSet<const BasicBlock *, 16> recomputeLoopBlockSet(Loop &L,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1782</td>
    <td class="codeLine">static SmallPtrSet<const BasicBlock *, 16> recomputeLoopBlockSet(Loop &L,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1783</td>
    <td class="codeLine">                                                                 LoopInfo &LI) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1783</td>
    <td class="codeLine">                                                                 LoopInfo &LI) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1784</td>
    <td class="codeLine">  SmallPtrSet<const BasicBlock *, 16> LoopBlockSet;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1784</td>
    <td class="codeLine">  SmallPtrSet<const BasicBlock *, 16> LoopBlockSet;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1785</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1785</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1786</td>
    <td class="codeLine">  auto *PH = L.getLoopPreheader();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1786</td>
    <td class="codeLine">  auto *PH = L.getLoopPreheader();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1787</td>
    <td class="codeLine">  auto *Header = L.getHeader();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1787</td>
    <td class="codeLine">  auto *Header = L.getHeader();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1788</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1788</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1789</td>
    <td class="codeLine">  // A worklist to use while walking backwards from the header.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1789</td>
    <td class="codeLine">  // A worklist to use while walking backwards from the header.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1790</td>
    <td class="codeLine">  SmallVector<BasicBlock *, 16> Worklist;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1790</td>
    <td class="codeLine">  SmallVector<BasicBlock *, 16> Worklist;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1791</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1791</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1792</td>
    <td class="codeLine">  // First walk the predecessors of the header to find the backedges. This will</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1792</td>
    <td class="codeLine">  // First walk the predecessors of the header to find the backedges. This will</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1793</td>
    <td class="codeLine">  // form the basis of our walk.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1793</td>
    <td class="codeLine">  // form the basis of our walk.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1794</td>
    <td class="codeLine">  for (auto *Pred : predecessors(Header)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1794</td>
    <td class="codeLine">  for (auto *Pred : predecessors(Header)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1795</td>
    <td class="codeLine">    // Skip the preheader.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1795</td>
    <td class="codeLine">    // Skip the preheader.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1796</td>
    <td class="codeLine">    if (Pred == PH)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1796</td>
    <td class="codeLine">    if (Pred == PH)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1797</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1797</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1798</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1798</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1799</td>
    <td class="codeLine">    // Because the loop was in simplified form, the only non-loop predecessor</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1799</td>
    <td class="codeLine">    // Because the loop was in simplified form, the only non-loop predecessor</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1800</td>
    <td class="codeLine">    // is the preheader.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1800</td>
    <td class="codeLine">    // is the preheader.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1801</td>
    <td class="codeLine">    assert(L.contains(Pred) && "Found a predecessor of the loop header other "</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1801</td>
    <td class="codeLine">    assert(L.contains(Pred) && "Found a predecessor of the loop header other "</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1802</td>
    <td class="codeLine">                               "than the preheader that is not part of the "</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1802</td>
    <td class="codeLine">                               "than the preheader that is not part of the "</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1803</td>
    <td class="codeLine">                               "loop!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1803</td>
    <td class="codeLine">                               "loop!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1804</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1804</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1805</td>
    <td class="codeLine">    // Insert this block into the loop set and on the first visit and, if it</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1805</td>
    <td class="codeLine">    // Insert this block into the loop set and on the first visit and, if it</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1806</td>
    <td class="codeLine">    // isn't the header we're currently walking, put it into the worklist to</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1806</td>
    <td class="codeLine">    // isn't the header we're currently walking, put it into the worklist to</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1807</td>
    <td class="codeLine">    // recurse through.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1807</td>
    <td class="codeLine">    // recurse through.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1808</td>
    <td class="codeLine">    if (LoopBlockSet.insert(Pred).second && Pred != Header)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1808</td>
    <td class="codeLine">    if (LoopBlockSet.insert(Pred).second && Pred != Header)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1809</td>
    <td class="codeLine">      Worklist.push_back(Pred);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1809</td>
    <td class="codeLine">      Worklist.push_back(Pred);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1810</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1810</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1811</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1811</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1812</td>
    <td class="codeLine">  // If no backedges were found, we're done.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1812</td>
    <td class="codeLine">  // If no backedges were found, we're done.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1813</td>
    <td class="codeLine">  if (LoopBlockSet.empty())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1813</td>
    <td class="codeLine">  if (LoopBlockSet.empty())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1814</td>
    <td class="codeLine">    return LoopBlockSet;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1814</td>
    <td class="codeLine">    return LoopBlockSet;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1815</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1815</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1816</td>
    <td class="codeLine">  // We found backedges, recurse through them to identify the loop blocks.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1816</td>
    <td class="codeLine">  // We found backedges, recurse through them to identify the loop blocks.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1817</td>
    <td class="codeLine">  while (!Worklist.empty()) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1817</td>
    <td class="codeLine">  while (!Worklist.empty()) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1818</td>
    <td class="codeLine">    BasicBlock *BB = Worklist.pop_back_val();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1818</td>
    <td class="codeLine">    BasicBlock *BB = Worklist.pop_back_val();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1819</td>
    <td class="codeLine">    assert(LoopBlockSet.count(BB) && "Didn't put block into the loop set!");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1819</td>
    <td class="codeLine">    assert(LoopBlockSet.count(BB) && "Didn't put block into the loop set!");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1820</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1820</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1821</td>
    <td class="codeLine">    // No need to walk past the header.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1821</td>
    <td class="codeLine">    // No need to walk past the header.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1822</td>
    <td class="codeLine">    if (BB == Header)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1822</td>
    <td class="codeLine">    if (BB == Header)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1823</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1823</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1824</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1824</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1825</td>
    <td class="codeLine">    // Because we know the inner loop structure remains valid we can use the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1825</td>
    <td class="codeLine">    // Because we know the inner loop structure remains valid we can use the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1826</td>
    <td class="codeLine">    // loop structure to jump immediately across the entire nested loop.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1826</td>
    <td class="codeLine">    // loop structure to jump immediately across the entire nested loop.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1827</td>
    <td class="codeLine">    // Further, because it is in loop simplified form, we can directly jump</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1827</td>
    <td class="codeLine">    // Further, because it is in loop simplified form, we can directly jump</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1828</td>
    <td class="codeLine">    // to its preheader afterward.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1828</td>
    <td class="codeLine">    // to its preheader afterward.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1829</td>
    <td class="codeLine">    if (Loop *InnerL = LI.getLoopFor(BB))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1829</td>
    <td class="codeLine">    if (Loop *InnerL = LI.getLoopFor(BB))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1830</td>
    <td class="codeLine">      if (InnerL != &L) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1830</td>
    <td class="codeLine">      if (InnerL != &L) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1831</td>
    <td class="codeLine">        assert(L.contains(InnerL) &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1831</td>
    <td class="codeLine">        assert(L.contains(InnerL) &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1832</td>
    <td class="codeLine">               "Should not reach a loop *outside* this loop!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1832</td>
    <td class="codeLine">               "Should not reach a loop *outside* this loop!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1833</td>
    <td class="codeLine">        // The preheader is the only possible predecessor of the loop so</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1833</td>
    <td class="codeLine">        // The preheader is the only possible predecessor of the loop so</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1834</td>
    <td class="codeLine">        // insert it into the set and check whether it was already handled.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1834</td>
    <td class="codeLine">        // insert it into the set and check whether it was already handled.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1835</td>
    <td class="codeLine">        auto *InnerPH = InnerL->getLoopPreheader();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1835</td>
    <td class="codeLine">        auto *InnerPH = InnerL->getLoopPreheader();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1836</td>
    <td class="codeLine">        assert(L.contains(InnerPH) && "Cannot contain an inner loop block "</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1836</td>
    <td class="codeLine">        assert(L.contains(InnerPH) && "Cannot contain an inner loop block "</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1837</td>
    <td class="codeLine">                                      "but not contain the inner loop "</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1837</td>
    <td class="codeLine">                                      "but not contain the inner loop "</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1838</td>
    <td class="codeLine">                                      "preheader!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1838</td>
    <td class="codeLine">                                      "preheader!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1839</td>
    <td class="codeLine">        if (!LoopBlockSet.insert(InnerPH).second)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1839</td>
    <td class="codeLine">        if (!LoopBlockSet.insert(InnerPH).second)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1840</td>
    <td class="codeLine">          // The only way to reach the preheader is through the loop body</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1840</td>
    <td class="codeLine">          // The only way to reach the preheader is through the loop body</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1841</td>
    <td class="codeLine">          // itself so if it has been visited the loop is already handled.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1841</td>
    <td class="codeLine">          // itself so if it has been visited the loop is already handled.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1842</td>
    <td class="codeLine">          continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1842</td>
    <td class="codeLine">          continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1843</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1843</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1844</td>
    <td class="codeLine">        // Insert all of the blocks (other than those already present) into</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1844</td>
    <td class="codeLine">        // Insert all of the blocks (other than those already present) into</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1845</td>
    <td class="codeLine">        // the loop set. We expect at least the block that led us to find the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1845</td>
    <td class="codeLine">        // the loop set. We expect at least the block that led us to find the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1846</td>
    <td class="codeLine">        // inner loop to be in the block set, but we may also have other loop</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1846</td>
    <td class="codeLine">        // inner loop to be in the block set, but we may also have other loop</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1847</td>
    <td class="codeLine">        // blocks if they were already enqueued as predecessors of some other</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1847</td>
    <td class="codeLine">        // blocks if they were already enqueued as predecessors of some other</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1848</td>
    <td class="codeLine">        // outer loop block.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1848</td>
    <td class="codeLine">        // outer loop block.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1849</td>
    <td class="codeLine">        for (auto *InnerBB : InnerL->blocks()) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1849</td>
    <td class="codeLine">        for (auto *InnerBB : InnerL->blocks()) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1850</td>
    <td class="codeLine">          if (InnerBB == BB) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1850</td>
    <td class="codeLine">          if (InnerBB == BB) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1851</td>
    <td class="codeLine">            assert(LoopBlockSet.count(InnerBB) &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1851</td>
    <td class="codeLine">            assert(LoopBlockSet.count(InnerBB) &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1852</td>
    <td class="codeLine">                   "Block should already be in the set!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1852</td>
    <td class="codeLine">                   "Block should already be in the set!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1853</td>
    <td class="codeLine">            continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1853</td>
    <td class="codeLine">            continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1854</td>
    <td class="codeLine">          }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1854</td>
    <td class="codeLine">          }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1855</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1855</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1856</td>
    <td class="codeLine">          LoopBlockSet.insert(InnerBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1856</td>
    <td class="codeLine">          LoopBlockSet.insert(InnerBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1857</td>
    <td class="codeLine">        }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1857</td>
    <td class="codeLine">        }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1858</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1858</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1859</td>
    <td class="codeLine">        // Add the preheader to the worklist so we will continue past the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1859</td>
    <td class="codeLine">        // Add the preheader to the worklist so we will continue past the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1860</td>
    <td class="codeLine">        // loop body.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1860</td>
    <td class="codeLine">        // loop body.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1861</td>
    <td class="codeLine">        Worklist.push_back(InnerPH);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1861</td>
    <td class="codeLine">        Worklist.push_back(InnerPH);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1862</td>
    <td class="codeLine">        continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1862</td>
    <td class="codeLine">        continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1863</td>
    <td class="codeLine">      }</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1863</td>
    <td class="codeLine">      }</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1864</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1864</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1865</td>
    <td class="codeLine">    // Insert any predecessors that were in the original loop into the new</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1865</td>
    <td class="codeLine">    // Insert any predecessors that were in the original loop into the new</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1866</td>
    <td class="codeLine">    // set, and if the insert is successful, add them to the worklist.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1866</td>
    <td class="codeLine">    // set, and if the insert is successful, add them to the worklist.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1867</td>
    <td class="codeLine">    for (auto *Pred : predecessors(BB))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1867</td>
    <td class="codeLine">    for (auto *Pred : predecessors(BB))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1868</td>
    <td class="codeLine">      if (L.contains(Pred) && LoopBlockSet.insert(Pred).second)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1868</td>
    <td class="codeLine">      if (L.contains(Pred) && LoopBlockSet.insert(Pred).second)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1869</td>
    <td class="codeLine">        Worklist.push_back(Pred);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1869</td>
    <td class="codeLine">        Worklist.push_back(Pred);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1870</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1870</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1871</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1871</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1872</td>
    <td class="codeLine">  assert(LoopBlockSet.count(Header) && "Cannot fail to add the header!");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1872</td>
    <td class="codeLine">  assert(LoopBlockSet.count(Header) && "Cannot fail to add the header!");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1873</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1873</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1874</td>
    <td class="codeLine">  // We've found all the blocks participating in the loop, return our completed</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1874</td>
    <td class="codeLine">  // We've found all the blocks participating in the loop, return our completed</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1875</td>
    <td class="codeLine">  // set.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1875</td>
    <td class="codeLine">  // set.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1876</td>
    <td class="codeLine">  return LoopBlockSet;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1876</td>
    <td class="codeLine">  return LoopBlockSet;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1877</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1877</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1878</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1878</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1879</td>
    <td class="codeLine">/// Rebuild a loop after unswitching removes some subset of blocks and edges.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1879</td>
    <td class="codeLine">/// Rebuild a loop after unswitching removes some subset of blocks and edges.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1880</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1880</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1881</td>
    <td class="codeLine">/// The removal may have removed some child loops entirely but cannot have</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1881</td>
    <td class="codeLine">/// The removal may have removed some child loops entirely but cannot have</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1882</td>
    <td class="codeLine">/// disturbed any remaining child loops. However, they may need to be hoisted</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1882</td>
    <td class="codeLine">/// disturbed any remaining child loops. However, they may need to be hoisted</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1883</td>
    <td class="codeLine">/// to the parent loop (or to be top-level loops). The original loop may be</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1883</td>
    <td class="codeLine">/// to the parent loop (or to be top-level loops). The original loop may be</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1884</td>
    <td class="codeLine">/// completely removed.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1884</td>
    <td class="codeLine">/// completely removed.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1885</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1885</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1886</td>
    <td class="codeLine">/// The sibling loops resulting from this update are returned. If the original</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1886</td>
    <td class="codeLine">/// The sibling loops resulting from this update are returned. If the original</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1887</td>
    <td class="codeLine">/// loop remains a valid loop, it will be the first entry in this list with all</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1887</td>
    <td class="codeLine">/// loop remains a valid loop, it will be the first entry in this list with all</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1888</td>
    <td class="codeLine">/// of the newly sibling loops following it.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1888</td>
    <td class="codeLine">/// of the newly sibling loops following it.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1889</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1889</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1890</td>
    <td class="codeLine">/// Returns true if the loop remains a loop after unswitching, and false if it</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1890</td>
    <td class="codeLine">/// Returns true if the loop remains a loop after unswitching, and false if it</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1891</td>
    <td class="codeLine">/// is no longer a loop after unswitching (and should not continue to be</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1891</td>
    <td class="codeLine">/// is no longer a loop after unswitching (and should not continue to be</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1892</td>
    <td class="codeLine">/// referenced).</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1892</td>
    <td class="codeLine">/// referenced).</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1893</td>
    <td class="codeLine">static bool rebuildLoopAfterUnswitch(Loop &L, ArrayRef<BasicBlock *> ExitBlocks,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1893</td>
    <td class="codeLine">static bool rebuildLoopAfterUnswitch(Loop &L, ArrayRef<BasicBlock *> ExitBlocks,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1894</td>
    <td class="codeLine">                                     LoopInfo &LI,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1894</td>
    <td class="codeLine">                                     LoopInfo &LI,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1895</td>
    <td class="codeLine">                                     SmallVectorImpl<Loop *> &HoistedLoops,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1895</td>
    <td class="codeLine">                                     SmallVectorImpl<Loop *> &HoistedLoops,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1896</td>
    <td class="codeLine">                                     ScalarEvolution *SE) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1896</td>
    <td class="codeLine">                                     ScalarEvolution *SE) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1897</td>
    <td class="codeLine">  auto *PH = L.getLoopPreheader();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1897</td>
    <td class="codeLine">  auto *PH = L.getLoopPreheader();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1898</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1898</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1899</td>
    <td class="codeLine">  // Compute the actual parent loop from the exit blocks. Because we may have</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1899</td>
    <td class="codeLine">  // Compute the actual parent loop from the exit blocks. Because we may have</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1900</td>
    <td class="codeLine">  // pruned some exits the loop may be different from the original parent.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1900</td>
    <td class="codeLine">  // pruned some exits the loop may be different from the original parent.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1901</td>
    <td class="codeLine">  Loop *ParentL = nullptr;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1901</td>
    <td class="codeLine">  Loop *ParentL = nullptr;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1902</td>
    <td class="codeLine">  SmallVector<Loop *, 4> ExitLoops;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1902</td>
    <td class="codeLine">  SmallVector<Loop *, 4> ExitLoops;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1903</td>
    <td class="codeLine">  SmallVector<BasicBlock *, 4> ExitsInLoops;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1903</td>
    <td class="codeLine">  SmallVector<BasicBlock *, 4> ExitsInLoops;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1904</td>
    <td class="codeLine">  ExitsInLoops.reserve(ExitBlocks.size());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1904</td>
    <td class="codeLine">  ExitsInLoops.reserve(ExitBlocks.size());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1905</td>
    <td class="codeLine">  for (auto *ExitBB : ExitBlocks)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1905</td>
    <td class="codeLine">  for (auto *ExitBB : ExitBlocks)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1906</td>
    <td class="codeLine">    if (Loop *ExitL = LI.getLoopFor(ExitBB)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1906</td>
    <td class="codeLine">    if (Loop *ExitL = LI.getLoopFor(ExitBB)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1907</td>
    <td class="codeLine">      ExitLoops.push_back(ExitL);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1907</td>
    <td class="codeLine">      ExitLoops.push_back(ExitL);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1908</td>
    <td class="codeLine">      ExitsInLoops.push_back(ExitBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1908</td>
    <td class="codeLine">      ExitsInLoops.push_back(ExitBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1909</td>
    <td class="codeLine">      if (!ParentL || (ParentL != ExitL && ParentL->contains(ExitL)))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1909</td>
    <td class="codeLine">      if (!ParentL || (ParentL != ExitL && ParentL->contains(ExitL)))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1910</td>
    <td class="codeLine">        ParentL = ExitL;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1910</td>
    <td class="codeLine">        ParentL = ExitL;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1911</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1911</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1912</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1912</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1913</td>
    <td class="codeLine">  // Recompute the blocks participating in this loop. This may be empty if it</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1913</td>
    <td class="codeLine">  // Recompute the blocks participating in this loop. This may be empty if it</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1914</td>
    <td class="codeLine">  // is no longer a loop.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1914</td>
    <td class="codeLine">  // is no longer a loop.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1915</td>
    <td class="codeLine">  auto LoopBlockSet = recomputeLoopBlockSet(L, LI);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1915</td>
    <td class="codeLine">  auto LoopBlockSet = recomputeLoopBlockSet(L, LI);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1916</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1916</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1917</td>
    <td class="codeLine">  // If we still have a loop, we need to re-set the loop's parent as the exit</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1917</td>
    <td class="codeLine">  // If we still have a loop, we need to re-set the loop's parent as the exit</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1918</td>
    <td class="codeLine">  // block set changing may have moved it within the loop nest. Note that this</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1918</td>
    <td class="codeLine">  // block set changing may have moved it within the loop nest. Note that this</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1919</td>
    <td class="codeLine">  // can only happen when this loop has a parent as it can only hoist the loop</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1919</td>
    <td class="codeLine">  // can only happen when this loop has a parent as it can only hoist the loop</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1920</td>
    <td class="codeLine">  // *up* the nest.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1920</td>
    <td class="codeLine">  // *up* the nest.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1921</td>
    <td class="codeLine">  if (!LoopBlockSet.empty() && L.getParentLoop() != ParentL) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1921</td>
    <td class="codeLine">  if (!LoopBlockSet.empty() && L.getParentLoop() != ParentL) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1922</td>
    <td class="codeLine">    // Remove this loop's (original) blocks from all of the intervening loops.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1922</td>
    <td class="codeLine">    // Remove this loop's (original) blocks from all of the intervening loops.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1923</td>
    <td class="codeLine">    for (Loop *IL = L.getParentLoop(); IL != ParentL;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1923</td>
    <td class="codeLine">    for (Loop *IL = L.getParentLoop(); IL != ParentL;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1924</td>
    <td class="codeLine">         IL = IL->getParentLoop()) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1924</td>
    <td class="codeLine">         IL = IL->getParentLoop()) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1925</td>
    <td class="codeLine">      IL->getBlocksSet().erase(PH);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1925</td>
    <td class="codeLine">      IL->getBlocksSet().erase(PH);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1926</td>
    <td class="codeLine">      for (auto *BB : L.blocks())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1926</td>
    <td class="codeLine">      for (auto *BB : L.blocks())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1927</td>
    <td class="codeLine">        IL->getBlocksSet().erase(BB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1927</td>
    <td class="codeLine">        IL->getBlocksSet().erase(BB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1928</td>
    <td class="codeLine">      llvm::erase_if(IL->getBlocksVector(), [&](BasicBlock *BB) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1928</td>
    <td class="codeLine">      llvm::erase_if(IL->getBlocksVector(), [&](BasicBlock *BB) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1929</td>
    <td class="codeLine">        return BB == PH || L.contains(BB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1929</td>
    <td class="codeLine">        return BB == PH || L.contains(BB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1930</td>
    <td class="codeLine">      });</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1930</td>
    <td class="codeLine">      });</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1931</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1931</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1932</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1932</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1933</td>
    <td class="codeLine">    LI.changeLoopFor(PH, ParentL);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1933</td>
    <td class="codeLine">    LI.changeLoopFor(PH, ParentL);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1934</td>
    <td class="codeLine">    L.getParentLoop()->removeChildLoop(&L);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1934</td>
    <td class="codeLine">    L.getParentLoop()->removeChildLoop(&L);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1935</td>
    <td class="codeLine">    if (ParentL)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1935</td>
    <td class="codeLine">    if (ParentL)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1936</td>
    <td class="codeLine">      ParentL->addChildLoop(&L);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1936</td>
    <td class="codeLine">      ParentL->addChildLoop(&L);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1937</td>
    <td class="codeLine">    else</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1937</td>
    <td class="codeLine">    else</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1938</td>
    <td class="codeLine">      LI.addTopLevelLoop(&L);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1938</td>
    <td class="codeLine">      LI.addTopLevelLoop(&L);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1939</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1939</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1940</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1940</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1941</td>
    <td class="codeLine">  // Now we update all the blocks which are no longer within the loop.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1941</td>
    <td class="codeLine">  // Now we update all the blocks which are no longer within the loop.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1942</td>
    <td class="codeLine">  auto &Blocks = L.getBlocksVector();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1942</td>
    <td class="codeLine">  auto &Blocks = L.getBlocksVector();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1943</td>
    <td class="codeLine">  auto BlocksSplitI =</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1943</td>
    <td class="codeLine">  auto BlocksSplitI =</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1944</td>
    <td class="codeLine">      LoopBlockSet.empty()</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1944</td>
    <td class="codeLine">      LoopBlockSet.empty()</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1945</td>
    <td class="codeLine">          ? Blocks.begin()</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1945</td>
    <td class="codeLine">          ? Blocks.begin()</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1946</td>
    <td class="codeLine">          : std::stable_partition(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1946</td>
    <td class="codeLine">          : std::stable_partition(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1947</td>
    <td class="codeLine">                Blocks.begin(), Blocks.end(),</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1947</td>
    <td class="codeLine">                Blocks.begin(), Blocks.end(),</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1948</td>
    <td class="codeLine">                [&](BasicBlock *BB) { return LoopBlockSet.count(BB); });</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1948</td>
    <td class="codeLine">                [&](BasicBlock *BB) { return LoopBlockSet.count(BB); });</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1949</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1949</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1950</td>
    <td class="codeLine">  // Before we erase the list of unlooped blocks, build a set of them.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1950</td>
    <td class="codeLine">  // Before we erase the list of unlooped blocks, build a set of them.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1951</td>
    <td class="codeLine">  SmallPtrSet<BasicBlock *, 16> UnloopedBlocks(BlocksSplitI, Blocks.end());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1951</td>
    <td class="codeLine">  SmallPtrSet<BasicBlock *, 16> UnloopedBlocks(BlocksSplitI, Blocks.end());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1952</td>
    <td class="codeLine">  if (LoopBlockSet.empty())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1952</td>
    <td class="codeLine">  if (LoopBlockSet.empty())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1953</td>
    <td class="codeLine">    UnloopedBlocks.insert(PH);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1953</td>
    <td class="codeLine">    UnloopedBlocks.insert(PH);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1954</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1954</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1955</td>
    <td class="codeLine">  // Now erase these blocks from the loop.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1955</td>
    <td class="codeLine">  // Now erase these blocks from the loop.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1956</td>
    <td class="codeLine">  for (auto *BB : make_range(BlocksSplitI, Blocks.end()))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1956</td>
    <td class="codeLine">  for (auto *BB : make_range(BlocksSplitI, Blocks.end()))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1957</td>
    <td class="codeLine">    L.getBlocksSet().erase(BB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1957</td>
    <td class="codeLine">    L.getBlocksSet().erase(BB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1958</td>
    <td class="codeLine">  Blocks.erase(BlocksSplitI, Blocks.end());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1958</td>
    <td class="codeLine">  Blocks.erase(BlocksSplitI, Blocks.end());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1959</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1959</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1960</td>
    <td class="codeLine">  // Sort the exits in ascending loop depth, we'll work backwards across these</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1960</td>
    <td class="codeLine">  // Sort the exits in ascending loop depth, we'll work backwards across these</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1961</td>
    <td class="codeLine">  // to process them inside out.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1961</td>
    <td class="codeLine">  // to process them inside out.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1962</td>
    <td class="codeLine">  llvm::stable_sort(ExitsInLoops, [&](BasicBlock *LHS, BasicBlock *RHS) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1962</td>
    <td class="codeLine">  llvm::stable_sort(ExitsInLoops, [&](BasicBlock *LHS, BasicBlock *RHS) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1963</td>
    <td class="codeLine">    return LI.getLoopDepth(LHS) < LI.getLoopDepth(RHS);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1963</td>
    <td class="codeLine">    return LI.getLoopDepth(LHS) < LI.getLoopDepth(RHS);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1964</td>
    <td class="codeLine">  });</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1964</td>
    <td class="codeLine">  });</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1965</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1965</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1966</td>
    <td class="codeLine">  // We'll build up a set for each exit loop.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1966</td>
    <td class="codeLine">  // We'll build up a set for each exit loop.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1967</td>
    <td class="codeLine">  SmallPtrSet<BasicBlock *, 16> NewExitLoopBlocks;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1967</td>
    <td class="codeLine">  SmallPtrSet<BasicBlock *, 16> NewExitLoopBlocks;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1968</td>
    <td class="codeLine">  Loop *PrevExitL = L.getParentLoop(); // The deepest possible exit loop.</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1968</td>
    <td class="codeLine">  Loop *PrevExitL = L.getParentLoop(); // The deepest possible exit loop.</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1969</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1969</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1970</td>
    <td class="codeLine">  auto RemoveUnloopedBlocksFromLoop =</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1970</td>
    <td class="codeLine">  auto RemoveUnloopedBlocksFromLoop =</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1971</td>
    <td class="codeLine">      [](Loop &L, SmallPtrSetImpl<BasicBlock *> &UnloopedBlocks) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1971</td>
    <td class="codeLine">      [](Loop &L, SmallPtrSetImpl<BasicBlock *> &UnloopedBlocks) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1972</td>
    <td class="codeLine">        for (auto *BB : UnloopedBlocks)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1972</td>
    <td class="codeLine">        for (auto *BB : UnloopedBlocks)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1973</td>
    <td class="codeLine">          L.getBlocksSet().erase(BB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1973</td>
    <td class="codeLine">          L.getBlocksSet().erase(BB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1974</td>
    <td class="codeLine">        llvm::erase_if(L.getBlocksVector(), [&](BasicBlock *BB) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1974</td>
    <td class="codeLine">        llvm::erase_if(L.getBlocksVector(), [&](BasicBlock *BB) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1975</td>
    <td class="codeLine">          return UnloopedBlocks.count(BB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1975</td>
    <td class="codeLine">          return UnloopedBlocks.count(BB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1976</td>
    <td class="codeLine">        });</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1976</td>
    <td class="codeLine">        });</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1977</td>
    <td class="codeLine">      };</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1977</td>
    <td class="codeLine">      };</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1978</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1978</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1979</td>
    <td class="codeLine">  SmallVector<BasicBlock *, 16> Worklist;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1979</td>
    <td class="codeLine">  SmallVector<BasicBlock *, 16> Worklist;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1980</td>
    <td class="codeLine">  while (!UnloopedBlocks.empty() && !ExitsInLoops.empty()) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1980</td>
    <td class="codeLine">  while (!UnloopedBlocks.empty() && !ExitsInLoops.empty()) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1981</td>
    <td class="codeLine">    assert(Worklist.empty() && "Didn't clear worklist!");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1981</td>
    <td class="codeLine">    assert(Worklist.empty() && "Didn't clear worklist!");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1982</td>
    <td class="codeLine">    assert(NewExitLoopBlocks.empty() && "Didn't clear loop set!");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1982</td>
    <td class="codeLine">    assert(NewExitLoopBlocks.empty() && "Didn't clear loop set!");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1983</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1983</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1984</td>
    <td class="codeLine">    // Grab the next exit block, in decreasing loop depth order.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1984</td>
    <td class="codeLine">    // Grab the next exit block, in decreasing loop depth order.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1985</td>
    <td class="codeLine">    BasicBlock *ExitBB = ExitsInLoops.pop_back_val();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1985</td>
    <td class="codeLine">    BasicBlock *ExitBB = ExitsInLoops.pop_back_val();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1986</td>
    <td class="codeLine">    Loop &ExitL = *LI.getLoopFor(ExitBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1986</td>
    <td class="codeLine">    Loop &ExitL = *LI.getLoopFor(ExitBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1987</td>
    <td class="codeLine">    assert(ExitL.contains(&L) && "Exit loop must contain the inner loop!");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1987</td>
    <td class="codeLine">    assert(ExitL.contains(&L) && "Exit loop must contain the inner loop!");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1988</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1988</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1989</td>
    <td class="codeLine">    // Erase all of the unlooped blocks from the loops between the previous</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1989</td>
    <td class="codeLine">    // Erase all of the unlooped blocks from the loops between the previous</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1990</td>
    <td class="codeLine">    // exit loop and this exit loop. This works because the ExitInLoops list is</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1990</td>
    <td class="codeLine">    // exit loop and this exit loop. This works because the ExitInLoops list is</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1991</td>
    <td class="codeLine">    // sorted in increasing order of loop depth and thus we visit loops in</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1991</td>
    <td class="codeLine">    // sorted in increasing order of loop depth and thus we visit loops in</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1992</td>
    <td class="codeLine">    // decreasing order of loop depth.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1992</td>
    <td class="codeLine">    // decreasing order of loop depth.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1993</td>
    <td class="codeLine">    for (; PrevExitL != &ExitL; PrevExitL = PrevExitL->getParentLoop())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1993</td>
    <td class="codeLine">    for (; PrevExitL != &ExitL; PrevExitL = PrevExitL->getParentLoop())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1994</td>
    <td class="codeLine">      RemoveUnloopedBlocksFromLoop(*PrevExitL, UnloopedBlocks);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1994</td>
    <td class="codeLine">      RemoveUnloopedBlocksFromLoop(*PrevExitL, UnloopedBlocks);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1995</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1995</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1996</td>
    <td class="codeLine">    // Walk the CFG back until we hit the cloned PH adding everything reachable</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1996</td>
    <td class="codeLine">    // Walk the CFG back until we hit the cloned PH adding everything reachable</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1997</td>
    <td class="codeLine">    // and in the unlooped set to this exit block's loop.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1997</td>
    <td class="codeLine">    // and in the unlooped set to this exit block's loop.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1998</td>
    <td class="codeLine">    Worklist.push_back(ExitBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">1998</td>
    <td class="codeLine">    Worklist.push_back(ExitBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">1999</td>
    <td class="codeLine">    do {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">1999</td>
    <td class="codeLine">    do {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2000</td>
    <td class="codeLine">      BasicBlock *BB = Worklist.pop_back_val();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2000</td>
    <td class="codeLine">      BasicBlock *BB = Worklist.pop_back_val();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2001</td>
    <td class="codeLine">      // We can stop recursing at the cloned preheader (if we get there).</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2001</td>
    <td class="codeLine">      // We can stop recursing at the cloned preheader (if we get there).</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2002</td>
    <td class="codeLine">      if (BB == PH)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2002</td>
    <td class="codeLine">      if (BB == PH)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2003</td>
    <td class="codeLine">        continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2003</td>
    <td class="codeLine">        continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2004</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2004</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2005</td>
    <td class="codeLine">      for (BasicBlock *PredBB : predecessors(BB)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2005</td>
    <td class="codeLine">      for (BasicBlock *PredBB : predecessors(BB)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2006</td>
    <td class="codeLine">        // If this pred has already been moved to our set or is part of some</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2006</td>
    <td class="codeLine">        // If this pred has already been moved to our set or is part of some</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2007</td>
    <td class="codeLine">        // (inner) loop, no update needed.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2007</td>
    <td class="codeLine">        // (inner) loop, no update needed.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2008</td>
    <td class="codeLine">        if (!UnloopedBlocks.erase(PredBB)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2008</td>
    <td class="codeLine">        if (!UnloopedBlocks.erase(PredBB)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2009</td>
    <td class="codeLine">          assert((NewExitLoopBlocks.count(PredBB) ||</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2009</td>
    <td class="codeLine">          assert((NewExitLoopBlocks.count(PredBB) ||</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2010</td>
    <td class="codeLine">                  ExitL.contains(LI.getLoopFor(PredBB))) &&</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2010</td>
    <td class="codeLine">                  ExitL.contains(LI.getLoopFor(PredBB))) &&</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2011</td>
    <td class="codeLine">                 "Predecessor not in a nested loop (or already visited)!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2011</td>
    <td class="codeLine">                 "Predecessor not in a nested loop (or already visited)!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2012</td>
    <td class="codeLine">          continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2012</td>
    <td class="codeLine">          continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2013</td>
    <td class="codeLine">        }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2013</td>
    <td class="codeLine">        }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2014</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2014</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2015</td>
    <td class="codeLine">        // We just insert into the loop set here. We'll add these blocks to the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2015</td>
    <td class="codeLine">        // We just insert into the loop set here. We'll add these blocks to the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2016</td>
    <td class="codeLine">        // exit loop after we build up the set in a deterministic order rather</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2016</td>
    <td class="codeLine">        // exit loop after we build up the set in a deterministic order rather</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2017</td>
    <td class="codeLine">        // than the predecessor-influenced visit order.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2017</td>
    <td class="codeLine">        // than the predecessor-influenced visit order.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2018</td>
    <td class="codeLine">        bool Inserted = NewExitLoopBlocks.insert(PredBB).second;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2018</td>
    <td class="codeLine">        bool Inserted = NewExitLoopBlocks.insert(PredBB).second;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2019</td>
    <td class="codeLine">        (void)Inserted;</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2019</td>
    <td class="codeLine">        (void)Inserted;</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2020</td>
    <td class="codeLine">        assert(Inserted && "Should only visit an unlooped block once!");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2020</td>
    <td class="codeLine">        assert(Inserted && "Should only visit an unlooped block once!");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2021</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2021</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2022</td>
    <td class="codeLine">        // And recurse through to its predecessors.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2022</td>
    <td class="codeLine">        // And recurse through to its predecessors.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2023</td>
    <td class="codeLine">        Worklist.push_back(PredBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2023</td>
    <td class="codeLine">        Worklist.push_back(PredBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2024</td>
    <td class="codeLine">      }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2024</td>
    <td class="codeLine">      }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2025</td>
    <td class="codeLine">    } while (!Worklist.empty());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2025</td>
    <td class="codeLine">    } while (!Worklist.empty());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2026</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2026</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2027</td>
    <td class="codeLine">    // If blocks in this exit loop were directly part of the original loop (as</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2027</td>
    <td class="codeLine">    // If blocks in this exit loop were directly part of the original loop (as</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2028</td>
    <td class="codeLine">    // opposed to a child loop) update the map to point to this exit loop. This</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2028</td>
    <td class="codeLine">    // opposed to a child loop) update the map to point to this exit loop. This</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2029</td>
    <td class="codeLine">    // just updates a map and so the fact that the order is unstable is fine.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2029</td>
    <td class="codeLine">    // just updates a map and so the fact that the order is unstable is fine.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2030</td>
    <td class="codeLine">    for (auto *BB : NewExitLoopBlocks)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2030</td>
    <td class="codeLine">    for (auto *BB : NewExitLoopBlocks)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2031</td>
    <td class="codeLine">      if (Loop *BBL = LI.getLoopFor(BB))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2031</td>
    <td class="codeLine">      if (Loop *BBL = LI.getLoopFor(BB))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2032</td>
    <td class="codeLine">        if (BBL == &L || !L.contains(BBL))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2032</td>
    <td class="codeLine">        if (BBL == &L || !L.contains(BBL))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2033</td>
    <td class="codeLine">          LI.changeLoopFor(BB, &ExitL);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2033</td>
    <td class="codeLine">          LI.changeLoopFor(BB, &ExitL);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2034</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2034</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2035</td>
    <td class="codeLine">    // We will remove the remaining unlooped blocks from this loop in the next</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2035</td>
    <td class="codeLine">    // We will remove the remaining unlooped blocks from this loop in the next</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2036</td>
    <td class="codeLine">    // iteration or below.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2036</td>
    <td class="codeLine">    // iteration or below.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2037</td>
    <td class="codeLine">    NewExitLoopBlocks.clear();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2037</td>
    <td class="codeLine">    NewExitLoopBlocks.clear();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2038</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2038</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2039</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2039</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2040</td>
    <td class="codeLine">  // Any remaining unlooped blocks are no longer part of any loop unless they</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2040</td>
    <td class="codeLine">  // Any remaining unlooped blocks are no longer part of any loop unless they</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2041</td>
    <td class="codeLine">  // are part of some child loop.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2041</td>
    <td class="codeLine">  // are part of some child loop.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2042</td>
    <td class="codeLine">  for (; PrevExitL; PrevExitL = PrevExitL->getParentLoop())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2042</td>
    <td class="codeLine">  for (; PrevExitL; PrevExitL = PrevExitL->getParentLoop())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2043</td>
    <td class="codeLine">    RemoveUnloopedBlocksFromLoop(*PrevExitL, UnloopedBlocks);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2043</td>
    <td class="codeLine">    RemoveUnloopedBlocksFromLoop(*PrevExitL, UnloopedBlocks);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2044</td>
    <td class="codeLine">  for (auto *BB : UnloopedBlocks)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2044</td>
    <td class="codeLine">  for (auto *BB : UnloopedBlocks)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2045</td>
    <td class="codeLine">    if (Loop *BBL = LI.getLoopFor(BB))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2045</td>
    <td class="codeLine">    if (Loop *BBL = LI.getLoopFor(BB))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2046</td>
    <td class="codeLine">      if (BBL == &L || !L.contains(BBL))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2046</td>
    <td class="codeLine">      if (BBL == &L || !L.contains(BBL))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2047</td>
    <td class="codeLine">        LI.changeLoopFor(BB, nullptr);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2047</td>
    <td class="codeLine">        LI.changeLoopFor(BB, nullptr);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2048</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2048</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2049</td>
    <td class="codeLine">  // Sink all the child loops whose headers are no longer in the loop set to</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2049</td>
    <td class="codeLine">  // Sink all the child loops whose headers are no longer in the loop set to</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2050</td>
    <td class="codeLine">  // the parent (or to be top level loops). We reach into the loop and directly</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2050</td>
    <td class="codeLine">  // the parent (or to be top level loops). We reach into the loop and directly</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2051</td>
    <td class="codeLine">  // update its subloop vector to make this batch update efficient.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2051</td>
    <td class="codeLine">  // update its subloop vector to make this batch update efficient.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2052</td>
    <td class="codeLine">  auto &SubLoops = L.getSubLoopsVector();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2052</td>
    <td class="codeLine">  auto &SubLoops = L.getSubLoopsVector();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2053</td>
    <td class="codeLine">  auto SubLoopsSplitI =</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2053</td>
    <td class="codeLine">  auto SubLoopsSplitI =</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2054</td>
    <td class="codeLine">      LoopBlockSet.empty()</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2054</td>
    <td class="codeLine">      LoopBlockSet.empty()</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2055</td>
    <td class="codeLine">          ? SubLoops.begin()</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2055</td>
    <td class="codeLine">          ? SubLoops.begin()</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2056</td>
    <td class="codeLine">          : std::stable_partition(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2056</td>
    <td class="codeLine">          : std::stable_partition(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2057</td>
    <td class="codeLine">                SubLoops.begin(), SubLoops.end(), [&](Loop *SubL) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2057</td>
    <td class="codeLine">                SubLoops.begin(), SubLoops.end(), [&](Loop *SubL) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2058</td>
    <td class="codeLine">                  return LoopBlockSet.count(SubL->getHeader());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2058</td>
    <td class="codeLine">                  return LoopBlockSet.count(SubL->getHeader());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2059</td>
    <td class="codeLine">                });</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2059</td>
    <td class="codeLine">                });</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2060</td>
    <td class="codeLine">  for (auto *HoistedL : make_range(SubLoopsSplitI, SubLoops.end())) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2060</td>
    <td class="codeLine">  for (auto *HoistedL : make_range(SubLoopsSplitI, SubLoops.end())) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2061</td>
    <td class="codeLine">    HoistedLoops.push_back(HoistedL);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2061</td>
    <td class="codeLine">    HoistedLoops.push_back(HoistedL);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2062</td>
    <td class="codeLine">    HoistedL->setParentLoop(nullptr);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2062</td>
    <td class="codeLine">    HoistedL->setParentLoop(nullptr);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2063</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2063</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2064</td>
    <td class="codeLine">    // To compute the new parent of this hoisted loop we look at where we</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2064</td>
    <td class="codeLine">    // To compute the new parent of this hoisted loop we look at where we</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2065</td>
    <td class="codeLine">    // placed the preheader above. We can't lookup the header itself because we</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2065</td>
    <td class="codeLine">    // placed the preheader above. We can't lookup the header itself because we</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2066</td>
    <td class="codeLine">    // retained the mapping from the header to the hoisted loop. But the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2066</td>
    <td class="codeLine">    // retained the mapping from the header to the hoisted loop. But the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2067</td>
    <td class="codeLine">    // preheader and header should have the exact same new parent computed</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2067</td>
    <td class="codeLine">    // preheader and header should have the exact same new parent computed</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2068</td>
    <td class="codeLine">    // based on the set of exit blocks from the original loop as the preheader</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2068</td>
    <td class="codeLine">    // based on the set of exit blocks from the original loop as the preheader</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2069</td>
    <td class="codeLine">    // is a predecessor of the header and so reached in the reverse walk. And</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2069</td>
    <td class="codeLine">    // is a predecessor of the header and so reached in the reverse walk. And</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2070</td>
    <td class="codeLine">    // because the loops were all in simplified form the preheader of the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2070</td>
    <td class="codeLine">    // because the loops were all in simplified form the preheader of the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2071</td>
    <td class="codeLine">    // hoisted loop can't be part of some *other* loop.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2071</td>
    <td class="codeLine">    // hoisted loop can't be part of some *other* loop.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2072</td>
    <td class="codeLine">    if (auto *NewParentL = LI.getLoopFor(HoistedL->getLoopPreheader()))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2072</td>
    <td class="codeLine">    if (auto *NewParentL = LI.getLoopFor(HoistedL->getLoopPreheader()))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2073</td>
    <td class="codeLine">      NewParentL->addChildLoop(HoistedL);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2073</td>
    <td class="codeLine">      NewParentL->addChildLoop(HoistedL);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2074</td>
    <td class="codeLine">    else</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2074</td>
    <td class="codeLine">    else</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2075</td>
    <td class="codeLine">      LI.addTopLevelLoop(HoistedL);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2075</td>
    <td class="codeLine">      LI.addTopLevelLoop(HoistedL);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2076</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2076</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2077</td>
    <td class="codeLine">  SubLoops.erase(SubLoopsSplitI, SubLoops.end());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2077</td>
    <td class="codeLine">  SubLoops.erase(SubLoopsSplitI, SubLoops.end());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2078</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2078</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2079</td>
    <td class="codeLine">  // Actually delete the loop if nothing remained within it.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2079</td>
    <td class="codeLine">  // Actually delete the loop if nothing remained within it.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2080</td>
    <td class="codeLine">  if (Blocks.empty()) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2080</td>
    <td class="codeLine">  if (Blocks.empty()) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2081</td>
    <td class="codeLine">    assert(SubLoops.empty() &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2081</td>
    <td class="codeLine">    assert(SubLoops.empty() &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2082</td>
    <td class="codeLine">           "Failed to remove all subloops from the original loop!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2082</td>
    <td class="codeLine">           "Failed to remove all subloops from the original loop!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2083</td>
    <td class="codeLine">    if (Loop *ParentL = L.getParentLoop())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2083</td>
    <td class="codeLine">    if (Loop *ParentL = L.getParentLoop())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2084</td>
    <td class="codeLine">      ParentL->removeChildLoop(llvm::find(*ParentL, &L));</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2084</td>
    <td class="codeLine">      ParentL->removeChildLoop(llvm::find(*ParentL, &L));</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2085</td>
    <td class="codeLine">    else</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2085</td>
    <td class="codeLine">    else</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2086</td>
    <td class="codeLine">      LI.removeLoop(llvm::find(LI, &L));</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2086</td>
    <td class="codeLine">      LI.removeLoop(llvm::find(LI, &L));</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2087</td>
    <td class="codeLine">    // markLoopAsDeleted for L should be triggered by the caller (it is typically</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2087</td>
    <td class="codeLine">    // markLoopAsDeleted for L should be triggered by the caller (it is typically</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2088</td>
    <td class="codeLine">    // done by using the UnswitchCB callback).</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2088</td>
    <td class="codeLine">    // done by using the UnswitchCB callback).</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2089</td>
    <td class="codeLine">    if (SE)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2089</td>
    <td class="codeLine">    if (SE)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2090</td>
    <td class="codeLine">      SE->forgetBlockAndLoopDispositions();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2090</td>
    <td class="codeLine">      SE->forgetBlockAndLoopDispositions();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2091</td>
    <td class="codeLine">    LI.destroy(&L);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2091</td>
    <td class="codeLine">    LI.destroy(&L);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2092</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2092</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2093</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2093</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2094</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2094</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2095</td>
    <td class="codeLine">  return true;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2095</td>
    <td class="codeLine">  return true;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2096</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2096</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2097</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2097</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2098</td>
    <td class="codeLine">/// Helper to visit a dominator subtree, invoking a callable on each node.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2098</td>
    <td class="codeLine">/// Helper to visit a dominator subtree, invoking a callable on each node.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2099</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2099</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2100</td>
    <td class="codeLine">/// Returning false at any point will stop walking past that node of the tree.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2100</td>
    <td class="codeLine">/// Returning false at any point will stop walking past that node of the tree.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2101</td>
    <td class="codeLine">template <typename CallableT></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2101</td>
    <td class="codeLine">template <typename CallableT></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2102</td>
    <td class="codeLine">void visitDomSubTree(DominatorTree &DT, BasicBlock *BB, CallableT Callable) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2102</td>
    <td class="codeLine">void visitDomSubTree(DominatorTree &DT, BasicBlock *BB, CallableT Callable) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2103</td>
    <td class="codeLine">  SmallVector<DomTreeNode *, 4> DomWorklist;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2103</td>
    <td class="codeLine">  SmallVector<DomTreeNode *, 4> DomWorklist;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2104</td>
    <td class="codeLine">  DomWorklist.push_back(DT[BB]);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2104</td>
    <td class="codeLine">  DomWorklist.push_back(DT[BB]);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2105</td>
    <td class="codeLine">#ifndef NDEBUG</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2105</td>
    <td class="codeLine">#ifndef NDEBUG</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2106</td>
    <td class="codeLine">  SmallPtrSet<DomTreeNode *, 4> Visited;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2106</td>
    <td class="codeLine">  SmallPtrSet<DomTreeNode *, 4> Visited;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2107</td>
    <td class="codeLine">  Visited.insert(DT[BB]);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2107</td>
    <td class="codeLine">  Visited.insert(DT[BB]);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2108</td>
    <td class="codeLine">#endif</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2108</td>
    <td class="codeLine">#endif</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2109</td>
    <td class="codeLine">  do {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2109</td>
    <td class="codeLine">  do {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2110</td>
    <td class="codeLine">    DomTreeNode *N = DomWorklist.pop_back_val();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2110</td>
    <td class="codeLine">    DomTreeNode *N = DomWorklist.pop_back_val();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2111</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2111</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2112</td>
    <td class="codeLine">    // Visit this node.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2112</td>
    <td class="codeLine">    // Visit this node.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2113</td>
    <td class="codeLine">    if (!Callable(N->getBlock()))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2113</td>
    <td class="codeLine">    if (!Callable(N->getBlock()))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2114</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2114</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2115</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2115</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2116</td>
    <td class="codeLine">    // Accumulate the child nodes.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2116</td>
    <td class="codeLine">    // Accumulate the child nodes.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2117</td>
    <td class="codeLine">    for (DomTreeNode *ChildN : *N) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2117</td>
    <td class="codeLine">    for (DomTreeNode *ChildN : *N) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2118</td>
    <td class="codeLine">      assert(Visited.insert(ChildN).second &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2118</td>
    <td class="codeLine">      assert(Visited.insert(ChildN).second &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2119</td>
    <td class="codeLine">             "Cannot visit a node twice when walking a tree!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2119</td>
    <td class="codeLine">             "Cannot visit a node twice when walking a tree!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2120</td>
    <td class="codeLine">      DomWorklist.push_back(ChildN);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2120</td>
    <td class="codeLine">      DomWorklist.push_back(ChildN);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2121</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2121</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2122</td>
    <td class="codeLine">  } while (!DomWorklist.empty());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2122</td>
    <td class="codeLine">  } while (!DomWorklist.empty());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2123</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2123</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2124</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2124</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2125</td>
    <td class="codeLine">static void unswitchNontrivialInvariants(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2125</td>
    <td class="codeLine">static void unswitchNontrivialInvariants(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2126</td>
    <td class="codeLine">    Loop &L, Instruction &TI, ArrayRef<Value *> Invariants,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2126</td>
    <td class="codeLine">    Loop &L, Instruction &TI, ArrayRef<Value *> Invariants,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2127</td>
    <td class="codeLine">    IVConditionInfo &PartialIVInfo, DominatorTree &DT, LoopInfo &LI,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2127</td>
    <td class="codeLine">    IVConditionInfo &PartialIVInfo, DominatorTree &DT, LoopInfo &LI,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2128</td>
    <td class="codeLine">    AssumptionCache &AC,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2128</td>
    <td class="codeLine">    AssumptionCache &AC,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2129</td>
    <td class="codeLine">    function_ref<void(bool, bool, ArrayRef<Loop *>)> UnswitchCB,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2129</td>
    <td class="codeLine">    function_ref<void(bool, bool, ArrayRef<Loop *>)> UnswitchCB,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2130</td>
    <td class="codeLine">    ScalarEvolution *SE, MemorySSAUpdater *MSSAU,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2130</td>
    <td class="codeLine">    ScalarEvolution *SE, MemorySSAUpdater *MSSAU,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2131</td>
    <td class="codeLine">    function_ref<void(Loop &, StringRef)> DestroyLoopCB, bool InsertFreeze) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2131</td>
    <td class="codeLine">    function_ref<void(Loop &, StringRef)> DestroyLoopCB, bool InsertFreeze) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2132</td>
    <td class="codeLine">  auto *ParentBB = TI.getParent();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2132</td>
    <td class="codeLine">  auto *ParentBB = TI.getParent();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2133</td>
    <td class="codeLine">  BranchInst *BI = dyn_cast<BranchInst>(&TI);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2133</td>
    <td class="codeLine">  BranchInst *BI = dyn_cast<BranchInst>(&TI);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2134</td>
    <td class="codeLine">  SwitchInst *SI = BI ? nullptr : cast<SwitchInst>(&TI);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2134</td>
    <td class="codeLine">  SwitchInst *SI = BI ? nullptr : cast<SwitchInst>(&TI);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2135</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2135</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2136</td>
    <td class="codeLine">  // We can only unswitch switches, conditional branches with an invariant</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2136</td>
    <td class="codeLine">  // We can only unswitch switches, conditional branches with an invariant</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2137</td>
    <td class="codeLine">  // condition, or combining invariant conditions with an instruction or</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2137</td>
    <td class="codeLine">  // condition, or combining invariant conditions with an instruction or</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2138</td>
    <td class="codeLine">  // partially invariant instructions.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2138</td>
    <td class="codeLine">  // partially invariant instructions.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2139</td>
    <td class="codeLine">  assert((SI || (BI && BI->isConditional())) &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2139</td>
    <td class="codeLine">  assert((SI || (BI && BI->isConditional())) &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2140</td>
    <td class="codeLine">         "Can only unswitch switches and conditional branch!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2140</td>
    <td class="codeLine">         "Can only unswitch switches and conditional branch!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2141</td>
    <td class="codeLine">  bool PartiallyInvariant = !PartialIVInfo.InstToDuplicate.empty();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2141</td>
    <td class="codeLine">  bool PartiallyInvariant = !PartialIVInfo.InstToDuplicate.empty();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2142</td>
    <td class="codeLine">  bool FullUnswitch =</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2142</td>
    <td class="codeLine">  bool FullUnswitch =</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2143</td>
    <td class="codeLine">      SI || (skipTrivialSelect(BI->getCondition()) == Invariants[0] &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2143</td>
    <td class="codeLine">      SI || (skipTrivialSelect(BI->getCondition()) == Invariants[0] &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2144</td>
    <td class="codeLine">             !PartiallyInvariant);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2144</td>
    <td class="codeLine">             !PartiallyInvariant);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2145</td>
    <td class="codeLine">  if (FullUnswitch)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2145</td>
    <td class="codeLine">  if (FullUnswitch)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2146</td>
    <td class="codeLine">    assert(Invariants.size() == 1 &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2146</td>
    <td class="codeLine">    assert(Invariants.size() == 1 &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2147</td>
    <td class="codeLine">           "Cannot have other invariants with full unswitching!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2147</td>
    <td class="codeLine">           "Cannot have other invariants with full unswitching!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2148</td>
    <td class="codeLine">  else</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2148</td>
    <td class="codeLine">  else</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2149</td>
    <td class="codeLine">    assert(isa<Instruction>(skipTrivialSelect(BI->getCondition())) &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2149</td>
    <td class="codeLine">    assert(isa<Instruction>(skipTrivialSelect(BI->getCondition())) &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2150</td>
    <td class="codeLine">           "Partial unswitching requires an instruction as the condition!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2150</td>
    <td class="codeLine">           "Partial unswitching requires an instruction as the condition!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2151</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2151</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2152</td>
    <td class="codeLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2152</td>
    <td class="codeLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2153</td>
    <td class="codeLine">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2153</td>
    <td class="codeLine">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2154</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2154</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2155</td>
    <td class="codeLine">  // Constant and BBs tracking the cloned and continuing successor. When we are</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2155</td>
    <td class="codeLine">  // Constant and BBs tracking the cloned and continuing successor. When we are</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2156</td>
    <td class="codeLine">  // unswitching the entire condition, this can just be trivially chosen to</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2156</td>
    <td class="codeLine">  // unswitching the entire condition, this can just be trivially chosen to</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2157</td>
    <td class="codeLine">  // unswitch towards `true`. However, when we are unswitching a set of</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2157</td>
    <td class="codeLine">  // unswitch towards `true`. However, when we are unswitching a set of</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2158</td>
    <td class="codeLine">  // invariants combined with `and` or `or` or partially invariant instructions,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2158</td>
    <td class="codeLine">  // invariants combined with `and` or `or` or partially invariant instructions,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2159</td>
    <td class="codeLine">  // the combining operation determines the best direction to unswitch: we want</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2159</td>
    <td class="codeLine">  // the combining operation determines the best direction to unswitch: we want</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2160</td>
    <td class="codeLine">  // to unswitch the direction that will collapse the branch.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2160</td>
    <td class="codeLine">  // to unswitch the direction that will collapse the branch.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2161</td>
    <td class="codeLine">  bool Direction = true;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2161</td>
    <td class="codeLine">  bool Direction = true;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2162</td>
    <td class="codeLine">  int ClonedSucc = 0;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2162</td>
    <td class="codeLine">  int ClonedSucc = 0;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2163</td>
    <td class="codeLine">  if (!FullUnswitch) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2163</td>
    <td class="codeLine">  if (!FullUnswitch) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2164</td>
    <td class="codeLine">    Value *Cond = skipTrivialSelect(BI->getCondition());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2164</td>
    <td class="codeLine">    Value *Cond = skipTrivialSelect(BI->getCondition());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2165</td>
    <td class="codeLine">    (void)Cond;</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2165</td>
    <td class="codeLine">    (void)Cond;</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2166</td>
    <td class="codeLine">    assert(((match(Cond, m_LogicalAnd()) ^ match(Cond, m_LogicalOr())) ||</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2166</td>
    <td class="codeLine">    assert(((match(Cond, m_LogicalAnd()) ^ match(Cond, m_LogicalOr())) ||</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2167</td>
    <td class="codeLine">            PartiallyInvariant) &&</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2167</td>
    <td class="codeLine">            PartiallyInvariant) &&</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2168</td>
    <td class="codeLine">           "Only `or`, `and`, an `select`, partially invariant instructions "</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2168</td>
    <td class="codeLine">           "Only `or`, `and`, an `select`, partially invariant instructions "</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2169</td>
    <td class="codeLine">           "can combine invariants being unswitched.");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2169</td>
    <td class="codeLine">           "can combine invariants being unswitched.");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2170</td>
    <td class="codeLine">    if (!match(Cond, m_LogicalOr())) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2170</td>
    <td class="codeLine">    if (!match(Cond, m_LogicalOr())) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2171</td>
    <td class="codeLine">      if (match(Cond, m_LogicalAnd()) ||</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2171</td>
    <td class="codeLine">      if (match(Cond, m_LogicalAnd()) ||</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2172</td>
    <td class="codeLine">          (PartiallyInvariant && !PartialIVInfo.KnownValue->isOneValue())) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2172</td>
    <td class="codeLine">          (PartiallyInvariant && !PartialIVInfo.KnownValue->isOneValue())) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2173</td>
    <td class="codeLine">        Direction = false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2173</td>
    <td class="codeLine">        Direction = false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2174</td>
    <td class="codeLine">        ClonedSucc = 1;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2174</td>
    <td class="codeLine">        ClonedSucc = 1;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2175</td>
    <td class="codeLine">      }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2175</td>
    <td class="codeLine">      }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2176</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2176</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2177</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2177</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2178</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2178</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2179</td>
    <td class="codeLine">  BasicBlock *RetainedSuccBB =</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2179</td>
    <td class="codeLine">  BasicBlock *RetainedSuccBB =</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2180</td>
    <td class="codeLine">      BI ? BI->getSuccessor(1 - ClonedSucc) : SI->getDefaultDest();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2180</td>
    <td class="codeLine">      BI ? BI->getSuccessor(1 - ClonedSucc) : SI->getDefaultDest();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2181</td>
    <td class="codeLine">  SmallSetVector<BasicBlock *, 4> UnswitchedSuccBBs;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2181</td>
    <td class="codeLine">  SmallSetVector<BasicBlock *, 4> UnswitchedSuccBBs;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2182</td>
    <td class="codeLine">  if (BI)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2182</td>
    <td class="codeLine">  if (BI)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2183</td>
    <td class="codeLine">    UnswitchedSuccBBs.insert(BI->getSuccessor(ClonedSucc));</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2183</td>
    <td class="codeLine">    UnswitchedSuccBBs.insert(BI->getSuccessor(ClonedSucc));</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2184</td>
    <td class="codeLine">  else</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2184</td>
    <td class="codeLine">  else</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2185</td>
    <td class="codeLine">    for (auto Case : SI->cases())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2185</td>
    <td class="codeLine">    for (auto Case : SI->cases())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2186</td>
    <td class="codeLine">      if (Case.getCaseSuccessor() != RetainedSuccBB)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2186</td>
    <td class="codeLine">      if (Case.getCaseSuccessor() != RetainedSuccBB)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2187</td>
    <td class="codeLine">        UnswitchedSuccBBs.insert(Case.getCaseSuccessor());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2187</td>
    <td class="codeLine">        UnswitchedSuccBBs.insert(Case.getCaseSuccessor());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2188</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2188</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2189</td>
    <td class="codeLine">  assert(!UnswitchedSuccBBs.count(RetainedSuccBB) &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2189</td>
    <td class="codeLine">  assert(!UnswitchedSuccBBs.count(RetainedSuccBB) &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2190</td>
    <td class="codeLine">         "Should not unswitch the same successor we are retaining!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2190</td>
    <td class="codeLine">         "Should not unswitch the same successor we are retaining!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2191</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2191</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2192</td>
    <td class="codeLine">  // The branch should be in this exact loop. Any inner loop's invariant branch</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2192</td>
    <td class="codeLine">  // The branch should be in this exact loop. Any inner loop's invariant branch</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2193</td>
    <td class="codeLine">  // should be handled by unswitching that inner loop. The caller of this</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2193</td>
    <td class="codeLine">  // should be handled by unswitching that inner loop. The caller of this</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2194</td>
    <td class="codeLine">  // routine should filter out any candidates that remain (but were skipped for</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2194</td>
    <td class="codeLine">  // routine should filter out any candidates that remain (but were skipped for</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2195</td>
    <td class="codeLine">  // whatever reason).</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2195</td>
    <td class="codeLine">  // whatever reason).</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2196</td>
    <td class="codeLine">  assert(LI.getLoopFor(ParentBB) == &L && "Branch in an inner loop!");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2196</td>
    <td class="codeLine">  assert(LI.getLoopFor(ParentBB) == &L && "Branch in an inner loop!");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2197</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2197</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2198</td>
    <td class="codeLine">  // Compute the parent loop now before we start hacking on things.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2198</td>
    <td class="codeLine">  // Compute the parent loop now before we start hacking on things.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2199</td>
    <td class="codeLine">  Loop *ParentL = L.getParentLoop();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2199</td>
    <td class="codeLine">  Loop *ParentL = L.getParentLoop();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2200</td>
    <td class="codeLine">  // Get blocks in RPO order for MSSA update, before changing the CFG.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2200</td>
    <td class="codeLine">  // Get blocks in RPO order for MSSA update, before changing the CFG.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2201</td>
    <td class="codeLine">  LoopBlocksRPO LBRPO(&L);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2201</td>
    <td class="codeLine">  LoopBlocksRPO LBRPO(&L);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2202</td>
    <td class="codeLine">  if (MSSAU)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2202</td>
    <td class="codeLine">  if (MSSAU)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2203</td>
    <td class="codeLine">    LBRPO.perform(&LI);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2203</td>
    <td class="codeLine">    LBRPO.perform(&LI);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2204</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2204</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2205</td>
    <td class="codeLine">  // Compute the outer-most loop containing one of our exit blocks. This is the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2205</td>
    <td class="codeLine">  // Compute the outer-most loop containing one of our exit blocks. This is the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2206</td>
    <td class="codeLine">  // furthest up our loopnest which can be mutated, which we will use below to</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2206</td>
    <td class="codeLine">  // furthest up our loopnest which can be mutated, which we will use below to</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2207</td>
    <td class="codeLine">  // update things.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2207</td>
    <td class="codeLine">  // update things.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2208</td>
    <td class="codeLine">  Loop *OuterExitL = &L;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2208</td>
    <td class="codeLine">  Loop *OuterExitL = &L;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2209</td>
    <td class="codeLine">  SmallVector<BasicBlock *, 4> ExitBlocks;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2209</td>
    <td class="codeLine">  SmallVector<BasicBlock *, 4> ExitBlocks;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2210</td>
    <td class="codeLine">  L.getUniqueExitBlocks(ExitBlocks);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2210</td>
    <td class="codeLine">  L.getUniqueExitBlocks(ExitBlocks);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2211</td>
    <td class="codeLine">  for (auto *ExitBB : ExitBlocks) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2211</td>
    <td class="codeLine">  for (auto *ExitBB : ExitBlocks) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2212</td>
    <td class="codeLine">    // ExitBB can be an exit block for several levels in the loop nest. Make</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2212</td>
    <td class="codeLine">    // ExitBB can be an exit block for several levels in the loop nest. Make</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2213</td>
    <td class="codeLine">    // sure we find the top most.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2213</td>
    <td class="codeLine">    // sure we find the top most.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2214</td>
    <td class="codeLine">    Loop *NewOuterExitL = getTopMostExitingLoop(ExitBB, LI);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2214</td>
    <td class="codeLine">    Loop *NewOuterExitL = getTopMostExitingLoop(ExitBB, LI);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2215</td>
    <td class="codeLine">    if (!NewOuterExitL) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2215</td>
    <td class="codeLine">    if (!NewOuterExitL) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2216</td>
    <td class="codeLine">      // We exited the entire nest with this block, so we're done.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2216</td>
    <td class="codeLine">      // We exited the entire nest with this block, so we're done.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2217</td>
    <td class="codeLine">      OuterExitL = nullptr;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2217</td>
    <td class="codeLine">      OuterExitL = nullptr;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2218</td>
    <td class="codeLine">      break;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2218</td>
    <td class="codeLine">      break;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2219</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2219</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2220</td>
    <td class="codeLine">    if (NewOuterExitL != OuterExitL && NewOuterExitL->contains(OuterExitL))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2220</td>
    <td class="codeLine">    if (NewOuterExitL != OuterExitL && NewOuterExitL->contains(OuterExitL))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2221</td>
    <td class="codeLine">      OuterExitL = NewOuterExitL;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2221</td>
    <td class="codeLine">      OuterExitL = NewOuterExitL;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2222</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2222</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2223</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2223</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2224</td>
    <td class="codeLine">  // At this point, we're definitely going to unswitch something so invalidate</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2224</td>
    <td class="codeLine">  // At this point, we're definitely going to unswitch something so invalidate</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2225</td>
    <td class="codeLine">  // any cached information in ScalarEvolution for the outer most loop</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2225</td>
    <td class="codeLine">  // any cached information in ScalarEvolution for the outer most loop</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2226</td>
    <td class="codeLine">  // containing an exit block and all nested loops.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2226</td>
    <td class="codeLine">  // containing an exit block and all nested loops.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2227</td>
    <td class="codeLine">  if (SE) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2227</td>
    <td class="codeLine">  if (SE) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2228</td>
    <td class="codeLine">    if (OuterExitL)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2228</td>
    <td class="codeLine">    if (OuterExitL)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2229</td>
    <td class="codeLine">      SE->forgetLoop(OuterExitL);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2229</td>
    <td class="codeLine">      SE->forgetLoop(OuterExitL);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2230</td>
    <td class="codeLine">    else</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2230</td>
    <td class="codeLine">    else</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2231</td>
    <td class="codeLine">      SE->forgetTopmostLoop(&L);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2231</td>
    <td class="codeLine">      SE->forgetTopmostLoop(&L);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2232</td>
    <td class="codeLine">    SE->forgetBlockAndLoopDispositions();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2232</td>
    <td class="codeLine">    SE->forgetBlockAndLoopDispositions();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2233</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2233</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2234</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2234</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2235</td>
    <td class="codeLine">  // If the edge from this terminator to a successor dominates that successor,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2235</td>
    <td class="codeLine">  // If the edge from this terminator to a successor dominates that successor,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2236</td>
    <td class="codeLine">  // store a map from each block in its dominator subtree to it. This lets us</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2236</td>
    <td class="codeLine">  // store a map from each block in its dominator subtree to it. This lets us</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2237</td>
    <td class="codeLine">  // tell when cloning for a particular successor if a block is dominated by</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2237</td>
    <td class="codeLine">  // tell when cloning for a particular successor if a block is dominated by</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2238</td>
    <td class="codeLine">  // some *other* successor with a single data structure. We use this to</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2238</td>
    <td class="codeLine">  // some *other* successor with a single data structure. We use this to</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2239</td>
    <td class="codeLine">  // significantly reduce cloning.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2239</td>
    <td class="codeLine">  // significantly reduce cloning.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2240</td>
    <td class="codeLine">  SmallDenseMap<BasicBlock *, BasicBlock *, 16> DominatingSucc;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2240</td>
    <td class="codeLine">  SmallDenseMap<BasicBlock *, BasicBlock *, 16> DominatingSucc;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2241</td>
    <td class="codeLine">  for (auto *SuccBB : llvm::concat<BasicBlock *const>(ArrayRef(RetainedSuccBB),</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2241</td>
    <td class="codeLine">  for (auto *SuccBB : llvm::concat<BasicBlock *const>(ArrayRef(RetainedSuccBB),</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2242</td>
    <td class="codeLine">                                                      UnswitchedSuccBBs))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2242</td>
    <td class="codeLine">                                                      UnswitchedSuccBBs))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2243</td>
    <td class="codeLine">    if (SuccBB->getUniquePredecessor() ||</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2243</td>
    <td class="codeLine">    if (SuccBB->getUniquePredecessor() ||</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2244</td>
    <td class="codeLine">        llvm::all_of(predecessors(SuccBB), [&](BasicBlock *PredBB) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2244</td>
    <td class="codeLine">        llvm::all_of(predecessors(SuccBB), [&](BasicBlock *PredBB) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2245</td>
    <td class="codeLine">          return PredBB == ParentBB || DT.dominates(SuccBB, PredBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2245</td>
    <td class="codeLine">          return PredBB == ParentBB || DT.dominates(SuccBB, PredBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2246</td>
    <td class="codeLine">        }))</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2246</td>
    <td class="codeLine">        }))</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2247</td>
    <td class="codeLine">      visitDomSubTree(DT, SuccBB, [&](BasicBlock *BB) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2247</td>
    <td class="codeLine">      visitDomSubTree(DT, SuccBB, [&](BasicBlock *BB) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2248</td>
    <td class="codeLine">        DominatingSucc[BB] = SuccBB;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2248</td>
    <td class="codeLine">        DominatingSucc[BB] = SuccBB;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2249</td>
    <td class="codeLine">        return true;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2249</td>
    <td class="codeLine">        return true;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2250</td>
    <td class="codeLine">      });</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2250</td>
    <td class="codeLine">      });</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2251</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2251</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2252</td>
    <td class="codeLine">  // Split the preheader, so that we know that there is a safe place to insert</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2252</td>
    <td class="codeLine">  // Split the preheader, so that we know that there is a safe place to insert</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2253</td>
    <td class="codeLine">  // the conditional branch. We will change the preheader to have a conditional</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2253</td>
    <td class="codeLine">  // the conditional branch. We will change the preheader to have a conditional</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2254</td>
    <td class="codeLine">  // branch on LoopCond. The original preheader will become the split point</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2254</td>
    <td class="codeLine">  // branch on LoopCond. The original preheader will become the split point</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2255</td>
    <td class="codeLine">  // between the unswitched versions, and we will have a new preheader for the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2255</td>
    <td class="codeLine">  // between the unswitched versions, and we will have a new preheader for the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2256</td>
    <td class="codeLine">  // original loop.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2256</td>
    <td class="codeLine">  // original loop.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2257</td>
    <td class="codeLine">  BasicBlock *SplitBB = L.getLoopPreheader();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2257</td>
    <td class="codeLine">  BasicBlock *SplitBB = L.getLoopPreheader();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2258</td>
    <td class="codeLine">  BasicBlock *LoopPH = SplitEdge(SplitBB, L.getHeader(), &DT, &LI, MSSAU);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2258</td>
    <td class="codeLine">  BasicBlock *LoopPH = SplitEdge(SplitBB, L.getHeader(), &DT, &LI, MSSAU);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2259</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2259</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2260</td>
    <td class="codeLine">  // Keep track of the dominator tree updates needed.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2260</td>
    <td class="codeLine">  // Keep track of the dominator tree updates needed.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2261</td>
    <td class="codeLine">  SmallVector<DominatorTree::UpdateType, 4> DTUpdates;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2261</td>
    <td class="codeLine">  SmallVector<DominatorTree::UpdateType, 4> DTUpdates;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2262</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2262</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2263</td>
    <td class="codeLine">  // Clone the loop for each unswitched successor.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2263</td>
    <td class="codeLine">  // Clone the loop for each unswitched successor.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2264</td>
    <td class="codeLine">  SmallVector<std::unique_ptr<ValueToValueMapTy>, 4> VMaps;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2264</td>
    <td class="codeLine">  SmallVector<std::unique_ptr<ValueToValueMapTy>, 4> VMaps;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2265</td>
    <td class="codeLine">  VMaps.reserve(UnswitchedSuccBBs.size());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2265</td>
    <td class="codeLine">  VMaps.reserve(UnswitchedSuccBBs.size());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2266</td>
    <td class="codeLine">  SmallDenseMap<BasicBlock *, BasicBlock *, 4> ClonedPHs;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2266</td>
    <td class="codeLine">  SmallDenseMap<BasicBlock *, BasicBlock *, 4> ClonedPHs;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2267</td>
    <td class="codeLine">  for (auto *SuccBB : UnswitchedSuccBBs) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2267</td>
    <td class="codeLine">  for (auto *SuccBB : UnswitchedSuccBBs) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2268</td>
    <td class="codeLine">    VMaps.emplace_back(new ValueToValueMapTy());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2268</td>
    <td class="codeLine">    VMaps.emplace_back(new ValueToValueMapTy());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2269</td>
    <td class="codeLine">    ClonedPHs[SuccBB] = buildClonedLoopBlocks(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2269</td>
    <td class="codeLine">    ClonedPHs[SuccBB] = buildClonedLoopBlocks(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2270</td>
    <td class="codeLine">        L, LoopPH, SplitBB, ExitBlocks, ParentBB, SuccBB, RetainedSuccBB,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2270</td>
    <td class="codeLine">        L, LoopPH, SplitBB, ExitBlocks, ParentBB, SuccBB, RetainedSuccBB,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2271</td>
    <td class="codeLine">        DominatingSucc, *VMaps.back(), DTUpdates, AC, DT, LI, MSSAU, SE);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2271</td>
    <td class="codeLine">        DominatingSucc, *VMaps.back(), DTUpdates, AC, DT, LI, MSSAU, SE);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2272</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2272</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2273</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2273</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2274</td>
    <td class="codeLine">  // Drop metadata if we may break its semantics by moving this instr into the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2274</td>
    <td class="codeLine">  // Drop metadata if we may break its semantics by moving this instr into the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2275</td>
    <td class="codeLine">  // split block.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2275</td>
    <td class="codeLine">  // split block.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2276</td>
    <td class="codeLine">  if (TI.getMetadata(LLVMContext::MD_make_implicit)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2276</td>
    <td class="codeLine">  if (TI.getMetadata(LLVMContext::MD_make_implicit)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2277</td>
    <td class="codeLine">    if (DropNonTrivialImplicitNullChecks)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2277</td>
    <td class="codeLine">    if (DropNonTrivialImplicitNullChecks)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2278</td>
    <td class="codeLine">      // Do not spend time trying to understand if we can keep it, just drop it</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2278</td>
    <td class="codeLine">      // Do not spend time trying to understand if we can keep it, just drop it</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2279</td>
    <td class="codeLine">      // to save compile time.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2279</td>
    <td class="codeLine">      // to save compile time.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2280</td>
    <td class="codeLine">      TI.setMetadata(LLVMContext::MD_make_implicit, nullptr);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2280</td>
    <td class="codeLine">      TI.setMetadata(LLVMContext::MD_make_implicit, nullptr);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2281</td>
    <td class="codeLine">    else {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2281</td>
    <td class="codeLine">    else {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2282</td>
    <td class="codeLine">      // It is only legal to preserve make.implicit metadata if we are</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2282</td>
    <td class="codeLine">      // It is only legal to preserve make.implicit metadata if we are</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2283</td>
    <td class="codeLine">      // guaranteed no reach implicit null check after following this branch.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2283</td>
    <td class="codeLine">      // guaranteed no reach implicit null check after following this branch.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2284</td>
    <td class="codeLine">      ICFLoopSafetyInfo SafetyInfo;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2284</td>
    <td class="codeLine">      ICFLoopSafetyInfo SafetyInfo;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2285</td>
    <td class="codeLine">      SafetyInfo.computeLoopSafetyInfo(&L);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2285</td>
    <td class="codeLine">      SafetyInfo.computeLoopSafetyInfo(&L);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2286</td>
    <td class="codeLine">      if (!SafetyInfo.isGuaranteedToExecute(TI, &DT, &L))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2286</td>
    <td class="codeLine">      if (!SafetyInfo.isGuaranteedToExecute(TI, &DT, &L))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2287</td>
    <td class="codeLine">        TI.setMetadata(LLVMContext::MD_make_implicit, nullptr);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2287</td>
    <td class="codeLine">        TI.setMetadata(LLVMContext::MD_make_implicit, nullptr);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2288</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2288</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2289</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2289</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2290</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2290</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2291</td>
    <td class="codeLine">  // The stitching of the branched code back together depends on whether we're</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2291</td>
    <td class="codeLine">  // The stitching of the branched code back together depends on whether we're</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2292</td>
    <td class="codeLine">  // doing full unswitching or not with the exception that we always want to</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2292</td>
    <td class="codeLine">  // doing full unswitching or not with the exception that we always want to</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2293</td>
    <td class="codeLine">  // nuke the initial terminator placed in the split block.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2293</td>
    <td class="codeLine">  // nuke the initial terminator placed in the split block.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2294</td>
    <td class="codeLine">  SplitBB->getTerminator()->eraseFromParent();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2294</td>
    <td class="codeLine">  SplitBB->getTerminator()->eraseFromParent();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2295</td>
    <td class="codeLine">  if (FullUnswitch) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2295</td>
    <td class="codeLine">  if (FullUnswitch) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2296</td>
    <td class="codeLine">    // Splice the terminator from the original loop and rewrite its</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2296</td>
    <td class="codeLine">    // Splice the terminator from the original loop and rewrite its</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2297</td>
    <td class="codeLine">    // successors.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2297</td>
    <td class="codeLine">    // successors.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2298</td>
    <td class="codeLine">    SplitBB->splice(SplitBB->end(), ParentBB, TI.getIterator());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2298</td>
    <td class="codeLine">    SplitBB->splice(SplitBB->end(), ParentBB, TI.getIterator());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2299</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2299</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2300</td>
    <td class="codeLine">    // Keep a clone of the terminator for MSSA updates.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2300</td>
    <td class="codeLine">    // Keep a clone of the terminator for MSSA updates.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2301</td>
    <td class="codeLine">    Instruction *NewTI = TI.clone();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2301</td>
    <td class="codeLine">    Instruction *NewTI = TI.clone();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2302</td>
    <td class="codeLine">    NewTI->insertInto(ParentBB, ParentBB->end());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2302</td>
    <td class="codeLine">    NewTI->insertInto(ParentBB, ParentBB->end());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2303</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2303</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2304</td>
    <td class="codeLine">    // First wire up the moved terminator to the preheaders.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2304</td>
    <td class="codeLine">    // First wire up the moved terminator to the preheaders.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2305</td>
    <td class="codeLine">    if (BI) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2305</td>
    <td class="codeLine">    if (BI) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2306</td>
    <td class="codeLine">      BasicBlock *ClonedPH = ClonedPHs.begin()->second;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2306</td>
    <td class="codeLine">      BasicBlock *ClonedPH = ClonedPHs.begin()->second;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2307</td>
    <td class="codeLine">      BI->setSuccessor(ClonedSucc, ClonedPH);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2307</td>
    <td class="codeLine">      BI->setSuccessor(ClonedSucc, ClonedPH);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2308</td>
    <td class="codeLine">      BI->setSuccessor(1 - ClonedSucc, LoopPH);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2308</td>
    <td class="codeLine">      BI->setSuccessor(1 - ClonedSucc, LoopPH);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2309</td>
    <td class="codeLine">      Value *Cond = skipTrivialSelect(BI->getCondition());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2309</td>
    <td class="codeLine">      Value *Cond = skipTrivialSelect(BI->getCondition());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2310</td>
    <td class="codeLine">      if (InsertFreeze)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2310</td>
    <td class="codeLine">      if (InsertFreeze)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2311</td>
    <td class="codeLine">        Cond = new FreezeInst(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2311</td>
    <td class="codeLine">        Cond = new FreezeInst(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2312</td>
    <td class="codeLine">            Cond, Cond->getName() + ".fr", BI);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2312</td>
    <td class="codeLine">            Cond, Cond->getName() + ".fr", BI);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2313</td>
    <td class="codeLine">      BI->setCondition(Cond);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2313</td>
    <td class="codeLine">      BI->setCondition(Cond);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2314</td>
    <td class="codeLine">      DTUpdates.push_back({DominatorTree::Insert, SplitBB, ClonedPH});</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2314</td>
    <td class="codeLine">      DTUpdates.push_back({DominatorTree::Insert, SplitBB, ClonedPH});</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2315</td>
    <td class="codeLine">    } else {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2315</td>
    <td class="codeLine">    } else {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2316</td>
    <td class="codeLine">      assert(SI && "Must either be a branch or switch!");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2316</td>
    <td class="codeLine">      assert(SI && "Must either be a branch or switch!");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2317</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2317</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2318</td>
    <td class="codeLine">      // Walk the cases and directly update their successors.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2318</td>
    <td class="codeLine">      // Walk the cases and directly update their successors.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2319</td>
    <td class="codeLine">      assert(SI->getDefaultDest() == RetainedSuccBB &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2319</td>
    <td class="codeLine">      assert(SI->getDefaultDest() == RetainedSuccBB &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2320</td>
    <td class="codeLine">             "Not retaining default successor!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2320</td>
    <td class="codeLine">             "Not retaining default successor!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2321</td>
    <td class="codeLine">      SI->setDefaultDest(LoopPH);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2321</td>
    <td class="codeLine">      SI->setDefaultDest(LoopPH);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2322</td>
    <td class="codeLine">      for (const auto &Case : SI->cases())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2322</td>
    <td class="codeLine">      for (const auto &Case : SI->cases())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2323</td>
    <td class="codeLine">        if (Case.getCaseSuccessor() == RetainedSuccBB)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2323</td>
    <td class="codeLine">        if (Case.getCaseSuccessor() == RetainedSuccBB)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2324</td>
    <td class="codeLine">          Case.setSuccessor(LoopPH);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2324</td>
    <td class="codeLine">          Case.setSuccessor(LoopPH);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2325</td>
    <td class="codeLine">        else</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2325</td>
    <td class="codeLine">        else</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2326</td>
    <td class="codeLine">          Case.setSuccessor(ClonedPHs.find(Case.getCaseSuccessor())->second);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2326</td>
    <td class="codeLine">          Case.setSuccessor(ClonedPHs.find(Case.getCaseSuccessor())->second);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2327</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2327</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2328</td>
    <td class="codeLine">      if (InsertFreeze)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2328</td>
    <td class="codeLine">      if (InsertFreeze)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2329</td>
    <td class="codeLine">        SI->setCondition(new FreezeInst(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2329</td>
    <td class="codeLine">        SI->setCondition(new FreezeInst(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2330</td>
    <td class="codeLine">            SI->getCondition(), SI->getCondition()->getName() + ".fr", SI));</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2330</td>
    <td class="codeLine">            SI->getCondition(), SI->getCondition()->getName() + ".fr", SI));</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2331</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2331</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2332</td>
    <td class="codeLine">      // We need to use the set to populate domtree updates as even when there</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2332</td>
    <td class="codeLine">      // We need to use the set to populate domtree updates as even when there</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2333</td>
    <td class="codeLine">      // are multiple cases pointing at the same successor we only want to</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2333</td>
    <td class="codeLine">      // are multiple cases pointing at the same successor we only want to</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2334</td>
    <td class="codeLine">      // remove and insert one edge in the domtree.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2334</td>
    <td class="codeLine">      // remove and insert one edge in the domtree.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2335</td>
    <td class="codeLine">      for (BasicBlock *SuccBB : UnswitchedSuccBBs)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2335</td>
    <td class="codeLine">      for (BasicBlock *SuccBB : UnswitchedSuccBBs)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2336</td>
    <td class="codeLine">        DTUpdates.push_back(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2336</td>
    <td class="codeLine">        DTUpdates.push_back(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2337</td>
    <td class="codeLine">            {DominatorTree::Insert, SplitBB, ClonedPHs.find(SuccBB)->second});</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2337</td>
    <td class="codeLine">            {DominatorTree::Insert, SplitBB, ClonedPHs.find(SuccBB)->second});</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2338</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2338</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2339</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2339</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2340</td>
    <td class="codeLine">    if (MSSAU) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2340</td>
    <td class="codeLine">    if (MSSAU) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2341</td>
    <td class="codeLine">      DT.applyUpdates(DTUpdates);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2341</td>
    <td class="codeLine">      DT.applyUpdates(DTUpdates);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2342</td>
    <td class="codeLine">      DTUpdates.clear();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2342</td>
    <td class="codeLine">      DTUpdates.clear();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2343</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2343</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2344</td>
    <td class="codeLine">      // Remove all but one edge to the retained block and all unswitched</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2344</td>
    <td class="codeLine">      // Remove all but one edge to the retained block and all unswitched</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2345</td>
    <td class="codeLine">      // blocks. This is to avoid having duplicate entries in the cloned Phis,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2345</td>
    <td class="codeLine">      // blocks. This is to avoid having duplicate entries in the cloned Phis,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2346</td>
    <td class="codeLine">      // when we know we only keep a single edge for each case.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2346</td>
    <td class="codeLine">      // when we know we only keep a single edge for each case.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2347</td>
    <td class="codeLine">      MSSAU->removeDuplicatePhiEdgesBetween(ParentBB, RetainedSuccBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2347</td>
    <td class="codeLine">      MSSAU->removeDuplicatePhiEdgesBetween(ParentBB, RetainedSuccBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2348</td>
    <td class="codeLine">      for (BasicBlock *SuccBB : UnswitchedSuccBBs)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2348</td>
    <td class="codeLine">      for (BasicBlock *SuccBB : UnswitchedSuccBBs)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2349</td>
    <td class="codeLine">        MSSAU->removeDuplicatePhiEdgesBetween(ParentBB, SuccBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2349</td>
    <td class="codeLine">        MSSAU->removeDuplicatePhiEdgesBetween(ParentBB, SuccBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2350</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2350</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2351</td>
    <td class="codeLine">      for (auto &VMap : VMaps)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2351</td>
    <td class="codeLine">      for (auto &VMap : VMaps)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2352</td>
    <td class="codeLine">        MSSAU->updateForClonedLoop(LBRPO, ExitBlocks, *VMap,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2352</td>
    <td class="codeLine">        MSSAU->updateForClonedLoop(LBRPO, ExitBlocks, *VMap,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2353</td>
    <td class="codeLine">                                   /*IgnoreIncomingWithNoClones=*/true);</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2353</td>
    <td class="codeLine">                                   /*IgnoreIncomingWithNoClones=*/true);</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2354</td>
    <td class="codeLine">      MSSAU->updateExitBlocksForClonedLoop(ExitBlocks, VMaps, DT);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2354</td>
    <td class="codeLine">      MSSAU->updateExitBlocksForClonedLoop(ExitBlocks, VMaps, DT);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2355</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2355</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2356</td>
    <td class="codeLine">      // Remove all edges to unswitched blocks.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2356</td>
    <td class="codeLine">      // Remove all edges to unswitched blocks.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2357</td>
    <td class="codeLine">      for (BasicBlock *SuccBB : UnswitchedSuccBBs)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2357</td>
    <td class="codeLine">      for (BasicBlock *SuccBB : UnswitchedSuccBBs)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2358</td>
    <td class="codeLine">        MSSAU->removeEdge(ParentBB, SuccBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2358</td>
    <td class="codeLine">        MSSAU->removeEdge(ParentBB, SuccBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2359</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2359</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2360</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2360</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2361</td>
    <td class="codeLine">    // Now unhook the successor relationship as we'll be replacing</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2361</td>
    <td class="codeLine">    // Now unhook the successor relationship as we'll be replacing</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2362</td>
    <td class="codeLine">    // the terminator with a direct branch. This is much simpler for branches</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2362</td>
    <td class="codeLine">    // the terminator with a direct branch. This is much simpler for branches</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2363</td>
    <td class="codeLine">    // than switches so we handle those first.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2363</td>
    <td class="codeLine">    // than switches so we handle those first.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2364</td>
    <td class="codeLine">    if (BI) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2364</td>
    <td class="codeLine">    if (BI) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2365</td>
    <td class="codeLine">      // Remove the parent as a predecessor of the unswitched successor.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2365</td>
    <td class="codeLine">      // Remove the parent as a predecessor of the unswitched successor.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2366</td>
    <td class="codeLine">      assert(UnswitchedSuccBBs.size() == 1 &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2366</td>
    <td class="codeLine">      assert(UnswitchedSuccBBs.size() == 1 &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2367</td>
    <td class="codeLine">             "Only one possible unswitched block for a branch!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2367</td>
    <td class="codeLine">             "Only one possible unswitched block for a branch!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2368</td>
    <td class="codeLine">      BasicBlock *UnswitchedSuccBB = *UnswitchedSuccBBs.begin();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2368</td>
    <td class="codeLine">      BasicBlock *UnswitchedSuccBB = *UnswitchedSuccBBs.begin();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2369</td>
    <td class="codeLine">      UnswitchedSuccBB->removePredecessor(ParentBB,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2369</td>
    <td class="codeLine">      UnswitchedSuccBB->removePredecessor(ParentBB,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2370</td>
    <td class="codeLine">                                          /*KeepOneInputPHIs*/ true);</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2370</td>
    <td class="codeLine">                                          /*KeepOneInputPHIs*/ true);</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2371</td>
    <td class="codeLine">      DTUpdates.push_back({DominatorTree::Delete, ParentBB, UnswitchedSuccBB});</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2371</td>
    <td class="codeLine">      DTUpdates.push_back({DominatorTree::Delete, ParentBB, UnswitchedSuccBB});</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2372</td>
    <td class="codeLine">    } else {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2372</td>
    <td class="codeLine">    } else {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2373</td>
    <td class="codeLine">      // Note that we actually want to remove the parent block as a predecessor</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2373</td>
    <td class="codeLine">      // Note that we actually want to remove the parent block as a predecessor</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2374</td>
    <td class="codeLine">      // of *every* case successor. The case successor is either unswitched,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2374</td>
    <td class="codeLine">      // of *every* case successor. The case successor is either unswitched,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2375</td>
    <td class="codeLine">      // completely eliminating an edge from the parent to that successor, or it</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2375</td>
    <td class="codeLine">      // completely eliminating an edge from the parent to that successor, or it</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2376</td>
    <td class="codeLine">      // is a duplicate edge to the retained successor as the retained successor</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2376</td>
    <td class="codeLine">      // is a duplicate edge to the retained successor as the retained successor</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2377</td>
    <td class="codeLine">      // is always the default successor and as we'll replace this with a direct</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2377</td>
    <td class="codeLine">      // is always the default successor and as we'll replace this with a direct</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2378</td>
    <td class="codeLine">      // branch we no longer need the duplicate entries in the PHI nodes.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2378</td>
    <td class="codeLine">      // branch we no longer need the duplicate entries in the PHI nodes.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2379</td>
    <td class="codeLine">      SwitchInst *NewSI = cast<SwitchInst>(NewTI);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2379</td>
    <td class="codeLine">      SwitchInst *NewSI = cast<SwitchInst>(NewTI);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2380</td>
    <td class="codeLine">      assert(NewSI->getDefaultDest() == RetainedSuccBB &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2380</td>
    <td class="codeLine">      assert(NewSI->getDefaultDest() == RetainedSuccBB &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2381</td>
    <td class="codeLine">             "Not retaining default successor!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2381</td>
    <td class="codeLine">             "Not retaining default successor!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2382</td>
    <td class="codeLine">      for (const auto &Case : NewSI->cases())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2382</td>
    <td class="codeLine">      for (const auto &Case : NewSI->cases())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2383</td>
    <td class="codeLine">        Case.getCaseSuccessor()->removePredecessor(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2383</td>
    <td class="codeLine">        Case.getCaseSuccessor()->removePredecessor(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2384</td>
    <td class="codeLine">            ParentBB,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2384</td>
    <td class="codeLine">            ParentBB,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2385</td>
    <td class="codeLine">            /*KeepOneInputPHIs*/ true);</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2385</td>
    <td class="codeLine">            /*KeepOneInputPHIs*/ true);</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2386</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2386</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2387</td>
    <td class="codeLine">      // We need to use the set to populate domtree updates as even when there</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2387</td>
    <td class="codeLine">      // We need to use the set to populate domtree updates as even when there</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2388</td>
    <td class="codeLine">      // are multiple cases pointing at the same successor we only want to</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2388</td>
    <td class="codeLine">      // are multiple cases pointing at the same successor we only want to</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2389</td>
    <td class="codeLine">      // remove and insert one edge in the domtree.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2389</td>
    <td class="codeLine">      // remove and insert one edge in the domtree.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2390</td>
    <td class="codeLine">      for (BasicBlock *SuccBB : UnswitchedSuccBBs)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2390</td>
    <td class="codeLine">      for (BasicBlock *SuccBB : UnswitchedSuccBBs)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2391</td>
    <td class="codeLine">        DTUpdates.push_back({DominatorTree::Delete, ParentBB, SuccBB});</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2391</td>
    <td class="codeLine">        DTUpdates.push_back({DominatorTree::Delete, ParentBB, SuccBB});</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2392</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2392</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2393</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2393</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2394</td>
    <td class="codeLine">    // After MSSAU update, remove the cloned terminator instruction NewTI.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2394</td>
    <td class="codeLine">    // After MSSAU update, remove the cloned terminator instruction NewTI.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2395</td>
    <td class="codeLine">    ParentBB->getTerminator()->eraseFromParent();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2395</td>
    <td class="codeLine">    ParentBB->getTerminator()->eraseFromParent();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2396</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2396</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2397</td>
    <td class="codeLine">    // Create a new unconditional branch to the continuing block (as opposed to</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2397</td>
    <td class="codeLine">    // Create a new unconditional branch to the continuing block (as opposed to</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2398</td>
    <td class="codeLine">    // the one cloned).</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2398</td>
    <td class="codeLine">    // the one cloned).</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2399</td>
    <td class="codeLine">    BranchInst::Create(RetainedSuccBB, ParentBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2399</td>
    <td class="codeLine">    BranchInst::Create(RetainedSuccBB, ParentBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2400</td>
    <td class="codeLine">  } else {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2400</td>
    <td class="codeLine">  } else {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2401</td>
    <td class="codeLine">    assert(BI && "Only branches have partial unswitching.");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2401</td>
    <td class="codeLine">    assert(BI && "Only branches have partial unswitching.");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2402</td>
    <td class="codeLine">    assert(UnswitchedSuccBBs.size() == 1 &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2402</td>
    <td class="codeLine">    assert(UnswitchedSuccBBs.size() == 1 &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2403</td>
    <td class="codeLine">           "Only one possible unswitched block for a branch!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2403</td>
    <td class="codeLine">           "Only one possible unswitched block for a branch!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2404</td>
    <td class="codeLine">    BasicBlock *ClonedPH = ClonedPHs.begin()->second;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2404</td>
    <td class="codeLine">    BasicBlock *ClonedPH = ClonedPHs.begin()->second;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2405</td>
    <td class="codeLine">    // When doing a partial unswitch, we have to do a bit more work to build up</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2405</td>
    <td class="codeLine">    // When doing a partial unswitch, we have to do a bit more work to build up</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2406</td>
    <td class="codeLine">    // the branch in the split block.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2406</td>
    <td class="codeLine">    // the branch in the split block.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2407</td>
    <td class="codeLine">    if (PartiallyInvariant)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2407</td>
    <td class="codeLine">    if (PartiallyInvariant)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2408</td>
    <td class="codeLine">      buildPartialInvariantUnswitchConditionalBranch(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2408</td>
    <td class="codeLine">      buildPartialInvariantUnswitchConditionalBranch(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2409</td>
    <td class="codeLine">          *SplitBB, Invariants, Direction, *ClonedPH, *LoopPH, L, MSSAU);</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2409</td>
    <td class="codeLine">          *SplitBB, Invariants, Direction, *ClonedPH, *LoopPH, L, MSSAU);</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2410</td>
    <td class="codeLine">    else {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2410</td>
    <td class="codeLine">    else {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2411</td>
    <td class="codeLine">      buildPartialUnswitchConditionalBranch(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2411</td>
    <td class="codeLine">      buildPartialUnswitchConditionalBranch(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2412</td>
    <td class="codeLine">          *SplitBB, Invariants, Direction, *ClonedPH, *LoopPH,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2412</td>
    <td class="codeLine">          *SplitBB, Invariants, Direction, *ClonedPH, *LoopPH,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2413</td>
    <td class="codeLine">          FreezeLoopUnswitchCond, BI, &AC, DT);</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2413</td>
    <td class="codeLine">          FreezeLoopUnswitchCond, BI, &AC, DT);</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2414</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2414</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2415</td>
    <td class="codeLine">    DTUpdates.push_back({DominatorTree::Insert, SplitBB, ClonedPH});</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2415</td>
    <td class="codeLine">    DTUpdates.push_back({DominatorTree::Insert, SplitBB, ClonedPH});</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2416</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2416</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2417</td>
    <td class="codeLine">    if (MSSAU) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2417</td>
    <td class="codeLine">    if (MSSAU) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2418</td>
    <td class="codeLine">      DT.applyUpdates(DTUpdates);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2418</td>
    <td class="codeLine">      DT.applyUpdates(DTUpdates);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2419</td>
    <td class="codeLine">      DTUpdates.clear();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2419</td>
    <td class="codeLine">      DTUpdates.clear();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2420</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2420</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2421</td>
    <td class="codeLine">      // Perform MSSA cloning updates.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2421</td>
    <td class="codeLine">      // Perform MSSA cloning updates.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2422</td>
    <td class="codeLine">      for (auto &VMap : VMaps)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2422</td>
    <td class="codeLine">      for (auto &VMap : VMaps)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2423</td>
    <td class="codeLine">        MSSAU->updateForClonedLoop(LBRPO, ExitBlocks, *VMap,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2423</td>
    <td class="codeLine">        MSSAU->updateForClonedLoop(LBRPO, ExitBlocks, *VMap,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2424</td>
    <td class="codeLine">                                   /*IgnoreIncomingWithNoClones=*/true);</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2424</td>
    <td class="codeLine">                                   /*IgnoreIncomingWithNoClones=*/true);</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2425</td>
    <td class="codeLine">      MSSAU->updateExitBlocksForClonedLoop(ExitBlocks, VMaps, DT);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2425</td>
    <td class="codeLine">      MSSAU->updateExitBlocksForClonedLoop(ExitBlocks, VMaps, DT);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2426</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2426</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2427</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2427</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2428</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2428</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2429</td>
    <td class="codeLine">  // Apply the updates accumulated above to get an up-to-date dominator tree.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2429</td>
    <td class="codeLine">  // Apply the updates accumulated above to get an up-to-date dominator tree.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2430</td>
    <td class="codeLine">  DT.applyUpdates(DTUpdates);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2430</td>
    <td class="codeLine">  DT.applyUpdates(DTUpdates);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2431</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2431</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2432</td>
    <td class="codeLine">  // Now that we have an accurate dominator tree, first delete the dead cloned</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2432</td>
    <td class="codeLine">  // Now that we have an accurate dominator tree, first delete the dead cloned</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2433</td>
    <td class="codeLine">  // blocks so that we can accurately build any cloned loops. It is important to</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2433</td>
    <td class="codeLine">  // blocks so that we can accurately build any cloned loops. It is important to</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2434</td>
    <td class="codeLine">  // not delete the blocks from the original loop yet because we still want to</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2434</td>
    <td class="codeLine">  // not delete the blocks from the original loop yet because we still want to</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2435</td>
    <td class="codeLine">  // reference the original loop to understand the cloned loop's structure.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2435</td>
    <td class="codeLine">  // reference the original loop to understand the cloned loop's structure.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2436</td>
    <td class="codeLine">  deleteDeadClonedBlocks(L, ExitBlocks, VMaps, DT, MSSAU);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2436</td>
    <td class="codeLine">  deleteDeadClonedBlocks(L, ExitBlocks, VMaps, DT, MSSAU);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2437</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2437</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2438</td>
    <td class="codeLine">  // Build the cloned loop structure itself. This may be substantially</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2438</td>
    <td class="codeLine">  // Build the cloned loop structure itself. This may be substantially</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2439</td>
    <td class="codeLine">  // different from the original structure due to the simplified CFG. This also</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2439</td>
    <td class="codeLine">  // different from the original structure due to the simplified CFG. This also</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2440</td>
    <td class="codeLine">  // handles inserting all the cloned blocks into the correct loops.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2440</td>
    <td class="codeLine">  // handles inserting all the cloned blocks into the correct loops.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2441</td>
    <td class="codeLine">  SmallVector<Loop *, 4> NonChildClonedLoops;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2441</td>
    <td class="codeLine">  SmallVector<Loop *, 4> NonChildClonedLoops;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2442</td>
    <td class="codeLine">  for (std::unique_ptr<ValueToValueMapTy> &VMap : VMaps)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2442</td>
    <td class="codeLine">  for (std::unique_ptr<ValueToValueMapTy> &VMap : VMaps)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2443</td>
    <td class="codeLine">    buildClonedLoops(L, ExitBlocks, *VMap, LI, NonChildClonedLoops);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2443</td>
    <td class="codeLine">    buildClonedLoops(L, ExitBlocks, *VMap, LI, NonChildClonedLoops);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2444</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2444</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2445</td>
    <td class="codeLine">  // Now that our cloned loops have been built, we can update the original loop.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2445</td>
    <td class="codeLine">  // Now that our cloned loops have been built, we can update the original loop.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2446</td>
    <td class="codeLine">  // First we delete the dead blocks from it and then we rebuild the loop</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2446</td>
    <td class="codeLine">  // First we delete the dead blocks from it and then we rebuild the loop</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2447</td>
    <td class="codeLine">  // structure taking these deletions into account.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2447</td>
    <td class="codeLine">  // structure taking these deletions into account.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2448</td>
    <td class="codeLine">  deleteDeadBlocksFromLoop(L, ExitBlocks, DT, LI, MSSAU, SE,DestroyLoopCB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2448</td>
    <td class="codeLine">  deleteDeadBlocksFromLoop(L, ExitBlocks, DT, LI, MSSAU, SE,DestroyLoopCB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2449</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2449</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2450</td>
    <td class="codeLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2450</td>
    <td class="codeLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2451</td>
    <td class="codeLine">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2451</td>
    <td class="codeLine">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2452</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2452</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2453</td>
    <td class="codeLine">  SmallVector<Loop *, 4> HoistedLoops;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2453</td>
    <td class="codeLine">  SmallVector<Loop *, 4> HoistedLoops;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2454</td>
    <td class="codeLine">  bool IsStillLoop =</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2454</td>
    <td class="codeLine">  bool IsStillLoop =</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2455</td>
    <td class="codeLine">      rebuildLoopAfterUnswitch(L, ExitBlocks, LI, HoistedLoops, SE);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2455</td>
    <td class="codeLine">      rebuildLoopAfterUnswitch(L, ExitBlocks, LI, HoistedLoops, SE);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2456</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2456</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2457</td>
    <td class="codeLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2457</td>
    <td class="codeLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2458</td>
    <td class="codeLine">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2458</td>
    <td class="codeLine">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2459</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2459</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2460</td>
    <td class="codeLine">  // This transformation has a high risk of corrupting the dominator tree, and</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2460</td>
    <td class="codeLine">  // This transformation has a high risk of corrupting the dominator tree, and</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2461</td>
    <td class="codeLine">  // the below steps to rebuild loop structures will result in hard to debug</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2461</td>
    <td class="codeLine">  // the below steps to rebuild loop structures will result in hard to debug</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2462</td>
    <td class="codeLine">  // errors in that case so verify that the dominator tree is sane first.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2462</td>
    <td class="codeLine">  // errors in that case so verify that the dominator tree is sane first.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2463</td>
    <td class="codeLine">  // FIXME: Remove this when the bugs stop showing up and rely on existing</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2463</td>
    <td class="codeLine">  // FIXME: Remove this when the bugs stop showing up and rely on existing</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2464</td>
    <td class="codeLine">  // verification steps.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2464</td>
    <td class="codeLine">  // verification steps.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2465</td>
    <td class="codeLine">  assert(DT.verify(DominatorTree::VerificationLevel::Fast));</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2465</td>
    <td class="codeLine">  assert(DT.verify(DominatorTree::VerificationLevel::Fast));</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2466</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2466</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2467</td>
    <td class="codeLine">  if (BI && !PartiallyInvariant) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2467</td>
    <td class="codeLine">  if (BI && !PartiallyInvariant) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2468</td>
    <td class="codeLine">    // If we unswitched a branch which collapses the condition to a known</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2468</td>
    <td class="codeLine">    // If we unswitched a branch which collapses the condition to a known</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2469</td>
    <td class="codeLine">    // constant we want to replace all the uses of the invariants within both</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2469</td>
    <td class="codeLine">    // constant we want to replace all the uses of the invariants within both</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2470</td>
    <td class="codeLine">    // the original and cloned blocks. We do this here so that we can use the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2470</td>
    <td class="codeLine">    // the original and cloned blocks. We do this here so that we can use the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2471</td>
    <td class="codeLine">    // now updated dominator tree to identify which side the users are on.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2471</td>
    <td class="codeLine">    // now updated dominator tree to identify which side the users are on.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2472</td>
    <td class="codeLine">    assert(UnswitchedSuccBBs.size() == 1 &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2472</td>
    <td class="codeLine">    assert(UnswitchedSuccBBs.size() == 1 &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2473</td>
    <td class="codeLine">           "Only one possible unswitched block for a branch!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2473</td>
    <td class="codeLine">           "Only one possible unswitched block for a branch!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2474</td>
    <td class="codeLine">    BasicBlock *ClonedPH = ClonedPHs.begin()->second;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2474</td>
    <td class="codeLine">    BasicBlock *ClonedPH = ClonedPHs.begin()->second;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2475</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2475</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2476</td>
    <td class="codeLine">    // When considering multiple partially-unswitched invariants</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2476</td>
    <td class="codeLine">    // When considering multiple partially-unswitched invariants</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2477</td>
    <td class="codeLine">    // we cant just go replace them with constants in both branches.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2477</td>
    <td class="codeLine">    // we cant just go replace them with constants in both branches.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2478</td>
    <td class="codeLine">    //</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2478</td>
    <td class="codeLine">    //</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2479</td>
    <td class="codeLine">    // For 'AND' we infer that true branch ("continue") means true</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2479</td>
    <td class="codeLine">    // For 'AND' we infer that true branch ("continue") means true</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2480</td>
    <td class="codeLine">    // for each invariant operand.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2480</td>
    <td class="codeLine">    // for each invariant operand.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2481</td>
    <td class="codeLine">    // For 'OR' we can infer that false branch ("continue") means false</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2481</td>
    <td class="codeLine">    // For 'OR' we can infer that false branch ("continue") means false</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2482</td>
    <td class="codeLine">    // for each invariant operand.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2482</td>
    <td class="codeLine">    // for each invariant operand.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2483</td>
    <td class="codeLine">    // So it happens that for multiple-partial case we dont replace</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2483</td>
    <td class="codeLine">    // So it happens that for multiple-partial case we dont replace</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2484</td>
    <td class="codeLine">    // in the unswitched branch.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2484</td>
    <td class="codeLine">    // in the unswitched branch.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2485</td>
    <td class="codeLine">    bool ReplaceUnswitched =</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2485</td>
    <td class="codeLine">    bool ReplaceUnswitched =</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2486</td>
    <td class="codeLine">        FullUnswitch || (Invariants.size() == 1) || PartiallyInvariant;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2486</td>
    <td class="codeLine">        FullUnswitch || (Invariants.size() == 1) || PartiallyInvariant;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2487</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2487</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2488</td>
    <td class="codeLine">    ConstantInt *UnswitchedReplacement =</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2488</td>
    <td class="codeLine">    ConstantInt *UnswitchedReplacement =</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2489</td>
    <td class="codeLine">        Direction ? ConstantInt::getTrue(BI->getContext())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2489</td>
    <td class="codeLine">        Direction ? ConstantInt::getTrue(BI->getContext())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2490</td>
    <td class="codeLine">                  : ConstantInt::getFalse(BI->getContext());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2490</td>
    <td class="codeLine">                  : ConstantInt::getFalse(BI->getContext());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2491</td>
    <td class="codeLine">    ConstantInt *ContinueReplacement =</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2491</td>
    <td class="codeLine">    ConstantInt *ContinueReplacement =</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2492</td>
    <td class="codeLine">        Direction ? ConstantInt::getFalse(BI->getContext())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2492</td>
    <td class="codeLine">        Direction ? ConstantInt::getFalse(BI->getContext())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2493</td>
    <td class="codeLine">                  : ConstantInt::getTrue(BI->getContext());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2493</td>
    <td class="codeLine">                  : ConstantInt::getTrue(BI->getContext());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2494</td>
    <td class="codeLine">    for (Value *Invariant : Invariants) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2494</td>
    <td class="codeLine">    for (Value *Invariant : Invariants) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2495</td>
    <td class="codeLine">      assert(!isa<Constant>(Invariant) &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2495</td>
    <td class="codeLine">      assert(!isa<Constant>(Invariant) &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2496</td>
    <td class="codeLine">             "Should not be replacing constant values!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2496</td>
    <td class="codeLine">             "Should not be replacing constant values!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2497</td>
    <td class="codeLine">      // Use make_early_inc_range here as set invalidates the iterator.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2497</td>
    <td class="codeLine">      // Use make_early_inc_range here as set invalidates the iterator.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2498</td>
    <td class="codeLine">      for (Use &U : llvm::make_early_inc_range(Invariant->uses())) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2498</td>
    <td class="codeLine">      for (Use &U : llvm::make_early_inc_range(Invariant->uses())) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2499</td>
    <td class="codeLine">        Instruction *UserI = dyn_cast<Instruction>(U.getUser());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2499</td>
    <td class="codeLine">        Instruction *UserI = dyn_cast<Instruction>(U.getUser());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2500</td>
    <td class="codeLine">        if (!UserI)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2500</td>
    <td class="codeLine">        if (!UserI)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2501</td>
    <td class="codeLine">          continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2501</td>
    <td class="codeLine">          continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2502</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2502</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2503</td>
    <td class="codeLine">        // Replace it with the 'continue' side if in the main loop body, and the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2503</td>
    <td class="codeLine">        // Replace it with the 'continue' side if in the main loop body, and the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2504</td>
    <td class="codeLine">        // unswitched if in the cloned blocks.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2504</td>
    <td class="codeLine">        // unswitched if in the cloned blocks.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2505</td>
    <td class="codeLine">        if (DT.dominates(LoopPH, UserI->getParent()))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2505</td>
    <td class="codeLine">        if (DT.dominates(LoopPH, UserI->getParent()))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2506</td>
    <td class="codeLine">          U.set(ContinueReplacement);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2506</td>
    <td class="codeLine">          U.set(ContinueReplacement);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2507</td>
    <td class="codeLine">        else if (ReplaceUnswitched &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2507</td>
    <td class="codeLine">        else if (ReplaceUnswitched &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2508</td>
    <td class="codeLine">                 DT.dominates(ClonedPH, UserI->getParent()))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2508</td>
    <td class="codeLine">                 DT.dominates(ClonedPH, UserI->getParent()))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2509</td>
    <td class="codeLine">          U.set(UnswitchedReplacement);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2509</td>
    <td class="codeLine">          U.set(UnswitchedReplacement);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2510</td>
    <td class="codeLine">      }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2510</td>
    <td class="codeLine">      }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2511</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2511</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2512</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2512</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2513</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2513</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2514</td>
    <td class="codeLine">  // We can change which blocks are exit blocks of all the cloned sibling</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2514</td>
    <td class="codeLine">  // We can change which blocks are exit blocks of all the cloned sibling</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2515</td>
    <td class="codeLine">  // loops, the current loop, and any parent loops which shared exit blocks</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2515</td>
    <td class="codeLine">  // loops, the current loop, and any parent loops which shared exit blocks</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2516</td>
    <td class="codeLine">  // with the current loop. As a consequence, we need to re-form LCSSA for</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2516</td>
    <td class="codeLine">  // with the current loop. As a consequence, we need to re-form LCSSA for</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2517</td>
    <td class="codeLine">  // them. But we shouldn't need to re-form LCSSA for any child loops.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2517</td>
    <td class="codeLine">  // them. But we shouldn't need to re-form LCSSA for any child loops.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2518</td>
    <td class="codeLine">  // FIXME: This could be made more efficient by tracking which exit blocks are</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2518</td>
    <td class="codeLine">  // FIXME: This could be made more efficient by tracking which exit blocks are</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2519</td>
    <td class="codeLine">  // new, and focusing on them, but that isn't likely to be necessary.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2519</td>
    <td class="codeLine">  // new, and focusing on them, but that isn't likely to be necessary.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2520</td>
    <td class="codeLine">  //</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2520</td>
    <td class="codeLine">  //</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2521</td>
    <td class="codeLine">  // In order to reasonably rebuild LCSSA we need to walk inside-out across the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2521</td>
    <td class="codeLine">  // In order to reasonably rebuild LCSSA we need to walk inside-out across the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2522</td>
    <td class="codeLine">  // loop nest and update every loop that could have had its exits changed. We</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2522</td>
    <td class="codeLine">  // loop nest and update every loop that could have had its exits changed. We</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2523</td>
    <td class="codeLine">  // also need to cover any intervening loops. We add all of these loops to</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2523</td>
    <td class="codeLine">  // also need to cover any intervening loops. We add all of these loops to</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2524</td>
    <td class="codeLine">  // a list and sort them by loop depth to achieve this without updating</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2524</td>
    <td class="codeLine">  // a list and sort them by loop depth to achieve this without updating</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2525</td>
    <td class="codeLine">  // unnecessary loops.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2525</td>
    <td class="codeLine">  // unnecessary loops.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2526</td>
    <td class="codeLine">  auto UpdateLoop = [&](Loop &UpdateL) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2526</td>
    <td class="codeLine">  auto UpdateLoop = [&](Loop &UpdateL) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2527</td>
    <td class="codeLine">#ifndef NDEBUG</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2527</td>
    <td class="codeLine">#ifndef NDEBUG</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2528</td>
    <td class="codeLine">    UpdateL.verifyLoop();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2528</td>
    <td class="codeLine">    UpdateL.verifyLoop();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2529</td>
    <td class="codeLine">    for (Loop *ChildL : UpdateL) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2529</td>
    <td class="codeLine">    for (Loop *ChildL : UpdateL) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2530</td>
    <td class="codeLine">      ChildL->verifyLoop();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2530</td>
    <td class="codeLine">      ChildL->verifyLoop();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2531</td>
    <td class="codeLine">      assert(ChildL->isRecursivelyLCSSAForm(DT, LI) &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2531</td>
    <td class="codeLine">      assert(ChildL->isRecursivelyLCSSAForm(DT, LI) &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2532</td>
    <td class="codeLine">             "Perturbed a child loop's LCSSA form!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2532</td>
    <td class="codeLine">             "Perturbed a child loop's LCSSA form!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2533</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2533</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2534</td>
    <td class="codeLine">#endif</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2534</td>
    <td class="codeLine">#endif</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2535</td>
    <td class="codeLine">    // First build LCSSA for this loop so that we can preserve it when</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2535</td>
    <td class="codeLine">    // First build LCSSA for this loop so that we can preserve it when</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2536</td>
    <td class="codeLine">    // forming dedicated exits. We don't want to perturb some other loop's</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2536</td>
    <td class="codeLine">    // forming dedicated exits. We don't want to perturb some other loop's</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2537</td>
    <td class="codeLine">    // LCSSA while doing that CFG edit.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2537</td>
    <td class="codeLine">    // LCSSA while doing that CFG edit.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2538</td>
    <td class="codeLine">    formLCSSA(UpdateL, DT, &LI, SE);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2538</td>
    <td class="codeLine">    formLCSSA(UpdateL, DT, &LI, SE);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2539</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2539</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2540</td>
    <td class="codeLine">    // For loops reached by this loop's original exit blocks we may</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2540</td>
    <td class="codeLine">    // For loops reached by this loop's original exit blocks we may</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2541</td>
    <td class="codeLine">    // introduced new, non-dedicated exits. At least try to re-form dedicated</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2541</td>
    <td class="codeLine">    // introduced new, non-dedicated exits. At least try to re-form dedicated</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2542</td>
    <td class="codeLine">    // exits for these loops. This may fail if they couldn't have dedicated</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2542</td>
    <td class="codeLine">    // exits for these loops. This may fail if they couldn't have dedicated</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2543</td>
    <td class="codeLine">    // exits to start with.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2543</td>
    <td class="codeLine">    // exits to start with.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2544</td>
    <td class="codeLine">    formDedicatedExitBlocks(&UpdateL, &DT, &LI, MSSAU, /*PreserveLCSSA*/ true);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2544</td>
    <td class="codeLine">    formDedicatedExitBlocks(&UpdateL, &DT, &LI, MSSAU, /*PreserveLCSSA*/ true);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2545</td>
    <td class="codeLine">  };</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2545</td>
    <td class="codeLine">  };</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2546</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2546</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2547</td>
    <td class="codeLine">  // For non-child cloned loops and hoisted loops, we just need to update LCSSA</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2547</td>
    <td class="codeLine">  // For non-child cloned loops and hoisted loops, we just need to update LCSSA</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2548</td>
    <td class="codeLine">  // and we can do it in any order as they don't nest relative to each other.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2548</td>
    <td class="codeLine">  // and we can do it in any order as they don't nest relative to each other.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2549</td>
    <td class="codeLine">  //</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2549</td>
    <td class="codeLine">  //</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2550</td>
    <td class="codeLine">  // Also check if any of the loops we have updated have become top-level loops</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2550</td>
    <td class="codeLine">  // Also check if any of the loops we have updated have become top-level loops</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2551</td>
    <td class="codeLine">  // as that will necessitate widening the outer loop scope.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2551</td>
    <td class="codeLine">  // as that will necessitate widening the outer loop scope.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2552</td>
    <td class="codeLine">  for (Loop *UpdatedL :</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2552</td>
    <td class="codeLine">  for (Loop *UpdatedL :</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2553</td>
    <td class="codeLine">       llvm::concat<Loop *>(NonChildClonedLoops, HoistedLoops)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2553</td>
    <td class="codeLine">       llvm::concat<Loop *>(NonChildClonedLoops, HoistedLoops)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2554</td>
    <td class="codeLine">    UpdateLoop(*UpdatedL);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2554</td>
    <td class="codeLine">    UpdateLoop(*UpdatedL);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2555</td>
    <td class="codeLine">    if (UpdatedL->isOutermost())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2555</td>
    <td class="codeLine">    if (UpdatedL->isOutermost())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2556</td>
    <td class="codeLine">      OuterExitL = nullptr;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2556</td>
    <td class="codeLine">      OuterExitL = nullptr;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2557</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2557</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2558</td>
    <td class="codeLine">  if (IsStillLoop) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2558</td>
    <td class="codeLine">  if (IsStillLoop) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2559</td>
    <td class="codeLine">    UpdateLoop(L);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2559</td>
    <td class="codeLine">    UpdateLoop(L);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2560</td>
    <td class="codeLine">    if (L.isOutermost())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2560</td>
    <td class="codeLine">    if (L.isOutermost())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2561</td>
    <td class="codeLine">      OuterExitL = nullptr;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2561</td>
    <td class="codeLine">      OuterExitL = nullptr;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2562</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2562</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2563</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2563</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2564</td>
    <td class="codeLine">  // If the original loop had exit blocks, walk up through the outer most loop</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2564</td>
    <td class="codeLine">  // If the original loop had exit blocks, walk up through the outer most loop</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2565</td>
    <td class="codeLine">  // of those exit blocks to update LCSSA and form updated dedicated exits.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2565</td>
    <td class="codeLine">  // of those exit blocks to update LCSSA and form updated dedicated exits.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2566</td>
    <td class="codeLine">  if (OuterExitL != &L)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2566</td>
    <td class="codeLine">  if (OuterExitL != &L)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2567</td>
    <td class="codeLine">    for (Loop *OuterL = ParentL; OuterL != OuterExitL;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2567</td>
    <td class="codeLine">    for (Loop *OuterL = ParentL; OuterL != OuterExitL;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2568</td>
    <td class="codeLine">         OuterL = OuterL->getParentLoop())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2568</td>
    <td class="codeLine">         OuterL = OuterL->getParentLoop())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2569</td>
    <td class="codeLine">      UpdateLoop(*OuterL);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2569</td>
    <td class="codeLine">      UpdateLoop(*OuterL);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2570</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2570</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2571</td>
    <td class="codeLine">#ifndef NDEBUG</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2571</td>
    <td class="codeLine">#ifndef NDEBUG</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2572</td>
    <td class="codeLine">  // Verify the entire loop structure to catch any incorrect updates before we</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2572</td>
    <td class="codeLine">  // Verify the entire loop structure to catch any incorrect updates before we</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2573</td>
    <td class="codeLine">  // progress in the pass pipeline.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2573</td>
    <td class="codeLine">  // progress in the pass pipeline.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2574</td>
    <td class="codeLine">  LI.verify(DT);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2574</td>
    <td class="codeLine">  LI.verify(DT);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2575</td>
    <td class="codeLine">#endif</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2575</td>
    <td class="codeLine">#endif</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2576</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2576</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2577</td>
    <td class="codeLine">  // Now that we've unswitched something, make callbacks to report the changes.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2577</td>
    <td class="codeLine">  // Now that we've unswitched something, make callbacks to report the changes.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2578</td>
    <td class="codeLine">  // For that we need to merge together the updated loops and the cloned loops</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2578</td>
    <td class="codeLine">  // For that we need to merge together the updated loops and the cloned loops</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2579</td>
    <td class="codeLine">  // and check whether the original loop survived.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2579</td>
    <td class="codeLine">  // and check whether the original loop survived.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2580</td>
    <td class="codeLine">  SmallVector<Loop *, 4> SibLoops;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2580</td>
    <td class="codeLine">  SmallVector<Loop *, 4> SibLoops;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2581</td>
    <td class="codeLine">  for (Loop *UpdatedL : llvm::concat<Loop *>(NonChildClonedLoops, HoistedLoops))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2581</td>
    <td class="codeLine">  for (Loop *UpdatedL : llvm::concat<Loop *>(NonChildClonedLoops, HoistedLoops))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2582</td>
    <td class="codeLine">    if (UpdatedL->getParentLoop() == ParentL)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2582</td>
    <td class="codeLine">    if (UpdatedL->getParentLoop() == ParentL)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2583</td>
    <td class="codeLine">      SibLoops.push_back(UpdatedL);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2583</td>
    <td class="codeLine">      SibLoops.push_back(UpdatedL);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2584</td>
    <td class="codeLine">  UnswitchCB(IsStillLoop, PartiallyInvariant, SibLoops);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2584</td>
    <td class="codeLine">  UnswitchCB(IsStillLoop, PartiallyInvariant, SibLoops);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2585</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2585</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2586</td>
    <td class="codeLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2586</td>
    <td class="codeLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2587</td>
    <td class="codeLine">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2587</td>
    <td class="codeLine">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2588</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2588</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2589</td>
    <td class="codeLine">  if (BI)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2589</td>
    <td class="codeLine">  if (BI)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2590</td>
    <td class="codeLine">    ++NumBranches;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2590</td>
    <td class="codeLine">    ++NumBranches;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2591</td>
    <td class="codeLine">  else</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2591</td>
    <td class="codeLine">  else</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2592</td>
    <td class="codeLine">    ++NumSwitches;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2592</td>
    <td class="codeLine">    ++NumSwitches;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2593</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2593</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2594</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2594</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2595</td>
    <td class="codeLine">/// Recursively compute the cost of a dominator subtree based on the per-block</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2595</td>
    <td class="codeLine">/// Recursively compute the cost of a dominator subtree based on the per-block</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2596</td>
    <td class="codeLine">/// cost map provided.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2596</td>
    <td class="codeLine">/// cost map provided.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2597</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2597</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2598</td>
    <td class="codeLine">/// The recursive computation is memozied into the provided DT-indexed cost map</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2598</td>
    <td class="codeLine">/// The recursive computation is memozied into the provided DT-indexed cost map</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2599</td>
    <td class="codeLine">/// to allow querying it for most nodes in the domtree without it becoming</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2599</td>
    <td class="codeLine">/// to allow querying it for most nodes in the domtree without it becoming</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2600</td>
    <td class="codeLine">/// quadratic.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2600</td>
    <td class="codeLine">/// quadratic.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2601</td>
    <td class="codeLine">static InstructionCost computeDomSubtreeCost(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2601</td>
    <td class="codeLine">static InstructionCost computeDomSubtreeCost(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2602</td>
    <td class="codeLine">    DomTreeNode &N,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2602</td>
    <td class="codeLine">    DomTreeNode &N,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2603</td>
    <td class="codeLine">    const SmallDenseMap<BasicBlock *, InstructionCost, 4> &BBCostMap,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2603</td>
    <td class="codeLine">    const SmallDenseMap<BasicBlock *, InstructionCost, 4> &BBCostMap,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2604</td>
    <td class="codeLine">    SmallDenseMap<DomTreeNode *, InstructionCost, 4> &DTCostMap) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2604</td>
    <td class="codeLine">    SmallDenseMap<DomTreeNode *, InstructionCost, 4> &DTCostMap) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2605</td>
    <td class="codeLine">  // Don't accumulate cost (or recurse through) blocks not in our block cost</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2605</td>
    <td class="codeLine">  // Don't accumulate cost (or recurse through) blocks not in our block cost</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2606</td>
    <td class="codeLine">  // map and thus not part of the duplication cost being considered.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2606</td>
    <td class="codeLine">  // map and thus not part of the duplication cost being considered.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2607</td>
    <td class="codeLine">  auto BBCostIt = BBCostMap.find(N.getBlock());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2607</td>
    <td class="codeLine">  auto BBCostIt = BBCostMap.find(N.getBlock());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2608</td>
    <td class="codeLine">  if (BBCostIt == BBCostMap.end())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2608</td>
    <td class="codeLine">  if (BBCostIt == BBCostMap.end())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2609</td>
    <td class="codeLine">    return 0;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2609</td>
    <td class="codeLine">    return 0;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2610</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2610</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2611</td>
    <td class="codeLine">  // Lookup this node to see if we already computed its cost.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2611</td>
    <td class="codeLine">  // Lookup this node to see if we already computed its cost.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2612</td>
    <td class="codeLine">  auto DTCostIt = DTCostMap.find(&N);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2612</td>
    <td class="codeLine">  auto DTCostIt = DTCostMap.find(&N);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2613</td>
    <td class="codeLine">  if (DTCostIt != DTCostMap.end())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2613</td>
    <td class="codeLine">  if (DTCostIt != DTCostMap.end())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2614</td>
    <td class="codeLine">    return DTCostIt->second;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2614</td>
    <td class="codeLine">    return DTCostIt->second;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2615</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2615</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2616</td>
    <td class="codeLine">  // If not, we have to compute it. We can't use insert above and update</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2616</td>
    <td class="codeLine">  // If not, we have to compute it. We can't use insert above and update</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2617</td>
    <td class="codeLine">  // because computing the cost may insert more things into the map.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2617</td>
    <td class="codeLine">  // because computing the cost may insert more things into the map.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2618</td>
    <td class="codeLine">  InstructionCost Cost = std::accumulate(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2618</td>
    <td class="codeLine">  InstructionCost Cost = std::accumulate(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2619</td>
    <td class="codeLine">      N.begin(), N.end(), BBCostIt->second,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2619</td>
    <td class="codeLine">      N.begin(), N.end(), BBCostIt->second,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2620</td>
    <td class="codeLine">      [&](InstructionCost Sum, DomTreeNode *ChildN) -> InstructionCost {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2620</td>
    <td class="codeLine">      [&](InstructionCost Sum, DomTreeNode *ChildN) -> InstructionCost {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2621</td>
    <td class="codeLine">        return Sum + computeDomSubtreeCost(*ChildN, BBCostMap, DTCostMap);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2621</td>
    <td class="codeLine">        return Sum + computeDomSubtreeCost(*ChildN, BBCostMap, DTCostMap);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2622</td>
    <td class="codeLine">      });</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2622</td>
    <td class="codeLine">      });</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2623</td>
    <td class="codeLine">  bool Inserted = DTCostMap.insert({&N, Cost}).second;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2623</td>
    <td class="codeLine">  bool Inserted = DTCostMap.insert({&N, Cost}).second;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2624</td>
    <td class="codeLine">  (void)Inserted;</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2624</td>
    <td class="codeLine">  (void)Inserted;</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2625</td>
    <td class="codeLine">  assert(Inserted && "Should not insert a node while visiting children!");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2625</td>
    <td class="codeLine">  assert(Inserted && "Should not insert a node while visiting children!");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2626</td>
    <td class="codeLine">  return Cost;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2626</td>
    <td class="codeLine">  return Cost;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2627</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2627</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2628</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2628</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2629</td>
    <td class="codeLine">/// Turns a select instruction into implicit control flow branch,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2629</td>
    <td class="codeLine">/// Turns a select instruction into implicit control flow branch,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2630</td>
    <td class="codeLine">/// making the following replacement:</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2630</td>
    <td class="codeLine">/// making the following replacement:</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2631</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2631</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2632</td>
    <td class="codeLine">/// head:</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2632</td>
    <td class="codeLine">/// head:</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2633</td>
    <td class="codeLine">///   --code before select--</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2633</td>
    <td class="codeLine">///   --code before select--</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2634</td>
    <td class="codeLine">///   select %cond, %trueval, %falseval</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2634</td>
    <td class="codeLine">///   select %cond, %trueval, %falseval</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2635</td>
    <td class="codeLine">///   --code after select--</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2635</td>
    <td class="codeLine">///   --code after select--</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2636</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2636</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2637</td>
    <td class="codeLine">/// into</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2637</td>
    <td class="codeLine">/// into</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2638</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2638</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2639</td>
    <td class="codeLine">/// head:</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2639</td>
    <td class="codeLine">/// head:</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2640</td>
    <td class="codeLine">///   --code before select--</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2640</td>
    <td class="codeLine">///   --code before select--</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2641</td>
    <td class="codeLine">///   br i1 %cond, label %then, label %tail</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2641</td>
    <td class="codeLine">///   br i1 %cond, label %then, label %tail</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2642</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2642</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2643</td>
    <td class="codeLine">/// then:</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2643</td>
    <td class="codeLine">/// then:</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2644</td>
    <td class="codeLine">///   br %tail</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2644</td>
    <td class="codeLine">///   br %tail</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2645</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2645</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2646</td>
    <td class="codeLine">/// tail:</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2646</td>
    <td class="codeLine">/// tail:</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2647</td>
    <td class="codeLine">///   phi [ %trueval, %then ], [ %falseval, %head]</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2647</td>
    <td class="codeLine">///   phi [ %trueval, %then ], [ %falseval, %head]</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2648</td>
    <td class="codeLine">///   unreachable</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2648</td>
    <td class="codeLine">///   unreachable</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2649</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2649</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2650</td>
    <td class="codeLine">/// It also makes all relevant DT and LI updates, so that all structures are in</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2650</td>
    <td class="codeLine">/// It also makes all relevant DT and LI updates, so that all structures are in</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2651</td>
    <td class="codeLine">/// valid state after this transform.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2651</td>
    <td class="codeLine">/// valid state after this transform.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2652</td>
    <td class="codeLine">static BranchInst *turnSelectIntoBranch(SelectInst *SI, DominatorTree &DT,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2652</td>
    <td class="codeLine">static BranchInst *turnSelectIntoBranch(SelectInst *SI, DominatorTree &DT,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2653</td>
    <td class="codeLine">                                        LoopInfo &LI, MemorySSAUpdater *MSSAU,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2653</td>
    <td class="codeLine">                                        LoopInfo &LI, MemorySSAUpdater *MSSAU,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2654</td>
    <td class="codeLine">                                        AssumptionCache *AC) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2654</td>
    <td class="codeLine">                                        AssumptionCache *AC) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2655</td>
    <td class="codeLine">  LLVM_DEBUG(dbgs() << "Turning " << *SI << " into a branch.\n");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2655</td>
    <td class="codeLine">  LLVM_DEBUG(dbgs() << "Turning " << *SI << " into a branch.\n");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2656</td>
    <td class="codeLine">  BasicBlock *HeadBB = SI->getParent();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2656</td>
    <td class="codeLine">  BasicBlock *HeadBB = SI->getParent();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2657</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2657</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2658</td>
    <td class="codeLine">  DomTreeUpdater DTU(DT, DomTreeUpdater::UpdateStrategy::Eager);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2658</td>
    <td class="codeLine">  DomTreeUpdater DTU(DT, DomTreeUpdater::UpdateStrategy::Eager);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2659</td>
    <td class="codeLine">  SplitBlockAndInsertIfThen(SI->getCondition(), SI, false,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2659</td>
    <td class="codeLine">  SplitBlockAndInsertIfThen(SI->getCondition(), SI, false,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2660</td>
    <td class="codeLine">                            SI->getMetadata(LLVMContext::MD_prof), &DTU, &LI);</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2660</td>
    <td class="codeLine">                            SI->getMetadata(LLVMContext::MD_prof), &DTU, &LI);</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2661</td>
    <td class="codeLine">  auto *CondBr = cast<BranchInst>(HeadBB->getTerminator());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2661</td>
    <td class="codeLine">  auto *CondBr = cast<BranchInst>(HeadBB->getTerminator());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2662</td>
    <td class="codeLine">  BasicBlock *ThenBB = CondBr->getSuccessor(0),</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2662</td>
    <td class="codeLine">  BasicBlock *ThenBB = CondBr->getSuccessor(0),</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2663</td>
    <td class="codeLine">             *TailBB = CondBr->getSuccessor(1);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2663</td>
    <td class="codeLine">             *TailBB = CondBr->getSuccessor(1);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2664</td>
    <td class="codeLine">  if (MSSAU)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2664</td>
    <td class="codeLine">  if (MSSAU)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2665</td>
    <td class="codeLine">    MSSAU->moveAllAfterSpliceBlocks(HeadBB, TailBB, SI);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2665</td>
    <td class="codeLine">    MSSAU->moveAllAfterSpliceBlocks(HeadBB, TailBB, SI);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2666</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2666</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2667</td>
    <td class="codeLine">  PHINode *Phi = PHINode::Create(SI->getType(), 2, "unswitched.select", SI);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2667</td>
    <td class="codeLine">  PHINode *Phi = PHINode::Create(SI->getType(), 2, "unswitched.select", SI);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2668</td>
    <td class="codeLine">  Phi->addIncoming(SI->getTrueValue(), ThenBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2668</td>
    <td class="codeLine">  Phi->addIncoming(SI->getTrueValue(), ThenBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2669</td>
    <td class="codeLine">  Phi->addIncoming(SI->getFalseValue(), HeadBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2669</td>
    <td class="codeLine">  Phi->addIncoming(SI->getFalseValue(), HeadBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2670</td>
    <td class="codeLine">  SI->replaceAllUsesWith(Phi);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2670</td>
    <td class="codeLine">  SI->replaceAllUsesWith(Phi);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2671</td>
    <td class="codeLine">  SI->eraseFromParent();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2671</td>
    <td class="codeLine">  SI->eraseFromParent();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2672</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2672</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2673</td>
    <td class="codeLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2673</td>
    <td class="codeLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2674</td>
    <td class="codeLine">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2674</td>
    <td class="codeLine">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2675</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2675</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2676</td>
    <td class="codeLine">  ++NumSelects;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2676</td>
    <td class="codeLine">  ++NumSelects;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2677</td>
    <td class="codeLine">  return CondBr;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2677</td>
    <td class="codeLine">  return CondBr;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2678</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2678</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2679</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2679</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2680</td>
    <td class="codeLine">/// Turns a llvm.experimental.guard intrinsic into implicit control flow branch,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2680</td>
    <td class="codeLine">/// Turns a llvm.experimental.guard intrinsic into implicit control flow branch,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2681</td>
    <td class="codeLine">/// making the following replacement:</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2681</td>
    <td class="codeLine">/// making the following replacement:</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2682</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2682</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2683</td>
    <td class="codeLine">///   --code before guard--</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2683</td>
    <td class="codeLine">///   --code before guard--</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2684</td>
    <td class="codeLine">///   call void (i1, ...) @llvm.experimental.guard(i1 %cond) [ "deopt"() ]</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2684</td>
    <td class="codeLine">///   call void (i1, ...) @llvm.experimental.guard(i1 %cond) [ "deopt"() ]</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2685</td>
    <td class="codeLine">///   --code after guard--</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2685</td>
    <td class="codeLine">///   --code after guard--</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2686</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2686</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2687</td>
    <td class="codeLine">/// into</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2687</td>
    <td class="codeLine">/// into</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2688</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2688</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2689</td>
    <td class="codeLine">///   --code before guard--</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2689</td>
    <td class="codeLine">///   --code before guard--</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2690</td>
    <td class="codeLine">///   br i1 %cond, label %guarded, label %deopt</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2690</td>
    <td class="codeLine">///   br i1 %cond, label %guarded, label %deopt</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2691</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2691</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2692</td>
    <td class="codeLine">/// guarded:</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2692</td>
    <td class="codeLine">/// guarded:</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2693</td>
    <td class="codeLine">///   --code after guard--</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2693</td>
    <td class="codeLine">///   --code after guard--</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2694</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2694</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2695</td>
    <td class="codeLine">/// deopt:</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2695</td>
    <td class="codeLine">/// deopt:</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2696</td>
    <td class="codeLine">///   call void (i1, ...) @llvm.experimental.guard(i1 false) [ "deopt"() ]</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2696</td>
    <td class="codeLine">///   call void (i1, ...) @llvm.experimental.guard(i1 false) [ "deopt"() ]</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2697</td>
    <td class="codeLine">///   unreachable</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2697</td>
    <td class="codeLine">///   unreachable</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2698</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2698</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2699</td>
    <td class="codeLine">/// It also makes all relevant DT and LI updates, so that all structures are in</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2699</td>
    <td class="codeLine">/// It also makes all relevant DT and LI updates, so that all structures are in</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2700</td>
    <td class="codeLine">/// valid state after this transform.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2700</td>
    <td class="codeLine">/// valid state after this transform.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2701</td>
    <td class="codeLine">static BranchInst *turnGuardIntoBranch(IntrinsicInst *GI, Loop &L,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2701</td>
    <td class="codeLine">static BranchInst *turnGuardIntoBranch(IntrinsicInst *GI, Loop &L,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2702</td>
    <td class="codeLine">                                       DominatorTree &DT, LoopInfo &LI,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2702</td>
    <td class="codeLine">                                       DominatorTree &DT, LoopInfo &LI,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2703</td>
    <td class="codeLine">                                       MemorySSAUpdater *MSSAU) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2703</td>
    <td class="codeLine">                                       MemorySSAUpdater *MSSAU) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2704</td>
    <td class="codeLine">  SmallVector<DominatorTree::UpdateType, 4> DTUpdates;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2704</td>
    <td class="codeLine">  SmallVector<DominatorTree::UpdateType, 4> DTUpdates;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2705</td>
    <td class="codeLine">  LLVM_DEBUG(dbgs() << "Turning " << *GI << " into a branch.\n");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2705</td>
    <td class="codeLine">  LLVM_DEBUG(dbgs() << "Turning " << *GI << " into a branch.\n");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2706</td>
    <td class="codeLine">  BasicBlock *CheckBB = GI->getParent();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2706</td>
    <td class="codeLine">  BasicBlock *CheckBB = GI->getParent();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2707</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2707</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2708</td>
    <td class="codeLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2708</td>
    <td class="codeLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2709</td>
    <td class="codeLine">     MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2709</td>
    <td class="codeLine">     MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2710</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2710</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2711</td>
    <td class="codeLine">  DomTreeUpdater DTU(DT, DomTreeUpdater::UpdateStrategy::Eager);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2711</td>
    <td class="codeLine">  DomTreeUpdater DTU(DT, DomTreeUpdater::UpdateStrategy::Eager);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2712</td>
    <td class="codeLine">  Instruction *DeoptBlockTerm =</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2712</td>
    <td class="codeLine">  Instruction *DeoptBlockTerm =</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2713</td>
    <td class="codeLine">      SplitBlockAndInsertIfThen(GI->getArgOperand(0), GI, true,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2713</td>
    <td class="codeLine">      SplitBlockAndInsertIfThen(GI->getArgOperand(0), GI, true,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2714</td>
    <td class="codeLine">                                GI->getMetadata(LLVMContext::MD_prof), &DTU, &LI);</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2714</td>
    <td class="codeLine">                                GI->getMetadata(LLVMContext::MD_prof), &DTU, &LI);</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2715</td>
    <td class="codeLine">  BranchInst *CheckBI = cast<BranchInst>(CheckBB->getTerminator());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2715</td>
    <td class="codeLine">  BranchInst *CheckBI = cast<BranchInst>(CheckBB->getTerminator());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2716</td>
    <td class="codeLine">  // SplitBlockAndInsertIfThen inserts control flow that branches to</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2716</td>
    <td class="codeLine">  // SplitBlockAndInsertIfThen inserts control flow that branches to</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2717</td>
    <td class="codeLine">  // DeoptBlockTerm if the condition is true.  We want the opposite.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2717</td>
    <td class="codeLine">  // DeoptBlockTerm if the condition is true.  We want the opposite.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2718</td>
    <td class="codeLine">  CheckBI->swapSuccessors();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2718</td>
    <td class="codeLine">  CheckBI->swapSuccessors();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2719</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2719</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2720</td>
    <td class="codeLine">  BasicBlock *GuardedBlock = CheckBI->getSuccessor(0);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2720</td>
    <td class="codeLine">  BasicBlock *GuardedBlock = CheckBI->getSuccessor(0);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2721</td>
    <td class="codeLine">  GuardedBlock->setName("guarded");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2721</td>
    <td class="codeLine">  GuardedBlock->setName("guarded");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2722</td>
    <td class="codeLine">  CheckBI->getSuccessor(1)->setName("deopt");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2722</td>
    <td class="codeLine">  CheckBI->getSuccessor(1)->setName("deopt");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2723</td>
    <td class="codeLine">  BasicBlock *DeoptBlock = CheckBI->getSuccessor(1);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2723</td>
    <td class="codeLine">  BasicBlock *DeoptBlock = CheckBI->getSuccessor(1);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2724</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2724</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2725</td>
    <td class="codeLine">  if (MSSAU)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2725</td>
    <td class="codeLine">  if (MSSAU)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2726</td>
    <td class="codeLine">    MSSAU->moveAllAfterSpliceBlocks(CheckBB, GuardedBlock, GI);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2726</td>
    <td class="codeLine">    MSSAU->moveAllAfterSpliceBlocks(CheckBB, GuardedBlock, GI);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2727</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2727</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2728</td>
    <td class="codeLine">  GI->moveBefore(DeoptBlockTerm);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2728</td>
    <td class="codeLine">  GI->moveBefore(DeoptBlockTerm);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2729</td>
    <td class="codeLine">  GI->setArgOperand(0, ConstantInt::getFalse(GI->getContext()));</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2729</td>
    <td class="codeLine">  GI->setArgOperand(0, ConstantInt::getFalse(GI->getContext()));</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2730</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2730</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2731</td>
    <td class="codeLine">  if (MSSAU) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2731</td>
    <td class="codeLine">  if (MSSAU) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2732</td>
    <td class="codeLine">    MemoryDef *MD = cast<MemoryDef>(MSSAU->getMemorySSA()->getMemoryAccess(GI));</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2732</td>
    <td class="codeLine">    MemoryDef *MD = cast<MemoryDef>(MSSAU->getMemorySSA()->getMemoryAccess(GI));</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2733</td>
    <td class="codeLine">    MSSAU->moveToPlace(MD, DeoptBlock, MemorySSA::BeforeTerminator);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2733</td>
    <td class="codeLine">    MSSAU->moveToPlace(MD, DeoptBlock, MemorySSA::BeforeTerminator);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2734</td>
    <td class="codeLine">    if (VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2734</td>
    <td class="codeLine">    if (VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2735</td>
    <td class="codeLine">      MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2735</td>
    <td class="codeLine">      MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2736</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2736</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2737</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2737</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2738</td>
    <td class="codeLine">  if (VerifyLoopInfo)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2738</td>
    <td class="codeLine">  if (VerifyLoopInfo)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2739</td>
    <td class="codeLine">    LI.verify(DT);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2739</td>
    <td class="codeLine">    LI.verify(DT);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2740</td>
    <td class="codeLine">  ++NumGuards;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2740</td>
    <td class="codeLine">  ++NumGuards;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2741</td>
    <td class="codeLine">  return CheckBI;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2741</td>
    <td class="codeLine">  return CheckBI;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2742</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2742</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2743</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2743</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2744</td>
    <td class="codeLine">/// Cost multiplier is a way to limit potentially exponential behavior</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2744</td>
    <td class="codeLine">/// Cost multiplier is a way to limit potentially exponential behavior</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2745</td>
    <td class="codeLine">/// of loop-unswitch. Cost is multipied in proportion of 2^number of unswitch</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2745</td>
    <td class="codeLine">/// of loop-unswitch. Cost is multipied in proportion of 2^number of unswitch</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2746</td>
    <td class="codeLine">/// candidates available. Also accounting for the number of "sibling" loops with</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2746</td>
    <td class="codeLine">/// candidates available. Also accounting for the number of "sibling" loops with</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2747</td>
    <td class="codeLine">/// the idea to account for previous unswitches that already happened on this</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2747</td>
    <td class="codeLine">/// the idea to account for previous unswitches that already happened on this</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2748</td>
    <td class="codeLine">/// cluster of loops. There was an attempt to keep this formula simple,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2748</td>
    <td class="codeLine">/// cluster of loops. There was an attempt to keep this formula simple,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2749</td>
    <td class="codeLine">/// just enough to limit the worst case behavior. Even if it is not that simple</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2749</td>
    <td class="codeLine">/// just enough to limit the worst case behavior. Even if it is not that simple</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2750</td>
    <td class="codeLine">/// now it is still not an attempt to provide a detailed heuristic size</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2750</td>
    <td class="codeLine">/// now it is still not an attempt to provide a detailed heuristic size</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2751</td>
    <td class="codeLine">/// prediction.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2751</td>
    <td class="codeLine">/// prediction.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2752</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2752</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2753</td>
    <td class="codeLine">/// TODO: Make a proper accounting of "explosion" effect for all kinds of</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2753</td>
    <td class="codeLine">/// TODO: Make a proper accounting of "explosion" effect for all kinds of</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2754</td>
    <td class="codeLine">/// unswitch candidates, making adequate predictions instead of wild guesses.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2754</td>
    <td class="codeLine">/// unswitch candidates, making adequate predictions instead of wild guesses.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2755</td>
    <td class="codeLine">/// That requires knowing not just the number of "remaining" candidates but</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2755</td>
    <td class="codeLine">/// That requires knowing not just the number of "remaining" candidates but</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2756</td>
    <td class="codeLine">/// also costs of unswitching for each of these candidates.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2756</td>
    <td class="codeLine">/// also costs of unswitching for each of these candidates.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2757</td>
    <td class="codeLine">static int CalculateUnswitchCostMultiplier(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2757</td>
    <td class="codeLine">static int CalculateUnswitchCostMultiplier(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2758</td>
    <td class="codeLine">    const Instruction &TI, const Loop &L, const LoopInfo &LI,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2758</td>
    <td class="codeLine">    const Instruction &TI, const Loop &L, const LoopInfo &LI,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2759</td>
    <td class="codeLine">    const DominatorTree &DT,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2759</td>
    <td class="codeLine">    const DominatorTree &DT,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2760</td>
    <td class="codeLine">    ArrayRef<NonTrivialUnswitchCandidate> UnswitchCandidates) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2760</td>
    <td class="codeLine">    ArrayRef<NonTrivialUnswitchCandidate> UnswitchCandidates) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2761</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2761</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2762</td>
    <td class="codeLine">  // Guards and other exiting conditions do not contribute to exponential</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2762</td>
    <td class="codeLine">  // Guards and other exiting conditions do not contribute to exponential</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2763</td>
    <td class="codeLine">  // explosion as soon as they dominate the latch (otherwise there might be</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2763</td>
    <td class="codeLine">  // explosion as soon as they dominate the latch (otherwise there might be</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2764</td>
    <td class="codeLine">  // another path to the latch remaining that does not allow to eliminate the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2764</td>
    <td class="codeLine">  // another path to the latch remaining that does not allow to eliminate the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2765</td>
    <td class="codeLine">  // loop copy on unswitch).</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2765</td>
    <td class="codeLine">  // loop copy on unswitch).</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2766</td>
    <td class="codeLine">  const BasicBlock *Latch = L.getLoopLatch();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2766</td>
    <td class="codeLine">  const BasicBlock *Latch = L.getLoopLatch();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2767</td>
    <td class="codeLine">  const BasicBlock *CondBlock = TI.getParent();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2767</td>
    <td class="codeLine">  const BasicBlock *CondBlock = TI.getParent();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2768</td>
    <td class="codeLine">  if (DT.dominates(CondBlock, Latch) &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2768</td>
    <td class="codeLine">  if (DT.dominates(CondBlock, Latch) &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2769</td>
    <td class="codeLine">      (isGuard(&TI) ||</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2769</td>
    <td class="codeLine">      (isGuard(&TI) ||</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2770</td>
    <td class="codeLine">       (TI.isTerminator() &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2770</td>
    <td class="codeLine">       (TI.isTerminator() &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2771</td>
    <td class="codeLine">        llvm::count_if(successors(&TI), [&L](const BasicBlock *SuccBB) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2771</td>
    <td class="codeLine">        llvm::count_if(successors(&TI), [&L](const BasicBlock *SuccBB) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2772</td>
    <td class="codeLine">          return L.contains(SuccBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2772</td>
    <td class="codeLine">          return L.contains(SuccBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2773</td>
    <td class="codeLine">        }) <= 1))) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2773</td>
    <td class="codeLine">        }) <= 1))) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2774</td>
    <td class="codeLine">    NumCostMultiplierSkipped++;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2774</td>
    <td class="codeLine">    NumCostMultiplierSkipped++;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2775</td>
    <td class="codeLine">    return 1;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2775</td>
    <td class="codeLine">    return 1;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2776</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2776</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2777</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2777</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2778</td>
    <td class="codeLine">  auto *ParentL = L.getParentLoop();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2778</td>
    <td class="codeLine">  auto *ParentL = L.getParentLoop();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2779</td>
    <td class="codeLine">  int SiblingsCount = (ParentL ? ParentL->getSubLoopsVector().size()</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2779</td>
    <td class="codeLine">  int SiblingsCount = (ParentL ? ParentL->getSubLoopsVector().size()</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2780</td>
    <td class="codeLine">                               : std::distance(LI.begin(), LI.end()));</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2780</td>
    <td class="codeLine">                               : std::distance(LI.begin(), LI.end()));</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2781</td>
    <td class="codeLine">  // Count amount of clones that all the candidates might cause during</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2781</td>
    <td class="codeLine">  // Count amount of clones that all the candidates might cause during</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2782</td>
    <td class="codeLine">  // unswitching. Branch/guard/select counts as 1, switch counts as log2 of its</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2782</td>
    <td class="codeLine">  // unswitching. Branch/guard/select counts as 1, switch counts as log2 of its</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2783</td>
    <td class="codeLine">  // cases.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2783</td>
    <td class="codeLine">  // cases.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2784</td>
    <td class="codeLine">  int UnswitchedClones = 0;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2784</td>
    <td class="codeLine">  int UnswitchedClones = 0;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2785</td>
    <td class="codeLine">  for (const auto &Candidate : UnswitchCandidates) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2785</td>
    <td class="codeLine">  for (const auto &Candidate : UnswitchCandidates) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2786</td>
    <td class="codeLine">    const Instruction *CI = Candidate.TI;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2786</td>
    <td class="codeLine">    const Instruction *CI = Candidate.TI;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2787</td>
    <td class="codeLine">    const BasicBlock *CondBlock = CI->getParent();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2787</td>
    <td class="codeLine">    const BasicBlock *CondBlock = CI->getParent();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2788</td>
    <td class="codeLine">    bool SkipExitingSuccessors = DT.dominates(CondBlock, Latch);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2788</td>
    <td class="codeLine">    bool SkipExitingSuccessors = DT.dominates(CondBlock, Latch);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2789</td>
    <td class="codeLine">    if (isa<SelectInst>(CI)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2789</td>
    <td class="codeLine">    if (isa<SelectInst>(CI)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2790</td>
    <td class="codeLine">      UnswitchedClones++;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2790</td>
    <td class="codeLine">      UnswitchedClones++;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2791</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2791</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2792</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2792</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2793</td>
    <td class="codeLine">    if (isGuard(CI)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2793</td>
    <td class="codeLine">    if (isGuard(CI)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2794</td>
    <td class="codeLine">      if (!SkipExitingSuccessors)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2794</td>
    <td class="codeLine">      if (!SkipExitingSuccessors)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2795</td>
    <td class="codeLine">        UnswitchedClones++;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2795</td>
    <td class="codeLine">        UnswitchedClones++;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2796</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2796</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2797</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2797</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2798</td>
    <td class="codeLine">    int NonExitingSuccessors =</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2798</td>
    <td class="codeLine">    int NonExitingSuccessors =</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2799</td>
    <td class="codeLine">        llvm::count_if(successors(CondBlock),</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2799</td>
    <td class="codeLine">        llvm::count_if(successors(CondBlock),</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2800</td>
    <td class="codeLine">                       [SkipExitingSuccessors, &L](const BasicBlock *SuccBB) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2800</td>
    <td class="codeLine">                       [SkipExitingSuccessors, &L](const BasicBlock *SuccBB) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2801</td>
    <td class="codeLine">          return !SkipExitingSuccessors || L.contains(SuccBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2801</td>
    <td class="codeLine">          return !SkipExitingSuccessors || L.contains(SuccBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2802</td>
    <td class="codeLine">        });</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2802</td>
    <td class="codeLine">        });</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2803</td>
    <td class="codeLine">    UnswitchedClones += Log2_32(NonExitingSuccessors);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2803</td>
    <td class="codeLine">    UnswitchedClones += Log2_32(NonExitingSuccessors);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2804</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2804</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2805</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2805</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2806</td>
    <td class="codeLine">  // Ignore up to the "unscaled candidates" number of unswitch candidates</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2806</td>
    <td class="codeLine">  // Ignore up to the "unscaled candidates" number of unswitch candidates</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2807</td>
    <td class="codeLine">  // when calculating the power-of-two scaling of the cost. The main idea</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2807</td>
    <td class="codeLine">  // when calculating the power-of-two scaling of the cost. The main idea</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2808</td>
    <td class="codeLine">  // with this control is to allow a small number of unswitches to happen</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2808</td>
    <td class="codeLine">  // with this control is to allow a small number of unswitches to happen</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2809</td>
    <td class="codeLine">  // and rely more on siblings multiplier (see below) when the number</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2809</td>
    <td class="codeLine">  // and rely more on siblings multiplier (see below) when the number</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2810</td>
    <td class="codeLine">  // of candidates is small.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2810</td>
    <td class="codeLine">  // of candidates is small.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2811</td>
    <td class="codeLine">  unsigned ClonesPower =</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2811</td>
    <td class="codeLine">  unsigned ClonesPower =</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2812</td>
    <td class="codeLine">      std::max(UnswitchedClones - (int)UnswitchNumInitialUnscaledCandidates, 0);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2812</td>
    <td class="codeLine">      std::max(UnswitchedClones - (int)UnswitchNumInitialUnscaledCandidates, 0);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2813</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2813</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2814</td>
    <td class="codeLine">  // Allowing top-level loops to spread a bit more than nested ones.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2814</td>
    <td class="codeLine">  // Allowing top-level loops to spread a bit more than nested ones.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2815</td>
    <td class="codeLine">  int SiblingsMultiplier =</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2815</td>
    <td class="codeLine">  int SiblingsMultiplier =</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2816</td>
    <td class="codeLine">      std::max((ParentL ? SiblingsCount</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2816</td>
    <td class="codeLine">      std::max((ParentL ? SiblingsCount</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2817</td>
    <td class="codeLine">                        : SiblingsCount / (int)UnswitchSiblingsToplevelDiv),</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2817</td>
    <td class="codeLine">                        : SiblingsCount / (int)UnswitchSiblingsToplevelDiv),</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2818</td>
    <td class="codeLine">               1);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2818</td>
    <td class="codeLine">               1);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2819</td>
    <td class="codeLine">  // Compute the cost multiplier in a way that won't overflow by saturating</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2819</td>
    <td class="codeLine">  // Compute the cost multiplier in a way that won't overflow by saturating</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2820</td>
    <td class="codeLine">  // at an upper bound.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2820</td>
    <td class="codeLine">  // at an upper bound.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2821</td>
    <td class="codeLine">  int CostMultiplier;</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2821</td>
    <td class="codeLine">  int CostMultiplier;</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2822</td>
    <td class="codeLine">  if (ClonesPower > Log2_32(UnswitchThreshold) ||</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2822</td>
    <td class="codeLine">  if (ClonesPower > Log2_32(UnswitchThreshold) ||</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2823</td>
    <td class="codeLine">      SiblingsMultiplier > UnswitchThreshold)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2823</td>
    <td class="codeLine">      SiblingsMultiplier > UnswitchThreshold)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2824</td>
    <td class="codeLine">    CostMultiplier = UnswitchThreshold;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2824</td>
    <td class="codeLine">    CostMultiplier = UnswitchThreshold;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2825</td>
    <td class="codeLine">  else</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2825</td>
    <td class="codeLine">  else</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2826</td>
    <td class="codeLine">    CostMultiplier = std::min(SiblingsMultiplier * (1 << ClonesPower),</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2826</td>
    <td class="codeLine">    CostMultiplier = std::min(SiblingsMultiplier * (1 << ClonesPower),</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2827</td>
    <td class="codeLine">                              (int)UnswitchThreshold);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2827</td>
    <td class="codeLine">                              (int)UnswitchThreshold);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2828</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2828</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2829</td>
    <td class="codeLine">  LLVM_DEBUG(dbgs() << "  Computed multiplier  " << CostMultiplier</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2829</td>
    <td class="codeLine">  LLVM_DEBUG(dbgs() << "  Computed multiplier  " << CostMultiplier</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2830</td>
    <td class="codeLine">                    << " (siblings " << SiblingsMultiplier << " * clones "</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2830</td>
    <td class="codeLine">                    << " (siblings " << SiblingsMultiplier << " * clones "</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2831</td>
    <td class="codeLine">                    << (1 << ClonesPower) << ")"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2831</td>
    <td class="codeLine">                    << (1 << ClonesPower) << ")"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2832</td>
    <td class="codeLine">                    << " for unswitch candidate: " << TI << "\n");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2832</td>
    <td class="codeLine">                    << " for unswitch candidate: " << TI << "\n");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2833</td>
    <td class="codeLine">  return CostMultiplier;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2833</td>
    <td class="codeLine">  return CostMultiplier;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2834</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2834</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2835</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2835</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2836</td>
    <td class="codeLine">static bool collectUnswitchCandidates(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2836</td>
    <td class="codeLine">static bool collectUnswitchCandidates(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2837</td>
    <td class="codeLine">    SmallVectorImpl<NonTrivialUnswitchCandidate> &UnswitchCandidates,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2837</td>
    <td class="codeLine">    SmallVectorImpl<NonTrivialUnswitchCandidate> &UnswitchCandidates,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2838</td>
    <td class="codeLine">    IVConditionInfo &PartialIVInfo, Instruction *&PartialIVCondBranch,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2838</td>
    <td class="codeLine">    IVConditionInfo &PartialIVInfo, Instruction *&PartialIVCondBranch,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2839</td>
    <td class="codeLine">    const Loop &L, const LoopInfo &LI, AAResults &AA,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2839</td>
    <td class="codeLine">    const Loop &L, const LoopInfo &LI, AAResults &AA,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2840</td>
    <td class="codeLine">    const MemorySSAUpdater *MSSAU) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2840</td>
    <td class="codeLine">    const MemorySSAUpdater *MSSAU) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2841</td>
    <td class="codeLine">  assert(UnswitchCandidates.empty() && "Should be!");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2841</td>
    <td class="codeLine">  assert(UnswitchCandidates.empty() && "Should be!");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2842</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2842</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2843</td>
    <td class="codeLine">  auto AddUnswitchCandidatesForInst = [&](Instruction *I, Value *Cond) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2843</td>
    <td class="codeLine">  auto AddUnswitchCandidatesForInst = [&](Instruction *I, Value *Cond) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2844</td>
    <td class="codeLine">    Cond = skipTrivialSelect(Cond);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2844</td>
    <td class="codeLine">    Cond = skipTrivialSelect(Cond);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2845</td>
    <td class="codeLine">    if (isa<Constant>(Cond))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2845</td>
    <td class="codeLine">    if (isa<Constant>(Cond))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2846</td>
    <td class="codeLine">      return;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2846</td>
    <td class="codeLine">      return;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2847</td>
    <td class="codeLine">    if (L.isLoopInvariant(Cond)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2847</td>
    <td class="codeLine">    if (L.isLoopInvariant(Cond)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2848</td>
    <td class="codeLine">      UnswitchCandidates.push_back({I, {Cond}});</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2848</td>
    <td class="codeLine">      UnswitchCandidates.push_back({I, {Cond}});</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2849</td>
    <td class="codeLine">      return;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2849</td>
    <td class="codeLine">      return;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2850</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2850</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2851</td>
    <td class="codeLine">    if (match(Cond, m_CombineOr(m_LogicalAnd(), m_LogicalOr()))) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2851</td>
    <td class="codeLine">    if (match(Cond, m_CombineOr(m_LogicalAnd(), m_LogicalOr()))) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2852</td>
    <td class="codeLine">      TinyPtrVector<Value *> Invariants =</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2852</td>
    <td class="codeLine">      TinyPtrVector<Value *> Invariants =</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2853</td>
    <td class="codeLine">          collectHomogenousInstGraphLoopInvariants(</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2853</td>
    <td class="codeLine">          collectHomogenousInstGraphLoopInvariants(</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2854</td>
    <td class="codeLine">              L, *static_cast<Instruction *>(Cond), LI);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2854</td>
    <td class="codeLine">              L, *static_cast<Instruction *>(Cond), LI);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2855</td>
    <td class="codeLine">      if (!Invariants.empty())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2855</td>
    <td class="codeLine">      if (!Invariants.empty())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2856</td>
    <td class="codeLine">        UnswitchCandidates.push_back({I, std::move(Invariants)});</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2856</td>
    <td class="codeLine">        UnswitchCandidates.push_back({I, std::move(Invariants)});</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2857</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2857</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2858</td>
    <td class="codeLine">  };</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2858</td>
    <td class="codeLine">  };</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2859</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2859</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2860</td>
    <td class="codeLine">  // Whether or not we should also collect guards in the loop.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2860</td>
    <td class="codeLine">  // Whether or not we should also collect guards in the loop.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2861</td>
    <td class="codeLine">  bool CollectGuards = false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2861</td>
    <td class="codeLine">  bool CollectGuards = false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2862</td>
    <td class="codeLine">  if (UnswitchGuards) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2862</td>
    <td class="codeLine">  if (UnswitchGuards) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2863</td>
    <td class="codeLine">    auto *GuardDecl = L.getHeader()->getParent()->getParent()->getFunction(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2863</td>
    <td class="codeLine">    auto *GuardDecl = L.getHeader()->getParent()->getParent()->getFunction(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2864</td>
    <td class="codeLine">        Intrinsic::getName(Intrinsic::experimental_guard));</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2864</td>
    <td class="codeLine">        Intrinsic::getName(Intrinsic::experimental_guard));</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2865</td>
    <td class="codeLine">    if (GuardDecl && !GuardDecl->use_empty())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2865</td>
    <td class="codeLine">    if (GuardDecl && !GuardDecl->use_empty())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2866</td>
    <td class="codeLine">      CollectGuards = true;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2866</td>
    <td class="codeLine">      CollectGuards = true;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2867</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2867</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2868</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2868</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2869</td>
    <td class="codeLine">  for (auto *BB : L.blocks()) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2869</td>
    <td class="codeLine">  for (auto *BB : L.blocks()) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2870</td>
    <td class="codeLine">    if (LI.getLoopFor(BB) != &L)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2870</td>
    <td class="codeLine">    if (LI.getLoopFor(BB) != &L)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2871</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2871</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2872</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2872</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2873</td>
    <td class="codeLine">    for (auto &I : *BB) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2873</td>
    <td class="codeLine">    for (auto &I : *BB) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2874</td>
    <td class="codeLine">      if (auto *SI = dyn_cast<SelectInst>(&I)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2874</td>
    <td class="codeLine">      if (auto *SI = dyn_cast<SelectInst>(&I)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2875</td>
    <td class="codeLine">        auto *Cond = SI->getCondition();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2875</td>
    <td class="codeLine">        auto *Cond = SI->getCondition();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2876</td>
    <td class="codeLine">        // Do not unswitch vector selects and logical and/or selects</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2876</td>
    <td class="codeLine">        // Do not unswitch vector selects and logical and/or selects</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2877</td>
    <td class="codeLine">        if (Cond->getType()->isIntegerTy(1) && !SI->getType()->isIntegerTy(1))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2877</td>
    <td class="codeLine">        if (Cond->getType()->isIntegerTy(1) && !SI->getType()->isIntegerTy(1))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2878</td>
    <td class="codeLine">          AddUnswitchCandidatesForInst(SI, Cond);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2878</td>
    <td class="codeLine">          AddUnswitchCandidatesForInst(SI, Cond);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2879</td>
    <td class="codeLine">      } else if (CollectGuards && isGuard(&I)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2879</td>
    <td class="codeLine">      } else if (CollectGuards && isGuard(&I)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2880</td>
    <td class="codeLine">        auto *Cond =</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2880</td>
    <td class="codeLine">        auto *Cond =</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2881</td>
    <td class="codeLine">            skipTrivialSelect(cast<IntrinsicInst>(&I)->getArgOperand(0));</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2881</td>
    <td class="codeLine">            skipTrivialSelect(cast<IntrinsicInst>(&I)->getArgOperand(0));</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2882</td>
    <td class="codeLine">        // TODO: Support AND, OR conditions and partial unswitching.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2882</td>
    <td class="codeLine">        // TODO: Support AND, OR conditions and partial unswitching.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2883</td>
    <td class="codeLine">        if (!isa<Constant>(Cond) && L.isLoopInvariant(Cond))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2883</td>
    <td class="codeLine">        if (!isa<Constant>(Cond) && L.isLoopInvariant(Cond))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2884</td>
    <td class="codeLine">          UnswitchCandidates.push_back({&I, {Cond}});</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2884</td>
    <td class="codeLine">          UnswitchCandidates.push_back({&I, {Cond}});</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2885</td>
    <td class="codeLine">      }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2885</td>
    <td class="codeLine">      }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2886</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2886</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2887</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2887</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2888</td>
    <td class="codeLine">    if (auto *SI = dyn_cast<SwitchInst>(BB->getTerminator())) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2888</td>
    <td class="codeLine">    if (auto *SI = dyn_cast<SwitchInst>(BB->getTerminator())) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2889</td>
    <td class="codeLine">      // We can only consider fully loop-invariant switch conditions as we need</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2889</td>
    <td class="codeLine">      // We can only consider fully loop-invariant switch conditions as we need</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2890</td>
    <td class="codeLine">      // to completely eliminate the switch after unswitching.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2890</td>
    <td class="codeLine">      // to completely eliminate the switch after unswitching.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2891</td>
    <td class="codeLine">      if (!isa<Constant>(SI->getCondition()) &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2891</td>
    <td class="codeLine">      if (!isa<Constant>(SI->getCondition()) &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2892</td>
    <td class="codeLine">          L.isLoopInvariant(SI->getCondition()) && !BB->getUniqueSuccessor())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2892</td>
    <td class="codeLine">          L.isLoopInvariant(SI->getCondition()) && !BB->getUniqueSuccessor())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2893</td>
    <td class="codeLine">        UnswitchCandidates.push_back({SI, {SI->getCondition()}});</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2893</td>
    <td class="codeLine">        UnswitchCandidates.push_back({SI, {SI->getCondition()}});</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2894</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2894</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2895</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2895</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2896</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2896</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2897</td>
    <td class="codeLine">    auto *BI = dyn_cast<BranchInst>(BB->getTerminator());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2897</td>
    <td class="codeLine">    auto *BI = dyn_cast<BranchInst>(BB->getTerminator());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2898</td>
    <td class="codeLine">    if (!BI || !BI->isConditional() ||</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2898</td>
    <td class="codeLine">    if (!BI || !BI->isConditional() ||</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2899</td>
    <td class="codeLine">        BI->getSuccessor(0) == BI->getSuccessor(1))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2899</td>
    <td class="codeLine">        BI->getSuccessor(0) == BI->getSuccessor(1))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2900</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2900</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2901</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2901</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2902</td>
    <td class="codeLine">    AddUnswitchCandidatesForInst(BI, BI->getCondition());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2902</td>
    <td class="codeLine">    AddUnswitchCandidatesForInst(BI, BI->getCondition());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2903</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2903</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2904</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2904</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2905</td>
    <td class="codeLine">  if (MSSAU && !findOptionMDForLoop(&L, "llvm.loop.unswitch.partial.disable") &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2905</td>
    <td class="codeLine">  if (MSSAU && !findOptionMDForLoop(&L, "llvm.loop.unswitch.partial.disable") &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2906</td>
    <td class="codeLine">      !any_of(UnswitchCandidates, [&L](auto &TerminatorAndInvariants) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2906</td>
    <td class="codeLine">      !any_of(UnswitchCandidates, [&L](auto &TerminatorAndInvariants) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2907</td>
    <td class="codeLine">         return TerminatorAndInvariants.TI == L.getHeader()->getTerminator();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2907</td>
    <td class="codeLine">         return TerminatorAndInvariants.TI == L.getHeader()->getTerminator();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2908</td>
    <td class="codeLine">       })) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2908</td>
    <td class="codeLine">       })) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2909</td>
    <td class="codeLine">    MemorySSA *MSSA = MSSAU->getMemorySSA();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2909</td>
    <td class="codeLine">    MemorySSA *MSSA = MSSAU->getMemorySSA();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2910</td>
    <td class="codeLine">    if (auto Info = hasPartialIVCondition(L, MSSAThreshold, *MSSA, AA)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2910</td>
    <td class="codeLine">    if (auto Info = hasPartialIVCondition(L, MSSAThreshold, *MSSA, AA)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2911</td>
    <td class="codeLine">      LLVM_DEBUG(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2911</td>
    <td class="codeLine">      LLVM_DEBUG(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2912</td>
    <td class="codeLine">          dbgs() << "simple-loop-unswitch: Found partially invariant condition "</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2912</td>
    <td class="codeLine">          dbgs() << "simple-loop-unswitch: Found partially invariant condition "</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2913</td>
    <td class="codeLine">                 << *Info->InstToDuplicate[0] << "\n");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2913</td>
    <td class="codeLine">                 << *Info->InstToDuplicate[0] << "\n");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2914</td>
    <td class="codeLine">      PartialIVInfo = *Info;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2914</td>
    <td class="codeLine">      PartialIVInfo = *Info;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2915</td>
    <td class="codeLine">      PartialIVCondBranch = L.getHeader()->getTerminator();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2915</td>
    <td class="codeLine">      PartialIVCondBranch = L.getHeader()->getTerminator();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2916</td>
    <td class="codeLine">      TinyPtrVector<Value *> ValsToDuplicate;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2916</td>
    <td class="codeLine">      TinyPtrVector<Value *> ValsToDuplicate;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2917</td>
    <td class="codeLine">      llvm::append_range(ValsToDuplicate, Info->InstToDuplicate);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2917</td>
    <td class="codeLine">      llvm::append_range(ValsToDuplicate, Info->InstToDuplicate);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2918</td>
    <td class="codeLine">      UnswitchCandidates.push_back(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2918</td>
    <td class="codeLine">      UnswitchCandidates.push_back(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2919</td>
    <td class="codeLine">          {L.getHeader()->getTerminator(), std::move(ValsToDuplicate)});</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2919</td>
    <td class="codeLine">          {L.getHeader()->getTerminator(), std::move(ValsToDuplicate)});</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2920</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2920</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2921</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2921</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2922</td>
    <td class="codeLine">  return !UnswitchCandidates.empty();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2922</td>
    <td class="codeLine">  return !UnswitchCandidates.empty();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2923</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2923</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2924</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2924</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2925</td>
    <td class="codeLine">/// Tries to canonicalize condition described by:</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2925</td>
    <td class="codeLine">/// Tries to canonicalize condition described by:</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2926</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2926</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2927</td>
    <td class="codeLine">///   br (LHS pred RHS), label IfTrue, label IfFalse</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2927</td>
    <td class="codeLine">///   br (LHS pred RHS), label IfTrue, label IfFalse</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2928</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2928</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2929</td>
    <td class="codeLine">/// into its equivalent where `Pred` is something that we support for injected</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2929</td>
    <td class="codeLine">/// into its equivalent where `Pred` is something that we support for injected</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2930</td>
    <td class="codeLine">/// invariants (so far it is limited to ult), LHS in canonicalized form is</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2930</td>
    <td class="codeLine">/// invariants (so far it is limited to ult), LHS in canonicalized form is</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2931</td>
    <td class="codeLine">/// non-invariant and RHS is an invariant.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2931</td>
    <td class="codeLine">/// non-invariant and RHS is an invariant.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2932</td>
    <td class="codeLine">static void canonicalizeForInvariantConditionInjection(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2932</td>
    <td class="codeLine">static void canonicalizeForInvariantConditionInjection(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2933</td>
    <td class="codeLine">    ICmpInst::Predicate &Pred, Value *&LHS, Value *&RHS, BasicBlock *&IfTrue,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2933</td>
    <td class="codeLine">    ICmpInst::Predicate &Pred, Value *&LHS, Value *&RHS, BasicBlock *&IfTrue,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2934</td>
    <td class="codeLine">    BasicBlock *&IfFalse, const Loop &L) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2934</td>
    <td class="codeLine">    BasicBlock *&IfFalse, const Loop &L) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2935</td>
    <td class="codeLine">  if (!L.contains(IfTrue)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2935</td>
    <td class="codeLine">  if (!L.contains(IfTrue)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2936</td>
    <td class="codeLine">    Pred = ICmpInst::getInversePredicate(Pred);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2936</td>
    <td class="codeLine">    Pred = ICmpInst::getInversePredicate(Pred);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2937</td>
    <td class="codeLine">    std::swap(IfTrue, IfFalse);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2937</td>
    <td class="codeLine">    std::swap(IfTrue, IfFalse);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2938</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2938</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2939</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2939</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2940</td>
    <td class="codeLine">  // Move loop-invariant argument to RHS position.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2940</td>
    <td class="codeLine">  // Move loop-invariant argument to RHS position.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2941</td>
    <td class="codeLine">  if (L.isLoopInvariant(LHS)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2941</td>
    <td class="codeLine">  if (L.isLoopInvariant(LHS)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2942</td>
    <td class="codeLine">    Pred = ICmpInst::getSwappedPredicate(Pred);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2942</td>
    <td class="codeLine">    Pred = ICmpInst::getSwappedPredicate(Pred);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2943</td>
    <td class="codeLine">    std::swap(LHS, RHS);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2943</td>
    <td class="codeLine">    std::swap(LHS, RHS);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2944</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2944</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2945</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2945</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2946</td>
    <td class="codeLine">  if (Pred == ICmpInst::ICMP_SGE && match(RHS, m_Zero())) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2946</td>
    <td class="codeLine">  if (Pred == ICmpInst::ICMP_SGE && match(RHS, m_Zero())) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2947</td>
    <td class="codeLine">    // Turn "x >=s 0" into "x <u UMIN_INT"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2947</td>
    <td class="codeLine">    // Turn "x >=s 0" into "x <u UMIN_INT"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2948</td>
    <td class="codeLine">    Pred = ICmpInst::ICMP_ULT;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2948</td>
    <td class="codeLine">    Pred = ICmpInst::ICMP_ULT;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2949</td>
    <td class="codeLine">    RHS = ConstantInt::get(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2949</td>
    <td class="codeLine">    RHS = ConstantInt::get(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2950</td>
    <td class="codeLine">        RHS->getContext(),</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2950</td>
    <td class="codeLine">        RHS->getContext(),</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2951</td>
    <td class="codeLine">        APInt::getSignedMinValue(RHS->getType()->getIntegerBitWidth()));</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2951</td>
    <td class="codeLine">        APInt::getSignedMinValue(RHS->getType()->getIntegerBitWidth()));</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2952</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2952</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2953</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2953</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2954</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2954</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2955</td>
    <td class="codeLine">/// Returns true, if predicate described by ( \p Pred, \p LHS, \p RHS )</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2955</td>
    <td class="codeLine">/// Returns true, if predicate described by ( \p Pred, \p LHS, \p RHS )</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2956</td>
    <td class="codeLine">/// succeeding into blocks ( \p IfTrue, \p IfFalse) can be optimized by</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2956</td>
    <td class="codeLine">/// succeeding into blocks ( \p IfTrue, \p IfFalse) can be optimized by</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2957</td>
    <td class="codeLine">/// injecting a loop-invariant condition.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2957</td>
    <td class="codeLine">/// injecting a loop-invariant condition.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2958</td>
    <td class="codeLine">static bool shouldTryInjectInvariantCondition(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2958</td>
    <td class="codeLine">static bool shouldTryInjectInvariantCondition(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2959</td>
    <td class="codeLine">    const ICmpInst::Predicate Pred, const Value *LHS, const Value *RHS,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2959</td>
    <td class="codeLine">    const ICmpInst::Predicate Pred, const Value *LHS, const Value *RHS,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2960</td>
    <td class="codeLine">    const BasicBlock *IfTrue, const BasicBlock *IfFalse, const Loop &L) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2960</td>
    <td class="codeLine">    const BasicBlock *IfTrue, const BasicBlock *IfFalse, const Loop &L) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2961</td>
    <td class="codeLine">  if (L.isLoopInvariant(LHS) || !L.isLoopInvariant(RHS))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2961</td>
    <td class="codeLine">  if (L.isLoopInvariant(LHS) || !L.isLoopInvariant(RHS))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2962</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2962</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2963</td>
    <td class="codeLine">  // TODO: Support other predicates.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2963</td>
    <td class="codeLine">  // TODO: Support other predicates.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2964</td>
    <td class="codeLine">  if (Pred != ICmpInst::ICMP_ULT)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2964</td>
    <td class="codeLine">  if (Pred != ICmpInst::ICMP_ULT)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2965</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2965</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2966</td>
    <td class="codeLine">  // TODO: Support non-loop-exiting branches?</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2966</td>
    <td class="codeLine">  // TODO: Support non-loop-exiting branches?</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2967</td>
    <td class="codeLine">  if (!L.contains(IfTrue) || L.contains(IfFalse))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2967</td>
    <td class="codeLine">  if (!L.contains(IfTrue) || L.contains(IfFalse))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2968</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2968</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2969</td>
    <td class="codeLine">  // FIXME: For some reason this causes problems with MSSA updates, need to</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2969</td>
    <td class="codeLine">  // FIXME: For some reason this causes problems with MSSA updates, need to</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2970</td>
    <td class="codeLine">  // investigate why. So far, just don't unswitch latch.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2970</td>
    <td class="codeLine">  // investigate why. So far, just don't unswitch latch.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2971</td>
    <td class="codeLine">  if (L.getHeader() == IfTrue)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2971</td>
    <td class="codeLine">  if (L.getHeader() == IfTrue)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2972</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2972</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2973</td>
    <td class="codeLine">  return true;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2973</td>
    <td class="codeLine">  return true;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2974</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2974</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2975</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2975</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2976</td>
    <td class="codeLine">/// Returns true, if metadata on \p BI allows us to optimize branching into \p</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2976</td>
    <td class="codeLine">/// Returns true, if metadata on \p BI allows us to optimize branching into \p</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2977</td>
    <td class="codeLine">/// TakenSucc via injection of invariant conditions. The branch should be not</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2977</td>
    <td class="codeLine">/// TakenSucc via injection of invariant conditions. The branch should be not</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2978</td>
    <td class="codeLine">/// enough and not previously unswitched, the information about this comes from</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2978</td>
    <td class="codeLine">/// enough and not previously unswitched, the information about this comes from</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2979</td>
    <td class="codeLine">/// the metadata.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2979</td>
    <td class="codeLine">/// the metadata.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2980</td>
    <td class="codeLine">bool shouldTryInjectBasingOnMetadata(const BranchInst *BI,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2980</td>
    <td class="codeLine">bool shouldTryInjectBasingOnMetadata(const BranchInst *BI,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2981</td>
    <td class="codeLine">                                     const BasicBlock *TakenSucc) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2981</td>
    <td class="codeLine">                                     const BasicBlock *TakenSucc) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2982</td>
    <td class="codeLine">  // Skip branches that have already been unswithed this way. After successful</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2982</td>
    <td class="codeLine">  // Skip branches that have already been unswithed this way. After successful</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2983</td>
    <td class="codeLine">  // unswitching of injected condition, we will still have a copy of this loop</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2983</td>
    <td class="codeLine">  // unswitching of injected condition, we will still have a copy of this loop</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2984</td>
    <td class="codeLine">  // which looks exactly the same as original one. To prevent the 2nd attempt</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2984</td>
    <td class="codeLine">  // which looks exactly the same as original one. To prevent the 2nd attempt</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2985</td>
    <td class="codeLine">  // of unswitching it in the same pass, mark this branch as "nothing to do</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2985</td>
    <td class="codeLine">  // of unswitching it in the same pass, mark this branch as "nothing to do</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2986</td>
    <td class="codeLine">  // here".</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2986</td>
    <td class="codeLine">  // here".</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2987</td>
    <td class="codeLine">  if (BI->hasMetadata("llvm.invariant.condition.injection.disabled"))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2987</td>
    <td class="codeLine">  if (BI->hasMetadata("llvm.invariant.condition.injection.disabled"))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2988</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2988</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2989</td>
    <td class="codeLine">  SmallVector<uint32_t> Weights;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2989</td>
    <td class="codeLine">  SmallVector<uint32_t> Weights;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2990</td>
    <td class="codeLine">  if (!extractBranchWeights(*BI, Weights))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2990</td>
    <td class="codeLine">  if (!extractBranchWeights(*BI, Weights))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2991</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2991</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2992</td>
    <td class="codeLine">  unsigned T = InjectInvariantConditionHotnesThreshold;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2992</td>
    <td class="codeLine">  unsigned T = InjectInvariantConditionHotnesThreshold;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2993</td>
    <td class="codeLine">  BranchProbability LikelyTaken(T - 1, T);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2993</td>
    <td class="codeLine">  BranchProbability LikelyTaken(T - 1, T);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2994</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2994</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2995</td>
    <td class="codeLine">  assert(Weights.size() == 2 && "Unexpected profile data!");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2995</td>
    <td class="codeLine">  assert(Weights.size() == 2 && "Unexpected profile data!");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2996</td>
    <td class="codeLine">  size_t Idx = BI->getSuccessor(0) == TakenSucc ? 0 : 1;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2996</td>
    <td class="codeLine">  size_t Idx = BI->getSuccessor(0) == TakenSucc ? 0 : 1;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2997</td>
    <td class="codeLine">  auto Num = Weights[Idx];</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2997</td>
    <td class="codeLine">  auto Num = Weights[Idx];</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2998</td>
    <td class="codeLine">  auto Denom = Weights[0] + Weights[1];</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">2998</td>
    <td class="codeLine">  auto Denom = Weights[0] + Weights[1];</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">2999</td>
    <td class="codeLine">  // Degenerate or overflowed metadata.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">2999</td>
    <td class="codeLine">  // Degenerate or overflowed metadata.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3000</td>
    <td class="codeLine">  if (Denom == 0 || Num > Denom)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3000</td>
    <td class="codeLine">  if (Denom == 0 || Num > Denom)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3001</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3001</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3002</td>
    <td class="codeLine">  BranchProbability ActualTaken(Num, Denom);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3002</td>
    <td class="codeLine">  BranchProbability ActualTaken(Num, Denom);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3003</td>
    <td class="codeLine">  if (LikelyTaken > ActualTaken)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3003</td>
    <td class="codeLine">  if (LikelyTaken > ActualTaken)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3004</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3004</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3005</td>
    <td class="codeLine">  return true;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3005</td>
    <td class="codeLine">  return true;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3006</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3006</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3007</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3007</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3008</td>
    <td class="codeLine">/// Materialize pending invariant condition of the given candidate into IR. The</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3008</td>
    <td class="codeLine">/// Materialize pending invariant condition of the given candidate into IR. The</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3009</td>
    <td class="codeLine">/// injected loop-invariant condition implies the original loop-variant branch</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3009</td>
    <td class="codeLine">/// injected loop-invariant condition implies the original loop-variant branch</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3010</td>
    <td class="codeLine">/// condition, so the materialization turns</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3010</td>
    <td class="codeLine">/// condition, so the materialization turns</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3011</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3011</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3012</td>
    <td class="codeLine">/// loop_block:</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3012</td>
    <td class="codeLine">/// loop_block:</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3013</td>
    <td class="codeLine">///   ...</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3013</td>
    <td class="codeLine">///   ...</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3014</td>
    <td class="codeLine">///   br i1 %variant_cond, label InLoopSucc, label OutOfLoopSucc</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3014</td>
    <td class="codeLine">///   br i1 %variant_cond, label InLoopSucc, label OutOfLoopSucc</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3015</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3015</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3016</td>
    <td class="codeLine">/// into</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3016</td>
    <td class="codeLine">/// into</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3017</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3017</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3018</td>
    <td class="codeLine">/// preheader:</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3018</td>
    <td class="codeLine">/// preheader:</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3019</td>
    <td class="codeLine">///   %invariant_cond = LHS pred RHS</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3019</td>
    <td class="codeLine">///   %invariant_cond = LHS pred RHS</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3020</td>
    <td class="codeLine">/// ...</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3020</td>
    <td class="codeLine">/// ...</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3021</td>
    <td class="codeLine">/// loop_block:</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3021</td>
    <td class="codeLine">/// loop_block:</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3022</td>
    <td class="codeLine">///   br i1 %invariant_cond, label InLoopSucc, label OriginalCheck</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3022</td>
    <td class="codeLine">///   br i1 %invariant_cond, label InLoopSucc, label OriginalCheck</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3023</td>
    <td class="codeLine">/// OriginalCheck:</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3023</td>
    <td class="codeLine">/// OriginalCheck:</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3024</td>
    <td class="codeLine">///   br i1 %variant_cond, label InLoopSucc, label OutOfLoopSucc</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3024</td>
    <td class="codeLine">///   br i1 %variant_cond, label InLoopSucc, label OutOfLoopSucc</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3025</td>
    <td class="codeLine">/// ...</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3025</td>
    <td class="codeLine">/// ...</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3026</td>
    <td class="codeLine">static NonTrivialUnswitchCandidate</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3026</td>
    <td class="codeLine">static NonTrivialUnswitchCandidate</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3027</td>
    <td class="codeLine">injectPendingInvariantConditions(NonTrivialUnswitchCandidate Candidate, Loop &L,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3027</td>
    <td class="codeLine">injectPendingInvariantConditions(NonTrivialUnswitchCandidate Candidate, Loop &L,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3028</td>
    <td class="codeLine">                                 DominatorTree &DT, LoopInfo &LI,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3028</td>
    <td class="codeLine">                                 DominatorTree &DT, LoopInfo &LI,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3029</td>
    <td class="codeLine">                                 AssumptionCache &AC, MemorySSAUpdater *MSSAU) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3029</td>
    <td class="codeLine">                                 AssumptionCache &AC, MemorySSAUpdater *MSSAU) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3030</td>
    <td class="codeLine">  assert(Candidate.hasPendingInjection() && "Nothing to inject!");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3030</td>
    <td class="codeLine">  assert(Candidate.hasPendingInjection() && "Nothing to inject!");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3031</td>
    <td class="codeLine">  BasicBlock *Preheader = L.getLoopPreheader();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3031</td>
    <td class="codeLine">  BasicBlock *Preheader = L.getLoopPreheader();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3032</td>
    <td class="codeLine">  assert(Preheader && "Loop is not in simplified form?");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3032</td>
    <td class="codeLine">  assert(Preheader && "Loop is not in simplified form?");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3033</td>
    <td class="codeLine">  assert(LI.getLoopFor(Candidate.TI->getParent()) == &L &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3033</td>
    <td class="codeLine">  assert(LI.getLoopFor(Candidate.TI->getParent()) == &L &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3034</td>
    <td class="codeLine">         "Unswitching branch of inner loop!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3034</td>
    <td class="codeLine">         "Unswitching branch of inner loop!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3035</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3035</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3036</td>
    <td class="codeLine">  auto Pred = Candidate.PendingInjection->Pred;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3036</td>
    <td class="codeLine">  auto Pred = Candidate.PendingInjection->Pred;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3037</td>
    <td class="codeLine">  auto *LHS = Candidate.PendingInjection->LHS;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3037</td>
    <td class="codeLine">  auto *LHS = Candidate.PendingInjection->LHS;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3038</td>
    <td class="codeLine">  auto *RHS = Candidate.PendingInjection->RHS;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3038</td>
    <td class="codeLine">  auto *RHS = Candidate.PendingInjection->RHS;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3039</td>
    <td class="codeLine">  auto *InLoopSucc = Candidate.PendingInjection->InLoopSucc;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3039</td>
    <td class="codeLine">  auto *InLoopSucc = Candidate.PendingInjection->InLoopSucc;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3040</td>
    <td class="codeLine">  auto *TI = cast<BranchInst>(Candidate.TI);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3040</td>
    <td class="codeLine">  auto *TI = cast<BranchInst>(Candidate.TI);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3041</td>
    <td class="codeLine">  auto *BB = Candidate.TI->getParent();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3041</td>
    <td class="codeLine">  auto *BB = Candidate.TI->getParent();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3042</td>
    <td class="codeLine">  auto *OutOfLoopSucc = InLoopSucc == TI->getSuccessor(0) ? TI->getSuccessor(1)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3042</td>
    <td class="codeLine">  auto *OutOfLoopSucc = InLoopSucc == TI->getSuccessor(0) ? TI->getSuccessor(1)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3043</td>
    <td class="codeLine">                                                          : TI->getSuccessor(0);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3043</td>
    <td class="codeLine">                                                          : TI->getSuccessor(0);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3044</td>
    <td class="codeLine">  // FIXME: Remove this once limitation on successors is lifted.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3044</td>
    <td class="codeLine">  // FIXME: Remove this once limitation on successors is lifted.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3045</td>
    <td class="codeLine">  assert(L.contains(InLoopSucc) && "Not supported yet!");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3045</td>
    <td class="codeLine">  assert(L.contains(InLoopSucc) && "Not supported yet!");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3046</td>
    <td class="codeLine">  assert(!L.contains(OutOfLoopSucc) && "Not supported yet!");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3046</td>
    <td class="codeLine">  assert(!L.contains(OutOfLoopSucc) && "Not supported yet!");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3047</td>
    <td class="codeLine">  auto &Ctx = BB->getContext();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3047</td>
    <td class="codeLine">  auto &Ctx = BB->getContext();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3048</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3048</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3049</td>
    <td class="codeLine">  IRBuilder<> Builder(Preheader->getTerminator());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3049</td>
    <td class="codeLine">  IRBuilder<> Builder(Preheader->getTerminator());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3050</td>
    <td class="codeLine">  assert(ICmpInst::isUnsigned(Pred) && "Not supported yet!");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3050</td>
    <td class="codeLine">  assert(ICmpInst::isUnsigned(Pred) && "Not supported yet!");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3051</td>
    <td class="codeLine">  if (LHS->getType() != RHS->getType()) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3051</td>
    <td class="codeLine">  if (LHS->getType() != RHS->getType()) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3052</td>
    <td class="codeLine">    if (LHS->getType()->getIntegerBitWidth() <</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3052</td>
    <td class="codeLine">    if (LHS->getType()->getIntegerBitWidth() <</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3053</td>
    <td class="codeLine">        RHS->getType()->getIntegerBitWidth())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3053</td>
    <td class="codeLine">        RHS->getType()->getIntegerBitWidth())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3054</td>
    <td class="codeLine">      LHS = Builder.CreateZExt(LHS, RHS->getType(), LHS->getName() + ".wide");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3054</td>
    <td class="codeLine">      LHS = Builder.CreateZExt(LHS, RHS->getType(), LHS->getName() + ".wide");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3055</td>
    <td class="codeLine">    else</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3055</td>
    <td class="codeLine">    else</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3056</td>
    <td class="codeLine">      RHS = Builder.CreateZExt(RHS, LHS->getType(), RHS->getName() + ".wide");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3056</td>
    <td class="codeLine">      RHS = Builder.CreateZExt(RHS, LHS->getType(), RHS->getName() + ".wide");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3057</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3057</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3058</td>
    <td class="codeLine">  // Do not use builder here: CreateICmp may simplify this into a constant and</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3058</td>
    <td class="codeLine">  // Do not use builder here: CreateICmp may simplify this into a constant and</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3059</td>
    <td class="codeLine">  // unswitching will break. Better optimize it away later.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3059</td>
    <td class="codeLine">  // unswitching will break. Better optimize it away later.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3060</td>
    <td class="codeLine">  auto *InjectedCond =</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3060</td>
    <td class="codeLine">  auto *InjectedCond =</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3061</td>
    <td class="codeLine">      ICmpInst::Create(Instruction::ICmp, Pred, LHS, RHS, "injected.cond",</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3061</td>
    <td class="codeLine">      ICmpInst::Create(Instruction::ICmp, Pred, LHS, RHS, "injected.cond",</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3062</td>
    <td class="codeLine">                       Preheader->getTerminator());</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3062</td>
    <td class="codeLine">                       Preheader->getTerminator());</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3063</td>
    <td class="codeLine">  auto *OldCond = TI->getCondition();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3063</td>
    <td class="codeLine">  auto *OldCond = TI->getCondition();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3064</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3064</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3065</td>
    <td class="codeLine">  BasicBlock *CheckBlock = BasicBlock::Create(Ctx, BB->getName() + ".check",</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3065</td>
    <td class="codeLine">  BasicBlock *CheckBlock = BasicBlock::Create(Ctx, BB->getName() + ".check",</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3066</td>
    <td class="codeLine">                                              BB->getParent(), InLoopSucc);</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3066</td>
    <td class="codeLine">                                              BB->getParent(), InLoopSucc);</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3067</td>
    <td class="codeLine">  Builder.SetInsertPoint(TI);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3067</td>
    <td class="codeLine">  Builder.SetInsertPoint(TI);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3068</td>
    <td class="codeLine">  auto *InvariantBr =</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3068</td>
    <td class="codeLine">  auto *InvariantBr =</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3069</td>
    <td class="codeLine">      Builder.CreateCondBr(InjectedCond, InLoopSucc, CheckBlock);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3069</td>
    <td class="codeLine">      Builder.CreateCondBr(InjectedCond, InLoopSucc, CheckBlock);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3070</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3070</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3071</td>
    <td class="codeLine">  Builder.SetInsertPoint(CheckBlock);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3071</td>
    <td class="codeLine">  Builder.SetInsertPoint(CheckBlock);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3072</td>
    <td class="codeLine">  auto *NewTerm = Builder.CreateCondBr(OldCond, InLoopSucc, OutOfLoopSucc);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3072</td>
    <td class="codeLine">  auto *NewTerm = Builder.CreateCondBr(OldCond, InLoopSucc, OutOfLoopSucc);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3073</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3073</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3074</td>
    <td class="codeLine">  TI->eraseFromParent();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3074</td>
    <td class="codeLine">  TI->eraseFromParent();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3075</td>
    <td class="codeLine">  // Prevent infinite unswitching.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3075</td>
    <td class="codeLine">  // Prevent infinite unswitching.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3076</td>
    <td class="codeLine">  NewTerm->setMetadata("llvm.invariant.condition.injection.disabled",</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3076</td>
    <td class="codeLine">  NewTerm->setMetadata("llvm.invariant.condition.injection.disabled",</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3077</td>
    <td class="codeLine">                       MDNode::get(BB->getContext(), {}));</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3077</td>
    <td class="codeLine">                       MDNode::get(BB->getContext(), {}));</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3078</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3078</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3079</td>
    <td class="codeLine">  // Fixup phis.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3079</td>
    <td class="codeLine">  // Fixup phis.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3080</td>
    <td class="codeLine">  for (auto &I : *InLoopSucc) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3080</td>
    <td class="codeLine">  for (auto &I : *InLoopSucc) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3081</td>
    <td class="codeLine">    auto *PN = dyn_cast<PHINode>(&I);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3081</td>
    <td class="codeLine">    auto *PN = dyn_cast<PHINode>(&I);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3082</td>
    <td class="codeLine">    if (!PN)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3082</td>
    <td class="codeLine">    if (!PN)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3083</td>
    <td class="codeLine">      break;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3083</td>
    <td class="codeLine">      break;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3084</td>
    <td class="codeLine">    auto *Inc = PN->getIncomingValueForBlock(BB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3084</td>
    <td class="codeLine">    auto *Inc = PN->getIncomingValueForBlock(BB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3085</td>
    <td class="codeLine">    PN->addIncoming(Inc, CheckBlock);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3085</td>
    <td class="codeLine">    PN->addIncoming(Inc, CheckBlock);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3086</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3086</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3087</td>
    <td class="codeLine">  OutOfLoopSucc->replacePhiUsesWith(BB, CheckBlock);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3087</td>
    <td class="codeLine">  OutOfLoopSucc->replacePhiUsesWith(BB, CheckBlock);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3088</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3088</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3089</td>
    <td class="codeLine">  SmallVector<DominatorTree::UpdateType, 4> DTUpdates = {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3089</td>
    <td class="codeLine">  SmallVector<DominatorTree::UpdateType, 4> DTUpdates = {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3090</td>
    <td class="codeLine">    { DominatorTree::Insert, BB, CheckBlock },</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3090</td>
    <td class="codeLine">    { DominatorTree::Insert, BB, CheckBlock },</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3091</td>
    <td class="codeLine">    { DominatorTree::Insert, CheckBlock, InLoopSucc },</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3091</td>
    <td class="codeLine">    { DominatorTree::Insert, CheckBlock, InLoopSucc },</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3092</td>
    <td class="codeLine">    { DominatorTree::Insert, CheckBlock, OutOfLoopSucc },</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3092</td>
    <td class="codeLine">    { DominatorTree::Insert, CheckBlock, OutOfLoopSucc },</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3093</td>
    <td class="codeLine">    { DominatorTree::Delete, BB, OutOfLoopSucc }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3093</td>
    <td class="codeLine">    { DominatorTree::Delete, BB, OutOfLoopSucc }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3094</td>
    <td class="codeLine">  };</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3094</td>
    <td class="codeLine">  };</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3095</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3095</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3096</td>
    <td class="codeLine">  DT.applyUpdates(DTUpdates);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3096</td>
    <td class="codeLine">  DT.applyUpdates(DTUpdates);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3097</td>
    <td class="codeLine">  if (MSSAU)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3097</td>
    <td class="codeLine">  if (MSSAU)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3098</td>
    <td class="codeLine">    MSSAU->applyUpdates(DTUpdates, DT);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3098</td>
    <td class="codeLine">    MSSAU->applyUpdates(DTUpdates, DT);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3099</td>
    <td class="codeLine">  L.addBasicBlockToLoop(CheckBlock, LI);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3099</td>
    <td class="codeLine">  L.addBasicBlockToLoop(CheckBlock, LI);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3100</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3100</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3101</td>
    <td class="codeLine">#ifndef NDEBUG</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3101</td>
    <td class="codeLine">#ifndef NDEBUG</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3102</td>
    <td class="codeLine">  DT.verify();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3102</td>
    <td class="codeLine">  DT.verify();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3103</td>
    <td class="codeLine">  LI.verify(DT);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3103</td>
    <td class="codeLine">  LI.verify(DT);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3104</td>
    <td class="codeLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3104</td>
    <td class="codeLine">  if (MSSAU && VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3105</td>
    <td class="codeLine">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3105</td>
    <td class="codeLine">    MSSAU->getMemorySSA()->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3106</td>
    <td class="codeLine">#endif</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3106</td>
    <td class="codeLine">#endif</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3107</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3107</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3108</td>
    <td class="codeLine">  // TODO: In fact, cost of unswitching a new invariant candidate is *slightly*</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3108</td>
    <td class="codeLine">  // TODO: In fact, cost of unswitching a new invariant candidate is *slightly*</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3109</td>
    <td class="codeLine">  // higher because we have just inserted a new block. Need to think how to</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3109</td>
    <td class="codeLine">  // higher because we have just inserted a new block. Need to think how to</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3110</td>
    <td class="codeLine">  // adjust the cost of injected candidates when it was first computed.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3110</td>
    <td class="codeLine">  // adjust the cost of injected candidates when it was first computed.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3111</td>
    <td class="codeLine">  LLVM_DEBUG(dbgs() << "Injected a new loop-invariant branch " << *InvariantBr</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3111</td>
    <td class="codeLine">  LLVM_DEBUG(dbgs() << "Injected a new loop-invariant branch " << *InvariantBr</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3112</td>
    <td class="codeLine">                    << " and considering it for unswitching.");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3112</td>
    <td class="codeLine">                    << " and considering it for unswitching.");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3113</td>
    <td class="codeLine">  ++NumInvariantConditionsInjected;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3113</td>
    <td class="codeLine">  ++NumInvariantConditionsInjected;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3114</td>
    <td class="codeLine">  return NonTrivialUnswitchCandidate(InvariantBr, { InjectedCond },</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3114</td>
    <td class="codeLine">  return NonTrivialUnswitchCandidate(InvariantBr, { InjectedCond },</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3115</td>
    <td class="codeLine">                                     Candidate.Cost);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3115</td>
    <td class="codeLine">                                     Candidate.Cost);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3116</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3116</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3117</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3117</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3118</td>
    <td class="codeLine">/// Given chain of loop branch conditions looking like:</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3118</td>
    <td class="codeLine">/// Given chain of loop branch conditions looking like:</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3119</td>
    <td class="codeLine">///   br (Variant < Invariant1)</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3119</td>
    <td class="codeLine">///   br (Variant < Invariant1)</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3120</td>
    <td class="codeLine">///   br (Variant < Invariant2)</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3120</td>
    <td class="codeLine">///   br (Variant < Invariant2)</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3121</td>
    <td class="codeLine">///   br (Variant < Invariant3)</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3121</td>
    <td class="codeLine">///   br (Variant < Invariant3)</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3122</td>
    <td class="codeLine">///   ...</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3122</td>
    <td class="codeLine">///   ...</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3123</td>
    <td class="codeLine">/// collect set of invariant conditions on which we want to unswitch, which</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3123</td>
    <td class="codeLine">/// collect set of invariant conditions on which we want to unswitch, which</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3124</td>
    <td class="codeLine">/// look like:</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3124</td>
    <td class="codeLine">/// look like:</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3125</td>
    <td class="codeLine">///   Invariant1 <= Invariant2</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3125</td>
    <td class="codeLine">///   Invariant1 <= Invariant2</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3126</td>
    <td class="codeLine">///   Invariant2 <= Invariant3</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3126</td>
    <td class="codeLine">///   Invariant2 <= Invariant3</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3127</td>
    <td class="codeLine">///   ...</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3127</td>
    <td class="codeLine">///   ...</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3128</td>
    <td class="codeLine">/// Though they might not immediately exist in the IR, we can still inject them.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3128</td>
    <td class="codeLine">/// Though they might not immediately exist in the IR, we can still inject them.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3129</td>
    <td class="codeLine">static bool insertCandidatesWithPendingInjections(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3129</td>
    <td class="codeLine">static bool insertCandidatesWithPendingInjections(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3130</td>
    <td class="codeLine">    SmallVectorImpl<NonTrivialUnswitchCandidate> &UnswitchCandidates, Loop &L,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3130</td>
    <td class="codeLine">    SmallVectorImpl<NonTrivialUnswitchCandidate> &UnswitchCandidates, Loop &L,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3131</td>
    <td class="codeLine">    ICmpInst::Predicate Pred, ArrayRef<CompareDesc> Compares,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3131</td>
    <td class="codeLine">    ICmpInst::Predicate Pred, ArrayRef<CompareDesc> Compares,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3132</td>
    <td class="codeLine">    const DominatorTree &DT) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3132</td>
    <td class="codeLine">    const DominatorTree &DT) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3133</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3133</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3134</td>
    <td class="codeLine">  assert(ICmpInst::isRelational(Pred));</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3134</td>
    <td class="codeLine">  assert(ICmpInst::isRelational(Pred));</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3135</td>
    <td class="codeLine">  assert(ICmpInst::isStrictPredicate(Pred));</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3135</td>
    <td class="codeLine">  assert(ICmpInst::isStrictPredicate(Pred));</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3136</td>
    <td class="codeLine">  if (Compares.size() < 2)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3136</td>
    <td class="codeLine">  if (Compares.size() < 2)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3137</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3137</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3138</td>
    <td class="codeLine">  ICmpInst::Predicate NonStrictPred = ICmpInst::getNonStrictPredicate(Pred);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3138</td>
    <td class="codeLine">  ICmpInst::Predicate NonStrictPred = ICmpInst::getNonStrictPredicate(Pred);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3139</td>
    <td class="codeLine">  for (auto Prev = Compares.begin(), Next = Compares.begin() + 1;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3139</td>
    <td class="codeLine">  for (auto Prev = Compares.begin(), Next = Compares.begin() + 1;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3140</td>
    <td class="codeLine">       Next != Compares.end(); ++Prev, ++Next) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3140</td>
    <td class="codeLine">       Next != Compares.end(); ++Prev, ++Next) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3141</td>
    <td class="codeLine">    Value *LHS = Next->Invariant;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3141</td>
    <td class="codeLine">    Value *LHS = Next->Invariant;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3142</td>
    <td class="codeLine">    Value *RHS = Prev->Invariant;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3142</td>
    <td class="codeLine">    Value *RHS = Prev->Invariant;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3143</td>
    <td class="codeLine">    BasicBlock *InLoopSucc = Prev->InLoopSucc;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3143</td>
    <td class="codeLine">    BasicBlock *InLoopSucc = Prev->InLoopSucc;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3144</td>
    <td class="codeLine">    InjectedInvariant ToInject(NonStrictPred, LHS, RHS, InLoopSucc);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3144</td>
    <td class="codeLine">    InjectedInvariant ToInject(NonStrictPred, LHS, RHS, InLoopSucc);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3145</td>
    <td class="codeLine">    NonTrivialUnswitchCandidate Candidate(Prev->Term, { LHS, RHS },</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3145</td>
    <td class="codeLine">    NonTrivialUnswitchCandidate Candidate(Prev->Term, { LHS, RHS },</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3146</td>
    <td class="codeLine">                                          std::nullopt, std::move(ToInject));</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3146</td>
    <td class="codeLine">                                          std::nullopt, std::move(ToInject));</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3147</td>
    <td class="codeLine">    UnswitchCandidates.push_back(std::move(Candidate));</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3147</td>
    <td class="codeLine">    UnswitchCandidates.push_back(std::move(Candidate));</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3148</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3148</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3149</td>
    <td class="codeLine">  return true;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3149</td>
    <td class="codeLine">  return true;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3150</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3150</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3151</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3151</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3152</td>
    <td class="codeLine">/// Collect unswitch candidates by invariant conditions that are not immediately</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3152</td>
    <td class="codeLine">/// Collect unswitch candidates by invariant conditions that are not immediately</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3153</td>
    <td class="codeLine">/// present in the loop. However, they can be injected into the code if we</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3153</td>
    <td class="codeLine">/// present in the loop. However, they can be injected into the code if we</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3154</td>
    <td class="codeLine">/// decide it's profitable.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3154</td>
    <td class="codeLine">/// decide it's profitable.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3155</td>
    <td class="codeLine">/// An example of such conditions is following:</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3155</td>
    <td class="codeLine">/// An example of such conditions is following:</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3156</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3156</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3157</td>
    <td class="codeLine">///   for (...) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3157</td>
    <td class="codeLine">///   for (...) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3158</td>
    <td class="codeLine">///     x = load ...</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3158</td>
    <td class="codeLine">///     x = load ...</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3159</td>
    <td class="codeLine">///     if (! x <u C1) break;</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3159</td>
    <td class="codeLine">///     if (! x <u C1) break;</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3160</td>
    <td class="codeLine">///     if (! x <u C2) break;</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3160</td>
    <td class="codeLine">///     if (! x <u C2) break;</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3161</td>
    <td class="codeLine">///     <do something></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3161</td>
    <td class="codeLine">///     <do something></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3162</td>
    <td class="codeLine">///   }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3162</td>
    <td class="codeLine">///   }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3163</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3163</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3164</td>
    <td class="codeLine">/// We can unswitch by condition "C1 <=u C2". If that is true, then "x <u C1 <=</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3164</td>
    <td class="codeLine">/// We can unswitch by condition "C1 <=u C2". If that is true, then "x <u C1 <=</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3165</td>
    <td class="codeLine">/// C2" automatically implies "x <u C2", so we can get rid of one of</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3165</td>
    <td class="codeLine">/// C2" automatically implies "x <u C2", so we can get rid of one of</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3166</td>
    <td class="codeLine">/// loop-variant checks in unswitched loop version.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3166</td>
    <td class="codeLine">/// loop-variant checks in unswitched loop version.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3167</td>
    <td class="codeLine">static bool collectUnswitchCandidatesWithInjections(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3167</td>
    <td class="codeLine">static bool collectUnswitchCandidatesWithInjections(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3168</td>
    <td class="codeLine">    SmallVectorImpl<NonTrivialUnswitchCandidate> &UnswitchCandidates,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3168</td>
    <td class="codeLine">    SmallVectorImpl<NonTrivialUnswitchCandidate> &UnswitchCandidates,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3169</td>
    <td class="codeLine">    IVConditionInfo &PartialIVInfo, Instruction *&PartialIVCondBranch, Loop &L,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3169</td>
    <td class="codeLine">    IVConditionInfo &PartialIVInfo, Instruction *&PartialIVCondBranch, Loop &L,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3170</td>
    <td class="codeLine">    const DominatorTree &DT, const LoopInfo &LI, AAResults &AA,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3170</td>
    <td class="codeLine">    const DominatorTree &DT, const LoopInfo &LI, AAResults &AA,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3171</td>
    <td class="codeLine">    const MemorySSAUpdater *MSSAU) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3171</td>
    <td class="codeLine">    const MemorySSAUpdater *MSSAU) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3172</td>
    <td class="codeLine">  if (!InjectInvariantConditions)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3172</td>
    <td class="codeLine">  if (!InjectInvariantConditions)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3173</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3173</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3174</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3174</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3175</td>
    <td class="codeLine">  if (!DT.isReachableFromEntry(L.getHeader()))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3175</td>
    <td class="codeLine">  if (!DT.isReachableFromEntry(L.getHeader()))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3176</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3176</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3177</td>
    <td class="codeLine">  auto *Latch = L.getLoopLatch();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3177</td>
    <td class="codeLine">  auto *Latch = L.getLoopLatch();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3178</td>
    <td class="codeLine">  // Need to have a single latch and a preheader.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3178</td>
    <td class="codeLine">  // Need to have a single latch and a preheader.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3179</td>
    <td class="codeLine">  if (!Latch)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3179</td>
    <td class="codeLine">  if (!Latch)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3180</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3180</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3181</td>
    <td class="codeLine">  assert(L.getLoopPreheader() && "Must have a preheader!");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3181</td>
    <td class="codeLine">  assert(L.getLoopPreheader() && "Must have a preheader!");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3182</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3182</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3183</td>
    <td class="codeLine">  DenseMap<Value *, SmallVector<CompareDesc, 4> > CandidatesULT;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3183</td>
    <td class="codeLine">  DenseMap<Value *, SmallVector<CompareDesc, 4> > CandidatesULT;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3184</td>
    <td class="codeLine">  // Traverse the conditions that dominate latch (and therefore dominate each</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3184</td>
    <td class="codeLine">  // Traverse the conditions that dominate latch (and therefore dominate each</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3185</td>
    <td class="codeLine">  // other).</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3185</td>
    <td class="codeLine">  // other).</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3186</td>
    <td class="codeLine">  for (auto *DTN = DT.getNode(Latch); L.contains(DTN->getBlock());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3186</td>
    <td class="codeLine">  for (auto *DTN = DT.getNode(Latch); L.contains(DTN->getBlock());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3187</td>
    <td class="codeLine">       DTN = DTN->getIDom()) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3187</td>
    <td class="codeLine">       DTN = DTN->getIDom()) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3188</td>
    <td class="codeLine">    ICmpInst::Predicate Pred;</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3188</td>
    <td class="codeLine">    ICmpInst::Predicate Pred;</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3189</td>
    <td class="codeLine">    Value *LHS = nullptr, *RHS = nullptr;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3189</td>
    <td class="codeLine">    Value *LHS = nullptr, *RHS = nullptr;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3190</td>
    <td class="codeLine">    BasicBlock *IfTrue = nullptr, *IfFalse = nullptr;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3190</td>
    <td class="codeLine">    BasicBlock *IfTrue = nullptr, *IfFalse = nullptr;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3191</td>
    <td class="codeLine">    auto *BB = DTN->getBlock();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3191</td>
    <td class="codeLine">    auto *BB = DTN->getBlock();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3192</td>
    <td class="codeLine">    // Ignore inner loops.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3192</td>
    <td class="codeLine">    // Ignore inner loops.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3193</td>
    <td class="codeLine">    if (LI.getLoopFor(BB) != &L)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3193</td>
    <td class="codeLine">    if (LI.getLoopFor(BB) != &L)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3194</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3194</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3195</td>
    <td class="codeLine">    auto *Term = BB->getTerminator();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3195</td>
    <td class="codeLine">    auto *Term = BB->getTerminator();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3196</td>
    <td class="codeLine">    if (!match(Term, m_Br(m_ICmp(Pred, m_Value(LHS), m_Value(RHS)),</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3196</td>
    <td class="codeLine">    if (!match(Term, m_Br(m_ICmp(Pred, m_Value(LHS), m_Value(RHS)),</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3197</td>
    <td class="codeLine">                          m_BasicBlock(IfTrue), m_BasicBlock(IfFalse))))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3197</td>
    <td class="codeLine">                          m_BasicBlock(IfTrue), m_BasicBlock(IfFalse))))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3198</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3198</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3199</td>
    <td class="codeLine">    if (!LHS->getType()->isIntegerTy())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3199</td>
    <td class="codeLine">    if (!LHS->getType()->isIntegerTy())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3200</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3200</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3201</td>
    <td class="codeLine">    canonicalizeForInvariantConditionInjection(Pred, LHS, RHS, IfTrue, IfFalse,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3201</td>
    <td class="codeLine">    canonicalizeForInvariantConditionInjection(Pred, LHS, RHS, IfTrue, IfFalse,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3202</td>
    <td class="codeLine">                                               L);</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3202</td>
    <td class="codeLine">                                               L);</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3203</td>
    <td class="codeLine">    if (!shouldTryInjectInvariantCondition(Pred, LHS, RHS, IfTrue, IfFalse, L))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3203</td>
    <td class="codeLine">    if (!shouldTryInjectInvariantCondition(Pred, LHS, RHS, IfTrue, IfFalse, L))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3204</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3204</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3205</td>
    <td class="codeLine">    if (!shouldTryInjectBasingOnMetadata(cast<BranchInst>(Term), IfTrue))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3205</td>
    <td class="codeLine">    if (!shouldTryInjectBasingOnMetadata(cast<BranchInst>(Term), IfTrue))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3206</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3206</td>
    <td class="codeLine">      continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3207</td>
    <td class="codeLine">    // Strip ZEXT for unsigned predicate.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3207</td>
    <td class="codeLine">    // Strip ZEXT for unsigned predicate.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3208</td>
    <td class="codeLine">    // TODO: once signed predicates are supported, also strip SEXT.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3208</td>
    <td class="codeLine">    // TODO: once signed predicates are supported, also strip SEXT.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3209</td>
    <td class="codeLine">    CompareDesc Desc(cast<BranchInst>(Term), RHS, IfTrue);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3209</td>
    <td class="codeLine">    CompareDesc Desc(cast<BranchInst>(Term), RHS, IfTrue);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3210</td>
    <td class="codeLine">    while (auto *Zext = dyn_cast<ZExtInst>(LHS))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3210</td>
    <td class="codeLine">    while (auto *Zext = dyn_cast<ZExtInst>(LHS))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3211</td>
    <td class="codeLine">      LHS = Zext->getOperand(0);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3211</td>
    <td class="codeLine">      LHS = Zext->getOperand(0);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3212</td>
    <td class="codeLine">    CandidatesULT[LHS].push_back(Desc);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3212</td>
    <td class="codeLine">    CandidatesULT[LHS].push_back(Desc);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3213</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3213</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3214</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3214</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3215</td>
    <td class="codeLine">  bool Found = false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3215</td>
    <td class="codeLine">  bool Found = false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3216</td>
    <td class="codeLine">  for (auto &It : CandidatesULT)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3216</td>
    <td class="codeLine">  for (auto &It : CandidatesULT)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3217</td>
    <td class="codeLine">    Found |= insertCandidatesWithPendingInjections(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3217</td>
    <td class="codeLine">    Found |= insertCandidatesWithPendingInjections(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3218</td>
    <td class="codeLine">        UnswitchCandidates, L, ICmpInst::ICMP_ULT, It.second, DT);</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3218</td>
    <td class="codeLine">        UnswitchCandidates, L, ICmpInst::ICMP_ULT, It.second, DT);</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3219</td>
    <td class="codeLine">  return Found;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3219</td>
    <td class="codeLine">  return Found;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3220</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3220</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3221</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3221</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3222</td>
    <td class="codeLine">static bool isSafeForNoNTrivialUnswitching(Loop &L, LoopInfo &LI) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3222</td>
    <td class="codeLine">static bool isSafeForNoNTrivialUnswitching(Loop &L, LoopInfo &LI) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3223</td>
    <td class="codeLine">  if (!L.isSafeToClone())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3223</td>
    <td class="codeLine">  if (!L.isSafeToClone())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3224</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3224</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3225</td>
    <td class="codeLine">  for (auto *BB : L.blocks())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3225</td>
    <td class="codeLine">  for (auto *BB : L.blocks())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3226</td>
    <td class="codeLine">    for (auto &I : *BB) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3226</td>
    <td class="codeLine">    for (auto &I : *BB) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3227</td>
    <td class="codeLine">      if (I.getType()->isTokenTy() && I.isUsedOutsideOfBlock(BB))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3227</td>
    <td class="codeLine">      if (I.getType()->isTokenTy() && I.isUsedOutsideOfBlock(BB))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3228</td>
    <td class="codeLine">        return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3228</td>
    <td class="codeLine">        return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3229</td>
    <td class="codeLine">      if (auto *CB = dyn_cast<CallBase>(&I)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3229</td>
    <td class="codeLine">      if (auto *CB = dyn_cast<CallBase>(&I)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3230</td>
    <td class="codeLine">        assert(!CB->cannotDuplicate() && "Checked by L.isSafeToClone().");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3230</td>
    <td class="codeLine">        assert(!CB->cannotDuplicate() && "Checked by L.isSafeToClone().");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3231</td>
    <td class="codeLine">        if (CB->isConvergent())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3231</td>
    <td class="codeLine">        if (CB->isConvergent())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3232</td>
    <td class="codeLine">          return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3232</td>
    <td class="codeLine">          return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3233</td>
    <td class="codeLine">      }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3233</td>
    <td class="codeLine">      }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3234</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3234</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3235</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3235</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3236</td>
    <td class="codeLine">  // Check if there are irreducible CFG cycles in this loop. If so, we cannot</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3236</td>
    <td class="codeLine">  // Check if there are irreducible CFG cycles in this loop. If so, we cannot</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3237</td>
    <td class="codeLine">  // easily unswitch non-trivial edges out of the loop. Doing so might turn the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3237</td>
    <td class="codeLine">  // easily unswitch non-trivial edges out of the loop. Doing so might turn the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3238</td>
    <td class="codeLine">  // irreducible control flow into reducible control flow and introduce new</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3238</td>
    <td class="codeLine">  // irreducible control flow into reducible control flow and introduce new</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3239</td>
    <td class="codeLine">  // loops "out of thin air". If we ever discover important use cases for doing</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3239</td>
    <td class="codeLine">  // loops "out of thin air". If we ever discover important use cases for doing</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3240</td>
    <td class="codeLine">  // this, we can add support to loop unswitch, but it is a lot of complexity</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3240</td>
    <td class="codeLine">  // this, we can add support to loop unswitch, but it is a lot of complexity</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3241</td>
    <td class="codeLine">  // for what seems little or no real world benefit.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3241</td>
    <td class="codeLine">  // for what seems little or no real world benefit.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3242</td>
    <td class="codeLine">  LoopBlocksRPO RPOT(&L);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3242</td>
    <td class="codeLine">  LoopBlocksRPO RPOT(&L);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3243</td>
    <td class="codeLine">  RPOT.perform(&LI);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3243</td>
    <td class="codeLine">  RPOT.perform(&LI);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3244</td>
    <td class="codeLine">  if (containsIrreducibleCFG<const BasicBlock *>(RPOT, LI))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3244</td>
    <td class="codeLine">  if (containsIrreducibleCFG<const BasicBlock *>(RPOT, LI))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3245</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3245</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3246</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3246</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3247</td>
    <td class="codeLine">  SmallVector<BasicBlock *, 4> ExitBlocks;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3247</td>
    <td class="codeLine">  SmallVector<BasicBlock *, 4> ExitBlocks;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3248</td>
    <td class="codeLine">  L.getUniqueExitBlocks(ExitBlocks);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3248</td>
    <td class="codeLine">  L.getUniqueExitBlocks(ExitBlocks);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3249</td>
    <td class="codeLine">  // We cannot unswitch if exit blocks contain a cleanuppad/catchswitch</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3249</td>
    <td class="codeLine">  // We cannot unswitch if exit blocks contain a cleanuppad/catchswitch</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3250</td>
    <td class="codeLine">  // instruction as we don't know how to split those exit blocks.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3250</td>
    <td class="codeLine">  // instruction as we don't know how to split those exit blocks.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3251</td>
    <td class="codeLine">  // FIXME: We should teach SplitBlock to handle this and remove this</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3251</td>
    <td class="codeLine">  // FIXME: We should teach SplitBlock to handle this and remove this</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3252</td>
    <td class="codeLine">  // restriction.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3252</td>
    <td class="codeLine">  // restriction.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3253</td>
    <td class="codeLine">  for (auto *ExitBB : ExitBlocks) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3253</td>
    <td class="codeLine">  for (auto *ExitBB : ExitBlocks) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3254</td>
    <td class="codeLine">    auto *I = ExitBB->getFirstNonPHI();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3254</td>
    <td class="codeLine">    auto *I = ExitBB->getFirstNonPHI();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3255</td>
    <td class="codeLine">    if (isa<CleanupPadInst>(I) || isa<CatchSwitchInst>(I)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3255</td>
    <td class="codeLine">    if (isa<CleanupPadInst>(I) || isa<CatchSwitchInst>(I)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3256</td>
    <td class="codeLine">      LLVM_DEBUG(dbgs() << "Cannot unswitch because of cleanuppad/catchswitch "</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3256</td>
    <td class="codeLine">      LLVM_DEBUG(dbgs() << "Cannot unswitch because of cleanuppad/catchswitch "</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3257</td>
    <td class="codeLine">                           "in exit block\n");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3257</td>
    <td class="codeLine">                           "in exit block\n");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3258</td>
    <td class="codeLine">      return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3258</td>
    <td class="codeLine">      return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3259</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3259</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3260</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3260</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3261</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3261</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3262</td>
    <td class="codeLine">  return true;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3262</td>
    <td class="codeLine">  return true;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3263</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3263</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3264</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3264</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3265</td>
    <td class="codeLine">static NonTrivialUnswitchCandidate findBestNonTrivialUnswitchCandidate(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3265</td>
    <td class="codeLine">static NonTrivialUnswitchCandidate findBestNonTrivialUnswitchCandidate(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3266</td>
    <td class="codeLine">    ArrayRef<NonTrivialUnswitchCandidate> UnswitchCandidates, const Loop &L,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3266</td>
    <td class="codeLine">    ArrayRef<NonTrivialUnswitchCandidate> UnswitchCandidates, const Loop &L,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3267</td>
    <td class="codeLine">    const DominatorTree &DT, const LoopInfo &LI, AssumptionCache &AC,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3267</td>
    <td class="codeLine">    const DominatorTree &DT, const LoopInfo &LI, AssumptionCache &AC,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3268</td>
    <td class="codeLine">    const TargetTransformInfo &TTI, const IVConditionInfo &PartialIVInfo) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3268</td>
    <td class="codeLine">    const TargetTransformInfo &TTI, const IVConditionInfo &PartialIVInfo) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3269</td>
    <td class="codeLine">  // Given that unswitching these terminators will require duplicating parts of</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3269</td>
    <td class="codeLine">  // Given that unswitching these terminators will require duplicating parts of</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3270</td>
    <td class="codeLine">  // the loop, so we need to be able to model that cost. Compute the ephemeral</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3270</td>
    <td class="codeLine">  // the loop, so we need to be able to model that cost. Compute the ephemeral</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3271</td>
    <td class="codeLine">  // values and set up a data structure to hold per-BB costs. We cache each</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3271</td>
    <td class="codeLine">  // values and set up a data structure to hold per-BB costs. We cache each</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3272</td>
    <td class="codeLine">  // block's cost so that we don't recompute this when considering different</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3272</td>
    <td class="codeLine">  // block's cost so that we don't recompute this when considering different</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3273</td>
    <td class="codeLine">  // subsets of the loop for duplication during unswitching.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3273</td>
    <td class="codeLine">  // subsets of the loop for duplication during unswitching.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3274</td>
    <td class="codeLine">  SmallPtrSet<const Value *, 4> EphValues;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3274</td>
    <td class="codeLine">  SmallPtrSet<const Value *, 4> EphValues;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3275</td>
    <td class="codeLine">  CodeMetrics::collectEphemeralValues(&L, &AC, EphValues);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3275</td>
    <td class="codeLine">  CodeMetrics::collectEphemeralValues(&L, &AC, EphValues);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3276</td>
    <td class="codeLine">  SmallDenseMap<BasicBlock *, InstructionCost, 4> BBCostMap;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3276</td>
    <td class="codeLine">  SmallDenseMap<BasicBlock *, InstructionCost, 4> BBCostMap;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3277</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3277</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3278</td>
    <td class="codeLine">  // Compute the cost of each block, as well as the total loop cost. Also, bail</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3278</td>
    <td class="codeLine">  // Compute the cost of each block, as well as the total loop cost. Also, bail</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3279</td>
    <td class="codeLine">  // out if we see instructions which are incompatible with loop unswitching</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3279</td>
    <td class="codeLine">  // out if we see instructions which are incompatible with loop unswitching</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3280</td>
    <td class="codeLine">  // (convergent, noduplicate, or cross-basic-block tokens).</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3280</td>
    <td class="codeLine">  // (convergent, noduplicate, or cross-basic-block tokens).</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3281</td>
    <td class="codeLine">  // FIXME: We might be able to safely handle some of these in non-duplicated</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3281</td>
    <td class="codeLine">  // FIXME: We might be able to safely handle some of these in non-duplicated</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3282</td>
    <td class="codeLine">  // regions.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3282</td>
    <td class="codeLine">  // regions.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3283</td>
    <td class="codeLine">  TargetTransformInfo::TargetCostKind CostKind =</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3283</td>
    <td class="codeLine">  TargetTransformInfo::TargetCostKind CostKind =</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3284</td>
    <td class="codeLine">      L.getHeader()->getParent()->hasMinSize()</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3284</td>
    <td class="codeLine">      L.getHeader()->getParent()->hasMinSize()</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3285</td>
    <td class="codeLine">      ? TargetTransformInfo::TCK_CodeSize</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3285</td>
    <td class="codeLine">      ? TargetTransformInfo::TCK_CodeSize</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3286</td>
    <td class="codeLine">      : TargetTransformInfo::TCK_SizeAndLatency;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3286</td>
    <td class="codeLine">      : TargetTransformInfo::TCK_SizeAndLatency;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3287</td>
    <td class="codeLine">  InstructionCost LoopCost = 0;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3287</td>
    <td class="codeLine">  InstructionCost LoopCost = 0;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3288</td>
    <td class="codeLine">  for (auto *BB : L.blocks()) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3288</td>
    <td class="codeLine">  for (auto *BB : L.blocks()) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3289</td>
    <td class="codeLine">    InstructionCost Cost = 0;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3289</td>
    <td class="codeLine">    InstructionCost Cost = 0;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3290</td>
    <td class="codeLine">    for (auto &I : *BB) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3290</td>
    <td class="codeLine">    for (auto &I : *BB) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3291</td>
    <td class="codeLine">      if (EphValues.count(&I))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3291</td>
    <td class="codeLine">      if (EphValues.count(&I))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3292</td>
    <td class="codeLine">        continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3292</td>
    <td class="codeLine">        continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3293</td>
    <td class="codeLine">      Cost += TTI.getInstructionCost(&I, CostKind);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3293</td>
    <td class="codeLine">      Cost += TTI.getInstructionCost(&I, CostKind);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3294</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3294</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3295</td>
    <td class="codeLine">    assert(Cost >= 0 && "Must not have negative costs!");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3295</td>
    <td class="codeLine">    assert(Cost >= 0 && "Must not have negative costs!");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3296</td>
    <td class="codeLine">    LoopCost += Cost;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3296</td>
    <td class="codeLine">    LoopCost += Cost;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3297</td>
    <td class="codeLine">    assert(LoopCost >= 0 && "Must not have negative loop costs!");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3297</td>
    <td class="codeLine">    assert(LoopCost >= 0 && "Must not have negative loop costs!");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3298</td>
    <td class="codeLine">    BBCostMap[BB] = Cost;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3298</td>
    <td class="codeLine">    BBCostMap[BB] = Cost;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3299</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3299</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3300</td>
    <td class="codeLine">  LLVM_DEBUG(dbgs() << "  Total loop cost: " << LoopCost << "\n");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3300</td>
    <td class="codeLine">  LLVM_DEBUG(dbgs() << "  Total loop cost: " << LoopCost << "\n");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3301</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3301</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3302</td>
    <td class="codeLine">  // Now we find the best candidate by searching for the one with the following</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3302</td>
    <td class="codeLine">  // Now we find the best candidate by searching for the one with the following</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3303</td>
    <td class="codeLine">  // properties in order:</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3303</td>
    <td class="codeLine">  // properties in order:</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3304</td>
    <td class="codeLine">  //</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3304</td>
    <td class="codeLine">  //</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3305</td>
    <td class="codeLine">  // 1) An unswitching cost below the threshold</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3305</td>
    <td class="codeLine">  // 1) An unswitching cost below the threshold</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3306</td>
    <td class="codeLine">  // 2) The smallest number of duplicated unswitch candidates (to avoid</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3306</td>
    <td class="codeLine">  // 2) The smallest number of duplicated unswitch candidates (to avoid</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3307</td>
    <td class="codeLine">  //    creating redundant subsequent unswitching)</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3307</td>
    <td class="codeLine">  //    creating redundant subsequent unswitching)</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3308</td>
    <td class="codeLine">  // 3) The smallest cost after unswitching.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3308</td>
    <td class="codeLine">  // 3) The smallest cost after unswitching.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3309</td>
    <td class="codeLine">  //</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3309</td>
    <td class="codeLine">  //</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3310</td>
    <td class="codeLine">  // We prioritize reducing fanout of unswitch candidates provided the cost</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3310</td>
    <td class="codeLine">  // We prioritize reducing fanout of unswitch candidates provided the cost</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3311</td>
    <td class="codeLine">  // remains below the threshold because this has a multiplicative effect.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3311</td>
    <td class="codeLine">  // remains below the threshold because this has a multiplicative effect.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3312</td>
    <td class="codeLine">  //</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3312</td>
    <td class="codeLine">  //</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3313</td>
    <td class="codeLine">  // This requires memoizing each dominator subtree to avoid redundant work.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3313</td>
    <td class="codeLine">  // This requires memoizing each dominator subtree to avoid redundant work.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3314</td>
    <td class="codeLine">  //</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3314</td>
    <td class="codeLine">  //</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3315</td>
    <td class="codeLine">  // FIXME: Need to actually do the number of candidates part above.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3315</td>
    <td class="codeLine">  // FIXME: Need to actually do the number of candidates part above.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3316</td>
    <td class="codeLine">  SmallDenseMap<DomTreeNode *, InstructionCost, 4> DTCostMap;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3316</td>
    <td class="codeLine">  SmallDenseMap<DomTreeNode *, InstructionCost, 4> DTCostMap;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3317</td>
    <td class="codeLine">  // Given a terminator which might be unswitched, computes the non-duplicated</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3317</td>
    <td class="codeLine">  // Given a terminator which might be unswitched, computes the non-duplicated</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3318</td>
    <td class="codeLine">  // cost for that terminator.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3318</td>
    <td class="codeLine">  // cost for that terminator.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3319</td>
    <td class="codeLine">  auto ComputeUnswitchedCost = [&](Instruction &TI,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3319</td>
    <td class="codeLine">  auto ComputeUnswitchedCost = [&](Instruction &TI,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3320</td>
    <td class="codeLine">                                   bool FullUnswitch) -> InstructionCost {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3320</td>
    <td class="codeLine">                                   bool FullUnswitch) -> InstructionCost {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3321</td>
    <td class="codeLine">    // Unswitching selects unswitches the entire loop.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3321</td>
    <td class="codeLine">    // Unswitching selects unswitches the entire loop.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3322</td>
    <td class="codeLine">    if (isa<SelectInst>(TI))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3322</td>
    <td class="codeLine">    if (isa<SelectInst>(TI))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3323</td>
    <td class="codeLine">      return LoopCost;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3323</td>
    <td class="codeLine">      return LoopCost;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3324</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3324</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3325</td>
    <td class="codeLine">    BasicBlock &BB = *TI.getParent();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3325</td>
    <td class="codeLine">    BasicBlock &BB = *TI.getParent();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3326</td>
    <td class="codeLine">    SmallPtrSet<BasicBlock *, 4> Visited;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3326</td>
    <td class="codeLine">    SmallPtrSet<BasicBlock *, 4> Visited;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3327</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3327</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3328</td>
    <td class="codeLine">    InstructionCost Cost = 0;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3328</td>
    <td class="codeLine">    InstructionCost Cost = 0;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3329</td>
    <td class="codeLine">    for (BasicBlock *SuccBB : successors(&BB)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3329</td>
    <td class="codeLine">    for (BasicBlock *SuccBB : successors(&BB)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3330</td>
    <td class="codeLine">      // Don't count successors more than once.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3330</td>
    <td class="codeLine">      // Don't count successors more than once.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3331</td>
    <td class="codeLine">      if (!Visited.insert(SuccBB).second)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3331</td>
    <td class="codeLine">      if (!Visited.insert(SuccBB).second)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3332</td>
    <td class="codeLine">        continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3332</td>
    <td class="codeLine">        continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3333</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3333</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3334</td>
    <td class="codeLine">      // If this is a partial unswitch candidate, then it must be a conditional</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3334</td>
    <td class="codeLine">      // If this is a partial unswitch candidate, then it must be a conditional</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3335</td>
    <td class="codeLine">      // branch with a condition of either `or`, `and`, their corresponding</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3335</td>
    <td class="codeLine">      // branch with a condition of either `or`, `and`, their corresponding</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3336</td>
    <td class="codeLine">      // select forms or partially invariant instructions. In that case, one of</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3336</td>
    <td class="codeLine">      // select forms or partially invariant instructions. In that case, one of</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3337</td>
    <td class="codeLine">      // the successors is necessarily duplicated, so don't even try to remove</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3337</td>
    <td class="codeLine">      // the successors is necessarily duplicated, so don't even try to remove</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3338</td>
    <td class="codeLine">      // its cost.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3338</td>
    <td class="codeLine">      // its cost.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3339</td>
    <td class="codeLine">      if (!FullUnswitch) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3339</td>
    <td class="codeLine">      if (!FullUnswitch) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3340</td>
    <td class="codeLine">        auto &BI = cast<BranchInst>(TI);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3340</td>
    <td class="codeLine">        auto &BI = cast<BranchInst>(TI);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3341</td>
    <td class="codeLine">        Value *Cond = skipTrivialSelect(BI.getCondition());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3341</td>
    <td class="codeLine">        Value *Cond = skipTrivialSelect(BI.getCondition());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3342</td>
    <td class="codeLine">        if (match(Cond, m_LogicalAnd())) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3342</td>
    <td class="codeLine">        if (match(Cond, m_LogicalAnd())) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3343</td>
    <td class="codeLine">          if (SuccBB == BI.getSuccessor(1))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3343</td>
    <td class="codeLine">          if (SuccBB == BI.getSuccessor(1))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3344</td>
    <td class="codeLine">            continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3344</td>
    <td class="codeLine">            continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3345</td>
    <td class="codeLine">        } else if (match(Cond, m_LogicalOr())) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3345</td>
    <td class="codeLine">        } else if (match(Cond, m_LogicalOr())) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3346</td>
    <td class="codeLine">          if (SuccBB == BI.getSuccessor(0))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3346</td>
    <td class="codeLine">          if (SuccBB == BI.getSuccessor(0))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3347</td>
    <td class="codeLine">            continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3347</td>
    <td class="codeLine">            continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3348</td>
    <td class="codeLine">        } else if ((PartialIVInfo.KnownValue->isOneValue() &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3348</td>
    <td class="codeLine">        } else if ((PartialIVInfo.KnownValue->isOneValue() &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3349</td>
    <td class="codeLine">                    SuccBB == BI.getSuccessor(0)) ||</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3349</td>
    <td class="codeLine">                    SuccBB == BI.getSuccessor(0)) ||</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3350</td>
    <td class="codeLine">                   (!PartialIVInfo.KnownValue->isOneValue() &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3350</td>
    <td class="codeLine">                   (!PartialIVInfo.KnownValue->isOneValue() &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3351</td>
    <td class="codeLine">                    SuccBB == BI.getSuccessor(1)))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3351</td>
    <td class="codeLine">                    SuccBB == BI.getSuccessor(1)))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3352</td>
    <td class="codeLine">          continue;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3352</td>
    <td class="codeLine">          continue;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3353</td>
    <td class="codeLine">      }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3353</td>
    <td class="codeLine">      }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3354</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3354</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3355</td>
    <td class="codeLine">      // This successor's domtree will not need to be duplicated after</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3355</td>
    <td class="codeLine">      // This successor's domtree will not need to be duplicated after</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3356</td>
    <td class="codeLine">      // unswitching if the edge to the successor dominates it (and thus the</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3356</td>
    <td class="codeLine">      // unswitching if the edge to the successor dominates it (and thus the</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3357</td>
    <td class="codeLine">      // entire tree). This essentially means there is no other path into this</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3357</td>
    <td class="codeLine">      // entire tree). This essentially means there is no other path into this</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3358</td>
    <td class="codeLine">      // subtree and so it will end up live in only one clone of the loop.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3358</td>
    <td class="codeLine">      // subtree and so it will end up live in only one clone of the loop.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3359</td>
    <td class="codeLine">      if (SuccBB->getUniquePredecessor() ||</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3359</td>
    <td class="codeLine">      if (SuccBB->getUniquePredecessor() ||</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3360</td>
    <td class="codeLine">          llvm::all_of(predecessors(SuccBB), [&](BasicBlock *PredBB) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3360</td>
    <td class="codeLine">          llvm::all_of(predecessors(SuccBB), [&](BasicBlock *PredBB) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3361</td>
    <td class="codeLine">            return PredBB == &BB || DT.dominates(SuccBB, PredBB);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3361</td>
    <td class="codeLine">            return PredBB == &BB || DT.dominates(SuccBB, PredBB);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3362</td>
    <td class="codeLine">          })) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3362</td>
    <td class="codeLine">          })) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3363</td>
    <td class="codeLine">        Cost += computeDomSubtreeCost(*DT[SuccBB], BBCostMap, DTCostMap);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3363</td>
    <td class="codeLine">        Cost += computeDomSubtreeCost(*DT[SuccBB], BBCostMap, DTCostMap);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3364</td>
    <td class="codeLine">        assert(Cost <= LoopCost &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3364</td>
    <td class="codeLine">        assert(Cost <= LoopCost &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3365</td>
    <td class="codeLine">               "Non-duplicated cost should never exceed total loop cost!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3365</td>
    <td class="codeLine">               "Non-duplicated cost should never exceed total loop cost!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3366</td>
    <td class="codeLine">      }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3366</td>
    <td class="codeLine">      }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3367</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3367</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3368</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3368</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3369</td>
    <td class="codeLine">    // Now scale the cost by the number of unique successors minus one. We</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3369</td>
    <td class="codeLine">    // Now scale the cost by the number of unique successors minus one. We</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3370</td>
    <td class="codeLine">    // subtract one because there is already at least one copy of the entire</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3370</td>
    <td class="codeLine">    // subtract one because there is already at least one copy of the entire</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3371</td>
    <td class="codeLine">    // loop. This is computing the new cost of unswitching a condition.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3371</td>
    <td class="codeLine">    // loop. This is computing the new cost of unswitching a condition.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3372</td>
    <td class="codeLine">    // Note that guards always have 2 unique successors that are implicit and</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3372</td>
    <td class="codeLine">    // Note that guards always have 2 unique successors that are implicit and</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3373</td>
    <td class="codeLine">    // will be materialized if we decide to unswitch it.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3373</td>
    <td class="codeLine">    // will be materialized if we decide to unswitch it.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3374</td>
    <td class="codeLine">    int SuccessorsCount = isGuard(&TI) ? 2 : Visited.size();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3374</td>
    <td class="codeLine">    int SuccessorsCount = isGuard(&TI) ? 2 : Visited.size();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3375</td>
    <td class="codeLine">    assert(SuccessorsCount > 1 &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3375</td>
    <td class="codeLine">    assert(SuccessorsCount > 1 &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3376</td>
    <td class="codeLine">           "Cannot unswitch a condition without multiple distinct successors!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3376</td>
    <td class="codeLine">           "Cannot unswitch a condition without multiple distinct successors!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3377</td>
    <td class="codeLine">    return (LoopCost - Cost) * (SuccessorsCount - 1);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3377</td>
    <td class="codeLine">    return (LoopCost - Cost) * (SuccessorsCount - 1);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3378</td>
    <td class="codeLine">  };</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3378</td>
    <td class="codeLine">  };</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3379</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3379</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3380</td>
    <td class="codeLine">  std::optional<NonTrivialUnswitchCandidate> Best;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3380</td>
    <td class="codeLine">  std::optional<NonTrivialUnswitchCandidate> Best;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3381</td>
    <td class="codeLine">  for (auto &Candidate : UnswitchCandidates) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3381</td>
    <td class="codeLine">  for (auto &Candidate : UnswitchCandidates) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3382</td>
    <td class="codeLine">    Instruction &TI = *Candidate.TI;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3382</td>
    <td class="codeLine">    Instruction &TI = *Candidate.TI;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3383</td>
    <td class="codeLine">    ArrayRef<Value *> Invariants = Candidate.Invariants;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3383</td>
    <td class="codeLine">    ArrayRef<Value *> Invariants = Candidate.Invariants;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3384</td>
    <td class="codeLine">    BranchInst *BI = dyn_cast<BranchInst>(&TI);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3384</td>
    <td class="codeLine">    BranchInst *BI = dyn_cast<BranchInst>(&TI);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3385</td>
    <td class="codeLine">    bool FullUnswitch =</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3385</td>
    <td class="codeLine">    bool FullUnswitch =</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3386</td>
    <td class="codeLine">        !BI || Candidate.hasPendingInjection() ||</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3386</td>
    <td class="codeLine">        !BI || Candidate.hasPendingInjection() ||</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3387</td>
    <td class="codeLine">        (Invariants.size() == 1 &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3387</td>
    <td class="codeLine">        (Invariants.size() == 1 &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3388</td>
    <td class="codeLine">         Invariants[0] == skipTrivialSelect(BI->getCondition()));</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3388</td>
    <td class="codeLine">         Invariants[0] == skipTrivialSelect(BI->getCondition()));</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3389</td>
    <td class="codeLine">    InstructionCost CandidateCost = ComputeUnswitchedCost(TI, FullUnswitch);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3389</td>
    <td class="codeLine">    InstructionCost CandidateCost = ComputeUnswitchedCost(TI, FullUnswitch);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3390</td>
    <td class="codeLine">    // Calculate cost multiplier which is a tool to limit potentially</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3390</td>
    <td class="codeLine">    // Calculate cost multiplier which is a tool to limit potentially</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3391</td>
    <td class="codeLine">    // exponential behavior of loop-unswitch.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3391</td>
    <td class="codeLine">    // exponential behavior of loop-unswitch.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3392</td>
    <td class="codeLine">    if (EnableUnswitchCostMultiplier) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3392</td>
    <td class="codeLine">    if (EnableUnswitchCostMultiplier) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3393</td>
    <td class="codeLine">      int CostMultiplier =</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3393</td>
    <td class="codeLine">      int CostMultiplier =</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3394</td>
    <td class="codeLine">          CalculateUnswitchCostMultiplier(TI, L, LI, DT, UnswitchCandidates);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3394</td>
    <td class="codeLine">          CalculateUnswitchCostMultiplier(TI, L, LI, DT, UnswitchCandidates);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3395</td>
    <td class="codeLine">      assert(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3395</td>
    <td class="codeLine">      assert(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3396</td>
    <td class="codeLine">          (CostMultiplier > 0 && CostMultiplier <= UnswitchThreshold) &&</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3396</td>
    <td class="codeLine">          (CostMultiplier > 0 && CostMultiplier <= UnswitchThreshold) &&</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3397</td>
    <td class="codeLine">          "cost multiplier needs to be in the range of 1..UnswitchThreshold");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3397</td>
    <td class="codeLine">          "cost multiplier needs to be in the range of 1..UnswitchThreshold");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3398</td>
    <td class="codeLine">      CandidateCost *= CostMultiplier;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3398</td>
    <td class="codeLine">      CandidateCost *= CostMultiplier;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3399</td>
    <td class="codeLine">      LLVM_DEBUG(dbgs() << "  Computed cost of " << CandidateCost</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3399</td>
    <td class="codeLine">      LLVM_DEBUG(dbgs() << "  Computed cost of " << CandidateCost</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3400</td>
    <td class="codeLine">                        << " (multiplier: " << CostMultiplier << ")"</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3400</td>
    <td class="codeLine">                        << " (multiplier: " << CostMultiplier << ")"</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3401</td>
    <td class="codeLine">                        << " for unswitch candidate: " << TI << "\n");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3401</td>
    <td class="codeLine">                        << " for unswitch candidate: " << TI << "\n");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3402</td>
    <td class="codeLine">    } else {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3402</td>
    <td class="codeLine">    } else {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3403</td>
    <td class="codeLine">      LLVM_DEBUG(dbgs() << "  Computed cost of " << CandidateCost</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3403</td>
    <td class="codeLine">      LLVM_DEBUG(dbgs() << "  Computed cost of " << CandidateCost</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3404</td>
    <td class="codeLine">                        << " for unswitch candidate: " << TI << "\n");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3404</td>
    <td class="codeLine">                        << " for unswitch candidate: " << TI << "\n");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3405</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3405</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3406</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3406</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3407</td>
    <td class="codeLine">    if (!Best || CandidateCost < Best->Cost) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3407</td>
    <td class="codeLine">    if (!Best || CandidateCost < Best->Cost) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3408</td>
    <td class="codeLine">      Best = Candidate;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3408</td>
    <td class="codeLine">      Best = Candidate;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3409</td>
    <td class="codeLine">      Best->Cost = CandidateCost;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3409</td>
    <td class="codeLine">      Best->Cost = CandidateCost;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3410</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3410</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3411</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3411</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3412</td>
    <td class="codeLine">  assert(Best && "Must be!");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3412</td>
    <td class="codeLine">  assert(Best && "Must be!");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3413</td>
    <td class="codeLine">  return *Best;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3413</td>
    <td class="codeLine">  return *Best;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3414</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3414</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3415</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3415</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3416</td>
    <td class="codeLine">// Insert a freeze on an unswitched branch if all is true:</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3416</td>
    <td class="codeLine">// Insert a freeze on an unswitched branch if all is true:</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3417</td>
    <td class="codeLine">// 1. freeze-loop-unswitch-cond option is true</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3417</td>
    <td class="codeLine">// 1. freeze-loop-unswitch-cond option is true</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3418</td>
    <td class="codeLine">// 2. The branch may not execute in the loop pre-transformation. If a branch may</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3418</td>
    <td class="codeLine">// 2. The branch may not execute in the loop pre-transformation. If a branch may</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3419</td>
    <td class="codeLine">// not execute and could cause UB, it would always cause UB if it is hoisted outside</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3419</td>
    <td class="codeLine">// not execute and could cause UB, it would always cause UB if it is hoisted outside</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3420</td>
    <td class="codeLine">// of the loop. Insert a freeze to prevent this case.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3420</td>
    <td class="codeLine">// of the loop. Insert a freeze to prevent this case.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3421</td>
    <td class="codeLine">// 3. The branch condition may be poison or undef</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3421</td>
    <td class="codeLine">// 3. The branch condition may be poison or undef</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3422</td>
    <td class="codeLine">static bool shouldInsertFreeze(Loop &L, Instruction &TI, DominatorTree &DT,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3422</td>
    <td class="codeLine">static bool shouldInsertFreeze(Loop &L, Instruction &TI, DominatorTree &DT,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3423</td>
    <td class="codeLine">                               AssumptionCache &AC) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3423</td>
    <td class="codeLine">                               AssumptionCache &AC) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3424</td>
    <td class="codeLine">  assert(isa<BranchInst>(TI) || isa<SwitchInst>(TI));</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3424</td>
    <td class="codeLine">  assert(isa<BranchInst>(TI) || isa<SwitchInst>(TI));</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3425</td>
    <td class="codeLine">  if (!FreezeLoopUnswitchCond)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3425</td>
    <td class="codeLine">  if (!FreezeLoopUnswitchCond)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3426</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3426</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3427</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3427</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3428</td>
    <td class="codeLine">  ICFLoopSafetyInfo SafetyInfo;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3428</td>
    <td class="codeLine">  ICFLoopSafetyInfo SafetyInfo;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3429</td>
    <td class="codeLine">  SafetyInfo.computeLoopSafetyInfo(&L);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3429</td>
    <td class="codeLine">  SafetyInfo.computeLoopSafetyInfo(&L);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3430</td>
    <td class="codeLine">  if (SafetyInfo.isGuaranteedToExecute(TI, &DT, &L))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3430</td>
    <td class="codeLine">  if (SafetyInfo.isGuaranteedToExecute(TI, &DT, &L))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3431</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3431</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3432</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3432</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3433</td>
    <td class="codeLine">  Value *Cond;</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3433</td>
    <td class="codeLine">  Value *Cond;</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3434</td>
    <td class="codeLine">  if (BranchInst *BI = dyn_cast<BranchInst>(&TI))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3434</td>
    <td class="codeLine">  if (BranchInst *BI = dyn_cast<BranchInst>(&TI))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3435</td>
    <td class="codeLine">    Cond = skipTrivialSelect(BI->getCondition());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3435</td>
    <td class="codeLine">    Cond = skipTrivialSelect(BI->getCondition());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3436</td>
    <td class="codeLine">  else</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3436</td>
    <td class="codeLine">  else</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3437</td>
    <td class="codeLine">    Cond = skipTrivialSelect(cast<SwitchInst>(&TI)->getCondition());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3437</td>
    <td class="codeLine">    Cond = skipTrivialSelect(cast<SwitchInst>(&TI)->getCondition());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3438</td>
    <td class="codeLine">  return !isGuaranteedNotToBeUndefOrPoison(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3438</td>
    <td class="codeLine">  return !isGuaranteedNotToBeUndefOrPoison(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3439</td>
    <td class="codeLine">      Cond, &AC, L.getLoopPreheader()->getTerminator(), &DT);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3439</td>
    <td class="codeLine">      Cond, &AC, L.getLoopPreheader()->getTerminator(), &DT);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3440</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3440</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3441</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3441</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3442</td>
    <td class="codeLine">static bool unswitchBestCondition(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3442</td>
    <td class="codeLine">static bool unswitchBestCondition(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3443</td>
    <td class="codeLine">    Loop &L, DominatorTree &DT, LoopInfo &LI, AssumptionCache &AC,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3443</td>
    <td class="codeLine">    Loop &L, DominatorTree &DT, LoopInfo &LI, AssumptionCache &AC,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3444</td>
    <td class="codeLine">    AAResults &AA, TargetTransformInfo &TTI,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3444</td>
    <td class="codeLine">    AAResults &AA, TargetTransformInfo &TTI,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3445</td>
    <td class="codeLine">    function_ref<void(bool, bool, ArrayRef<Loop *>)> UnswitchCB,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3445</td>
    <td class="codeLine">    function_ref<void(bool, bool, ArrayRef<Loop *>)> UnswitchCB,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3446</td>
    <td class="codeLine">    ScalarEvolution *SE, MemorySSAUpdater *MSSAU,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3446</td>
    <td class="codeLine">    ScalarEvolution *SE, MemorySSAUpdater *MSSAU,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3447</td>
    <td class="codeLine">    function_ref<void(Loop &, StringRef)> DestroyLoopCB) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3447</td>
    <td class="codeLine">    function_ref<void(Loop &, StringRef)> DestroyLoopCB) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3448</td>
    <td class="codeLine">  // Collect all invariant conditions within this loop (as opposed to an inner</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3448</td>
    <td class="codeLine">  // Collect all invariant conditions within this loop (as opposed to an inner</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3449</td>
    <td class="codeLine">  // loop which would be handled when visiting that inner loop).</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3449</td>
    <td class="codeLine">  // loop which would be handled when visiting that inner loop).</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3450</td>
    <td class="codeLine">  SmallVector<NonTrivialUnswitchCandidate, 4> UnswitchCandidates;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3450</td>
    <td class="codeLine">  SmallVector<NonTrivialUnswitchCandidate, 4> UnswitchCandidates;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3451</td>
    <td class="codeLine">  IVConditionInfo PartialIVInfo;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3451</td>
    <td class="codeLine">  IVConditionInfo PartialIVInfo;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3452</td>
    <td class="codeLine">  Instruction *PartialIVCondBranch = nullptr;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3452</td>
    <td class="codeLine">  Instruction *PartialIVCondBranch = nullptr;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3453</td>
    <td class="codeLine">  collectUnswitchCandidates(UnswitchCandidates, PartialIVInfo,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3453</td>
    <td class="codeLine">  collectUnswitchCandidates(UnswitchCandidates, PartialIVInfo,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3454</td>
    <td class="codeLine">                            PartialIVCondBranch, L, LI, AA, MSSAU);</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3454</td>
    <td class="codeLine">                            PartialIVCondBranch, L, LI, AA, MSSAU);</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3455</td>
    <td class="codeLine">  collectUnswitchCandidatesWithInjections(UnswitchCandidates, PartialIVInfo,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3455</td>
    <td class="codeLine">  collectUnswitchCandidatesWithInjections(UnswitchCandidates, PartialIVInfo,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3456</td>
    <td class="codeLine">                                          PartialIVCondBranch, L, DT, LI, AA,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3456</td>
    <td class="codeLine">                                          PartialIVCondBranch, L, DT, LI, AA,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3457</td>
    <td class="codeLine">                                          MSSAU);</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3457</td>
    <td class="codeLine">                                          MSSAU);</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3458</td>
    <td class="codeLine">  // If we didn't find any candidates, we're done.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3458</td>
    <td class="codeLine">  // If we didn't find any candidates, we're done.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3459</td>
    <td class="codeLine">  if (UnswitchCandidates.empty())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3459</td>
    <td class="codeLine">  if (UnswitchCandidates.empty())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3460</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3460</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3461</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3461</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3462</td>
    <td class="codeLine">  LLVM_DEBUG(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3462</td>
    <td class="codeLine">  LLVM_DEBUG(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3463</td>
    <td class="codeLine">      dbgs() << "Considering " << UnswitchCandidates.size()</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3463</td>
    <td class="codeLine">      dbgs() << "Considering " << UnswitchCandidates.size()</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3464</td>
    <td class="codeLine">             << " non-trivial loop invariant conditions for unswitching.\n");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3464</td>
    <td class="codeLine">             << " non-trivial loop invariant conditions for unswitching.\n");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3465</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3465</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3466</td>
    <td class="codeLine">  NonTrivialUnswitchCandidate Best = findBestNonTrivialUnswitchCandidate(</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3466</td>
    <td class="codeLine">  NonTrivialUnswitchCandidate Best = findBestNonTrivialUnswitchCandidate(</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3467</td>
    <td class="codeLine">      UnswitchCandidates, L, DT, LI, AC, TTI, PartialIVInfo);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3467</td>
    <td class="codeLine">      UnswitchCandidates, L, DT, LI, AC, TTI, PartialIVInfo);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3468</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3468</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3469</td>
    <td class="codeLine">  assert(Best.TI && "Failed to find loop unswitch candidate");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3469</td>
    <td class="codeLine">  assert(Best.TI && "Failed to find loop unswitch candidate");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3470</td>
    <td class="codeLine">  assert(Best.Cost && "Failed to compute cost");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3470</td>
    <td class="codeLine">  assert(Best.Cost && "Failed to compute cost");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3471</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3471</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3472</td>
    <td class="codeLine">  if (*Best.Cost >= UnswitchThreshold) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3472</td>
    <td class="codeLine">  if (*Best.Cost >= UnswitchThreshold) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3473</td>
    <td class="codeLine">    LLVM_DEBUG(dbgs() << "Cannot unswitch, lowest cost found: " << *Best.Cost</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3473</td>
    <td class="codeLine">    LLVM_DEBUG(dbgs() << "Cannot unswitch, lowest cost found: " << *Best.Cost</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3474</td>
    <td class="codeLine">                      << "\n");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3474</td>
    <td class="codeLine">                      << "\n");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3475</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3475</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3476</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3476</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3477</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3477</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3478</td>
    <td class="codeLine">  if (Best.hasPendingInjection())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3478</td>
    <td class="codeLine">  if (Best.hasPendingInjection())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3479</td>
    <td class="codeLine">    Best = injectPendingInvariantConditions(Best, L, DT, LI, AC, MSSAU);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3479</td>
    <td class="codeLine">    Best = injectPendingInvariantConditions(Best, L, DT, LI, AC, MSSAU);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3480</td>
    <td class="codeLine">  assert(!Best.hasPendingInjection() &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3480</td>
    <td class="codeLine">  assert(!Best.hasPendingInjection() &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3481</td>
    <td class="codeLine">         "All injections should have been done by now!");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3481</td>
    <td class="codeLine">         "All injections should have been done by now!");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3482</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3482</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3483</td>
    <td class="codeLine">  if (Best.TI != PartialIVCondBranch)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3483</td>
    <td class="codeLine">  if (Best.TI != PartialIVCondBranch)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3484</td>
    <td class="codeLine">    PartialIVInfo.InstToDuplicate.clear();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3484</td>
    <td class="codeLine">    PartialIVInfo.InstToDuplicate.clear();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3485</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3485</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3486</td>
    <td class="codeLine">  bool InsertFreeze;</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3486</td>
    <td class="codeLine">  bool InsertFreeze;</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3487</td>
    <td class="codeLine">  if (auto *SI = dyn_cast<SelectInst>(Best.TI)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3487</td>
    <td class="codeLine">  if (auto *SI = dyn_cast<SelectInst>(Best.TI)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3488</td>
    <td class="codeLine">    // If the best candidate is a select, turn it into a branch. Select</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3488</td>
    <td class="codeLine">    // If the best candidate is a select, turn it into a branch. Select</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3489</td>
    <td class="codeLine">    // instructions with a poison conditional do not propagate poison, but</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3489</td>
    <td class="codeLine">    // instructions with a poison conditional do not propagate poison, but</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3490</td>
    <td class="codeLine">    // branching on poison causes UB. Insert a freeze on the select</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3490</td>
    <td class="codeLine">    // branching on poison causes UB. Insert a freeze on the select</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3491</td>
    <td class="codeLine">    // conditional to prevent UB after turning the select into a branch.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3491</td>
    <td class="codeLine">    // conditional to prevent UB after turning the select into a branch.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3492</td>
    <td class="codeLine">    InsertFreeze = !isGuaranteedNotToBeUndefOrPoison(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3492</td>
    <td class="codeLine">    InsertFreeze = !isGuaranteedNotToBeUndefOrPoison(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3493</td>
    <td class="codeLine">        SI->getCondition(), &AC, L.getLoopPreheader()->getTerminator(), &DT);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3493</td>
    <td class="codeLine">        SI->getCondition(), &AC, L.getLoopPreheader()->getTerminator(), &DT);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3494</td>
    <td class="codeLine">    Best.TI = turnSelectIntoBranch(SI, DT, LI, MSSAU, &AC);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3494</td>
    <td class="codeLine">    Best.TI = turnSelectIntoBranch(SI, DT, LI, MSSAU, &AC);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3495</td>
    <td class="codeLine">  } else {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3495</td>
    <td class="codeLine">  } else {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3496</td>
    <td class="codeLine">    // If the best candidate is a guard, turn it into a branch.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3496</td>
    <td class="codeLine">    // If the best candidate is a guard, turn it into a branch.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3497</td>
    <td class="codeLine">    if (isGuard(Best.TI))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3497</td>
    <td class="codeLine">    if (isGuard(Best.TI))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3498</td>
    <td class="codeLine">      Best.TI =</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3498</td>
    <td class="codeLine">      Best.TI =</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3499</td>
    <td class="codeLine">          turnGuardIntoBranch(cast<IntrinsicInst>(Best.TI), L, DT, LI, MSSAU);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3499</td>
    <td class="codeLine">          turnGuardIntoBranch(cast<IntrinsicInst>(Best.TI), L, DT, LI, MSSAU);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3500</td>
    <td class="codeLine">    InsertFreeze = shouldInsertFreeze(L, *Best.TI, DT, AC);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3500</td>
    <td class="codeLine">    InsertFreeze = shouldInsertFreeze(L, *Best.TI, DT, AC);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3501</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3501</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3502</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3502</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3503</td>
    <td class="codeLine">  LLVM_DEBUG(dbgs() << "  Unswitching non-trivial (cost = " << Best.Cost</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3503</td>
    <td class="codeLine">  LLVM_DEBUG(dbgs() << "  Unswitching non-trivial (cost = " << Best.Cost</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3504</td>
    <td class="codeLine">                    << ") terminator: " << *Best.TI << "\n");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3504</td>
    <td class="codeLine">                    << ") terminator: " << *Best.TI << "\n");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3505</td>
    <td class="codeLine">  unswitchNontrivialInvariants(L, *Best.TI, Best.Invariants, PartialIVInfo, DT,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3505</td>
    <td class="codeLine">  unswitchNontrivialInvariants(L, *Best.TI, Best.Invariants, PartialIVInfo, DT,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3506</td>
    <td class="codeLine">                               LI, AC, UnswitchCB, SE, MSSAU, DestroyLoopCB,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3506</td>
    <td class="codeLine">                               LI, AC, UnswitchCB, SE, MSSAU, DestroyLoopCB,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3507</td>
    <td class="codeLine">                               InsertFreeze);</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3507</td>
    <td class="codeLine">                               InsertFreeze);</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3508</td>
    <td class="codeLine">  return true;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3508</td>
    <td class="codeLine">  return true;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3509</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3509</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3510</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3510</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3511</td>
    <td class="codeLine">/// Unswitch control flow predicated on loop invariant conditions.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3511</td>
    <td class="codeLine">/// Unswitch control flow predicated on loop invariant conditions.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3512</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3512</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3513</td>
    <td class="codeLine">/// This first hoists all branches or switches which are trivial (IE, do not</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3513</td>
    <td class="codeLine">/// This first hoists all branches or switches which are trivial (IE, do not</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3514</td>
    <td class="codeLine">/// require duplicating any part of the loop) out of the loop body. It then</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3514</td>
    <td class="codeLine">/// require duplicating any part of the loop) out of the loop body. It then</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3515</td>
    <td class="codeLine">/// looks at other loop invariant control flows and tries to unswitch those as</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3515</td>
    <td class="codeLine">/// looks at other loop invariant control flows and tries to unswitch those as</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3516</td>
    <td class="codeLine">/// well by cloning the loop if the result is small enough.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3516</td>
    <td class="codeLine">/// well by cloning the loop if the result is small enough.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3517</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3517</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3518</td>
    <td class="codeLine">/// The `DT`, `LI`, `AC`, `AA`, `TTI` parameters are required analyses that are</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3518</td>
    <td class="codeLine">/// The `DT`, `LI`, `AC`, `AA`, `TTI` parameters are required analyses that are</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3519</td>
    <td class="codeLine">/// also updated based on the unswitch. The `MSSA` analysis is also updated if</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3519</td>
    <td class="codeLine">/// also updated based on the unswitch. The `MSSA` analysis is also updated if</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3520</td>
    <td class="codeLine">/// valid (i.e. its use is enabled).</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3520</td>
    <td class="codeLine">/// valid (i.e. its use is enabled).</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3521</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3521</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3522</td>
    <td class="codeLine">/// If either `NonTrivial` is true or the flag `EnableNonTrivialUnswitch` is</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3522</td>
    <td class="codeLine">/// If either `NonTrivial` is true or the flag `EnableNonTrivialUnswitch` is</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3523</td>
    <td class="codeLine">/// true, we will attempt to do non-trivial unswitching as well as trivial</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3523</td>
    <td class="codeLine">/// true, we will attempt to do non-trivial unswitching as well as trivial</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3524</td>
    <td class="codeLine">/// unswitching.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3524</td>
    <td class="codeLine">/// unswitching.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3525</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3525</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3526</td>
    <td class="codeLine">/// The `UnswitchCB` callback provided will be run after unswitching is</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3526</td>
    <td class="codeLine">/// The `UnswitchCB` callback provided will be run after unswitching is</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3527</td>
    <td class="codeLine">/// complete, with the first parameter set to `true` if the provided loop</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3527</td>
    <td class="codeLine">/// complete, with the first parameter set to `true` if the provided loop</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3528</td>
    <td class="codeLine">/// remains a loop, and a list of new sibling loops created.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3528</td>
    <td class="codeLine">/// remains a loop, and a list of new sibling loops created.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3529</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3529</td>
    <td class="codeLine">///</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3530</td>
    <td class="codeLine">/// If `SE` is non-null, we will update that analysis based on the unswitching</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3530</td>
    <td class="codeLine">/// If `SE` is non-null, we will update that analysis based on the unswitching</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3531</td>
    <td class="codeLine">/// done.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3531</td>
    <td class="codeLine">/// done.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3532</td>
    <td class="codeLine">static bool</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3532</td>
    <td class="codeLine">static bool</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3533</td>
    <td class="codeLine">unswitchLoop(Loop &L, DominatorTree &DT, LoopInfo &LI, AssumptionCache &AC,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3533</td>
    <td class="codeLine">unswitchLoop(Loop &L, DominatorTree &DT, LoopInfo &LI, AssumptionCache &AC,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3534</td>
    <td class="codeLine">             AAResults &AA, TargetTransformInfo &TTI, bool Trivial,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3534</td>
    <td class="codeLine">             AAResults &AA, TargetTransformInfo &TTI, bool Trivial,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3535</td>
    <td class="codeLine">             bool NonTrivial,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3535</td>
    <td class="codeLine">             bool NonTrivial,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3536</td>
    <td class="codeLine">             function_ref<void(bool, bool, ArrayRef<Loop *>)> UnswitchCB,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3536</td>
    <td class="codeLine">             function_ref<void(bool, bool, ArrayRef<Loop *>)> UnswitchCB,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3537</td>
    <td class="codeLine">             ScalarEvolution *SE, MemorySSAUpdater *MSSAU,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3537</td>
    <td class="codeLine">             ScalarEvolution *SE, MemorySSAUpdater *MSSAU,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3538</td>
    <td class="codeLine">             ProfileSummaryInfo *PSI, BlockFrequencyInfo *BFI,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3538</td>
    <td class="codeLine">             ProfileSummaryInfo *PSI, BlockFrequencyInfo *BFI,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3539</td>
    <td class="codeLine">             function_ref<void(Loop &, StringRef)> DestroyLoopCB) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3539</td>
    <td class="codeLine">             function_ref<void(Loop &, StringRef)> DestroyLoopCB) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3540</td>
    <td class="codeLine">  assert(L.isRecursivelyLCSSAForm(DT, LI) &&</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3540</td>
    <td class="codeLine">  assert(L.isRecursivelyLCSSAForm(DT, LI) &&</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3541</td>
    <td class="codeLine">         "Loops must be in LCSSA form before unswitching.");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3541</td>
    <td class="codeLine">         "Loops must be in LCSSA form before unswitching.");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3542</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3542</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3543</td>
    <td class="codeLine">  // Must be in loop simplified form: we need a preheader and dedicated exits.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3543</td>
    <td class="codeLine">  // Must be in loop simplified form: we need a preheader and dedicated exits.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3544</td>
    <td class="codeLine">  if (!L.isLoopSimplifyForm())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3544</td>
    <td class="codeLine">  if (!L.isLoopSimplifyForm())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3545</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3545</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3546</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3546</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3547</td>
    <td class="codeLine">  // Try trivial unswitch first before loop over other basic blocks in the loop.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3547</td>
    <td class="codeLine">  // Try trivial unswitch first before loop over other basic blocks in the loop.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3548</td>
    <td class="codeLine">  if (Trivial && unswitchAllTrivialConditions(L, DT, LI, SE, MSSAU)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3548</td>
    <td class="codeLine">  if (Trivial && unswitchAllTrivialConditions(L, DT, LI, SE, MSSAU)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3549</td>
    <td class="codeLine">    // If we unswitched successfully we will want to clean up the loop before</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3549</td>
    <td class="codeLine">    // If we unswitched successfully we will want to clean up the loop before</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3550</td>
    <td class="codeLine">    // processing it further so just mark it as unswitched and return.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3550</td>
    <td class="codeLine">    // processing it further so just mark it as unswitched and return.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3551</td>
    <td class="codeLine">    UnswitchCB(/*CurrentLoopValid*/ true, false, {});</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3551</td>
    <td class="codeLine">    UnswitchCB(/*CurrentLoopValid*/ true, false, {});</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3552</td>
    <td class="codeLine">    return true;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3552</td>
    <td class="codeLine">    return true;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3553</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3553</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3554</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3554</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3555</td>
    <td class="codeLine">  const Function *F = L.getHeader()->getParent();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3555</td>
    <td class="codeLine">  const Function *F = L.getHeader()->getParent();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3556</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3556</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3557</td>
    <td class="codeLine">  // Check whether we should continue with non-trivial conditions.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3557</td>
    <td class="codeLine">  // Check whether we should continue with non-trivial conditions.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3558</td>
    <td class="codeLine">  // EnableNonTrivialUnswitch: Global variable that forces non-trivial</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3558</td>
    <td class="codeLine">  // EnableNonTrivialUnswitch: Global variable that forces non-trivial</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3559</td>
    <td class="codeLine">  //                           unswitching for testing and debugging.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3559</td>
    <td class="codeLine">  //                           unswitching for testing and debugging.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3560</td>
    <td class="codeLine">  // NonTrivial: Parameter that enables non-trivial unswitching for this</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3560</td>
    <td class="codeLine">  // NonTrivial: Parameter that enables non-trivial unswitching for this</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3561</td>
    <td class="codeLine">  //             invocation of the transform. But this should be allowed only</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3561</td>
    <td class="codeLine">  //             invocation of the transform. But this should be allowed only</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3562</td>
    <td class="codeLine">  //             for targets without branch divergence.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3562</td>
    <td class="codeLine">  //             for targets without branch divergence.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3563</td>
    <td class="codeLine">  //</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3563</td>
    <td class="codeLine">  //</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3564</td>
    <td class="codeLine">  // FIXME: If divergence analysis becomes available to a loop</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3564</td>
    <td class="codeLine">  // FIXME: If divergence analysis becomes available to a loop</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3565</td>
    <td class="codeLine">  // transform, we should allow unswitching for non-trivial uniform</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3565</td>
    <td class="codeLine">  // transform, we should allow unswitching for non-trivial uniform</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3566</td>
    <td class="codeLine">  // branches even on targets that have divergence.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3566</td>
    <td class="codeLine">  // branches even on targets that have divergence.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3567</td>
    <td class="codeLine">  // https://bugs.llvm.org/show_bug.cgi?id=48819</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3567</td>
    <td class="codeLine">  // https://bugs.llvm.org/show_bug.cgi?id=48819</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3568</td>
    <td class="codeLine">  bool ContinueWithNonTrivial =</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3568</td>
    <td class="codeLine">  bool ContinueWithNonTrivial =</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3569</td>
    <td class="codeLine">      EnableNonTrivialUnswitch || (NonTrivial && !TTI.hasBranchDivergence(F));</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3569</td>
    <td class="codeLine">      EnableNonTrivialUnswitch || (NonTrivial && !TTI.hasBranchDivergence(F));</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3570</td>
    <td class="codeLine">  if (!ContinueWithNonTrivial)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3570</td>
    <td class="codeLine">  if (!ContinueWithNonTrivial)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3571</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3571</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3572</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3572</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3573</td>
    <td class="codeLine">  // Skip non-trivial unswitching for optsize functions.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3573</td>
    <td class="codeLine">  // Skip non-trivial unswitching for optsize functions.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3574</td>
    <td class="codeLine">  if (F->hasOptSize())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3574</td>
    <td class="codeLine">  if (F->hasOptSize())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3575</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3575</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3576</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3576</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3577</td>
    <td class="codeLine">  // Returns true if Loop L's loop nest is cold, i.e. if the headers of L,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3577</td>
    <td class="codeLine">  // Returns true if Loop L's loop nest is cold, i.e. if the headers of L,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3578</td>
    <td class="codeLine">  // of the loops L is nested in, and of the loops nested in L are all cold.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3578</td>
    <td class="codeLine">  // of the loops L is nested in, and of the loops nested in L are all cold.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3579</td>
    <td class="codeLine">  auto IsLoopNestCold = [&](const Loop *L) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3579</td>
    <td class="codeLine">  auto IsLoopNestCold = [&](const Loop *L) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3580</td>
    <td class="codeLine">    // Check L and all of its parent loops.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3580</td>
    <td class="codeLine">    // Check L and all of its parent loops.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3581</td>
    <td class="codeLine">    auto *Parent = L;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3581</td>
    <td class="codeLine">    auto *Parent = L;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3582</td>
    <td class="codeLine">    while (Parent) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3582</td>
    <td class="codeLine">    while (Parent) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3583</td>
    <td class="codeLine">      if (!PSI->isColdBlock(Parent->getHeader(), BFI))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3583</td>
    <td class="codeLine">      if (!PSI->isColdBlock(Parent->getHeader(), BFI))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3584</td>
    <td class="codeLine">        return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3584</td>
    <td class="codeLine">        return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3585</td>
    <td class="codeLine">      Parent = Parent->getParentLoop();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3585</td>
    <td class="codeLine">      Parent = Parent->getParentLoop();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3586</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3586</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3587</td>
    <td class="codeLine">    // Next check all loops nested within L.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3587</td>
    <td class="codeLine">    // Next check all loops nested within L.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3588</td>
    <td class="codeLine">    SmallVector<const Loop *, 4> Worklist;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3588</td>
    <td class="codeLine">    SmallVector<const Loop *, 4> Worklist;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3589</td>
    <td class="codeLine">    Worklist.insert(Worklist.end(), L->getSubLoops().begin(),</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3589</td>
    <td class="codeLine">    Worklist.insert(Worklist.end(), L->getSubLoops().begin(),</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3590</td>
    <td class="codeLine">                    L->getSubLoops().end());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3590</td>
    <td class="codeLine">                    L->getSubLoops().end());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3591</td>
    <td class="codeLine">    while (!Worklist.empty()) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3591</td>
    <td class="codeLine">    while (!Worklist.empty()) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3592</td>
    <td class="codeLine">      auto *CurLoop = Worklist.pop_back_val();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3592</td>
    <td class="codeLine">      auto *CurLoop = Worklist.pop_back_val();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3593</td>
    <td class="codeLine">      if (!PSI->isColdBlock(CurLoop->getHeader(), BFI))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3593</td>
    <td class="codeLine">      if (!PSI->isColdBlock(CurLoop->getHeader(), BFI))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3594</td>
    <td class="codeLine">        return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3594</td>
    <td class="codeLine">        return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3595</td>
    <td class="codeLine">      Worklist.insert(Worklist.end(), CurLoop->getSubLoops().begin(),</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3595</td>
    <td class="codeLine">      Worklist.insert(Worklist.end(), CurLoop->getSubLoops().begin(),</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3596</td>
    <td class="codeLine">                      CurLoop->getSubLoops().end());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3596</td>
    <td class="codeLine">                      CurLoop->getSubLoops().end());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3597</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3597</td>
    <td class="codeLine">    }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3598</td>
    <td class="codeLine">    return true;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3598</td>
    <td class="codeLine">    return true;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3599</td>
    <td class="codeLine">  };</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3599</td>
    <td class="codeLine">  };</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3600</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3600</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3601</td>
    <td class="codeLine">  // Skip cold loops in cold loop nests, as unswitching them brings little</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3601</td>
    <td class="codeLine">  // Skip cold loops in cold loop nests, as unswitching them brings little</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3602</td>
    <td class="codeLine">  // benefit but increases the code size</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3602</td>
    <td class="codeLine">  // benefit but increases the code size</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3603</td>
    <td class="codeLine">  if (PSI && PSI->hasProfileSummary() && BFI && IsLoopNestCold(&L)) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3603</td>
    <td class="codeLine">  if (PSI && PSI->hasProfileSummary() && BFI && IsLoopNestCold(&L)) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3604</td>
    <td class="codeLine">    LLVM_DEBUG(dbgs() << " Skip cold loop: " << L << "\n");</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3604</td>
    <td class="codeLine">    LLVM_DEBUG(dbgs() << " Skip cold loop: " << L << "\n");</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3605</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3605</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3606</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3606</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3607</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3607</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3608</td>
    <td class="codeLine">  // Perform legality checks.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3608</td>
    <td class="codeLine">  // Perform legality checks.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3609</td>
    <td class="codeLine">  if (!isSafeForNoNTrivialUnswitching(L, LI))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3609</td>
    <td class="codeLine">  if (!isSafeForNoNTrivialUnswitching(L, LI))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3610</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3610</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3611</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3611</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3612</td>
    <td class="codeLine">  // For non-trivial unswitching, because it often creates new loops, we rely on</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3612</td>
    <td class="codeLine">  // For non-trivial unswitching, because it often creates new loops, we rely on</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3613</td>
    <td class="codeLine">  // the pass manager to iterate on the loops rather than trying to immediately</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3613</td>
    <td class="codeLine">  // the pass manager to iterate on the loops rather than trying to immediately</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3614</td>
    <td class="codeLine">  // reach a fixed point. There is no substantial advantage to iterating</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3614</td>
    <td class="codeLine">  // reach a fixed point. There is no substantial advantage to iterating</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3615</td>
    <td class="codeLine">  // internally, and if any of the new loops are simplified enough to contain</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3615</td>
    <td class="codeLine">  // internally, and if any of the new loops are simplified enough to contain</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3616</td>
    <td class="codeLine">  // trivial unswitching we want to prefer those.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3616</td>
    <td class="codeLine">  // trivial unswitching we want to prefer those.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3617</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3617</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3618</td>
    <td class="codeLine">  // Try to unswitch the best invariant condition. We prefer this full unswitch to</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3618</td>
    <td class="codeLine">  // Try to unswitch the best invariant condition. We prefer this full unswitch to</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3619</td>
    <td class="codeLine">  // a partial unswitch when possible below the threshold.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3619</td>
    <td class="codeLine">  // a partial unswitch when possible below the threshold.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3620</td>
    <td class="codeLine">  if (unswitchBestCondition(L, DT, LI, AC, AA, TTI, UnswitchCB, SE, MSSAU,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3620</td>
    <td class="codeLine">  if (unswitchBestCondition(L, DT, LI, AC, AA, TTI, UnswitchCB, SE, MSSAU,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3621</td>
    <td class="codeLine">                            DestroyLoopCB))</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3621</td>
    <td class="codeLine">                            DestroyLoopCB))</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3622</td>
    <td class="codeLine">    return true;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3622</td>
    <td class="codeLine">    return true;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3623</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3623</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3624</td>
    <td class="codeLine">  // No other opportunities to unswitch.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3624</td>
    <td class="codeLine">  // No other opportunities to unswitch.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3625</td>
    <td class="codeLine">  return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3625</td>
    <td class="codeLine">  return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3626</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3626</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3627</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3627</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3628</td>
    <td class="codeLine">PreservedAnalyses SimpleLoopUnswitchPass::run(Loop &L, LoopAnalysisManager &AM,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3628</td>
    <td class="codeLine">PreservedAnalyses SimpleLoopUnswitchPass::run(Loop &L, LoopAnalysisManager &AM,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3629</td>
    <td class="codeLine">                                              LoopStandardAnalysisResults &AR,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3629</td>
    <td class="codeLine">                                              LoopStandardAnalysisResults &AR,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3630</td>
    <td class="codeLine">                                              LPMUpdater &U) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3630</td>
    <td class="codeLine">                                              LPMUpdater &U) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3631</td>
    <td class="codeLine">  Function &F = *L.getHeader()->getParent();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3631</td>
    <td class="codeLine">  Function &F = *L.getHeader()->getParent();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3632</td>
    <td class="codeLine">  (void)F;</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3632</td>
    <td class="codeLine">  (void)F;</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3633</td>
    <td class="codeLine">  ProfileSummaryInfo *PSI = nullptr;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3633</td>
    <td class="codeLine">  ProfileSummaryInfo *PSI = nullptr;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3634</td>
    <td class="codeLine">  if (auto OuterProxy =</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3634</td>
    <td class="codeLine">  if (auto OuterProxy =</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3635</td>
    <td class="codeLine">          AM.getResult<FunctionAnalysisManagerLoopProxy>(L, AR)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3635</td>
    <td class="codeLine">          AM.getResult<FunctionAnalysisManagerLoopProxy>(L, AR)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3636</td>
    <td class="codeLine">              .getCachedResult<ModuleAnalysisManagerFunctionProxy>(F))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3636</td>
    <td class="codeLine">              .getCachedResult<ModuleAnalysisManagerFunctionProxy>(F))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3637</td>
    <td class="codeLine">    PSI = OuterProxy->getCachedResult<ProfileSummaryAnalysis>(*F.getParent());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3637</td>
    <td class="codeLine">    PSI = OuterProxy->getCachedResult<ProfileSummaryAnalysis>(*F.getParent());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3638</td>
    <td class="codeLine">  LLVM_DEBUG(dbgs() << "Unswitching loop in " << F.getName() << ": " << L</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3638</td>
    <td class="codeLine">  LLVM_DEBUG(dbgs() << "Unswitching loop in " << F.getName() << ": " << L</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3639</td>
    <td class="codeLine">                    << "\n");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3639</td>
    <td class="codeLine">                    << "\n");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3640</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3640</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3641</td>
    <td class="codeLine">  // Save the current loop name in a variable so that we can report it even</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3641</td>
    <td class="codeLine">  // Save the current loop name in a variable so that we can report it even</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3642</td>
    <td class="codeLine">  // after it has been deleted.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3642</td>
    <td class="codeLine">  // after it has been deleted.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3643</td>
    <td class="codeLine">  std::string LoopName = std::string(L.getName());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3643</td>
    <td class="codeLine">  std::string LoopName = std::string(L.getName());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3644</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3644</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3645</td>
    <td class="codeLine">  auto UnswitchCB = [&L, &U, &LoopName](bool CurrentLoopValid,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3645</td>
    <td class="codeLine">  auto UnswitchCB = [&L, &U, &LoopName](bool CurrentLoopValid,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3646</td>
    <td class="codeLine">                                        bool PartiallyInvariant,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3646</td>
    <td class="codeLine">                                        bool PartiallyInvariant,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3647</td>
    <td class="codeLine">                                        ArrayRef<Loop *> NewLoops) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3647</td>
    <td class="codeLine">                                        ArrayRef<Loop *> NewLoops) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3648</td>
    <td class="codeLine">    // If we did a non-trivial unswitch, we have added new (cloned) loops.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3648</td>
    <td class="codeLine">    // If we did a non-trivial unswitch, we have added new (cloned) loops.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3649</td>
    <td class="codeLine">    if (!NewLoops.empty())</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3649</td>
    <td class="codeLine">    if (!NewLoops.empty())</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3650</td>
    <td class="codeLine">      U.addSiblingLoops(NewLoops);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3650</td>
    <td class="codeLine">      U.addSiblingLoops(NewLoops);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3651</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3651</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3652</td>
    <td class="codeLine">    // If the current loop remains valid, we should revisit it to catch any</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3652</td>
    <td class="codeLine">    // If the current loop remains valid, we should revisit it to catch any</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3653</td>
    <td class="codeLine">    // other unswitch opportunities. Otherwise, we need to mark it as deleted.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3653</td>
    <td class="codeLine">    // other unswitch opportunities. Otherwise, we need to mark it as deleted.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3654</td>
    <td class="codeLine">    if (CurrentLoopValid) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3654</td>
    <td class="codeLine">    if (CurrentLoopValid) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3655</td>
    <td class="codeLine">      if (PartiallyInvariant) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3655</td>
    <td class="codeLine">      if (PartiallyInvariant) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3656</td>
    <td class="codeLine">        // Mark the new loop as partially unswitched, to avoid unswitching on</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3656</td>
    <td class="codeLine">        // Mark the new loop as partially unswitched, to avoid unswitching on</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3657</td>
    <td class="codeLine">        // the same condition again.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3657</td>
    <td class="codeLine">        // the same condition again.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3658</td>
    <td class="codeLine">        auto &Context = L.getHeader()->getContext();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3658</td>
    <td class="codeLine">        auto &Context = L.getHeader()->getContext();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3659</td>
    <td class="codeLine">        MDNode *DisableUnswitchMD = MDNode::get(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3659</td>
    <td class="codeLine">        MDNode *DisableUnswitchMD = MDNode::get(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3660</td>
    <td class="codeLine">            Context,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3660</td>
    <td class="codeLine">            Context,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3661</td>
    <td class="codeLine">            MDString::get(Context, "llvm.loop.unswitch.partial.disable"));</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3661</td>
    <td class="codeLine">            MDString::get(Context, "llvm.loop.unswitch.partial.disable"));</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3662</td>
    <td class="codeLine">        MDNode *NewLoopID = makePostTransformationMetadata(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3662</td>
    <td class="codeLine">        MDNode *NewLoopID = makePostTransformationMetadata(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3663</td>
    <td class="codeLine">            Context, L.getLoopID(), {"llvm.loop.unswitch.partial"},</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3663</td>
    <td class="codeLine">            Context, L.getLoopID(), {"llvm.loop.unswitch.partial"},</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3664</td>
    <td class="codeLine">            {DisableUnswitchMD});</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3664</td>
    <td class="codeLine">            {DisableUnswitchMD});</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3665</td>
    <td class="codeLine">        L.setLoopID(NewLoopID);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3665</td>
    <td class="codeLine">        L.setLoopID(NewLoopID);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3666</td>
    <td class="codeLine">      } else</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3666</td>
    <td class="codeLine">      } else</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3667</td>
    <td class="codeLine">        U.revisitCurrentLoop();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3667</td>
    <td class="codeLine">        U.revisitCurrentLoop();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3668</td>
    <td class="codeLine">    } else</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3668</td>
    <td class="codeLine">    } else</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3669</td>
    <td class="codeLine">      U.markLoopAsDeleted(L, LoopName);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3669</td>
    <td class="codeLine">      U.markLoopAsDeleted(L, LoopName);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3670</td>
    <td class="codeLine">  };</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3670</td>
    <td class="codeLine">  };</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3671</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3671</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3672</td>
    <td class="codeLine">  auto DestroyLoopCB = [&U](Loop &L, StringRef Name) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3672</td>
    <td class="codeLine">  auto DestroyLoopCB = [&U](Loop &L, StringRef Name) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3673</td>
    <td class="codeLine">    U.markLoopAsDeleted(L, Name);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3673</td>
    <td class="codeLine">    U.markLoopAsDeleted(L, Name);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3674</td>
    <td class="codeLine">  };</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3674</td>
    <td class="codeLine">  };</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3675</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3675</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3676</td>
    <td class="codeLine">  std::optional<MemorySSAUpdater> MSSAU;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3676</td>
    <td class="codeLine">  std::optional<MemorySSAUpdater> MSSAU;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3677</td>
    <td class="codeLine">  if (AR.MSSA) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3677</td>
    <td class="codeLine">  if (AR.MSSA) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3678</td>
    <td class="codeLine">    MSSAU = MemorySSAUpdater(AR.MSSA);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3678</td>
    <td class="codeLine">    MSSAU = MemorySSAUpdater(AR.MSSA);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3679</td>
    <td class="codeLine">    if (VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3679</td>
    <td class="codeLine">    if (VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3680</td>
    <td class="codeLine">      AR.MSSA->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3680</td>
    <td class="codeLine">      AR.MSSA->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3681</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3681</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3682</td>
    <td class="codeLine">  if (!unswitchLoop(L, AR.DT, AR.LI, AR.AC, AR.AA, AR.TTI, Trivial, NonTrivial,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3682</td>
    <td class="codeLine">  if (!unswitchLoop(L, AR.DT, AR.LI, AR.AC, AR.AA, AR.TTI, Trivial, NonTrivial,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3683</td>
    <td class="codeLine">                    UnswitchCB, &AR.SE, MSSAU ? &*MSSAU : nullptr, PSI, AR.BFI,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3683</td>
    <td class="codeLine">                    UnswitchCB, &AR.SE, MSSAU ? &*MSSAU : nullptr, PSI, AR.BFI,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3684</td>
    <td class="codeLine">                    DestroyLoopCB))</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3684</td>
    <td class="codeLine">                    DestroyLoopCB))</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3685</td>
    <td class="codeLine">    return PreservedAnalyses::all();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3685</td>
    <td class="codeLine">    return PreservedAnalyses::all();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3686</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3686</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3687</td>
    <td class="codeLine">  if (AR.MSSA && VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3687</td>
    <td class="codeLine">  if (AR.MSSA && VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3688</td>
    <td class="codeLine">    AR.MSSA->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3688</td>
    <td class="codeLine">    AR.MSSA->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3689</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3689</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3690</td>
    <td class="codeLine">  // Historically this pass has had issues with the dominator tree so verify it</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3690</td>
    <td class="codeLine">  // Historically this pass has had issues with the dominator tree so verify it</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3691</td>
    <td class="codeLine">  // in asserts builds.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3691</td>
    <td class="codeLine">  // in asserts builds.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3692</td>
    <td class="codeLine">  assert(AR.DT.verify(DominatorTree::VerificationLevel::Fast));</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3692</td>
    <td class="codeLine">  assert(AR.DT.verify(DominatorTree::VerificationLevel::Fast));</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3693</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3693</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3694</td>
    <td class="codeLine">  auto PA = getLoopPassPreservedAnalyses();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3694</td>
    <td class="codeLine">  auto PA = getLoopPassPreservedAnalyses();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3695</td>
    <td class="codeLine">  if (AR.MSSA)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3695</td>
    <td class="codeLine">  if (AR.MSSA)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3696</td>
    <td class="codeLine">    PA.preserve<MemorySSAAnalysis>();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3696</td>
    <td class="codeLine">    PA.preserve<MemorySSAAnalysis>();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3697</td>
    <td class="codeLine">  return PA;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3697</td>
    <td class="codeLine">  return PA;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3698</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3698</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3699</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3699</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3700</td>
    <td class="codeLine">void SimpleLoopUnswitchPass::printPipeline(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3700</td>
    <td class="codeLine">void SimpleLoopUnswitchPass::printPipeline(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3701</td>
    <td class="codeLine">    raw_ostream &OS, function_ref<StringRef(StringRef)> MapClassName2PassName) {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3701</td>
    <td class="codeLine">    raw_ostream &OS, function_ref<StringRef(StringRef)> MapClassName2PassName) {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3702</td>
    <td class="codeLine">  static_cast<PassInfoMixin<SimpleLoopUnswitchPass> *>(this)->printPipeline(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3702</td>
    <td class="codeLine">  static_cast<PassInfoMixin<SimpleLoopUnswitchPass> *>(this)->printPipeline(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3703</td>
    <td class="codeLine">      OS, MapClassName2PassName);</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3703</td>
    <td class="codeLine">      OS, MapClassName2PassName);</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3704</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3704</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3705</td>
    <td class="codeLine">  OS << '<';</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3705</td>
    <td class="codeLine">  OS << '<';</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3706</td>
    <td class="codeLine">  OS << (NonTrivial ? "" : "no-") << "nontrivial;";</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3706</td>
    <td class="codeLine">  OS << (NonTrivial ? "" : "no-") << "nontrivial;";</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3707</td>
    <td class="codeLine">  OS << (Trivial ? "" : "no-") << "trivial";</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3707</td>
    <td class="codeLine">  OS << (Trivial ? "" : "no-") << "trivial";</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3708</td>
    <td class="codeLine">  OS << '>';</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3708</td>
    <td class="codeLine">  OS << '>';</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3709</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3709</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3710</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3710</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3711</td>
    <td class="codeLine">namespace {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3711</td>
    <td class="codeLine">namespace {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3712</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3712</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3713</td>
    <td class="codeLine">class SimpleLoopUnswitchLegacyPass : public LoopPass {</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3713</td>
    <td class="codeLine">class SimpleLoopUnswitchLegacyPass : public LoopPass {</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3714</td>
    <td class="codeLine">  bool NonTrivial;</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3714</td>
    <td class="codeLine">  bool NonTrivial;</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3715</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3715</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3716</td>
    <td class="codeLine">public:</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3716</td>
    <td class="codeLine">public:</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3717</td>
    <td class="codeLine">  static char ID; // Pass ID, replacement for typeid</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3717</td>
    <td class="codeLine">  static char ID; // Pass ID, replacement for typeid</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3718</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3718</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3719</td>
    <td class="codeLine">  explicit SimpleLoopUnswitchLegacyPass(bool NonTrivial = false)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3719</td>
    <td class="codeLine">  explicit SimpleLoopUnswitchLegacyPass(bool NonTrivial = false)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3720</td>
    <td class="codeLine">      : LoopPass(ID), NonTrivial(NonTrivial) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3720</td>
    <td class="codeLine">      : LoopPass(ID), NonTrivial(NonTrivial) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3721</td>
    <td class="codeLine">    initializeSimpleLoopUnswitchLegacyPassPass(</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3721</td>
    <td class="codeLine">    initializeSimpleLoopUnswitchLegacyPassPass(</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3722</td>
    <td class="codeLine">        *PassRegistry::getPassRegistry());</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3722</td>
    <td class="codeLine">        *PassRegistry::getPassRegistry());</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3723</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3723</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3724</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3724</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3725</td>
    <td class="codeLine">  bool runOnLoop(Loop *L, LPPassManager &LPM) override;</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3725</td>
    <td class="codeLine">  bool runOnLoop(Loop *L, LPPassManager &LPM) override;</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3726</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3726</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3727</td>
    <td class="codeLine">  void getAnalysisUsage(AnalysisUsage &AU) const override {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3727</td>
    <td class="codeLine">  void getAnalysisUsage(AnalysisUsage &AU) const override {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3728</td>
    <td class="codeLine">    AU.addRequired<AssumptionCacheTracker>();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3728</td>
    <td class="codeLine">    AU.addRequired<AssumptionCacheTracker>();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3729</td>
    <td class="codeLine">    AU.addRequired<TargetTransformInfoWrapperPass>();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3729</td>
    <td class="codeLine">    AU.addRequired<TargetTransformInfoWrapperPass>();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3730</td>
    <td class="codeLine">    AU.addRequired<MemorySSAWrapperPass>();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3730</td>
    <td class="codeLine">    AU.addRequired<MemorySSAWrapperPass>();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3731</td>
    <td class="codeLine">    AU.addPreserved<MemorySSAWrapperPass>();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3731</td>
    <td class="codeLine">    AU.addPreserved<MemorySSAWrapperPass>();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3732</td>
    <td class="codeLine">    getLoopAnalysisUsage(AU);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3732</td>
    <td class="codeLine">    getLoopAnalysisUsage(AU);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3733</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3733</td>
    <td class="codeLine">  }</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3734</td>
    <td class="codeLine">};</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3734</td>
    <td class="codeLine">};</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3735</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3735</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3736</td>
    <td class="codeLine">} // end anonymous namespace</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3736</td>
    <td class="codeLine">} // end anonymous namespace</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3737</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3737</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3738</td>
    <td class="codeLine">bool SimpleLoopUnswitchLegacyPass::runOnLoop(Loop *L, LPPassManager &LPM) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3738</td>
    <td class="codeLine">bool SimpleLoopUnswitchLegacyPass::runOnLoop(Loop *L, LPPassManager &LPM) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3739</td>
    <td class="codeLine">  if (skipLoop(L))</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3739</td>
    <td class="codeLine">  if (skipLoop(L))</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3740</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3740</td>
    <td class="codeLine">    return false;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3741</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3741</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3742</td>
    <td class="codeLine">  Function &F = *L->getHeader()->getParent();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3742</td>
    <td class="codeLine">  Function &F = *L->getHeader()->getParent();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3743</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3743</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3744</td>
    <td class="codeLine">  LLVM_DEBUG(dbgs() << "Unswitching loop in " << F.getName() << ": " << *L</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3744</td>
    <td class="codeLine">  LLVM_DEBUG(dbgs() << "Unswitching loop in " << F.getName() << ": " << *L</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3745</td>
    <td class="codeLine">                    << "\n");</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3745</td>
    <td class="codeLine">                    << "\n");</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3746</td>
    <td class="codeLine">  auto &DT = getAnalysis<DominatorTreeWrapperPass>().getDomTree();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3746</td>
    <td class="codeLine">  auto &DT = getAnalysis<DominatorTreeWrapperPass>().getDomTree();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3747</td>
    <td class="codeLine">  auto &LI = getAnalysis<LoopInfoWrapperPass>().getLoopInfo();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3747</td>
    <td class="codeLine">  auto &LI = getAnalysis<LoopInfoWrapperPass>().getLoopInfo();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3748</td>
    <td class="codeLine">  auto &AC = getAnalysis<AssumptionCacheTracker>().getAssumptionCache(F);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3748</td>
    <td class="codeLine">  auto &AC = getAnalysis<AssumptionCacheTracker>().getAssumptionCache(F);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3749</td>
    <td class="codeLine">  auto &AA = getAnalysis<AAResultsWrapperPass>().getAAResults();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3749</td>
    <td class="codeLine">  auto &AA = getAnalysis<AAResultsWrapperPass>().getAAResults();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3750</td>
    <td class="codeLine">  auto &TTI = getAnalysis<TargetTransformInfoWrapperPass>().getTTI(F);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3750</td>
    <td class="codeLine">  auto &TTI = getAnalysis<TargetTransformInfoWrapperPass>().getTTI(F);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3751</td>
    <td class="codeLine">  MemorySSA *MSSA = &getAnalysis<MemorySSAWrapperPass>().getMSSA();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3751</td>
    <td class="codeLine">  MemorySSA *MSSA = &getAnalysis<MemorySSAWrapperPass>().getMSSA();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3752</td>
    <td class="codeLine">  MemorySSAUpdater MSSAU(MSSA);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3752</td>
    <td class="codeLine">  MemorySSAUpdater MSSAU(MSSA);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3753</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3753</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3754</td>
    <td class="codeLine">  auto *SEWP = getAnalysisIfAvailable<ScalarEvolutionWrapperPass>();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3754</td>
    <td class="codeLine">  auto *SEWP = getAnalysisIfAvailable<ScalarEvolutionWrapperPass>();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3755</td>
    <td class="codeLine">  auto *SE = SEWP ? &SEWP->getSE() : nullptr;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3755</td>
    <td class="codeLine">  auto *SE = SEWP ? &SEWP->getSE() : nullptr;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3756</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3756</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3757</td>
    <td class="codeLine">  auto UnswitchCB = [&L, &LPM](bool CurrentLoopValid, bool PartiallyInvariant,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3757</td>
    <td class="codeLine">  auto UnswitchCB = [&L, &LPM](bool CurrentLoopValid, bool PartiallyInvariant,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3758</td>
    <td class="codeLine">                               ArrayRef<Loop *> NewLoops) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3758</td>
    <td class="codeLine">                               ArrayRef<Loop *> NewLoops) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3759</td>
    <td class="codeLine">    // If we did a non-trivial unswitch, we have added new (cloned) loops.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3759</td>
    <td class="codeLine">    // If we did a non-trivial unswitch, we have added new (cloned) loops.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3760</td>
    <td class="codeLine">    for (auto *NewL : NewLoops)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3760</td>
    <td class="codeLine">    for (auto *NewL : NewLoops)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3761</td>
    <td class="codeLine">      LPM.addLoop(*NewL);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3761</td>
    <td class="codeLine">      LPM.addLoop(*NewL);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3762</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3762</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3763</td>
    <td class="codeLine">    // If the current loop remains valid, re-add it to the queue. This is</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3763</td>
    <td class="codeLine">    // If the current loop remains valid, re-add it to the queue. This is</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3764</td>
    <td class="codeLine">    // a little wasteful as we'll finish processing the current loop as well,</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3764</td>
    <td class="codeLine">    // a little wasteful as we'll finish processing the current loop as well,</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3765</td>
    <td class="codeLine">    // but it is the best we can do in the old PM.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3765</td>
    <td class="codeLine">    // but it is the best we can do in the old PM.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3766</td>
    <td class="codeLine">    if (CurrentLoopValid) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3766</td>
    <td class="codeLine">    if (CurrentLoopValid) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3767</td>
    <td class="codeLine">      // If the current loop has been unswitched using a partially invariant</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3767</td>
    <td class="codeLine">      // If the current loop has been unswitched using a partially invariant</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3768</td>
    <td class="codeLine">      // condition, we should not re-add the current loop to avoid unswitching</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3768</td>
    <td class="codeLine">      // condition, we should not re-add the current loop to avoid unswitching</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3769</td>
    <td class="codeLine">      // on the same condition again.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3769</td>
    <td class="codeLine">      // on the same condition again.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3770</td>
    <td class="codeLine">      if (!PartiallyInvariant)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3770</td>
    <td class="codeLine">      if (!PartiallyInvariant)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3771</td>
    <td class="codeLine">        LPM.addLoop(*L);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3771</td>
    <td class="codeLine">        LPM.addLoop(*L);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3772</td>
    <td class="codeLine">    } else</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3772</td>
    <td class="codeLine">    } else</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3773</td>
    <td class="codeLine">      LPM.markLoopAsDeleted(*L);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3773</td>
    <td class="codeLine">      LPM.markLoopAsDeleted(*L);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3774</td>
    <td class="codeLine">  };</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3774</td>
    <td class="codeLine">  };</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3775</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3775</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3776</td>
    <td class="codeLine">  auto DestroyLoopCB = [&LPM](Loop &L, StringRef /* Name */) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3776</td>
    <td class="codeLine">  auto DestroyLoopCB = [&LPM](Loop &L, StringRef /* Name */) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3777</td>
    <td class="codeLine">    LPM.markLoopAsDeleted(L);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3777</td>
    <td class="codeLine">    LPM.markLoopAsDeleted(L);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3778</td>
    <td class="codeLine">  };</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3778</td>
    <td class="codeLine">  };</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3779</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3779</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3780</td>
    <td class="codeLine">  if (VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3780</td>
    <td class="codeLine">  if (VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3781</td>
    <td class="codeLine">    MSSA->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3781</td>
    <td class="codeLine">    MSSA->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3782</td>
    <td class="codeLine">  bool Changed =</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3782</td>
    <td class="codeLine">  bool Changed =</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3783</td>
    <td class="codeLine">      unswitchLoop(*L, DT, LI, AC, AA, TTI, true, NonTrivial, UnswitchCB, SE,</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3783</td>
    <td class="codeLine">      unswitchLoop(*L, DT, LI, AC, AA, TTI, true, NonTrivial, UnswitchCB, SE,</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3784</td>
    <td class="codeLine">                   &MSSAU, nullptr, nullptr, DestroyLoopCB);</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3784</td>
    <td class="codeLine">                   &MSSAU, nullptr, nullptr, DestroyLoopCB);</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3785</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3785</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3786</td>
    <td class="codeLine">  if (VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3786</td>
    <td class="codeLine">  if (VerifyMemorySSA)</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3787</td>
    <td class="codeLine">    MSSA->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3787</td>
    <td class="codeLine">    MSSA->verifyMemorySSA();</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3788</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3788</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3789</td>
    <td class="codeLine">  // Historically this pass has had issues with the dominator tree so verify it</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3789</td>
    <td class="codeLine">  // Historically this pass has had issues with the dominator tree so verify it</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3790</td>
    <td class="codeLine">  // in asserts builds.</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3790</td>
    <td class="codeLine">  // in asserts builds.</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3791</td>
    <td class="codeLine">  assert(DT.verify(DominatorTree::VerificationLevel::Fast));</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3791</td>
    <td class="codeLine">  assert(DT.verify(DominatorTree::VerificationLevel::Fast));</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3792</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3792</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3793</td>
    <td class="codeLine">  return Changed;</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3793</td>
    <td class="codeLine">  return Changed;</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3794</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3794</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3795</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3795</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3796</td>
    <td class="codeLine">char SimpleLoopUnswitchLegacyPass::ID = 0;</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3796</td>
    <td class="codeLine">char SimpleLoopUnswitchLegacyPass::ID = 0;</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3797</td>
    <td class="codeLine coveredLine">INITIALIZE_PASS_BEGIN(SimpleLoopUnswitchLegacyPass, "simple-loop-unswitch",</td>
    <td class="lineNumber">1</td>
    <td class="lineNumber">3797</td>
    <td class="codeLine coveredLine">INITIALIZE_PASS_BEGIN(SimpleLoopUnswitchLegacyPass, "simple-loop-unswitch",</td>
    <td class="lineNumber">1</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3798</td>
    <td class="codeLine">                      "Simple unswitch loops", false, false)</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3798</td>
    <td class="codeLine">                      "Simple unswitch loops", false, false)</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3799</td>
    <td class="codeLine coveredLine">INITIALIZE_PASS_DEPENDENCY(AssumptionCacheTracker)</td>
    <td class="lineNumber">1</td>
    <td class="lineNumber">3799</td>
    <td class="codeLine coveredLine">INITIALIZE_PASS_DEPENDENCY(AssumptionCacheTracker)</td>
    <td class="lineNumber">1</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3800</td>
    <td class="codeLine coveredLine">INITIALIZE_PASS_DEPENDENCY(DominatorTreeWrapperPass)</td>
    <td class="lineNumber">1</td>
    <td class="lineNumber">3800</td>
    <td class="codeLine coveredLine">INITIALIZE_PASS_DEPENDENCY(DominatorTreeWrapperPass)</td>
    <td class="lineNumber">1</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3801</td>
    <td class="codeLine coveredLine">INITIALIZE_PASS_DEPENDENCY(LoopInfoWrapperPass)</td>
    <td class="lineNumber">1</td>
    <td class="lineNumber">3801</td>
    <td class="codeLine coveredLine">INITIALIZE_PASS_DEPENDENCY(LoopInfoWrapperPass)</td>
    <td class="lineNumber">1</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3802</td>
    <td class="codeLine coveredLine">INITIALIZE_PASS_DEPENDENCY(LoopPass)</td>
    <td class="lineNumber">1</td>
    <td class="lineNumber">3802</td>
    <td class="codeLine coveredLine">INITIALIZE_PASS_DEPENDENCY(LoopPass)</td>
    <td class="lineNumber">1</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3803</td>
    <td class="codeLine coveredLine">INITIALIZE_PASS_DEPENDENCY(MemorySSAWrapperPass)</td>
    <td class="lineNumber">1</td>
    <td class="lineNumber">3803</td>
    <td class="codeLine coveredLine">INITIALIZE_PASS_DEPENDENCY(MemorySSAWrapperPass)</td>
    <td class="lineNumber">1</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3804</td>
    <td class="codeLine coveredLine">INITIALIZE_PASS_DEPENDENCY(TargetTransformInfoWrapperPass)</td>
    <td class="lineNumber">1</td>
    <td class="lineNumber">3804</td>
    <td class="codeLine coveredLine">INITIALIZE_PASS_DEPENDENCY(TargetTransformInfoWrapperPass)</td>
    <td class="lineNumber">1</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3805</td>
    <td class="codeLine coveredLine">INITIALIZE_PASS_END(SimpleLoopUnswitchLegacyPass, "simple-loop-unswitch",</td>
    <td class="lineNumber">2</td>
    <td class="lineNumber">3805</td>
    <td class="codeLine coveredLine">INITIALIZE_PASS_END(SimpleLoopUnswitchLegacyPass, "simple-loop-unswitch",</td>
    <td class="lineNumber">2</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3806</td>
    <td class="codeLine">                    "Simple unswitch loops", false, false)</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3806</td>
    <td class="codeLine">                    "Simple unswitch loops", false, false)</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3807</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3807</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3808</td>
    <td class="codeLine">Pass *llvm::createSimpleLoopUnswitchLegacyPass(bool NonTrivial) {</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3808</td>
    <td class="codeLine">Pass *llvm::createSimpleLoopUnswitchLegacyPass(bool NonTrivial) {</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3809</td>
    <td class="codeLine">  return new SimpleLoopUnswitchLegacyPass(NonTrivial);</td>
    <td class="lineNumber">0</td>
    <td class="lineNumber">3809</td>
    <td class="codeLine">  return new SimpleLoopUnswitchLegacyPass(NonTrivial);</td>
    <td class="lineNumber">0</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3810</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3810</td>
    <td class="codeLine">}</td>
    <td class="lineNumber">---</td>
  </tr>
  <tr class="mainTr">
    <td class="lineNumber">3811</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
    <td class="lineNumber">3811</td>
    <td class="codeLine"></td>
    <td class="lineNumber">---</td>
  </tr>
</table>
    </div>
    <button id="myBtn" onclick="topFunction()" title="Go to top" type="button">Top</button>
    <script src="../Javascript/drop_down.js"></script>
    <script src="../Javascript/top_button.js"></script>
  </body>
</html>